npm WARN deprecated hapi@13.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@7.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated topo@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.0.0
added 51 packages, removed 5 packages, updated 19 packages and audited 981 packages in 8.476s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
npm WARN deprecated vision@4.1.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ vision@4.1.1
removed 1 package, updated 6 packages and audited 980 packages in 6.163s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:06.475Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:06.477Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:06.477Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:06.478Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:06.575Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:06.871Z appoptics:patching patched crypto 
2022-04-20T15:28:06.937Z appoptics:patching patched https 
2022-04-20T15:28:06.938Z appoptics:patching patched http 
2022-04-20T15:28:06.981Z appoptics:patching patched zlib 
2022-04-20T15:28:07.184Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:07.185Z appoptics:patching patched fs 
2022-04-20T15:28:07.225Z appoptics:patching patched hapi 13.0.0
2022-04-20T15:28:07.255Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:28:07.255Z appoptics:patching patched vision 4.1.1
2022-04-20T15:28:07.260Z appoptics:debug starting runtimeMetrics
(node:481) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 13.0.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (61ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:28:07.467Z appoptics:debug http: ule nodejs:entry 2b-6d9eed0d61b05f670c89d3807d05f8b372094e16-317ff77fadfeadfd-01
    2) should trace render span without template extension


  6 passing (216ms)
  2 failing

  1) probes.hapi 13.0.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:281:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:351:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:273:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '317FF77FADFEADFD',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 481,
  Timestamp_u: 1650468487458353,
  'X-Trace': '2B6D9EED0D61B05F670C89D3807D05F8B372094E1699EE3C494C5FB61301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: '317FF77FADFEADFD',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 481,
    Timestamp_u: 1650468487458353,
    'X-Trace': '2B6D9EED0D61B05F670C89D3807D05F8B372094E1699EE3C494C5FB61301',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.hapi 13.0.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: '5B7CBD3F39C08801',
  Hostname: '93fdc3ec1342',
  Label: 'exit',
  Layer: 'hapi-render',
  TID: 481,
  Timestamp_u: 1650468487493926,
  'X-Trace': '2B6D9EED0D61B05F670C89D3807D05F8B372094E167DFABDDC2A695F4901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi-render')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@13.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.1.0
removed 32 packages, updated 2 packages, moved 1 package and audited 948 packages in 5.718s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:14.606Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:14.607Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:14.607Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:14.608Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:14.670Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:14.854Z appoptics:patching patched crypto 
2022-04-20T15:28:14.883Z appoptics:patching patched https 
2022-04-20T15:28:14.884Z appoptics:patching patched http 
2022-04-20T15:28:14.947Z appoptics:patching patched zlib 
2022-04-20T15:28:15.092Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:15.092Z appoptics:patching patched fs 
2022-04-20T15:28:15.119Z appoptics:patching patched hapi 13.1.0
2022-04-20T15:28:15.131Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:28:15.132Z appoptics:patching patched vision 4.1.1
2022-04-20T15:28:15.136Z appoptics:debug starting runtimeMetrics
(node:503) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 13.1.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:28:15.288Z appoptics:debug http: ule nodejs:entry 2b-bd373c454032504918ed8e55b69ff754519133e9-c96e96dea2895164-01
    ✓ should trace render span without template extension


  7 passing (169ms)
  1 failing

  1) probes.hapi 13.1.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'C96E96DEA2895164',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 503,
  Timestamp_u: 1650468495283710,
  'X-Trace': '2BBD373C454032504918ED8E55B69FF754519133E937156B1984F29CEC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: 'C96E96DEA2895164',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 503,
    Timestamp_u: 1650468495283710,
    'X-Trace': '2BBD373C454032504918ED8E55B69FF754519133E937156B1984F29CEC01',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@13.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.0
updated 1 package and audited 948 packages in 6.034s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:22.611Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:22.611Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:22.611Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:22.612Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:22.673Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:22.840Z appoptics:patching patched crypto 
2022-04-20T15:28:22.870Z appoptics:patching patched https 
2022-04-20T15:28:22.870Z appoptics:patching patched http 
2022-04-20T15:28:22.907Z appoptics:patching patched zlib 
2022-04-20T15:28:23.036Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:23.036Z appoptics:patching patched fs 
2022-04-20T15:28:23.070Z appoptics:patching patched hapi 13.2.0
2022-04-20T15:28:23.078Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:28:23.078Z appoptics:patching patched vision 4.1.1
2022-04-20T15:28:23.082Z appoptics:debug starting runtimeMetrics
(node:525) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 13.2.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:28:23.241Z appoptics:debug http: ule nodejs:entry 2b-f814a6ae234816696b8c86dcb2341b2585f84ef3-85e2a797c9599f5d-01
    ✓ should trace render span without template extension


  7 passing (177ms)
  1 failing

  1) probes.hapi 13.2.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '85E2A797C9599F5D',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 525,
  Timestamp_u: 1650468503236466,
  'X-Trace': '2BF814A6AE234816696B8C86DCB2341B2585F84EF3A5EC03141E44570E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: '85E2A797C9599F5D',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 525,
    Timestamp_u: 1650468503236466,
    'X-Trace': '2BF814A6AE234816696B8C86DCB2341B2585F84EF3A5EC03141E44570E01',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@13.2.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.1
updated 1 package and audited 948 packages in 5.595s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:30.179Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:30.180Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:30.180Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:30.181Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:30.269Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:30.496Z appoptics:patching patched crypto 
2022-04-20T15:28:30.529Z appoptics:patching patched https 
2022-04-20T15:28:30.529Z appoptics:patching patched http 
2022-04-20T15:28:30.582Z appoptics:patching patched zlib 
2022-04-20T15:28:30.767Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:30.769Z appoptics:patching patched fs 
2022-04-20T15:28:30.850Z appoptics:patching patched hapi 13.2.1
2022-04-20T15:28:30.887Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:28:30.887Z appoptics:patching patched vision 4.1.1
2022-04-20T15:28:30.895Z appoptics:debug starting runtimeMetrics
(node:547) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 13.2.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (92ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:28:31.140Z appoptics:debug http: ule nodejs:entry 2b-e0c0beab9923dbf6897c88fa16211e7e6360a75c-2f0f3c3ee62be728-01
    ✓ should trace render span without template extension


  7 passing (286ms)
  1 failing

  1) probes.hapi 13.2.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '2F0F3C3EE62BE728',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 547,
  Timestamp_u: 1650468511130997,
  'X-Trace': '2BE0C0BEAB9923DBF6897C88FA16211E7E6360A75CBBBA2237175B06AE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: '2F0F3C3EE62BE728',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 547,
    Timestamp_u: 1650468511130997,
    'X-Trace': '2BE0C0BEAB9923DBF6897C88FA16211E7E6360A75CBBBA2237175B06AE01',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@13.2.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.2
updated 1 package and audited 948 packages in 5.506s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:38.050Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:38.051Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:38.051Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:38.052Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:38.110Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:38.292Z appoptics:patching patched crypto 
2022-04-20T15:28:38.316Z appoptics:patching patched https 
2022-04-20T15:28:38.316Z appoptics:patching patched http 
2022-04-20T15:28:38.357Z appoptics:patching patched zlib 
2022-04-20T15:28:38.495Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:38.496Z appoptics:patching patched fs 
2022-04-20T15:28:38.523Z appoptics:patching patched hapi 13.2.2
2022-04-20T15:28:38.539Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:28:38.539Z appoptics:patching patched vision 4.1.1
2022-04-20T15:28:38.542Z appoptics:debug starting runtimeMetrics
(node:569) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 13.2.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:28:38.695Z appoptics:debug http: ule nodejs:entry 2b-89db3ff9c48b4b50e6289a51357aafe35faf3e64-df8b43f6ade67c7d-01
    ✓ should trace render span without template extension


  7 passing (170ms)
  1 failing

  1) probes.hapi 13.2.2 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'DF8B43F6ADE67C7D',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 569,
  Timestamp_u: 1650468518691281,
  'X-Trace': '2B89DB3FF9C48B4B50E6289A51357AAFE35FAF3E645ED9DD286658904501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: 'DF8B43F6ADE67C7D',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 569,
    Timestamp_u: 1650468518691281,
    'X-Trace': '2B89DB3FF9C48B4B50E6289A51357AAFE35FAF3E645ED9DD286658904501',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@13.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.3.0
updated 1 package and audited 948 packages in 6.065s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:45.979Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:45.980Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:45.980Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:45.981Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:46.051Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:46.246Z appoptics:patching patched crypto 
2022-04-20T15:28:46.270Z appoptics:patching patched https 
2022-04-20T15:28:46.271Z appoptics:patching patched http 
2022-04-20T15:28:46.310Z appoptics:patching patched zlib 
2022-04-20T15:28:46.471Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:46.471Z appoptics:patching patched fs 
2022-04-20T15:28:46.517Z appoptics:patching patched hapi 13.3.0
2022-04-20T15:28:46.535Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:28:46.535Z appoptics:patching patched vision 4.1.1
2022-04-20T15:28:46.539Z appoptics:debug starting runtimeMetrics
(node:591) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 13.3.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (74ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled (41ms)
    1) should trace render span with template extension
2022-04-20T15:28:46.753Z appoptics:debug http: ule nodejs:entry 2b-3fb8ad67dc844503c5ffa5229d32316702c27d27-7ba393b5dfd73135-01
    ✓ should trace render span without template extension


  7 passing (241ms)
  1 failing

  1) probes.hapi 13.3.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '7BA393B5DFD73135',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 591,
  Timestamp_u: 1650468526747724,
  'X-Trace': '2B3FB8AD67DC844503C5FFA5229D32316702C27D27D917245E9517FB7A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: '7BA393B5DFD73135',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 591,
    Timestamp_u: 1650468526747724,
    'X-Trace': '2B3FB8AD67DC844503C5FFA5229D32316702C27D27D917245E9517FB7A01',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@13.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.0
removed 3 packages, updated 1 package and audited 945 packages in 5.64s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:53.728Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:53.729Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:53.729Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:53.730Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:53.791Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:53.958Z appoptics:patching patched crypto 
2022-04-20T15:28:53.986Z appoptics:patching patched https 
2022-04-20T15:28:53.986Z appoptics:patching patched http 
2022-04-20T15:28:54.025Z appoptics:patching patched zlib 
2022-04-20T15:28:54.167Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:54.167Z appoptics:patching patched fs 
2022-04-20T15:28:54.201Z appoptics:patching patched hapi 13.4.0
2022-04-20T15:28:54.219Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:28:54.219Z appoptics:patching patched vision 4.1.1
2022-04-20T15:28:54.224Z appoptics:debug starting runtimeMetrics
(node:613) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 13.4.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (63ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:28:54.406Z appoptics:debug http: ule nodejs:entry 2b-afb2bb085d6d255b6fe37bedaf5c1296365cc5a0-abda7d1804c91f37-01
    ✓ should trace render span without template extension


  7 passing (203ms)
  1 failing

  1) probes.hapi 13.4.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'ABDA7D1804C91F37',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 613,
  Timestamp_u: 1650468534401252,
  'X-Trace': '2BAFB2BB085D6D255B6FE37BEDAF5C1296365CC5A030E09CF8BF2B99CE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: 'ABDA7D1804C91F37',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 613,
    Timestamp_u: 1650468534401252,
    'X-Trace': '2BAFB2BB085D6D255B6FE37BEDAF5C1296365CC5A030E09CF8BF2B99CE01',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@13.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.1
updated 1 package and audited 945 packages in 6.667s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:02.591Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:02.592Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:02.592Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:02.593Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:02.681Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:02.851Z appoptics:patching patched crypto 
2022-04-20T15:29:02.871Z appoptics:patching patched https 
2022-04-20T15:29:02.871Z appoptics:patching patched http 
2022-04-20T15:29:02.907Z appoptics:patching patched zlib 
2022-04-20T15:29:03.028Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:03.029Z appoptics:patching patched fs 
2022-04-20T15:29:03.054Z appoptics:patching patched hapi 13.4.1
2022-04-20T15:29:03.070Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:29:03.070Z appoptics:patching patched vision 4.1.1
2022-04-20T15:29:03.074Z appoptics:debug starting runtimeMetrics
(node:635) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 13.4.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (60ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:29:03.245Z appoptics:debug http: ule nodejs:entry 2b-aa7cc2dae092664cc4e8cca21993c62ec3cb7c4e-38959ebd5e3eb3c4-01
    ✓ should trace render span without template extension


  7 passing (188ms)
  1 failing

  1) probes.hapi 13.4.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '38959EBD5E3EB3C4',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 635,
  Timestamp_u: 1650468543240724,
  'X-Trace': '2BAA7CC2DAE092664CC4E8CCA21993C62EC3CB7C4E901D33DB88F0391501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: '38959EBD5E3EB3C4',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 635,
    Timestamp_u: 1650468543240724,
    'X-Trace': '2BAA7CC2DAE092664CC4E8CCA21993C62EC3CB7C4E901D33DB88F0391501',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@13.4.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.2
updated 1 package and audited 945 packages in 6.539s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:11.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:11.048Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:11.048Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:11.049Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:11.116Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:11.299Z appoptics:patching patched crypto 
2022-04-20T15:29:11.322Z appoptics:patching patched https 
2022-04-20T15:29:11.322Z appoptics:patching patched http 
2022-04-20T15:29:11.364Z appoptics:patching patched zlib 
2022-04-20T15:29:11.510Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:11.511Z appoptics:patching patched fs 
2022-04-20T15:29:11.572Z appoptics:patching patched hapi 13.4.2
2022-04-20T15:29:11.587Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:29:11.587Z appoptics:patching patched vision 4.1.1
2022-04-20T15:29:11.591Z appoptics:debug starting runtimeMetrics
(node:657) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 13.4.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (66ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:29:11.778Z appoptics:debug http: ule nodejs:entry 2b-a2e52e7b00245abddc3d5eb6816aafcaa6571480-bacbe7543912927a-01
    ✓ should trace render span without template extension


  7 passing (201ms)
  1 failing

  1) probes.hapi 13.4.2 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'BACBE7543912927A',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 657,
  Timestamp_u: 1650468551773829,
  'X-Trace': '2BA2E52E7B00245ABDDC3D5EB6816AAFCAA65714803765AA164EBFE80501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: 'BACBE7543912927A',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 657,
    Timestamp_u: 1650468551773829,
    'X-Trace': '2BA2E52E7B00245ABDDC3D5EB6816AAFCAA65714803765AA164EBFE80501',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@13.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.5.0
updated 1 package and audited 945 packages in 5.544s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:18.621Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:18.621Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:18.621Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:18.622Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:18.683Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:18.862Z appoptics:patching patched crypto 
2022-04-20T15:29:18.883Z appoptics:patching patched https 
2022-04-20T15:29:18.883Z appoptics:patching patched http 
2022-04-20T15:29:18.923Z appoptics:patching patched zlib 
2022-04-20T15:29:19.056Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:19.057Z appoptics:patching patched fs 
2022-04-20T15:29:19.083Z appoptics:patching patched hapi 13.5.0
2022-04-20T15:29:19.090Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:29:19.090Z appoptics:patching patched vision 4.1.1
2022-04-20T15:29:19.094Z appoptics:debug starting runtimeMetrics
(node:679) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 13.5.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:29:19.265Z appoptics:debug http: ule nodejs:entry 2b-67eb18085420e79312f9a4c44e801e9db51799dd-e2883c59d3bf32c1-01
    ✓ should trace render span without template extension


  7 passing (193ms)
  1 failing

  1) probes.hapi 13.5.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'E2883C59D3BF32C1',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 679,
  Timestamp_u: 1650468559260041,
  'X-Trace': '2B67EB18085420E79312F9A4C44E801E9DB51799DD641915C025CE359301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: 'E2883C59D3BF32C1',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 679,
    Timestamp_u: 1650468559260041,
    'X-Trace': '2B67EB18085420E79312F9A4C44E801E9DB51799DD641915C025CE359301',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@13.5.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.5.3
updated 1 package and audited 945 packages in 6.775s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:27.322Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:27.322Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:27.323Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:27.323Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:27.383Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:27.553Z appoptics:patching patched crypto 
2022-04-20T15:29:27.573Z appoptics:patching patched https 
2022-04-20T15:29:27.573Z appoptics:patching patched http 
2022-04-20T15:29:27.611Z appoptics:patching patched zlib 
2022-04-20T15:29:27.726Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:27.726Z appoptics:patching patched fs 
2022-04-20T15:29:27.751Z appoptics:patching patched hapi 13.5.3
2022-04-20T15:29:27.770Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:29:27.770Z appoptics:patching patched vision 4.1.1
2022-04-20T15:29:27.774Z appoptics:debug starting runtimeMetrics
(node:701) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 13.5.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:29:27.924Z appoptics:debug http: ule nodejs:entry 2b-8025314c5d15e76f4fc39b4d5141adfb248a6e53-82772cbe4d91b35e-01
    ✓ should trace render span without template extension


  7 passing (167ms)
  1 failing

  1) probes.hapi 13.5.3 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '82772CBE4D91B35E',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 701,
  Timestamp_u: 1650468567920027,
  'X-Trace': '2B8025314C5D15E76F4FC39B4D5141ADFB248A6E53ABA7B749A35EFE2F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: '82772CBE4D91B35E',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 701,
    Timestamp_u: 1650468567920027,
    'X-Trace': '2B8025314C5D15E76F4FC39B4D5141ADFB248A6E53ABA7B749A35EFE2F01',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@14.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.0.0
updated 2 packages and audited 945 packages in 6.019s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:35.291Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:35.292Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:35.292Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:35.292Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:35.364Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:35.558Z appoptics:patching patched crypto 
2022-04-20T15:29:35.579Z appoptics:patching patched https 
2022-04-20T15:29:35.579Z appoptics:patching patched http 
2022-04-20T15:29:35.619Z appoptics:patching patched zlib 
2022-04-20T15:29:35.747Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:35.747Z appoptics:patching patched fs 
2022-04-20T15:29:35.776Z appoptics:patching patched hapi 14.0.0
2022-04-20T15:29:35.790Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:29:35.790Z appoptics:patching patched vision 4.1.1
2022-04-20T15:29:35.796Z appoptics:debug starting runtimeMetrics
(node:723) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 14.0.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:29:35.946Z appoptics:debug http: ule nodejs:entry 2b-8de23fe22f6fdf378cccc19c36fa00c76da7add4-ede92324bb89d607-01
    2) should trace render span without template extension


  6 passing (157ms)
  2 failing

  1) probes.hapi 14.0.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'EDE92324BB89D607',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 723,
  Timestamp_u: 1650468575941572,
  'X-Trace': '2B8DE23FE22F6FDF378CCCC19C36FA00C76DA7ADD4671ED38B2B2D050601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: 'EDE92324BB89D607',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 723,
    Timestamp_u: 1650468575941572,
    'X-Trace': '2B8DE23FE22F6FDF378CCCC19C36FA00C76DA7ADD4671ED38B2B2D050601',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.hapi 14.0.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Edge: '88A3AAAAA001BC18',
  Hostname: '93fdc3ec1342',
  Label: 'entry',
  Layer: 'hapi-render',
  TID: 723,
  TemplateFile: 'hello.ejs',
  TemplateLanguage: 'ejs',
  Timestamp_u: 1650468575947687,
  'X-Trace': '2B8DE23FE22F6FDF378CCCC19C36FA00C76DA7ADD4FC82835E2A466EAA01',
  _V: '1'
} to have property TemplateFile of 'hello' (got 'hello.ejs')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:239:23
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@14.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.1.0
updated 1 package and audited 945 packages in 5.171s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:42.544Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:42.545Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:42.545Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:42.545Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:42.615Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:42.819Z appoptics:patching patched crypto 
2022-04-20T15:29:42.855Z appoptics:patching patched https 
2022-04-20T15:29:42.855Z appoptics:patching patched http 
2022-04-20T15:29:42.908Z appoptics:patching patched zlib 
2022-04-20T15:29:43.053Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:43.053Z appoptics:patching patched fs 
2022-04-20T15:29:43.103Z appoptics:patching patched hapi 14.1.0
2022-04-20T15:29:43.113Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:29:43.113Z appoptics:patching patched vision 4.1.1
2022-04-20T15:29:43.117Z appoptics:debug starting runtimeMetrics
(node:745) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 14.1.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (97ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled (41ms)
    1) should trace render span with template extension
2022-04-20T15:29:43.392Z appoptics:debug http: ule nodejs:entry 2b-a0bba09c33ceffb2caaecb3a5538ae5ed769dce0-21ac3066decc8216-01
    ✓ should trace render span without template extension (52ms)


  7 passing (325ms)
  1 failing

  1) probes.hapi 14.1.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '21AC3066DECC8216',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 745,
  Timestamp_u: 1650468583383078,
  'X-Trace': '2BA0BBA09C33CEFFB2CAAECB3A5538AE5ED769DCE03FF94CF59FDFE77101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: '21AC3066DECC8216',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 745,
    Timestamp_u: 1650468583383078,
    'X-Trace': '2BA0BBA09C33CEFFB2CAAECB3A5538AE5ED769DCE03FF94CF59FDFE77101',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@14.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.2.0
updated 1 package and audited 945 packages in 5.659s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:50.290Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:50.291Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:50.291Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:50.292Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:50.352Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:50.526Z appoptics:patching patched crypto 
2022-04-20T15:29:50.567Z appoptics:patching patched https 
2022-04-20T15:29:50.568Z appoptics:patching patched http 
2022-04-20T15:29:50.617Z appoptics:patching patched zlib 
2022-04-20T15:29:50.757Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:50.758Z appoptics:patching patched fs 
2022-04-20T15:29:50.791Z appoptics:patching patched hapi 14.2.0
2022-04-20T15:29:50.797Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:29:50.797Z appoptics:patching patched vision 4.1.1
2022-04-20T15:29:50.801Z appoptics:debug starting runtimeMetrics
(node:767) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 14.2.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (57ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:29:50.959Z appoptics:debug http: ule nodejs:entry 2b-d9c759c872521b5a66dd46971a0681ff7b2ba9ba-80c4d7ebc4a4330b-01
    ✓ should trace render span without template extension


  7 passing (176ms)
  1 failing

  1) probes.hapi 14.2.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:305:20\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:375:16)\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:297:14\nat done (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/items/lib/index.js:31:25)\nat Server.finalize (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:171:9)\nat Object.onceWrapper (events.js:420:28)\nat Server.emit (events.js:326:22)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:252:23)\nat emitListeningNT (net.js:1350:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '80C4D7EBC4A4330B',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 767,
  Timestamp_u: 1650468590954250,
  'X-Trace': '2BD9C759C872521B5A66DD46971A0681FF7B2BA9BA34BD60BA2C0004E601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
  AssertionError: expected Object {
    Async: true,
    Edge: '80C4D7EBC4A4330B',
    HTTPMethod: 'GET',
    Hostname: '93fdc3ec1342',
    IsService: 'yes',
    Label: 'entry',
    Layer: 'http-client',
    RemoteURL: 'http://localhost:3506/hello/world',
    Spec: 'rsc',
    TID: 767,
    Timestamp_u: 1650468590954250,
    'X-Trace': '2BD9C759C872521B5A66DD46971A0681FF7B2BA9BA34BD60BA2C0004E601',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@15.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.1
added 4 packages from 1 contributor, removed 3 packages, updated 4 packages and audited 946 packages in 6.039s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:58.312Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:58.312Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:58.313Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:58.313Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:58.388Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:58.589Z appoptics:patching patched crypto 
2022-04-20T15:29:58.630Z appoptics:patching patched https 
2022-04-20T15:29:58.630Z appoptics:patching patched http 
2022-04-20T15:29:58.669Z appoptics:patching patched zlib 
2022-04-20T15:29:58.853Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:58.854Z appoptics:patching patched fs 
2022-04-20T15:29:58.887Z appoptics:patching patched hapi 15.0.1
2022-04-20T15:29:58.894Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:29:58.894Z appoptics:patching patched vision 4.1.1
2022-04-20T15:29:58.899Z appoptics:debug starting runtimeMetrics
(node:789) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 15.0.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (88ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:29:59.134Z appoptics:debug http: ule nodejs:entry 2b-5247b0566cfea4bd60f70b5036d76cdda45b8af9-f2f3cc49ad75909d-01
    ✓ should trace render span without template extension (61ms)


  7 passing (298ms)
  1 failing

  1) probes.hapi 15.0.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:317:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:386:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:309:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'F2F3CC49AD75909D',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 789,
  Timestamp_u: 1650468599129423,
  'X-Trace': '2B5247B0566CFEA4BD60F70B5036D76CDDA45B8AF9494DEA2018C0F62901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@15.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.2
updated 1 package and audited 946 packages in 5.533s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:06.143Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:06.144Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:06.145Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:06.146Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:06.208Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:06.395Z appoptics:patching patched crypto 
2022-04-20T15:30:06.416Z appoptics:patching patched https 
2022-04-20T15:30:06.417Z appoptics:patching patched http 
2022-04-20T15:30:06.456Z appoptics:patching patched zlib 
2022-04-20T15:30:06.599Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:06.600Z appoptics:patching patched fs 
2022-04-20T15:30:06.654Z appoptics:patching patched hapi 15.0.2
2022-04-20T15:30:06.660Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:06.660Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:06.665Z appoptics:debug starting runtimeMetrics
(node:811) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 15.0.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (65ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled (41ms)
    1) should trace render span with template extension
2022-04-20T15:30:06.870Z appoptics:debug http: ule nodejs:entry 2b-f2894e3c4530961a7d6973952cd4a7aa874ffcad-ce454baf0167a91b-01
    ✓ should trace render span without template extension


  7 passing (224ms)
  1 failing

  1) probes.hapi 15.0.2 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'CE454BAF0167A91B',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 811,
  Timestamp_u: 1650468606865901,
  'X-Trace': '2BF2894E3C4530961A7D6973952CD4A7AA874FFCAD4425CC6CC793931501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@15.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.3
updated 1 package and audited 946 packages in 5.791s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:13.885Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:13.886Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:13.886Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:13.886Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:13.941Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:14.135Z appoptics:patching patched crypto 
2022-04-20T15:30:14.177Z appoptics:patching patched https 
2022-04-20T15:30:14.177Z appoptics:patching patched http 
2022-04-20T15:30:14.220Z appoptics:patching patched zlib 
2022-04-20T15:30:14.353Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:14.353Z appoptics:patching patched fs 
2022-04-20T15:30:14.380Z appoptics:patching patched hapi 15.0.3
2022-04-20T15:30:14.386Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:14.386Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:14.390Z appoptics:debug starting runtimeMetrics
(node:833) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 15.0.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled (39ms)
    1) should trace render span with template extension
2022-04-20T15:30:14.576Z appoptics:debug http: ule nodejs:entry 2b-7272493c9bb9e587253112259fb866a5112cd988-b26be3b8fa774f2c-01
    ✓ should trace render span without template extension


  7 passing (205ms)
  1 failing

  1) probes.hapi 15.0.3 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'B26BE3B8FA774F2C',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 833,
  Timestamp_u: 1650468614571747,
  'X-Trace': '2B7272493C9BB9E587253112259FB866A5112CD988711699B1D9CEDB0E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@15.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.1.0
updated 1 package and audited 946 packages in 5.381s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:21.206Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:21.207Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:21.207Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:21.208Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:21.263Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:21.434Z appoptics:patching patched crypto 
2022-04-20T15:30:21.458Z appoptics:patching patched https 
2022-04-20T15:30:21.458Z appoptics:patching patched http 
2022-04-20T15:30:21.498Z appoptics:patching patched zlib 
2022-04-20T15:30:21.641Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:21.642Z appoptics:patching patched fs 
2022-04-20T15:30:21.670Z appoptics:patching patched hapi 15.1.0
2022-04-20T15:30:21.677Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:21.677Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:21.681Z appoptics:debug starting runtimeMetrics
(node:855) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 15.1.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled (58ms)
    1) should trace render span with template extension
2022-04-20T15:30:21.891Z appoptics:debug http: ule nodejs:entry 2b-65c3b54b3b9b8bb489182f868a6f07bafd90970e-68a60b21a4ba775b-01
    2) should trace render span without template extension


  6 passing (218ms)
  2 failing

  1) probes.hapi 15.1.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '68A60B21A4BA775B',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 855,
  Timestamp_u: 1650468621886284,
  'X-Trace': '2B65C3B54B3B9B8BB489182F868A6F07BAFD90970E0BC624F6507ADCA301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.hapi 15.1.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Edge: '682D0FE20A113ABE',
  Hostname: '93fdc3ec1342',
  Label: 'entry',
  Layer: 'hapi-render',
  TID: 855,
  TemplateFile: 'hello.ejs',
  TemplateLanguage: 'ejs',
  Timestamp_u: 1650468621893524,
  'X-Trace': '2B65C3B54B3B9B8BB489182F868A6F07BAFD90970E37A49DBF37554DEA01',
  _V: '1'
} to have property TemplateFile of 'hello' (got 'hello.ejs')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:239:23
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@15.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.1.1
updated 1 package and audited 946 packages in 6.454s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:29.656Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:29.657Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:29.657Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:29.658Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:29.718Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:29.894Z appoptics:patching patched crypto 
2022-04-20T15:30:29.921Z appoptics:patching patched https 
2022-04-20T15:30:29.921Z appoptics:patching patched http 
2022-04-20T15:30:29.966Z appoptics:patching patched zlib 
2022-04-20T15:30:30.113Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:30.114Z appoptics:patching patched fs 
2022-04-20T15:30:30.142Z appoptics:patching patched hapi 15.1.1
2022-04-20T15:30:30.149Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:30.149Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:30.153Z appoptics:debug starting runtimeMetrics
(node:877) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 15.1.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (62ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled (38ms)
    1) should trace render span with template extension
2022-04-20T15:30:30.351Z appoptics:debug http: ule nodejs:entry 2b-83c7a6c8e49082c04b00e8431b835445abb1c3c6-ff60f08169bf9d10-01
    ✓ should trace render span without template extension


  7 passing (216ms)
  1 failing

  1) probes.hapi 15.1.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'FF60F08169BF9D10',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 877,
  Timestamp_u: 1650468630345764,
  'X-Trace': '2B83C7A6C8E49082C04B00E8431B835445ABB1C3C61DB77460138BFEE101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@15.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.2.0
updated 1 package and audited 946 packages in 5.981s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:37.730Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:37.730Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:37.731Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:37.731Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:37.808Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:38.030Z appoptics:patching patched crypto 
2022-04-20T15:30:38.073Z appoptics:patching patched https 
2022-04-20T15:30:38.074Z appoptics:patching patched http 
2022-04-20T15:30:38.125Z appoptics:patching patched zlib 
2022-04-20T15:30:38.313Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:38.313Z appoptics:patching patched fs 
2022-04-20T15:30:38.346Z appoptics:patching patched hapi 15.2.0
2022-04-20T15:30:38.372Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:38.372Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:38.377Z appoptics:debug starting runtimeMetrics
(node:899) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.


  probes.hapi 15.2.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (72ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:30:38.607Z appoptics:debug http: ule nodejs:entry 2b-a27f0040a6c6787d29dfc473e4ef3a03b2406588-c51b02a4e6187805-01
    ✓ should trace render span without template extension


  7 passing (248ms)
  1 failing

  1) probes.hapi 15.2.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'C51B02A4E6187805',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 899,
  Timestamp_u: 1650468638601282,
  'X-Trace': '2BA27F0040A6C6787D29DFC473E4EF3A03B240658853CE3C2BF6DB275001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.0
added 1 package, removed 1 package, updated 2 packages and audited 946 packages in 5.513s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:45.384Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:45.385Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:45.385Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:45.386Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:45.445Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:45.618Z appoptics:patching patched crypto 
2022-04-20T15:30:45.638Z appoptics:patching patched https 
2022-04-20T15:30:45.638Z appoptics:patching patched http 
2022-04-20T15:30:45.676Z appoptics:patching patched zlib 
2022-04-20T15:30:45.788Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:45.789Z appoptics:patching patched fs 
2022-04-20T15:30:45.811Z appoptics:patching patched hapi 16.0.0
2022-04-20T15:30:45.817Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:45.817Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:45.821Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:30:46.025Z appoptics:debug http: ule nodejs:entry 2b-fff5a435869481009acbe4c5bd197812d2d888ad-1883034f0cd469dd-01
    ✓ should trace render span without template extension


  7 passing (218ms)
  1 failing

  1) probes.hapi 16.0.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '1883034F0CD469DD',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 921,
  Timestamp_u: 1650468646017224,
  'X-Trace': '2BFFF5A435869481009ACBE4C5BD197812D2D888ADBD395F1DBC65750501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.1
updated 1 package and audited 946 packages in 6.42s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:53.780Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:53.781Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:53.781Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:53.782Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:53.854Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:54.041Z appoptics:patching patched crypto 
2022-04-20T15:30:54.070Z appoptics:patching patched https 
2022-04-20T15:30:54.070Z appoptics:patching patched http 
2022-04-20T15:30:54.109Z appoptics:patching patched zlib 
2022-04-20T15:30:54.247Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:54.247Z appoptics:patching patched fs 
2022-04-20T15:30:54.269Z appoptics:patching patched hapi 16.0.1
2022-04-20T15:30:54.284Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:54.284Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:54.288Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:30:54.472Z appoptics:debug http: ule nodejs:entry 2b-92d708b37273d86d34ee8447ebee9cbae7da6e45-b07d27b21398e319-01
    ✓ should trace render span without template extension


  7 passing (201ms)
  1 failing

  1) probes.hapi 16.0.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'B07D27B21398E319',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 943,
  Timestamp_u: 1650468654467943,
  'X-Trace': '2B92D708B37273D86D34EE8447EBEE9CBAE7DA6E45EE18FAC486991C2A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.2
updated 1 package and audited 946 packages in 5.695s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:01.922Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:01.923Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:01.924Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:01.924Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:02.007Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:02.246Z appoptics:patching patched crypto 
2022-04-20T15:31:02.308Z appoptics:patching patched https 
2022-04-20T15:31:02.308Z appoptics:patching patched http 
2022-04-20T15:31:02.357Z appoptics:patching patched zlib 
2022-04-20T15:31:02.538Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:02.538Z appoptics:patching patched fs 
2022-04-20T15:31:02.580Z appoptics:patching patched hapi 16.0.2
2022-04-20T15:31:02.608Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:02.608Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:02.612Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (68ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:31:02.821Z appoptics:debug http: ule nodejs:entry 2b-decff33bd3622069bb065e742a37e38d05a999a3-0ca154f065a3b4a2-01
    ✓ should trace render span without template extension


  7 passing (220ms)
  1 failing

  1) probes.hapi 16.0.2 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '0CA154F065A3B4A2',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 965,
  Timestamp_u: 1650468662813658,
  'X-Trace': '2BDECFF33BD3622069BB065E742A37E38D05A999A3DBAC50AE6C7FA6C701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.3
updated 1 package and audited 946 packages in 5.704s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:09.838Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:09.839Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:09.840Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:09.840Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:09.900Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:10.094Z appoptics:patching patched crypto 
2022-04-20T15:31:10.117Z appoptics:patching patched https 
2022-04-20T15:31:10.118Z appoptics:patching patched http 
2022-04-20T15:31:10.156Z appoptics:patching patched zlib 
2022-04-20T15:31:10.273Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:10.273Z appoptics:patching patched fs 
2022-04-20T15:31:10.296Z appoptics:patching patched hapi 16.0.3
2022-04-20T15:31:10.308Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:10.308Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:10.312Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:31:10.493Z appoptics:debug http: ule nodejs:entry 2b-f7a3a62d8105f3834f301e55af640e93aa808c0c-60722c5890740c02-01
    ✓ should trace render span without template extension


  7 passing (199ms)
  1 failing

  1) probes.hapi 16.0.3 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '60722C5890740C02',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 987,
  Timestamp_u: 1650468670489081,
  'X-Trace': '2BF7A3A62D8105F3834F301E55AF640E93AA808C0C07BD011A6CC315A001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.1.0
updated 1 package and audited 946 packages in 6.454s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:18.206Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:18.207Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:18.207Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:18.208Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:18.268Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:18.446Z appoptics:patching patched crypto 
2022-04-20T15:31:18.467Z appoptics:patching patched https 
2022-04-20T15:31:18.467Z appoptics:patching patched http 
2022-04-20T15:31:18.509Z appoptics:patching patched zlib 
2022-04-20T15:31:18.628Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:18.628Z appoptics:patching patched fs 
2022-04-20T15:31:18.650Z appoptics:patching patched hapi 16.1.0
2022-04-20T15:31:18.663Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:18.663Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:18.667Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.1.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:31:18.849Z appoptics:debug http: ule nodejs:entry 2b-1c6a07d2a02b0c9b29d4614808e89e3c521fddb8-e1d3d1fbeb06d7dc-01
    ✓ should trace render span without template extension


  7 passing (199ms)
  1 failing

  1) probes.hapi 16.1.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'E1D3D1FBEB06D7DC',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1009,
  Timestamp_u: 1650468678844991,
  'X-Trace': '2B1C6A07D2A02B0C9B29D4614808E89E3C521FDDB8A0442502C8665F3501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.1.1
updated 1 package and audited 946 packages in 5.519s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:25.767Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:25.768Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:25.768Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:25.769Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:25.831Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:26.068Z appoptics:patching patched crypto 
2022-04-20T15:31:26.117Z appoptics:patching patched https 
2022-04-20T15:31:26.118Z appoptics:patching patched http 
2022-04-20T15:31:26.162Z appoptics:patching patched zlib 
2022-04-20T15:31:26.320Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:26.321Z appoptics:patching patched fs 
2022-04-20T15:31:26.343Z appoptics:patching patched hapi 16.1.1
2022-04-20T15:31:26.357Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:26.357Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:26.361Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.1.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (62ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request (49ms)
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:31:26.605Z appoptics:debug http: ule nodejs:entry 2b-f127fdcfe666c780ccfee82617eab8c456ee7ba7-4869ef42854dd230-01
    ✓ should trace render span without template extension


  7 passing (265ms)
  1 failing

  1) probes.hapi 16.1.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '4869EF42854DD230',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1031,
  Timestamp_u: 1650468686599867,
  'X-Trace': '2BF127FDCFE666C780CCFEE82617EAB8C456EE7BA7B63637828E6E563F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.2.0
added 1 package, updated 1 package and audited 947 packages in 6.299s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:34.473Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:34.474Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:34.474Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:34.475Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:34.536Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:34.723Z appoptics:patching patched crypto 
2022-04-20T15:31:34.745Z appoptics:patching patched https 
2022-04-20T15:31:34.745Z appoptics:patching patched http 
2022-04-20T15:31:34.785Z appoptics:patching patched zlib 
2022-04-20T15:31:34.936Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:34.937Z appoptics:patching patched fs 
2022-04-20T15:31:34.966Z appoptics:patching patched hapi 16.2.0
2022-04-20T15:31:34.977Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:34.977Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:34.981Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.2.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (64ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:31:35.182Z appoptics:debug http: ule nodejs:entry 2b-dc99ed7c003fb64f09642fb52f1df32f7b6ec52a-86f54d6e4b3ffe59-01
    ✓ should trace render span without template extension


  7 passing (220ms)
  1 failing

  1) probes.hapi 16.2.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '86F54D6E4B3FFE59',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1053,
  Timestamp_u: 1650468695170679,
  'X-Trace': '2BDC99ED7C003FB64F09642FB52F1DF32F7B6EC52A3747547EA70AB8E401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.3.0
updated 1 package and audited 947 packages in 5.885s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:42.330Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:42.331Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:42.331Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:42.332Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:42.392Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:42.574Z appoptics:patching patched crypto 
2022-04-20T15:31:42.595Z appoptics:patching patched https 
2022-04-20T15:31:42.595Z appoptics:patching patched http 
2022-04-20T15:31:42.635Z appoptics:patching patched zlib 
2022-04-20T15:31:42.754Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:42.754Z appoptics:patching patched fs 
2022-04-20T15:31:42.779Z appoptics:patching patched hapi 16.3.0
2022-04-20T15:31:42.787Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:42.787Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:42.796Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.3.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (63ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:31:42.982Z appoptics:debug http: ule nodejs:entry 2b-df6afe5006c034a9f52e612f335d6cbea1af7ec8-af19ab7dda2c5661-01
    ✓ should trace render span without template extension


  7 passing (208ms)
  1 failing

  1) probes.hapi 16.3.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'AF19AB7DDA2C5661',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1075,
  Timestamp_u: 1650468702977454,
  'X-Trace': '2BDF6AFE5006C034A9F52E612F335D6CBEA1AF7EC8BF8A13A8EC44770701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.3.1
updated 1 package and audited 947 packages in 6.057s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:50.321Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:50.322Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:50.322Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:50.323Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:50.384Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:50.601Z appoptics:patching patched crypto 
2022-04-20T15:31:50.643Z appoptics:patching patched https 
2022-04-20T15:31:50.643Z appoptics:patching patched http 
2022-04-20T15:31:50.686Z appoptics:patching patched zlib 
2022-04-20T15:31:50.841Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:50.842Z appoptics:patching patched fs 
2022-04-20T15:31:50.864Z appoptics:patching patched hapi 16.3.1
2022-04-20T15:31:50.878Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:50.878Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:50.882Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.3.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (88ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request (43ms)
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:31:51.159Z appoptics:debug http: ule nodejs:entry 2b-15c48284ca56112f8ef8b3db51faeff9ff0df4be-ff1f2e8a91ac3367-01
    ✓ should trace render span without template extension


  7 passing (298ms)
  1 failing

  1) probes.hapi 16.3.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'FF1F2E8A91AC3367',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1097,
  Timestamp_u: 1650468711153676,
  'X-Trace': '2B15C48284CA56112F8EF8B3DB51FAEFF9FF0DF4BE335784F487D904BD01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.0
updated 1 package and audited 947 packages in 6.161s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:58.659Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:58.660Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:58.660Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:58.661Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:58.721Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:58.907Z appoptics:patching patched crypto 
2022-04-20T15:31:58.929Z appoptics:patching patched https 
2022-04-20T15:31:58.929Z appoptics:patching patched http 
2022-04-20T15:31:58.968Z appoptics:patching patched zlib 
2022-04-20T15:31:59.087Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:59.087Z appoptics:patching patched fs 
2022-04-20T15:31:59.109Z appoptics:patching patched hapi 16.4.0
2022-04-20T15:31:59.123Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:59.123Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:59.127Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (61ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:31:59.316Z appoptics:debug http: ule nodejs:entry 2b-3bcda17eb9c250a1875c696ff7e8c2e0e546ad28-b8e7550d775d665c-01
    ✓ should trace render span without template extension


  7 passing (204ms)
  1 failing

  1) probes.hapi 16.4.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'B8E7550D775D665C',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1119,
  Timestamp_u: 1650468719312370,
  'X-Trace': '2B3BCDA17EB9C250A1875C696FF7E8C2E0E546AD288D69519ABD875F8901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated items@2.1.1: This module has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version of hapi to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.5.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.2.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.1.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.1
added 3 packages, removed 4 packages, updated 6 packages and audited 946 packages in 6.338s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:07.004Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:07.005Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:07.005Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:07.006Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:07.084Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:07.295Z appoptics:patching patched crypto 
2022-04-20T15:32:07.338Z appoptics:patching patched https 
2022-04-20T15:32:07.338Z appoptics:patching patched http 
2022-04-20T15:32:07.386Z appoptics:patching patched zlib 
2022-04-20T15:32:07.513Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:07.513Z appoptics:patching patched fs 
2022-04-20T15:32:07.539Z appoptics:patching patched hapi 16.4.1
2022-04-20T15:32:07.561Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:32:07.562Z appoptics:patching patched vision 4.1.1
2022-04-20T15:32:07.567Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (61ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled (41ms)
    1) should trace render span with template extension
2022-04-20T15:32:07.773Z appoptics:debug http: ule nodejs:entry 2b-8fe8706221dbf359f1e3456215a97b4924ebffbd-c0a231442a67c5f7-01
    ✓ should trace render span without template extension


  7 passing (214ms)
  1 failing

  1) probes.hapi 16.4.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:266:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'C0A231442A67C5F7',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1141,
  Timestamp_u: 1650468727767807,
  'X-Trace': '2B8FE8706221DBF359F1E3456215A97B4924EBFFBD241846422C0C4E7201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.4.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.2
added 4 packages from 1 contributor, removed 3 packages, updated 6 packages and audited 947 packages in 5.612s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:14.568Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:14.568Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:14.569Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:14.569Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:14.627Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:14.801Z appoptics:patching patched crypto 
2022-04-20T15:32:14.824Z appoptics:patching patched https 
2022-04-20T15:32:14.825Z appoptics:patching patched http 
2022-04-20T15:32:14.866Z appoptics:patching patched zlib 
2022-04-20T15:32:14.974Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:14.974Z appoptics:patching patched fs 
2022-04-20T15:32:14.995Z appoptics:patching patched hapi 16.4.2
2022-04-20T15:32:15.008Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:32:15.008Z appoptics:patching patched vision 4.1.1
2022-04-20T15:32:15.012Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (73ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:32:15.222Z appoptics:debug http: ule nodejs:entry 2b-2801b73ccae80367639e289166b6ce876713a292-eab910a0ef320d87-01
    ✓ should trace render span without template extension


  7 passing (224ms)
  1 failing

  1) probes.hapi 16.4.2 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'EAB910A0EF320D87',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1163,
  Timestamp_u: 1650468735217856,
  'X-Trace': '2B2801B73CCAE80367639E289166B6CE876713A2926EAF0DC68D67E5D301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.4.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.3
updated 1 package and audited 947 packages in 6.741s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:23.228Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:23.229Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:23.229Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:23.230Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:23.289Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:23.474Z appoptics:patching patched crypto 
2022-04-20T15:32:23.511Z appoptics:patching patched https 
2022-04-20T15:32:23.512Z appoptics:patching patched http 
2022-04-20T15:32:23.547Z appoptics:patching patched zlib 
2022-04-20T15:32:23.656Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:23.657Z appoptics:patching patched fs 
2022-04-20T15:32:23.678Z appoptics:patching patched hapi 16.4.3
2022-04-20T15:32:23.688Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:32:23.688Z appoptics:patching patched vision 4.1.1
2022-04-20T15:32:23.692Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:32:23.866Z appoptics:debug http: ule nodejs:entry 2b-4ee6a484c87a608c77624c5ada36c088e5eb27b9-dcb0be401c7afc5c-01
    ✓ should trace render span without template extension


  7 passing (192ms)
  1 failing

  1) probes.hapi 16.4.3 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'DCB0BE401C7AFC5C',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1185,
  Timestamp_u: 1650468743862140,
  'X-Trace': '2B4EE6A484C87A608C77624C5ADA36C088E5EB27B9C4AB72489C433C8501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.0
updated 2 packages and audited 947 packages in 6.159s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:31.434Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:31.435Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:31.435Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:31.436Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:31.496Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:31.672Z appoptics:patching patched crypto 
2022-04-20T15:32:31.695Z appoptics:patching patched https 
2022-04-20T15:32:31.695Z appoptics:patching patched http 
2022-04-20T15:32:31.733Z appoptics:patching patched zlib 
2022-04-20T15:32:31.853Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:31.853Z appoptics:patching patched fs 
2022-04-20T15:32:31.877Z appoptics:patching patched hapi 16.5.0
2022-04-20T15:32:31.889Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:32:31.889Z appoptics:patching patched vision 4.1.1
2022-04-20T15:32:31.894Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (60ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request (42ms)
    ✓ should forward controller/action data from delete request (38ms)
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:32:32.122Z appoptics:debug http: ule nodejs:entry 2b-9012b02357cc63b9301e28321b55f734a5409c94-b702177f880ce05c-01
    ✓ should trace render span without template extension


  7 passing (245ms)
  1 failing

  1) probes.hapi 16.5.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'B702177F880CE05C',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1207,
  Timestamp_u: 1650468752116923,
  'X-Trace': '2B9012B02357CC63B9301E28321B55F734A5409C949FE543514C1C4FEB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.5.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.1
updated 1 package and audited 947 packages in 5.403s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:38.852Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:38.853Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:38.853Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:38.854Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:38.930Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:39.142Z appoptics:patching patched crypto 
2022-04-20T15:32:39.164Z appoptics:patching patched https 
2022-04-20T15:32:39.164Z appoptics:patching patched http 
2022-04-20T15:32:39.211Z appoptics:patching patched zlib 
2022-04-20T15:32:39.325Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:39.326Z appoptics:patching patched fs 
2022-04-20T15:32:39.349Z appoptics:patching patched hapi 16.5.1
2022-04-20T15:32:39.362Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:32:39.362Z appoptics:patching patched vision 4.1.1
2022-04-20T15:32:39.366Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (58ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:32:39.549Z appoptics:debug http: ule nodejs:entry 2b-aeccbbf77037a57f5a30f57d89859dc69090636e-c88f917c78149960-01
    ✓ should trace render span without template extension


  7 passing (197ms)
  1 failing

  1) probes.hapi 16.5.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'C88F917C78149960',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1229,
  Timestamp_u: 1650468759544732,
  'X-Trace': '2BAECCBBF77037A57F5A30F57D89859DC69090636E89467573A0A971CE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.5.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.2
updated 1 package and audited 947 packages in 6.368s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:47.138Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:47.139Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:47.139Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:47.140Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:47.200Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:47.395Z appoptics:patching patched crypto 
2022-04-20T15:32:47.415Z appoptics:patching patched https 
2022-04-20T15:32:47.415Z appoptics:patching patched http 
2022-04-20T15:32:47.450Z appoptics:patching patched zlib 
2022-04-20T15:32:47.559Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:47.559Z appoptics:patching patched fs 
2022-04-20T15:32:47.586Z appoptics:patching patched hapi 16.5.2
2022-04-20T15:32:47.601Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:32:47.601Z appoptics:patching patched vision 4.1.1
2022-04-20T15:32:47.606Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (57ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:32:47.776Z appoptics:debug http: ule nodejs:entry 2b-8f94053ea7f2f674f2a92f08dba0871a52a41a2c-875a98df290123f9-01
    ✓ should trace render span without template extension


  7 passing (184ms)
  1 failing

  1) probes.hapi 16.5.2 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '875A98DF290123F9',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1251,
  Timestamp_u: 1650468767772532,
  'X-Trace': '2B8F94053EA7F2F674F2A92F08DBA0871A52A41A2C2FE9D9C9A720295501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.6.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.0
updated 1 package and audited 947 packages in 5.353s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:54.706Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:54.707Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:54.707Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:54.708Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:54.786Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:54.998Z appoptics:patching patched crypto 
2022-04-20T15:32:55.050Z appoptics:patching patched https 
2022-04-20T15:32:55.050Z appoptics:patching patched http 
2022-04-20T15:32:55.084Z appoptics:patching patched zlib 
2022-04-20T15:32:55.250Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:55.251Z appoptics:patching patched fs 
2022-04-20T15:32:55.275Z appoptics:patching patched hapi 16.6.0
2022-04-20T15:32:55.295Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:32:55.295Z appoptics:patching patched vision 4.1.1
2022-04-20T15:32:55.301Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (65ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request (44ms)
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:32:55.538Z appoptics:debug http: ule nodejs:entry 2b-e76c5c8089bf72ad90e1b673b07e78507c50bb07-2a233839dea6bf0c-01
    ✓ should trace render span without template extension


  7 passing (260ms)
  1 failing

  1) probes.hapi 16.6.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '2A233839DEA6BF0C',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1273,
  Timestamp_u: 1650468775533325,
  'X-Trace': '2BE76C5C8089BF72AD90E1B673B07E78507C50BB07D0898F4FDB69B93101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.6.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.1
added 3 packages from 1 contributor, updated 1 package and audited 950 packages in 5.555s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:02.741Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:02.742Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:02.742Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:02.743Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:02.815Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:02.999Z appoptics:patching patched crypto 
2022-04-20T15:33:03.019Z appoptics:patching patched https 
2022-04-20T15:33:03.019Z appoptics:patching patched http 
2022-04-20T15:33:03.056Z appoptics:patching patched zlib 
2022-04-20T15:33:03.197Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:03.197Z appoptics:patching patched fs 
2022-04-20T15:33:03.230Z appoptics:patching patched hapi 16.6.1
2022-04-20T15:33:03.235Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:33:03.235Z appoptics:patching patched vision 4.1.1
2022-04-20T15:33:03.240Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (57ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled (47ms)
    1) should trace render span with template extension
2022-04-20T15:33:03.441Z appoptics:debug http: ule nodejs:entry 2b-965d628836b186a70a0dc6b438419a263973140b-c23eea733ebc4b36-01
    ✓ should trace render span without template extension


  7 passing (216ms)
  1 failing

  1) probes.hapi 16.6.1 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'C23EEA733EBC4B36',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1295,
  Timestamp_u: 1650468783436601,
  'X-Trace': '2B965D628836B186A70A0DC6B438419A263973140BA868297EB9B910B901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.6.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.2
updated 1 package and audited 950 packages in 6.487s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:11.163Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:11.164Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:11.164Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:11.165Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:11.227Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:11.408Z appoptics:patching patched crypto 
2022-04-20T15:33:11.429Z appoptics:patching patched https 
2022-04-20T15:33:11.430Z appoptics:patching patched http 
2022-04-20T15:33:11.469Z appoptics:patching patched zlib 
2022-04-20T15:33:11.608Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:11.608Z appoptics:patching patched fs 
2022-04-20T15:33:11.649Z appoptics:patching patched hapi 16.6.2
2022-04-20T15:33:11.654Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:33:11.654Z appoptics:patching patched vision 4.1.1
2022-04-20T15:33:11.658Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (57ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:33:11.846Z appoptics:debug http: ule nodejs:entry 2b-295c786814e6c4d3a377af36e0b74f22f6e88d49-66afdfd523460ff2-01
    ✓ should trace render span without template extension


  7 passing (205ms)
  1 failing

  1) probes.hapi 16.6.2 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '66AFDFD523460FF2',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1317,
  Timestamp_u: 1650468791842274,
  'X-Trace': '2B295C786814E6C4D3A377AF36E0B74F22F6E88D49EC50BE98C8B6A97201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.6.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.3
updated 1 package and audited 950 packages in 5.79s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:18.888Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:18.889Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:18.889Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:18.890Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:18.949Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:19.150Z appoptics:patching patched crypto 
2022-04-20T15:33:19.194Z appoptics:patching patched https 
2022-04-20T15:33:19.194Z appoptics:patching patched http 
2022-04-20T15:33:19.242Z appoptics:patching patched zlib 
2022-04-20T15:33:19.411Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:19.411Z appoptics:patching patched fs 
2022-04-20T15:33:19.455Z appoptics:patching patched hapi 16.6.3
2022-04-20T15:33:19.460Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:33:19.460Z appoptics:patching patched vision 4.1.1
2022-04-20T15:33:19.464Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (61ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled (103ms)
    1) should trace render span with template extension
2022-04-20T15:33:19.791Z appoptics:debug http: ule nodejs:entry 2b-d79e74a4e0fd504b25daccbf0d5ba2ea2e56da0c-38c0de2552ff1988-01
    ✓ should trace render span without template extension


  7 passing (350ms)
  1 failing

  1) probes.hapi 16.6.3 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '38C0DE2552FF1988',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1339,
  Timestamp_u: 1650468799777985,
  'X-Trace': '2BD79E74A4E0FD504B25DACCBF0D5BA2EA2E56DA0C47E891EB03398A4A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.6.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.4
updated 1 package and audited 950 packages in 5.781s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:26.956Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:26.957Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:26.957Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:26.958Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:27.016Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:27.207Z appoptics:patching patched crypto 
2022-04-20T15:33:27.228Z appoptics:patching patched https 
2022-04-20T15:33:27.228Z appoptics:patching patched http 
2022-04-20T15:33:27.267Z appoptics:patching patched zlib 
2022-04-20T15:33:27.405Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:27.406Z appoptics:patching patched fs 
2022-04-20T15:33:27.441Z appoptics:patching patched hapi 16.6.4
2022-04-20T15:33:27.447Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:33:27.447Z appoptics:patching patched vision 4.1.1
2022-04-20T15:33:27.450Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.4 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:33:27.650Z appoptics:debug http: ule nodejs:entry 2b-d3ba9f0fa6e77e20eb4da9f20e4b07fbadc97f5a-1774410fcb7bdc06-01
    ✓ should trace render span without template extension


  7 passing (217ms)
  1 failing

  1) probes.hapi 16.6.4 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '1774410FCB7BDC06',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1361,
  Timestamp_u: 1650468807645558,
  'X-Trace': '2BD3BA9F0FA6E77E20EB4DA9F20E4B07FBADC97F5A7B25AD496603E87D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.6.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.5
updated 1 package and audited 950 packages in 6.063s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:35.052Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:35.053Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:35.053Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:35.054Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:35.121Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:35.320Z appoptics:patching patched crypto 
2022-04-20T15:33:35.359Z appoptics:patching patched https 
2022-04-20T15:33:35.359Z appoptics:patching patched http 
2022-04-20T15:33:35.404Z appoptics:patching patched zlib 
2022-04-20T15:33:35.587Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:35.588Z appoptics:patching patched fs 
2022-04-20T15:33:35.640Z appoptics:patching patched hapi 16.6.5
2022-04-20T15:33:35.646Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:33:35.646Z appoptics:patching patched vision 4.1.1
2022-04-20T15:33:35.649Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.5 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (63ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled (39ms)
    1) should trace render span with template extension
2022-04-20T15:33:35.857Z appoptics:debug http: ule nodejs:entry 2b-a18f8988f2a29955a7cc22db49d2fd09df2c9da9-f76f16f038ea4b61-01
    ✓ should trace render span without template extension


  7 passing (224ms)
  1 failing

  1) probes.hapi 16.6.5 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: 'F76F16F038EA4B61',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1383,
  Timestamp_u: 1650468815853238,
  'X-Trace': '2BA18F8988F2A29955A7CC22DB49D2FD09DF2C9DA987CD54215FC369F501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@16.7.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated somever@1.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.7.0
added 1 package, updated 1 package and audited 951 packages in 5.209s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:42.251Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:42.252Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:42.252Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:42.253Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:42.310Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:42.484Z appoptics:patching patched crypto 
2022-04-20T15:33:42.504Z appoptics:patching patched https 
2022-04-20T15:33:42.505Z appoptics:patching patched http 
2022-04-20T15:33:42.540Z appoptics:patching patched zlib 
2022-04-20T15:33:42.672Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:42.673Z appoptics:patching patched fs 
2022-04-20T15:33:42.702Z appoptics:patching patched hapi 16.7.0
2022-04-20T15:33:42.708Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:33:42.708Z appoptics:patching patched vision 4.1.1
2022-04-20T15:33:42.712Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.7.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (58ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should skip when disabled
    1) should trace render span with template extension
2022-04-20T15:33:42.899Z appoptics:debug http: ule nodejs:entry 2b-778d0a3dc0ebb4ea1173ce2940753804c9cf2bc5-3350b648b56d7cbe-01
    ✓ should trace render span without template extension


  7 passing (205ms)
  1 failing

  1) probes.hapi 16.7.0 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:362:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:431:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:354:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:83:21)',
  Edge: '3350B648B56D7CBE',
  HTTPMethod: 'GET',
  Hostname: '93fdc3ec1342',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3506/hello/world',
  Spec: 'rsc',
  TID: 1405,
  Timestamp_u: 1650468822894394,
  'X-Trace': '2B778D0A3DC0EBB4EA1173CE2940753804C9CF2BC564AE83A306AF510201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:483:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.EventEmitter.emit (domain.js:483:12)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated hapi@17.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated boom@7.3.0: This module has moved and is now available at @hapi/boom. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.0
added 46 packages from 2 contributors, removed 2 packages, updated 34 packages and audited 995 packages in 7.763s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
npm WARN deprecated vision@5.4.4: This module has moved and is now available at @hapi/vision. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated boom@7.3.0: This module has moved and is now available at @hapi/boom. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated items@2.1.2: This module has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version of hapi to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ vision@5.4.4
added 1 package from 1 contributor, updated 6 packages and audited 996 packages in 5.303s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:58.697Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:58.698Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:58.698Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:58.699Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:58.776Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:58.975Z appoptics:patching patched crypto 
2022-04-20T15:33:59.017Z appoptics:patching patched https 
2022-04-20T15:33:59.017Z appoptics:patching patched http 
2022-04-20T15:33:59.056Z appoptics:patching patched zlib 
2022-04-20T15:33:59.489Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:59.489Z appoptics:patching patched fs 
2022-04-20T15:33:59.539Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:33:59.539Z appoptics:patching patched hapi 17.0.0
2022-04-20T15:33:59.586Z appoptics:patching patched vision 5.4.4
2022-04-20T15:33:59.590Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (95ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (303ms)

npm WARN deprecated hapi@17.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.1
removed 59 packages, updated 1 package and audited 937 packages in 5.389s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:06.532Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:06.533Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:06.533Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:06.533Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:06.589Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:06.754Z appoptics:patching patched crypto 
2022-04-20T15:34:06.774Z appoptics:patching patched https 
2022-04-20T15:34:06.775Z appoptics:patching patched http 
2022-04-20T15:34:06.815Z appoptics:patching patched zlib 
2022-04-20T15:34:06.945Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:06.946Z appoptics:patching patched fs 
2022-04-20T15:34:06.963Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:06.963Z appoptics:patching patched hapi 17.0.1
2022-04-20T15:34:06.968Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:06.972Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (193ms)

npm WARN deprecated hapi@17.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.2
updated 1 package and audited 937 packages in 5.664s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:14.084Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:14.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:14.084Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:14.085Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:14.140Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:14.305Z appoptics:patching patched crypto 
2022-04-20T15:34:14.329Z appoptics:patching patched https 
2022-04-20T15:34:14.333Z appoptics:patching patched http 
2022-04-20T15:34:14.367Z appoptics:patching patched zlib 
2022-04-20T15:34:14.488Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:14.489Z appoptics:patching patched fs 
2022-04-20T15:34:14.505Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:14.505Z appoptics:patching patched hapi 17.0.2
2022-04-20T15:34:14.511Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:14.515Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (208ms)

npm WARN deprecated hapi@17.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.1.0
updated 1 package and audited 937 packages in 5.225s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:21.130Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:21.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:21.131Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:21.132Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:21.186Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:21.344Z appoptics:patching patched crypto 
2022-04-20T15:34:21.373Z appoptics:patching patched https 
2022-04-20T15:34:21.374Z appoptics:patching patched http 
2022-04-20T15:34:21.410Z appoptics:patching patched zlib 
2022-04-20T15:34:21.531Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:21.532Z appoptics:patching patched fs 
2022-04-20T15:34:21.549Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:21.549Z appoptics:patching patched hapi 17.1.0
2022-04-20T15:34:21.555Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:21.559Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.1.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (193ms)

npm WARN deprecated hapi@17.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.1.1
updated 1 package and audited 937 packages in 6.01s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:29.005Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:29.006Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:29.006Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:29.006Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:29.062Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:29.250Z appoptics:patching patched crypto 
2022-04-20T15:34:29.287Z appoptics:patching patched https 
2022-04-20T15:34:29.288Z appoptics:patching patched http 
2022-04-20T15:34:29.333Z appoptics:patching patched zlib 
2022-04-20T15:34:29.466Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:29.466Z appoptics:patching patched fs 
2022-04-20T15:34:29.484Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:29.484Z appoptics:patching patched hapi 17.1.1
2022-04-20T15:34:29.490Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:29.495Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.1.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (73ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (227ms)

npm WARN deprecated hapi@17.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.0
updated 1 package and audited 937 packages in 5.93s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:37.035Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:37.036Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:37.036Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:37.037Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:37.126Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:37.431Z appoptics:patching patched crypto 
2022-04-20T15:34:37.461Z appoptics:patching patched https 
2022-04-20T15:34:37.462Z appoptics:patching patched http 
2022-04-20T15:34:37.497Z appoptics:patching patched zlib 
2022-04-20T15:34:37.630Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:37.631Z appoptics:patching patched fs 
2022-04-20T15:34:37.650Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:37.650Z appoptics:patching patched hapi 17.2.0
2022-04-20T15:34:37.657Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:37.661Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (236ms)

npm WARN deprecated hapi@17.2.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.1
updated 1 package and audited 937 packages in 5.617s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:44.750Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:44.751Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:44.751Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:44.751Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:44.816Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:45.074Z appoptics:patching patched crypto 
2022-04-20T15:34:45.100Z appoptics:patching patched https 
2022-04-20T15:34:45.101Z appoptics:patching patched http 
2022-04-20T15:34:45.140Z appoptics:patching patched zlib 
2022-04-20T15:34:45.272Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:45.273Z appoptics:patching patched fs 
2022-04-20T15:34:45.291Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:45.292Z appoptics:patching patched hapi 17.2.1
2022-04-20T15:34:45.298Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:45.302Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (55ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (208ms)

npm WARN deprecated hapi@17.2.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.2
updated 1 package and audited 937 packages in 7.277s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:54.130Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:54.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:54.131Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:54.132Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:54.192Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:54.376Z appoptics:patching patched crypto 
2022-04-20T15:34:54.397Z appoptics:patching patched https 
2022-04-20T15:34:54.397Z appoptics:patching patched http 
2022-04-20T15:34:54.449Z appoptics:patching patched zlib 
2022-04-20T15:34:54.616Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:54.616Z appoptics:patching patched fs 
2022-04-20T15:34:54.634Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:54.634Z appoptics:patching patched hapi 17.2.2
2022-04-20T15:34:54.640Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:54.644Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (199ms)

npm WARN deprecated hapi@17.2.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.3
updated 1 package and audited 937 packages in 5.652s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:01.982Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:01.983Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:01.983Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:01.984Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:02.072Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:02.288Z appoptics:patching patched crypto 
2022-04-20T15:35:02.338Z appoptics:patching patched https 
2022-04-20T15:35:02.339Z appoptics:patching patched http 
2022-04-20T15:35:02.407Z appoptics:patching patched zlib 
2022-04-20T15:35:02.650Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:02.650Z appoptics:patching patched fs 
2022-04-20T15:35:02.682Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:02.682Z appoptics:patching patched hapi 17.2.3
2022-04-20T15:35:02.693Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:02.699Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (70ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (232ms)

npm WARN deprecated hapi@17.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.3.0
updated 1 package and audited 937 packages in 6.146s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:10.416Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:10.417Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:10.417Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:10.418Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:10.474Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:10.667Z appoptics:patching patched crypto 
2022-04-20T15:35:10.688Z appoptics:patching patched https 
2022-04-20T15:35:10.688Z appoptics:patching patched http 
2022-04-20T15:35:10.728Z appoptics:patching patched zlib 
2022-04-20T15:35:10.857Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:10.857Z appoptics:patching patched fs 
2022-04-20T15:35:10.874Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:10.874Z appoptics:patching patched hapi 17.3.0
2022-04-20T15:35:10.880Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:10.884Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.3.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (197ms)

npm WARN deprecated hapi@17.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.3.1
updated 1 package and audited 937 packages in 6.202s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:18.520Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:18.521Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:18.521Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:18.522Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:18.592Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:18.771Z appoptics:patching patched crypto 
2022-04-20T15:35:18.799Z appoptics:patching patched https 
2022-04-20T15:35:18.800Z appoptics:patching patched http 
2022-04-20T15:35:18.834Z appoptics:patching patched zlib 
2022-04-20T15:35:18.970Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:18.970Z appoptics:patching patched fs 
2022-04-20T15:35:18.986Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:18.986Z appoptics:patching patched hapi 17.3.1
2022-04-20T15:35:18.993Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:18.997Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.3.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (191ms)

npm WARN deprecated hapi@17.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.4.0
updated 1 package and audited 937 packages in 5.248s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:25.784Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:25.786Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:25.786Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:25.786Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:25.864Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:26.226Z appoptics:patching patched crypto 
2022-04-20T15:35:26.269Z appoptics:patching patched https 
2022-04-20T15:35:26.269Z appoptics:patching patched http 
2022-04-20T15:35:26.382Z appoptics:patching patched zlib 
2022-04-20T15:35:26.611Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:26.612Z appoptics:patching patched fs 
2022-04-20T15:35:26.639Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:26.640Z appoptics:patching patched hapi 17.4.0
2022-04-20T15:35:26.647Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:26.653Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.4.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (117ms)
    ✓ should forward controller/action data from post request (53ms)
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (409ms)

npm WARN deprecated hapi@17.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.0
updated 1 package and audited 937 packages in 5.496s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:33.846Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:33.847Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:33.847Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:33.849Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:33.908Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:34.084Z appoptics:patching patched crypto 
2022-04-20T15:35:34.105Z appoptics:patching patched https 
2022-04-20T15:35:34.105Z appoptics:patching patched http 
2022-04-20T15:35:34.143Z appoptics:patching patched zlib 
2022-04-20T15:35:34.279Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:34.280Z appoptics:patching patched fs 
2022-04-20T15:35:34.296Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:34.296Z appoptics:patching patched hapi 17.5.0
2022-04-20T15:35:34.301Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:34.306Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (66ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (228ms)

npm WARN deprecated hapi@17.5.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.1
updated 1 package and audited 937 packages in 6.071s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:41.805Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:41.806Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:41.806Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:41.807Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:41.865Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:42.080Z appoptics:patching patched crypto 
2022-04-20T15:35:42.101Z appoptics:patching patched https 
2022-04-20T15:35:42.101Z appoptics:patching patched http 
2022-04-20T15:35:42.142Z appoptics:patching patched zlib 
2022-04-20T15:35:42.286Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:42.286Z appoptics:patching patched fs 
2022-04-20T15:35:42.301Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:42.301Z appoptics:patching patched hapi 17.5.1
2022-04-20T15:35:42.307Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:42.312Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (187ms)

npm WARN deprecated hapi@17.5.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.2
updated 1 package and audited 937 packages in 5.346s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:49.258Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:49.259Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:49.259Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:49.260Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:49.341Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:49.515Z appoptics:patching patched crypto 
2022-04-20T15:35:49.536Z appoptics:patching patched https 
2022-04-20T15:35:49.536Z appoptics:patching patched http 
2022-04-20T15:35:49.575Z appoptics:patching patched zlib 
2022-04-20T15:35:49.710Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:49.710Z appoptics:patching patched fs 
2022-04-20T15:35:49.727Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:49.727Z appoptics:patching patched hapi 17.5.2
2022-04-20T15:35:49.733Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:49.737Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (206ms)

npm WARN deprecated hapi@17.5.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.3
updated 1 package and audited 937 packages in 6.503s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:57.685Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:57.686Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:57.686Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:57.687Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:57.748Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:57.928Z appoptics:patching patched crypto 
2022-04-20T15:35:57.949Z appoptics:patching patched https 
2022-04-20T15:35:57.950Z appoptics:patching patched http 
2022-04-20T15:35:57.990Z appoptics:patching patched zlib 
2022-04-20T15:35:58.134Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:58.135Z appoptics:patching patched fs 
2022-04-20T15:35:58.154Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:58.154Z appoptics:patching patched hapi 17.5.3
2022-04-20T15:35:58.160Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:58.165Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (62ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (218ms)

npm WARN deprecated hapi@17.5.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.4
updated 1 package and audited 937 packages in 6.356s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:06.349Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:06.350Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:06.350Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:06.351Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:06.413Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:06.623Z appoptics:patching patched crypto 
2022-04-20T15:36:06.643Z appoptics:patching patched https 
2022-04-20T15:36:06.644Z appoptics:patching patched http 
2022-04-20T15:36:06.686Z appoptics:patching patched zlib 
2022-04-20T15:36:06.824Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:06.825Z appoptics:patching patched fs 
2022-04-20T15:36:06.837Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:36:06.837Z appoptics:patching patched hapi 17.5.4
2022-04-20T15:36:06.844Z appoptics:patching patched vision 5.4.4
2022-04-20T15:36:06.848Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (216ms)

npm WARN deprecated hapi@17.5.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.5
updated 1 package and audited 937 packages in 5.627s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:13.925Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:13.926Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:13.926Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:13.927Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:13.991Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:14.171Z appoptics:patching patched crypto 
2022-04-20T15:36:14.193Z appoptics:patching patched https 
2022-04-20T15:36:14.193Z appoptics:patching patched http 
2022-04-20T15:36:14.234Z appoptics:patching patched zlib 
2022-04-20T15:36:14.366Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:14.367Z appoptics:patching patched fs 
2022-04-20T15:36:14.382Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:36:14.382Z appoptics:patching patched hapi 17.5.5
2022-04-20T15:36:14.389Z appoptics:patching patched vision 5.4.4
2022-04-20T15:36:14.393Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.5 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (202ms)

npm WARN deprecated hapi@17.6.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.0
updated 1 package and audited 937 packages in 5.795s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:21.721Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:21.722Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:21.722Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:21.723Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:21.840Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:22.131Z appoptics:patching patched crypto 
2022-04-20T15:36:22.170Z appoptics:patching patched https 
2022-04-20T15:36:22.170Z appoptics:patching patched http 
2022-04-20T15:36:22.213Z appoptics:patching patched zlib 
2022-04-20T15:36:22.343Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:22.343Z appoptics:patching patched fs 
2022-04-20T15:36:22.353Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:36:22.353Z appoptics:patching patched hapi 17.6.0
2022-04-20T15:36:22.359Z appoptics:patching patched vision 5.4.4
2022-04-20T15:36:22.363Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (58ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (244ms)

npm WARN deprecated hapi@17.6.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.1
removed 2 packages, updated 1 package and audited 935 packages in 4.992s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:28.845Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:28.846Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:28.846Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:28.847Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:28.914Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:29.106Z appoptics:patching patched crypto 
2022-04-20T15:36:29.145Z appoptics:patching patched https 
2022-04-20T15:36:29.145Z appoptics:patching patched http 
2022-04-20T15:36:29.187Z appoptics:patching patched zlib 
2022-04-20T15:36:29.332Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:29.332Z appoptics:patching patched fs 
2022-04-20T15:36:29.343Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:36:29.343Z appoptics:patching patched hapi 17.6.1
2022-04-20T15:36:29.349Z appoptics:patching patched vision 5.4.4
2022-04-20T15:36:29.361Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (57ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request (43ms)
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled (52ms)
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (334ms)

npm WARN deprecated hapi@17.6.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.2
updated 1 package and audited 935 packages in 5.658s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:36.759Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:36.760Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:36.760Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:36.761Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:36.819Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:37.010Z appoptics:patching patched crypto 
2022-04-20T15:36:37.030Z appoptics:patching patched https 
2022-04-20T15:36:37.030Z appoptics:patching patched http 
2022-04-20T15:36:37.067Z appoptics:patching patched zlib 
2022-04-20T15:36:37.165Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:37.166Z appoptics:patching patched fs 
2022-04-20T15:36:37.177Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:36:37.177Z appoptics:patching patched hapi 17.6.2
2022-04-20T15:36:37.182Z appoptics:patching patched vision 5.4.4
2022-04-20T15:36:37.186Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (197ms)

npm WARN deprecated hapi@17.6.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.3
updated 1 package and audited 935 packages in 6.02s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:44.609Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:44.610Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:44.610Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:44.610Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:44.665Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:44.832Z appoptics:patching patched crypto 
2022-04-20T15:36:44.851Z appoptics:patching patched https 
2022-04-20T15:36:44.852Z appoptics:patching patched http 
2022-04-20T15:36:44.891Z appoptics:patching patched zlib 
2022-04-20T15:36:44.993Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:44.993Z appoptics:patching patched fs 
2022-04-20T15:36:45.004Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:36:45.004Z appoptics:patching patched hapi 17.6.3
2022-04-20T15:36:45.009Z appoptics:patching patched vision 5.4.4
2022-04-20T15:36:45.013Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (224ms)

npm WARN deprecated hapi@17.6.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.4
updated 1 package and audited 935 packages in 5.209s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:51.616Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:51.617Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:51.617Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:51.618Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:51.670Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:51.847Z appoptics:patching patched crypto 
2022-04-20T15:36:51.885Z appoptics:patching patched https 
2022-04-20T15:36:51.886Z appoptics:patching patched http 
2022-04-20T15:36:51.922Z appoptics:patching patched zlib 
2022-04-20T15:36:52.028Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:52.028Z appoptics:patching patched fs 
2022-04-20T15:36:52.040Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:36:52.040Z appoptics:patching patched hapi 17.6.4
2022-04-20T15:36:52.045Z appoptics:patching patched vision 5.4.4
2022-04-20T15:36:52.055Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (61ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (221ms)

npm WARN deprecated hapi@17.7.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.7.0
added 1 package, updated 1 package and audited 936 packages in 6.503s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:00.050Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:00.051Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:00.051Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:00.052Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:00.144Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:00.342Z appoptics:patching patched crypto 
2022-04-20T15:37:00.362Z appoptics:patching patched https 
2022-04-20T15:37:00.362Z appoptics:patching patched http 
2022-04-20T15:37:00.404Z appoptics:patching patched zlib 
2022-04-20T15:37:00.546Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:00.547Z appoptics:patching patched fs 
2022-04-20T15:37:00.559Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:37:00.559Z appoptics:patching patched hapi 17.7.0
2022-04-20T15:37:00.568Z appoptics:patching patched vision 5.4.4
2022-04-20T15:37:00.574Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.7.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (55ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (219ms)

npm WARN deprecated hapi@17.8.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.0
updated 1 package and audited 936 packages in 5.673s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:07.973Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:07.974Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:07.974Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:07.975Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:08.053Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:08.254Z appoptics:patching patched crypto 
2022-04-20T15:37:08.288Z appoptics:patching patched https 
2022-04-20T15:37:08.288Z appoptics:patching patched http 
2022-04-20T15:37:08.356Z appoptics:patching patched zlib 
2022-04-20T15:37:08.519Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:08.520Z appoptics:patching patched fs 
2022-04-20T15:37:08.533Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:37:08.533Z appoptics:patching patched hapi 17.8.0
2022-04-20T15:37:08.538Z appoptics:patching patched vision 5.4.4
2022-04-20T15:37:08.543Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (70ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled (38ms)
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function (41ms)


  11 passing (329ms)

npm WARN deprecated hapi@17.8.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.1
updated 1 package and audited 936 packages in 5.247s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:15.371Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:15.372Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:15.372Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:15.372Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:15.436Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:15.630Z appoptics:patching patched crypto 
2022-04-20T15:37:15.651Z appoptics:patching patched https 
2022-04-20T15:37:15.651Z appoptics:patching patched http 
2022-04-20T15:37:15.691Z appoptics:patching patched zlib 
2022-04-20T15:37:15.807Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:15.808Z appoptics:patching patched fs 
2022-04-20T15:37:15.819Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:37:15.819Z appoptics:patching patched hapi 17.8.1
2022-04-20T15:37:15.824Z appoptics:patching patched vision 5.4.4
2022-04-20T15:37:15.829Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (55ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (216ms)

npm WARN deprecated hapi@17.8.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.2
updated 1 package and audited 936 packages in 6.954s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:24.245Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:24.246Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:24.246Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:24.247Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:24.309Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:24.489Z appoptics:patching patched crypto 
2022-04-20T15:37:24.510Z appoptics:patching patched https 
2022-04-20T15:37:24.510Z appoptics:patching patched http 
2022-04-20T15:37:24.550Z appoptics:patching patched zlib 
2022-04-20T15:37:24.663Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:24.664Z appoptics:patching patched fs 
2022-04-20T15:37:24.675Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:37:24.675Z appoptics:patching patched hapi 17.8.2
2022-04-20T15:37:24.681Z appoptics:patching patched vision 5.4.4
2022-04-20T15:37:24.685Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (55ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (213ms)

npm WARN deprecated hapi@17.8.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.3
updated 1 package and audited 936 packages in 5.692s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:32.074Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:32.078Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:32.078Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:32.085Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:32.182Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:32.401Z appoptics:patching patched crypto 
2022-04-20T15:37:32.451Z appoptics:patching patched https 
2022-04-20T15:37:32.452Z appoptics:patching patched http 
2022-04-20T15:37:32.502Z appoptics:patching patched zlib 
2022-04-20T15:37:32.704Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:32.705Z appoptics:patching patched fs 
2022-04-20T15:37:32.717Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:37:32.717Z appoptics:patching patched hapi 17.8.3
2022-04-20T15:37:32.743Z appoptics:patching patched vision 5.4.4
2022-04-20T15:37:32.751Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (62ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (291ms)

npm WARN deprecated hapi@17.8.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.4
updated 1 package and audited 936 packages in 5.456s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:40.013Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:40.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:40.013Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:40.014Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:40.095Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:40.278Z appoptics:patching patched crypto 
2022-04-20T15:37:40.299Z appoptics:patching patched https 
2022-04-20T15:37:40.299Z appoptics:patching patched http 
2022-04-20T15:37:40.341Z appoptics:patching patched zlib 
2022-04-20T15:37:40.471Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:40.472Z appoptics:patching patched fs 
2022-04-20T15:37:40.483Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:37:40.483Z appoptics:patching patched hapi 17.8.4
2022-04-20T15:37:40.489Z appoptics:patching patched vision 5.4.4
2022-04-20T15:37:40.494Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (73ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (256ms)

npm WARN deprecated hapi@17.8.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.5
updated 1 package and audited 936 packages in 6.154s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:48.173Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:48.174Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:48.174Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:48.175Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:48.233Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:48.416Z appoptics:patching patched crypto 
2022-04-20T15:37:48.436Z appoptics:patching patched https 
2022-04-20T15:37:48.437Z appoptics:patching patched http 
2022-04-20T15:37:48.476Z appoptics:patching patched zlib 
2022-04-20T15:37:48.589Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:48.589Z appoptics:patching patched fs 
2022-04-20T15:37:48.601Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:37:48.601Z appoptics:patching patched hapi 17.8.5
2022-04-20T15:37:48.607Z appoptics:patching patched vision 5.4.4
2022-04-20T15:37:48.612Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.5 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (213ms)

npm WARN deprecated hapi@18.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.0.0
removed 1 package, updated 2 packages and audited 935 packages in 7.089s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:57.319Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:57.320Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:57.320Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:57.321Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:57.397Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:57.609Z appoptics:patching patched crypto 
2022-04-20T15:37:57.661Z appoptics:patching patched https 
2022-04-20T15:37:57.667Z appoptics:patching patched http 
2022-04-20T15:37:57.724Z appoptics:patching patched zlib 
2022-04-20T15:37:57.906Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:57.907Z appoptics:patching patched fs 
2022-04-20T15:37:57.919Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:37:57.919Z appoptics:patching patched hapi 18.0.0
2022-04-20T15:37:57.934Z appoptics:patching patched vision 5.4.4
2022-04-20T15:37:57.940Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.0.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (60ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (268ms)

npm WARN deprecated hapi@18.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.0.1
updated 1 package and audited 935 packages in 5.76s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:38:05.318Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:05.319Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:05.319Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:05.320Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:05.382Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:05.563Z appoptics:patching patched crypto 
2022-04-20T15:38:05.584Z appoptics:patching patched https 
2022-04-20T15:38:05.584Z appoptics:patching patched http 
2022-04-20T15:38:05.627Z appoptics:patching patched zlib 
2022-04-20T15:38:05.748Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:05.748Z appoptics:patching patched fs 
2022-04-20T15:38:05.761Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:38:05.761Z appoptics:patching patched hapi 18.0.1
2022-04-20T15:38:05.768Z appoptics:patching patched vision 5.4.4
2022-04-20T15:38:05.772Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.0.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (254ms)

npm WARN deprecated hapi@18.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.1.0
updated 1 package and audited 935 packages in 6.005s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:38:13.377Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:13.378Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:13.378Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:13.379Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:13.441Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:13.634Z appoptics:patching patched crypto 
2022-04-20T15:38:13.666Z appoptics:patching patched https 
2022-04-20T15:38:13.666Z appoptics:patching patched http 
2022-04-20T15:38:13.703Z appoptics:patching patched zlib 
2022-04-20T15:38:13.817Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:13.817Z appoptics:patching patched fs 
2022-04-20T15:38:13.829Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:38:13.829Z appoptics:patching patched hapi 18.1.0
2022-04-20T15:38:13.842Z appoptics:patching patched vision 5.4.4
2022-04-20T15:38:13.846Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.1.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (220ms)

npm WARN deprecated hapi@18.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.1.0
updated 1 package and audited 935 packages in 5.256s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
