npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.0
updated 2 packages and audited 935 packages in 6.352s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:57.625Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:57.626Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:57.626Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:57.627Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:57.708Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:57.926Z appoptics:patching patched crypto 
2022-04-20T15:27:57.963Z appoptics:patching patched https 
2022-04-20T15:27:57.964Z appoptics:patching patched http 
2022-04-20T15:27:58.018Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:58.019Z appoptics:patching patched fs 
2022-04-20T15:27:58.042Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v14.19.1)
2022-04-20T15:27:58.052Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2022-04-20T15:27:58.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b29661280e8ad9b949ad8a9b9c9f4226d63d527-c753620ea1cfa0ff-01 outer:exit 2b-7b29661280e8ad9b949ad8a9b9c9f4226d63d527-36d48c635cb9c271-01
2022-04-20T15:27:58.120Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:27:58.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-0867a652e709c53875bcb9698cd3ceae8d30a9cb-c7211b996423e356-01 outer:exit 2b-0867a652e709c53875bcb9698cd3ceae8d30a9cb-9d8c9cd443bf6685-01
2022-04-20T15:27:58.187Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:27:58.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-59f37e681eaf1c49acbf523d8af43930f65e6633-14f3d4d6c2091129-01 outer:exit 2b-59f37e681eaf1c49acbf523d8af43930f65e6633-e3f7ed426f0831cf-01
2022-04-20T15:27:58.211Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:27:58.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebb8c67502ff4b2cf73e57845073d5202f08376b-26228df279bc21e8-01 outer:exit 2b-ebb8c67502ff4b2cf73e57845073d5202f08376b-41b08e1f10cf611a-01
2022-04-20T15:27:58.216Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:27:58.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-9223f1646c5ea31e1e30a79097a27f3536397dee-efdbff189412f9ef-01 outer:exit 2b-9223f1646c5ea31e1e30a79097a27f3536397dee-14a870e71f616040-01
2022-04-20T15:27:58.226Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:27:58.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b95287ecf4bc76ce67e831c6578a416d168d81b-c0014e473d306197-01 outer:exit 2b-2b95287ecf4bc76ce67e831c6578a416d168d81b-5d59419a89a12369-01
2022-04-20T15:27:58.232Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:27:58.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7662e79c8ac33141bbf35b3a4f40e219637e0d0-432bc789ed620902-01 outer:exit 2b-f7662e79c8ac33141bbf35b3a4f40e219637e0d0-5721de3a5f796444-01
2022-04-20T15:27:58.236Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:27:58.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6c2922f80054dfe6b4f110a0fb39578a9150f6e-3171170c0d5c6cda-01 outer:exit 2b-e6c2922f80054dfe6b4f110a0fb39578a9150f6e-7e47088e91e8ace7-01
2022-04-20T15:27:58.241Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:27:58.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-a77d6996707a8fb633cca0146d6cff5556f56b62-d3c3481fdc9871e5-01 outer:exit 2b-a77d6996707a8fb633cca0146d6cff5556f56b62-1a7f325fd3d87cc1-01
2022-04-20T15:27:58.244Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:27:58.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e59b47503d37c49060f03c3c352f91e9d0167fb-1aaab1f3c15720e8-01 outer:exit 2b-9e59b47503d37c49060f03c3c352f91e9d0167fb-73558cc85a188060-01
2022-04-20T15:27:58.248Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:27:58.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-c12dd984f191d85c7208f30f8dcc31cbaefd4023-9cce28e2a0144522-01 outer:exit 2b-c12dd984f191d85c7208f30f8dcc31cbaefd4023-98a18da6233c1e75-01
2022-04-20T15:27:58.253Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:27:58.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e425c0b1c72237536f692dcf069b8e91cf7d116-f0b6244995f22930-01 outer:exit 2b-0e425c0b1c72237536f692dcf069b8e91cf7d116-b4f0b95d096cdb02-01
2022-04-20T15:27:58.314Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:27:58.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-d606d9121d092664930ec78c4854ad9c344bf81e-077d411e3a72966a-01 outer:exit 2b-d606d9121d092664930ec78c4854ad9c344bf81e-c3bbf059efcd320a-01
2022-04-20T15:27:58.342Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:27:58.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd7796d82de0af3532243ab8440b3da74b359df8-6addbbbdde3234f3-01 outer:exit 2b-fd7796d82de0af3532243ab8440b3da74b359df8-83b74ca89072e657-01
2022-04-20T15:27:58.401Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:27:58.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-e52534f3c211f313718a31224c92bc0eb581a168-291be281111b0695-01 outer:exit 2b-e52534f3c211f313718a31224c92bc0eb581a168-a6403daf71ca5285-01
2022-04-20T15:27:58.408Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:27:58.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-92d5dc6a7dd9acc23ba7a9a2b6b9360167e2b099-6972a3ab9cfd804d-01 outer:exit 2b-92d5dc6a7dd9acc23ba7a9a2b6b9360167e2b099-f03cb75c32895d51-01
2022-04-20T15:27:58.411Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:27:58.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7244f8e34cab51dbe4fc80b9a5d0be8d0a8b164-d73e354016284e42-01 outer:exit 2b-a7244f8e34cab51dbe4fc80b9a5d0be8d0a8b164-21a1cc9e24fea2f8-01
2022-04-20T15:27:58.429Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:27:58.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-3951b26569c99f39a3762354e10489fb9e0b7c67-777efcd8316f7ad2-01 outer:exit 2b-3951b26569c99f39a3762354e10489fb9e0b7c67-ace04ee27bc512f5-01
2022-04-20T15:27:58.441Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:27:58.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-b045bc87be19a4c2fbecd9a72719463b78da4760-bf66ed77ff011a06-01 outer:exit 2b-b045bc87be19a4c2fbecd9a72719463b78da4760-a8a0f2b804b4dc3c-01
2022-04-20T15:27:58.452Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:27:58.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-d65269502b5e8e3f0d73034a5f6b5665f46253e9-6355071c8de5bb5e-01 outer:exit 2b-d65269502b5e8e3f0d73034a5f6b5665f46253e9-f2f26f60442f128d-01
2022-04-20T15:27:58.465Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:27:58.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-79fc53aee26222a2cc7c738dc96e7c4edcf552d9-71e71f3647c8dbb0-01 outer:exit 2b-79fc53aee26222a2cc7c738dc96e7c4edcf552d9-54f8e1a8638e5f49-01
2022-04-20T15:27:58.469Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:27:58.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-fedd8321fe217ce64b9e8fbcb98487a98d6be97c-83df784dfb215df8-01 outer:exit 2b-fedd8321fe217ce64b9e8fbcb98487a98d6be97c-2b136ff90624a181-01
2022-04-20T15:27:58.472Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:27:58.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-b960702c44b4f1d25b10a356b9b9113e13d9ed8e-350e620a75b86208-01 outer:exit 2b-b960702c44b4f1d25b10a356b9b9113e13d9ed8e-c616a1217e3e852b-01
2022-04-20T15:27:58.483Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:27:58.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebc67ec72fd208198fe9ba982cb20da5763e1fa4-780b06036dfc55f5-01 outer:exit 2b-ebc67ec72fd208198fe9ba982cb20da5763e1fa4-4ddb9b971dda1bfd-01
2022-04-20T15:27:58.497Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:27:58.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb6ac7e3128e7f786fc9fe99fb0de65092cbe701-88df8555399d8e62-01 outer:exit 2b-fb6ac7e3128e7f786fc9fe99fb0de65092cbe701-a201a63a3adc78c7-01
2022-04-20T15:27:58.500Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:27:58.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-5becb4325da78da14d1296f6a1f40ce325d5efdc-be8dccc2d04129d0-01 outer:exit 2b-5becb4325da78da14d1296f6a1f40ce325d5efdc-a1e5d790e8f452bb-01
2022-04-20T15:27:58.504Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:27:58.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b2242f86efbb32c4ef8fcacceff9a7443ecf779-dbf8d1ca42adcb35-01 outer:exit 2b-5b2242f86efbb32c4ef8fcacceff9a7443ecf779-851eb4c46a6e8db6-01
2022-04-20T15:27:58.580Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:27:58.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-1447b999a6d399341ce3cf65f0182757e93f1498-15c186544abae7c1-01 outer:exit 2b-1447b999a6d399341ce3cf65f0182757e93f1498-d4226f4c9b864184-01
2022-04-20T15:27:58.611Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:27:58.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-38b1b4ba72fcfc9a88ff83d0735a59b04e6f3cd7-14c63facf3a15079-01 outer:exit 2b-38b1b4ba72fcfc9a88ff83d0735a59b04e6f3cd7-80a376200161afd5-01
2022-04-20T15:27:58.624Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:27:58.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-65719b0cb310107b0fc1cf1603116386b8a51377-264491ee3dff453e-01 outer:exit 2b-65719b0cb310107b0fc1cf1603116386b8a51377-7b6d470cdef46f2a-01
2022-04-20T15:27:58.659Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:27:58.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-09ae26f1f9d92fbe32da99eb5e9a1e42831562d2-489e33c174f7fb98-01 outer:exit 2b-09ae26f1f9d92fbe32da99eb5e9a1e42831562d2-0f9765db7ffde73e-01
2022-04-20T15:27:58.669Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:27:58.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-1edec008ea6100319d66f2a6790c26d32eb37cb0-cfe2e8d043368a58-01 outer:exit 2b-1edec008ea6100319d66f2a6790c26d32eb37cb0-8b787738b4d558ff-01
2022-04-20T15:27:58.673Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:27:58.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-20c810788d96603e0d469fb9759bb028a1483715-56335b8789950843-01 outer:exit 2b-20c810788d96603e0d469fb9759bb028a1483715-216c3b42671f1bc1-01
2022-04-20T15:27:58.689Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:27:58.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b8bbb7202e78cd3ff2254fe702f55daa8a75518-648260e92d030b43-01 outer:exit 2b-1b8bbb7202e78cd3ff2254fe702f55daa8a75518-a012e35fd261e5a0-01
2022-04-20T15:27:58.700Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:27:58.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-30c7252defc4fd6ae9c8cf52a9ed5c53bef6023a-27a8b13e692bbf8d-01 outer:exit 2b-30c7252defc4fd6ae9c8cf52a9ed5c53bef6023a-cb1e41959ef8deee-01
2022-04-20T15:27:58.704Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:27:58.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-47a1c491d6e3aeea2b4734bcf6452851797291e6-0b6f1389a4496085-01 outer:exit 2b-47a1c491d6e3aeea2b4734bcf6452851797291e6-ebb74c328784bb0a-01
2022-04-20T15:27:58.708Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:27:58.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-176a7806e3b33c054488588d3ab1326a27e27d8e-95e68231dc9563d2-01 outer:exit 2b-176a7806e3b33c054488588d3ab1326a27e27d8e-79826943a303b008-01
2022-04-20T15:27:58.711Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:27:58.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec6d4e720e3fbf18f7464c32f6588affe5bb852d-8370238479c45fc6-01 outer:exit 2b-ec6d4e720e3fbf18f7464c32f6588affe5bb852d-50f12367076f50e6-01
2022-04-20T15:27:58.714Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:27:58.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-24fb7736b784a76208df27778f0107aad7e55af7-a5cffaf9499b9b0d-01 outer:exit 2b-24fb7736b784a76208df27778f0107aad7e55af7-2cbadd3b4285ce77-01
2022-04-20T15:27:58.728Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:27:58.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5a0a26f40f210c5470f958c18690683c8b0801b-9ead36d5f2bce11f-01 outer:exit 2b-a5a0a26f40f210c5470f958c18690683c8b0801b-8b37e73551bc5940-01
2022-04-20T15:27:58.743Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:27:58.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-c739756530cea2050adfef47c92b47b1e331df05-6601d8eb950db0fc-01 outer:exit 2b-c739756530cea2050adfef47c92b47b1e331df05-3837451bd3ca32fc-01
2022-04-20T15:27:58.747Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:27:58.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-8227bae207f68852e8af5526390afaba80d11451-214054f25a6ec09e-01 outer:exit 2b-8227bae207f68852e8af5526390afaba80d11451-040adbc1957ccf83-01
2022-04-20T15:27:58.751Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:27:58.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce7f459d5bfa8d8559489515b8cea83d15430a8a-2892b9bbef3fecb5-01 outer:exit 2b-ce7f459d5bfa8d8559489515b8cea83d15430a8a-420d7ec4240c7827-01
2022-04-20T15:27:58.832Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:27:58.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f584b55412d4f1d746a13cc3d769706738419cc-4082ed1e63e8621b-01 outer:exit 2b-5f584b55412d4f1d746a13cc3d769706738419cc-27610dbca2ff74d9-01
2022-04-20T15:27:58.885Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (824ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.1
updated 1 package and audited 935 packages in 6.495s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:06.742Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:06.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:06.743Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:06.743Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:06.824Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:07.025Z appoptics:patching patched crypto 
2022-04-20T15:28:07.058Z appoptics:patching patched https 
2022-04-20T15:28:07.063Z appoptics:patching patched http 
2022-04-20T15:28:07.142Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:07.143Z appoptics:patching patched fs 
2022-04-20T15:28:07.162Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v14.19.1)
2022-04-20T15:28:07.169Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2022-04-20T15:28:07.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-31c88425a5a5faca3c6abc4fb96336e1ad523a4c-6cb0ac1bded74b37-01 outer:exit 2b-31c88425a5a5faca3c6abc4fb96336e1ad523a4c-9cf2f8840723c2ad-01
2022-04-20T15:28:07.244Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:07.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-495a61c96bd64bc6d735cfa51c7394c49bd370c8-68e286a8674779ae-01 outer:exit 2b-495a61c96bd64bc6d735cfa51c7394c49bd370c8-10d85c9aab77e3de-01
2022-04-20T15:28:07.299Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:07.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f762e3473300b06dbcfb9a959a1b5c019f65233-1776c1bd12392dff-01 outer:exit 2b-2f762e3473300b06dbcfb9a959a1b5c019f65233-6de40b81a2026e10-01
2022-04-20T15:28:07.304Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:07.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-54c04a77eac1a10a5722cf277504e57f2d19170e-f35ad18631a564d4-01 outer:exit 2b-54c04a77eac1a10a5722cf277504e57f2d19170e-a1d213849ea5dc2d-01
2022-04-20T15:28:07.308Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:07.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f66bd4a0e2de97388ba73eb601ec4465051bfde-9349da1d48529de6-01 outer:exit 2b-9f66bd4a0e2de97388ba73eb601ec4465051bfde-f8bd6e3a02c32b4b-01
2022-04-20T15:28:07.316Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:07.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8ef9dda02575a7ac32abc32b824661fa354f6f1-3ed9a8df8bb75a5c-01 outer:exit 2b-b8ef9dda02575a7ac32abc32b824661fa354f6f1-9a896c89fdc97589-01
2022-04-20T15:28:07.320Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:07.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cb902ddf4c997ccc7135315cb57455ac662c7e8-43e50047d331faec-01 outer:exit 2b-9cb902ddf4c997ccc7135315cb57455ac662c7e8-043df9f0bad3d280-01
2022-04-20T15:28:07.323Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:07.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f7379b0db4a7a92e23fc4c01bf4180e1e2e2e6f-3e0e244f1f8ecba5-01 outer:exit 2b-8f7379b0db4a7a92e23fc4c01bf4180e1e2e2e6f-632103f86147787b-01
2022-04-20T15:28:07.328Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:07.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0b109cc835de26dba9c8345c1b1acdc8c28f893-6044f86c71b32a61-01 outer:exit 2b-a0b109cc835de26dba9c8345c1b1acdc8c28f893-d27824c20ca77e50-01
2022-04-20T15:28:07.331Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:07.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e4e1a57ad907ce3ddda71ee22d3e157eb85d975-dd4c5afe4faf9d7f-01 outer:exit 2b-5e4e1a57ad907ce3ddda71ee22d3e157eb85d975-f769676124f5bd6d-01
2022-04-20T15:28:07.335Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:07.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e5e0277d6f458187fac48c2d0a12172975e2f91-e01a3c6e4c2f3aed-01 outer:exit 2b-2e5e0277d6f458187fac48c2d0a12172975e2f91-c5e0b47059b116bc-01
2022-04-20T15:28:07.340Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:07.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6996ce1f1c93600652fea10f2447e2671dd3b81-0c2ecd1b3ccb4c46-01 outer:exit 2b-d6996ce1f1c93600652fea10f2447e2671dd3b81-4abfdb7b4a13c3db-01
2022-04-20T15:28:07.347Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:07.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a016177178e54ecd3b36d8402da2fa1d02cbbb8-8eb600ed550406d9-01 outer:exit 2b-3a016177178e54ecd3b36d8402da2fa1d02cbbb8-1b288e2c573ceb0c-01
2022-04-20T15:28:07.368Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:07.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-655c82ed6e243d31651ad41aba673a9925602b9c-c8b18613c296e6ac-01 outer:exit 2b-655c82ed6e243d31651ad41aba673a9925602b9c-b7c311c530b9fde1-01
2022-04-20T15:28:07.417Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:07.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-d51d65c05cf1c05193c16c173acb8362f5515882-037e2fc5da3b397a-01 outer:exit 2b-d51d65c05cf1c05193c16c173acb8362f5515882-d8619aab4c1a8417-01
2022-04-20T15:28:07.423Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:07.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-69c3fd8310b4af76d6293345638d57a28f75eb38-a95b27e6c93d3257-01 outer:exit 2b-69c3fd8310b4af76d6293345638d57a28f75eb38-d75578c7f31acf02-01
2022-04-20T15:28:07.427Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:07.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e401dd7256d407448c866adc5c92128d68618e1-044678d933895001-01 outer:exit 2b-2e401dd7256d407448c866adc5c92128d68618e1-382699adb450fad6-01
2022-04-20T15:28:07.431Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:07.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-1db25dad419e4e4497a5d2d8940d4d0fab034860-16a979ec62f97cad-01 outer:exit 2b-1db25dad419e4e4497a5d2d8940d4d0fab034860-0a97e863b8365f29-01
2022-04-20T15:28:07.435Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:07.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-33cc8157b47253684ab0b310ffdf828937321cca-dac1944ce5c11b24-01 outer:exit 2b-33cc8157b47253684ab0b310ffdf828937321cca-4b20d29496fd9bd4-01
2022-04-20T15:28:07.438Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:07.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2d77b8c786f0c9c70f5a2ca5a2fd2aa4119b843-e1b7284deaeeb6cb-01 outer:exit 2b-c2d77b8c786f0c9c70f5a2ca5a2fd2aa4119b843-3586ec35c5c4c75c-01
2022-04-20T15:28:07.445Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:07.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-c12154f917e63624a1716f15d178dcfdc75eaf67-71bdea0af6a9fafa-01 outer:exit 2b-c12154f917e63624a1716f15d178dcfdc75eaf67-db73322062ecb353-01
2022-04-20T15:28:07.451Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:07.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-61e8e47013bda34cf427cca94a4bf26402516f81-074849106d3d8054-01 outer:exit 2b-61e8e47013bda34cf427cca94a4bf26402516f81-716031afd3d6856d-01
2022-04-20T15:28:07.454Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:07.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8dcd4ef27c234ef5e478ff927ab69fee66947b2-a2f3f42019c617bf-01 outer:exit 2b-d8dcd4ef27c234ef5e478ff927ab69fee66947b2-027078dc11bd2c4c-01
2022-04-20T15:28:07.459Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:07.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc701c31bbb46c3f3ef31bc2ae0ec9c8e0ff90ca-1834d9cde35285e5-01 outer:exit 2b-dc701c31bbb46c3f3ef31bc2ae0ec9c8e0ff90ca-e5694590cc3c54b0-01
2022-04-20T15:28:07.462Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:07.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-775951a7a57a91ae49370ec3ccac6999a3637d0b-aa9ae86aa53e55de-01 outer:exit 2b-775951a7a57a91ae49370ec3ccac6999a3637d0b-79781aa7dc08b470-01
2022-04-20T15:28:07.466Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:07.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-a770bd69fc0edae0b11adba2301cecf8c58e58c2-79a5c7c91b3a8863-01 outer:exit 2b-a770bd69fc0edae0b11adba2301cecf8c58e58c2-61b305fcfc217c5e-01
2022-04-20T15:28:07.469Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:07.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-f234e3eb8d408e9eb1420f0d06f9adf85a0874cf-11905d2cf983f05a-01 outer:exit 2b-f234e3eb8d408e9eb1420f0d06f9adf85a0874cf-4b89846b5895a3b9-01
2022-04-20T15:28:07.476Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:07.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-162eb62c6410457396d4b905be851dda8204ae84-95483a81216edd4f-01 outer:exit 2b-162eb62c6410457396d4b905be851dda8204ae84-1740b4faac7c9b80-01
2022-04-20T15:28:07.482Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:07.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b2add5447543aef07d35917f734af9ac082dac9-db62b150e5ecf5bc-01 outer:exit 2b-9b2add5447543aef07d35917f734af9ac082dac9-36aeeacd25d61d5f-01
2022-04-20T15:28:07.494Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:07.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-3667302696ad95237a42ae54fe870656b8087fe7-93f2f12b74acb642-01 outer:exit 2b-3667302696ad95237a42ae54fe870656b8087fe7-429992405215500b-01
2022-04-20T15:28:07.503Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:07.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-81f5f47c5caec4591203b3ea8e82a4eab7eda48b-d1583b32173dc0f0-01 outer:exit 2b-81f5f47c5caec4591203b3ea8e82a4eab7eda48b-09cefcd91d2ca12a-01
2022-04-20T15:28:07.506Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:07.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ece7bbae2df3bd86a6357c5bee74b7a59f5d238-6f8605bc0eba5346-01 outer:exit 2b-5ece7bbae2df3bd86a6357c5bee74b7a59f5d238-89c48565e124c10e-01
2022-04-20T15:28:07.511Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:07.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d4dc5144a9ea294d92f9713940529eb3f69f5ce-533565e60c380ac6-01 outer:exit 2b-8d4dc5144a9ea294d92f9713940529eb3f69f5ce-6369a50aa7783438-01
2022-04-20T15:28:07.523Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:07.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-05d33b58dac821e1fbdeeb6a98205638de0865b3-50d388ac86fa7c17-01 outer:exit 2b-05d33b58dac821e1fbdeeb6a98205638de0865b3-b6c25f35adae0add-01
2022-04-20T15:28:07.525Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:07.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-68cf6a3af9d382281739819359d3135aaf59c7d5-3ab213f03641a194-01 outer:exit 2b-68cf6a3af9d382281739819359d3135aaf59c7d5-63f2ec6aba5c714f-01
2022-04-20T15:28:07.528Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:07.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-56b412fe9f66acbdc0095ff5e3f0e0e7915a70e5-615cc8b60f83f622-01 outer:exit 2b-56b412fe9f66acbdc0095ff5e3f0e0e7915a70e5-a37a9643d99b5e72-01
2022-04-20T15:28:07.531Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:07.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-76812879d8a07ae610cdb8be711850e66f2efa75-8a5c1ef379874960-01 outer:exit 2b-76812879d8a07ae610cdb8be711850e66f2efa75-cc55a154d25ecec2-01
2022-04-20T15:28:07.533Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:07.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-349d9d6de2dfd9ca66c08fde3d1f3ac50683431c-5f9f320df9ba571b-01 outer:exit 2b-349d9d6de2dfd9ca66c08fde3d1f3ac50683431c-790481d0b80f5cec-01
2022-04-20T15:28:07.536Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:07.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-452764d092f1824b9a271450e0cbe3acc811a80c-348e816bc6b4295e-01 outer:exit 2b-452764d092f1824b9a271450e0cbe3acc811a80c-46172c03bd8d2dd2-01
2022-04-20T15:28:07.549Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:07.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1ebec4a74c837ef311b2d949addab3661ec8fbe-145527ee86d9c3a0-01 outer:exit 2b-b1ebec4a74c837ef311b2d949addab3661ec8fbe-7d51e13180883a20-01
2022-04-20T15:28:07.571Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:07.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-994a954b47b3c606d2842e3b4057d89d294860cc-5d2a28634aa13956-01 outer:exit 2b-994a954b47b3c606d2842e3b4057d89d294860cc-16feae0dc51e742c-01
2022-04-20T15:28:07.576Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:07.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-311f84ffc415935a1bb2de56855f0b6c212fe1a7-246b11b971d5ca58-01 outer:exit 2b-311f84ffc415935a1bb2de56855f0b6c212fe1a7-07d45d4f0feefc07-01
2022-04-20T15:28:07.580Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:07.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-d06f1b51192297a4d953a2079bddc084be66fcc8-0d57be46f30d792b-01 outer:exit 2b-d06f1b51192297a4d953a2079bddc084be66fcc8-b7ef976b5cd08c8c-01
2022-04-20T15:28:07.584Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:07.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-eeb3bf3d57999b1ef989927534175ad7e107cd26-a0b807862e543e5b-01 outer:exit 2b-eeb3bf3d57999b1ef989927534175ad7e107cd26-a3a453f6bac5156b-01
2022-04-20T15:28:07.620Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (442ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.2
updated 1 package and audited 935 packages in 6.293s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:15.590Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:15.591Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:15.591Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:15.594Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:15.693Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:15.902Z appoptics:patching patched crypto 
2022-04-20T15:28:15.926Z appoptics:patching patched https 
2022-04-20T15:28:15.926Z appoptics:patching patched http 
2022-04-20T15:28:15.984Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:15.984Z appoptics:patching patched fs 
2022-04-20T15:28:16.002Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v14.19.1)
2022-04-20T15:28:16.010Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2022-04-20T15:28:16.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-41d6f54e6331cf5e71a8c9ffab0d819532d3f242-2174244d92973566-01 outer:exit 2b-41d6f54e6331cf5e71a8c9ffab0d819532d3f242-f90cd68cd7757bec-01
2022-04-20T15:28:16.066Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:16.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-93f9c22580ef979c097f10da28c9314a51472bf5-95dbb84acbec0e6c-01 outer:exit 2b-93f9c22580ef979c097f10da28c9314a51472bf5-b6258f4f87df26fa-01
2022-04-20T15:28:16.124Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:16.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-da1db8c892f18387ced607b0d2b85fe6ff5a5114-0565a817c4c0aa56-01 outer:exit 2b-da1db8c892f18387ced607b0d2b85fe6ff5a5114-84bf7fb35064c62c-01
2022-04-20T15:28:16.128Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:16.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc18b2e1be892900fbaf5da3b8ae12f8d48b9615-f588356ceefbde93-01 outer:exit 2b-dc18b2e1be892900fbaf5da3b8ae12f8d48b9615-955bdd91a9230bbd-01
2022-04-20T15:28:16.132Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:16.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c07d9120b98ce4cc1e096c3b9ade1c75474eccd-54f87cd6cdf1db90-01 outer:exit 2b-5c07d9120b98ce4cc1e096c3b9ade1c75474eccd-6a36251d8c674e33-01
2022-04-20T15:28:16.138Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:16.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b89ec3045de2d6ca045ffa120e4f3b793448ada-04f3e48474d3c878-01 outer:exit 2b-3b89ec3045de2d6ca045ffa120e4f3b793448ada-4008ba391c7eca90-01
2022-04-20T15:28:16.143Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:16.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf327f4110bd1db661830980ee41082c465c5067-38c574d1c72f1218-01 outer:exit 2b-bf327f4110bd1db661830980ee41082c465c5067-a050856214788375-01
2022-04-20T15:28:16.146Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:16.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-693d141b7ff0f181ae2632d3910363df07061fac-cce37fde63c6b70e-01 outer:exit 2b-693d141b7ff0f181ae2632d3910363df07061fac-9d642ceaa5933f4c-01
2022-04-20T15:28:16.149Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:16.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-973f60f8c57e197d200bef1e7eb38dd79afddbba-63e6b082df7c82c7-01 outer:exit 2b-973f60f8c57e197d200bef1e7eb38dd79afddbba-a7050865d6468201-01
2022-04-20T15:28:16.153Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:16.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-04416e8a457cbab09e1f4d73874c5e5f515fbf71-4d2b02c91cf5d520-01 outer:exit 2b-04416e8a457cbab09e1f4d73874c5e5f515fbf71-8313c3cbd18b4fce-01
2022-04-20T15:28:16.157Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:16.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-acf0e51033322ca3515a1b1f21352c4e667a42ee-38f5781a3dad2b98-01 outer:exit 2b-acf0e51033322ca3515a1b1f21352c4e667a42ee-eb9b797d80b06671-01
2022-04-20T15:28:16.163Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:16.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-b83fb8879cebaeb288cc7eaf30f60a62db173ba2-fca7352a39fa76a8-01 outer:exit 2b-b83fb8879cebaeb288cc7eaf30f60a62db173ba2-a3ad1a1f4eb69696-01
2022-04-20T15:28:16.173Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:16.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-83db628f55c0855c7ba5803ec14452daad3cd279-b780b966f28e24fb-01 outer:exit 2b-83db628f55c0855c7ba5803ec14452daad3cd279-2f2d97f8fe589a55-01
2022-04-20T15:28:16.196Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:16.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-3342a9e8bed68498f14cb050b8ef142a80934b5f-b65425894b7d6333-01 outer:exit 2b-3342a9e8bed68498f14cb050b8ef142a80934b5f-2b6d89418ef3b775-01
2022-04-20T15:28:16.253Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:16.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-db11b63f77750f7d3edd101edf27513df87107ca-1f6559db299c07a0-01 outer:exit 2b-db11b63f77750f7d3edd101edf27513df87107ca-9ffaf959cda8868d-01
2022-04-20T15:28:16.260Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:16.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a8ff35e435d2a387b2ee28621dec20d643ac4e5-97b4a8c12821765c-01 outer:exit 2b-4a8ff35e435d2a387b2ee28621dec20d643ac4e5-b467b6aae796307b-01
2022-04-20T15:28:16.264Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:16.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dc61199cfbc4cd0cdc86e92458d15a84afb4996-1f196bd40dc9af64-01 outer:exit 2b-7dc61199cfbc4cd0cdc86e92458d15a84afb4996-eb5ec364ef21406a-01
2022-04-20T15:28:16.268Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:16.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9cb7a04d8d461b98306f0ee5c46cd9d0f3690d4-9927946d113c5c78-01 outer:exit 2b-d9cb7a04d8d461b98306f0ee5c46cd9d0f3690d4-74aab8435f890891-01
2022-04-20T15:28:16.271Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:16.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-8560b422a21af3d1866578b42d9bdcf6790f885f-03a24bb259961038-01 outer:exit 2b-8560b422a21af3d1866578b42d9bdcf6790f885f-eb0432177c8186d2-01
2022-04-20T15:28:16.274Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:16.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d386e7c20c5712ac18b6cb0565aaf90dea12f8b-37cdb32aea3216ee-01 outer:exit 2b-2d386e7c20c5712ac18b6cb0565aaf90dea12f8b-a4b7b500b0799d1f-01
2022-04-20T15:28:16.286Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:16.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfe5a78ba31296f6ef6bf816ab99eb5c5e8e7b6f-b1fb0eac7dbda696-01 outer:exit 2b-dfe5a78ba31296f6ef6bf816ab99eb5c5e8e7b6f-2ccb9d27965d0000-01
2022-04-20T15:28:16.291Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:16.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecb594109b039cce3d58b0f9164cb3e9b105ad63-23b976739c03cb12-01 outer:exit 2b-ecb594109b039cce3d58b0f9164cb3e9b105ad63-461344e8dca01156-01
2022-04-20T15:28:16.293Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:16.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-7df88d88a696b5bff21e9a5af905e2a9b6dfa457-f6b5d91568eca783-01 outer:exit 2b-7df88d88a696b5bff21e9a5af905e2a9b6dfa457-ba69a3adcc325767-01
2022-04-20T15:28:16.298Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:16.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-abb185f7b5e87b994ae6a7bf79d9f83cf8621d24-5f3ab1375b5a94a3-01 outer:exit 2b-abb185f7b5e87b994ae6a7bf79d9f83cf8621d24-f3d790af56ee7551-01
2022-04-20T15:28:16.302Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:16.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f200c6bd765308414df311797d8cd6e3b81bd11-a9865f0f3f15810d-01 outer:exit 2b-8f200c6bd765308414df311797d8cd6e3b81bd11-2d5a27bdb3def5a7-01
2022-04-20T15:28:16.306Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:16.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ec66cf75f57a20a22182e20af71ed8e36517a9d-e6718bdffeca2c75-01 outer:exit 2b-1ec66cf75f57a20a22182e20af71ed8e36517a9d-cd9a51df4f486700-01
2022-04-20T15:28:16.310Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:16.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebcb027e98ed307ec412f031288255e9b8312b96-c25b605deb545e69-01 outer:exit 2b-ebcb027e98ed307ec412f031288255e9b8312b96-46b33409361e6a67-01
2022-04-20T15:28:16.319Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:16.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-c305bc765a226835fed50a7c72e54c4e67d0c454-0c4a62b6159cd3bd-01 outer:exit 2b-c305bc765a226835fed50a7c72e54c4e67d0c454-e2aa9440abc4cfac-01
2022-04-20T15:28:16.329Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:16.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-70e4e751003a5988ad40f8fda55e31a90e64afa1-b4e71e5eaf53be2c-01 outer:exit 2b-70e4e751003a5988ad40f8fda55e31a90e64afa1-a41bfca3ac7f863a-01
2022-04-20T15:28:16.340Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:16.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e4185a1f5921ea5514bbb68480697b95b7de7ea-8bd3bf1c5245dcca-01 outer:exit 2b-4e4185a1f5921ea5514bbb68480697b95b7de7ea-d3214c6e1a6a3103-01
2022-04-20T15:28:16.349Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:16.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-c05ccaecbe8f6d6907275fff5f532f2741fb06cf-1a1e11ac26b331be-01 outer:exit 2b-c05ccaecbe8f6d6907275fff5f532f2741fb06cf-27ed220c57ae59d8-01
2022-04-20T15:28:16.352Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:16.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ae3f742b6dfac1b1f6707aff532ba998abf9f1b-d0e804561516d9d4-01 outer:exit 2b-4ae3f742b6dfac1b1f6707aff532ba998abf9f1b-994bd83343754cd0-01
2022-04-20T15:28:16.356Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:16.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-236a85e2f48c572c3924447c3fff7e32a691e667-0c997a7b7c104cf0-01 outer:exit 2b-236a85e2f48c572c3924447c3fff7e32a691e667-100b67d1eeba8c1b-01
2022-04-20T15:28:16.367Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:16.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cada56c79a0dc8706e3bfd63917aa8a7cc93d8e-1e57dec9d58efcf4-01 outer:exit 2b-2cada56c79a0dc8706e3bfd63917aa8a7cc93d8e-d2d905ece5b9cbb1-01
2022-04-20T15:28:16.369Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:16.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-e431e9a0d09f4ca2bde5c1454dc340715df66931-72066000de14ca9c-01 outer:exit 2b-e431e9a0d09f4ca2bde5c1454dc340715df66931-c1b97a10cdcd1b56-01
2022-04-20T15:28:16.372Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:16.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e95ef41326921e0286c60e5985856135f6e5078-3a9315ab01b93544-01 outer:exit 2b-7e95ef41326921e0286c60e5985856135f6e5078-1ec8320805d36fe6-01
2022-04-20T15:28:16.378Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:16.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad28514a08500c0342bd01b8bf1fc6211763ddc9-3f84ebb7b5cce706-01 outer:exit 2b-ad28514a08500c0342bd01b8bf1fc6211763ddc9-54182c00dbd37686-01
2022-04-20T15:28:16.382Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:16.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-496557e6a0c7898952faa6e5ff6b44caf2689436-c859fde4ca02ba48-01 outer:exit 2b-496557e6a0c7898952faa6e5ff6b44caf2689436-942c880727b72c91-01
2022-04-20T15:28:16.386Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:16.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a8fd15f723d0ee45b3ff9eb5ac986105376dcb1-7dcd7b3945fc34df-01 outer:exit 2b-2a8fd15f723d0ee45b3ff9eb5ac986105376dcb1-6a655277b8220fa7-01
2022-04-20T15:28:16.398Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:16.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-4937bfaecf6b0380e98608173643d37db7465340-29fcf5c3aef5b017-01 outer:exit 2b-4937bfaecf6b0380e98608173643d37db7465340-00565406e3f784d7-01
2022-04-20T15:28:16.409Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:16.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-641f0a9dd507f22c3174200c1fc86f8a43983039-657e590472d26b15-01 outer:exit 2b-641f0a9dd507f22c3174200c1fc86f8a43983039-bae4030c1c0215da-01
2022-04-20T15:28:16.413Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:16.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-86d81acced022518754916d8b1de7f08bf436bc1-b36c601d18ab3428-01 outer:exit 2b-86d81acced022518754916d8b1de7f08bf436bc1-fa74aec1819ddb27-01
2022-04-20T15:28:16.417Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:16.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c095c5ead867f5aff7da0705c9e46ae8ae5e47f-ef8abdc4e44a734e-01 outer:exit 2b-4c095c5ead867f5aff7da0705c9e46ae8ae5e47f-731106392ecf610f-01
2022-04-20T15:28:16.420Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:16.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-5532893d2b1397d2c3f192d75c9cb1c73acd3cb5-49a5b8ac80f403c0-01 outer:exit 2b-5532893d2b1397d2c3f192d75c9cb1c73acd3cb5-191895e19af842cf-01
2022-04-20T15:28:16.461Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (443ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.3
updated 1 package and audited 935 packages in 6.116s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:23.815Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:23.816Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:23.816Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:23.816Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:23.919Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:24.198Z appoptics:patching patched crypto 
2022-04-20T15:28:24.260Z appoptics:patching patched https 
2022-04-20T15:28:24.261Z appoptics:patching patched http 
2022-04-20T15:28:24.315Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:24.315Z appoptics:patching patched fs 
2022-04-20T15:28:24.334Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v14.19.1)
2022-04-20T15:28:24.341Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2022-04-20T15:28:24.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-04e5150f948862b9728e1360f6bc8afca9015823-adc858b951ea35f3-01 outer:exit 2b-04e5150f948862b9728e1360f6bc8afca9015823-3950e3a2374318e9-01
2022-04-20T15:28:24.402Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:24.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5593f190d87faef6c6532cfc72912f8b1dde31a-e968aee4f79e4c2f-01 outer:exit 2b-b5593f190d87faef6c6532cfc72912f8b1dde31a-e42031c8f4dc4494-01
2022-04-20T15:28:24.469Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:24.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-a06043f0938df176af265b469056db9fac54d001-35ac6e5bf3143dcd-01 outer:exit 2b-a06043f0938df176af265b469056db9fac54d001-c131612c64b4a8b7-01
2022-04-20T15:28:24.475Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:24.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-e18e507fb4196e3f634f8b337b24a17405a37b99-379b4ca74229001d-01 outer:exit 2b-e18e507fb4196e3f634f8b337b24a17405a37b99-6b392256acd3c5bd-01
2022-04-20T15:28:24.483Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:24.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb949fb6d88d58bae68fb31c790daf8a8e986349-4b694ae7e8accb09-01 outer:exit 2b-eb949fb6d88d58bae68fb31c790daf8a8e986349-f1fe6fd5eb180b63-01
2022-04-20T15:28:24.489Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:24.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9271d7c650dbab6c9ab1615bf83ed495c84d545-5e930abbd01a580d-01 outer:exit 2b-b9271d7c650dbab6c9ab1615bf83ed495c84d545-769564b0e78c803c-01
2022-04-20T15:28:24.493Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:24.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ddb36447c15e30a3f6ad4aaecf253812ffade99-1dfe8416f246468b-01 outer:exit 2b-9ddb36447c15e30a3f6ad4aaecf253812ffade99-f1ff9e9c42973de3-01
2022-04-20T15:28:24.499Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:24.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2fbc8d4508431051b4831fc3c0b773fd8a66a06-18f448880d3de01e-01 outer:exit 2b-c2fbc8d4508431051b4831fc3c0b773fd8a66a06-a207c906f371a0b1-01
2022-04-20T15:28:24.505Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:24.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-843fe9542607435b5b215b9147fa8e8af48d7e39-0c1cf5db0860af17-01 outer:exit 2b-843fe9542607435b5b215b9147fa8e8af48d7e39-634cb6cfe1c6467a-01
2022-04-20T15:28:24.511Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:24.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-47c36273ed267cfdb7b2b7d1b1841cce1772e966-856b0b6c1c45dea2-01 outer:exit 2b-47c36273ed267cfdb7b2b7d1b1841cce1772e966-88a80a720d216526-01
2022-04-20T15:28:24.515Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:24.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b303a8567be52035e1cc576a8bb69e40ef66261-8864dcaba02dffaf-01 outer:exit 2b-1b303a8567be52035e1cc576a8bb69e40ef66261-0d5f7ea704e23cb2-01
2022-04-20T15:28:24.523Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:24.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7be0bb2066e94697db5797cdf89c47278b1e33a-fd0fe10b0a3c4803-01 outer:exit 2b-c7be0bb2066e94697db5797cdf89c47278b1e33a-9cc0616e27d6d0d4-01
2022-04-20T15:28:24.531Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:24.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-055f3167c91d0205e008c046208beb507b802234-b712c60dcb682220-01 outer:exit 2b-055f3167c91d0205e008c046208beb507b802234-f379dd96d0dcb49b-01
2022-04-20T15:28:24.554Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:24.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-4960821d768379366d83beffaea1fc16855f2f16-914734335d163a78-01 outer:exit 2b-4960821d768379366d83beffaea1fc16855f2f16-1b3b309f5f88fba1-01
2022-04-20T15:28:24.628Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:24.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-e44446316a13cc3f1cbc2ac47c27e518d8076391-63907ccc801d32e7-01 outer:exit 2b-e44446316a13cc3f1cbc2ac47c27e518d8076391-e62e3b7654625abb-01
2022-04-20T15:28:24.632Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:24.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f7b125207313e3277f28cb20fcdc2a91627370a-6bf1419e207791da-01 outer:exit 2b-3f7b125207313e3277f28cb20fcdc2a91627370a-f4d3f3d8ee7ae92b-01
2022-04-20T15:28:24.637Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:24.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-4da3d48391934e1fc397714a38ff026bc00af3db-8094d3fc057b8cc8-01 outer:exit 2b-4da3d48391934e1fc397714a38ff026bc00af3db-e19d5af48cbb06b2-01
2022-04-20T15:28:24.641Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:24.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-0839fbc43c3d896cc1c2661ca6d627dababd4b2d-8de1d80e69004ad4-01 outer:exit 2b-0839fbc43c3d896cc1c2661ca6d627dababd4b2d-9e064c908cd1d5f0-01
2022-04-20T15:28:24.644Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:24.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-20742e578544044222f5ef4e781fddd425a00c2d-24d15b647cd1e077-01 outer:exit 2b-20742e578544044222f5ef4e781fddd425a00c2d-801b7cb4407b5ef2-01
2022-04-20T15:28:24.651Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:24.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e1db5e442e6076515dfae3c22cf62e9b47df5ee-4942425f59916043-01 outer:exit 2b-1e1db5e442e6076515dfae3c22cf62e9b47df5ee-3ca3d227969812f6-01
2022-04-20T15:28:24.658Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:24.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fa7282460712138b57c1da328a378f0a5d0c2bc-ba93544698c652f7-01 outer:exit 2b-3fa7282460712138b57c1da328a378f0a5d0c2bc-e87db5dd7ef1cb53-01
2022-04-20T15:28:24.663Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:24.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-677a68ff53992e0bc8ebe3c801a63be5fd9c2a35-0ac8987af5da5e7f-01 outer:exit 2b-677a68ff53992e0bc8ebe3c801a63be5fd9c2a35-9324b4001a8b3cba-01
2022-04-20T15:28:24.665Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:24.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-54f9480e389f4c3b4e68e6d09c938358ded90589-18484c0905f56ea3-01 outer:exit 2b-54f9480e389f4c3b4e68e6d09c938358ded90589-4323ba05f648625c-01
2022-04-20T15:28:24.679Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:24.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea4895c2a9fcc1c869fb8eef958a90e659f911c8-df83d407e32427dc-01 outer:exit 2b-ea4895c2a9fcc1c869fb8eef958a90e659f911c8-5c5499a8818db937-01
2022-04-20T15:28:24.683Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:24.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-b557cc5921ede4ac30c5021d89b4ca17dc88c599-82a9c62439fc83c7-01 outer:exit 2b-b557cc5921ede4ac30c5021d89b4ca17dc88c599-1fa89c0565adc417-01
2022-04-20T15:28:24.686Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:24.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-1afc93c8ecf97ae50e4acb3c6f0cf255fbe8b6b6-dafb8f44b2ad5924-01 outer:exit 2b-1afc93c8ecf97ae50e4acb3c6f0cf255fbe8b6b6-a8265995cdcce2ca-01
2022-04-20T15:28:24.692Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:24.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a56e63de1e37b8e384d4d31fa9813963c85e9de-36373ddf12a82ee5-01 outer:exit 2b-3a56e63de1e37b8e384d4d31fa9813963c85e9de-60e29ce2d51bfab8-01
2022-04-20T15:28:24.705Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:24.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-6929b5e77f3407b42a7e983e8ae7d7bc613123a7-2d1acbcfdc7259f5-01 outer:exit 2b-6929b5e77f3407b42a7e983e8ae7d7bc613123a7-573bc77a464e56b3-01
2022-04-20T15:28:24.712Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:24.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-bce30f9cb4056be84bff2813f46afab272cdaaa0-1f3b7e818551f514-01 outer:exit 2b-bce30f9cb4056be84bff2813f46afab272cdaaa0-58f428badac4ca78-01
2022-04-20T15:28:24.725Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:24.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb98c8d0f7c3f38c86eb0fd3896f8adc39eddc70-a78bd3316a26e8ff-01 outer:exit 2b-eb98c8d0f7c3f38c86eb0fd3896f8adc39eddc70-b906d511fec8705f-01
2022-04-20T15:28:24.734Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:24.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-866f15ab732998dd202c5d858768a1720202439e-1add92a88553431e-01 outer:exit 2b-866f15ab732998dd202c5d858768a1720202439e-87104562502a95b7-01
2022-04-20T15:28:24.737Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:24.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe8adbeb27366e2d001bfa341c13ba3e59785336-cec97bdec1d57f5c-01 outer:exit 2b-fe8adbeb27366e2d001bfa341c13ba3e59785336-97aef76316486947-01
2022-04-20T15:28:24.742Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:24.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ea86b1f12002fb436b6ce4b5e8a46793a1157f8-252a22b79c1e3270-01 outer:exit 2b-0ea86b1f12002fb436b6ce4b5e8a46793a1157f8-5617af3c9d6bbdb9-01
2022-04-20T15:28:24.751Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:24.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-99a21a14e6d5a80fe578b5ff6aa972160beb9d1f-09deed49d3add0c5-01 outer:exit 2b-99a21a14e6d5a80fe578b5ff6aa972160beb9d1f-72fac31fc1c6b29b-01
2022-04-20T15:28:24.753Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:24.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-f533289a9ca217fc9b2cc90db271fcbbbbaf6c74-43003384f9933022-01 outer:exit 2b-f533289a9ca217fc9b2cc90db271fcbbbbaf6c74-5fb7bd059b140d6b-01
2022-04-20T15:28:24.756Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:24.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cb672979e27eccebaa9d45998a173e8a8b47a06-6034740fe8e188b3-01 outer:exit 2b-0cb672979e27eccebaa9d45998a173e8a8b47a06-e9c6fbcea34b7353-01
2022-04-20T15:28:24.759Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:24.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee51c2569d958569940bed83b98ec5adf3dc744e-1c09b27e4cdaa1c8-01 outer:exit 2b-ee51c2569d958569940bed83b98ec5adf3dc744e-e38da4bbcb002c7f-01
2022-04-20T15:28:24.761Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:24.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-de9ac95ef44e53e45b424f9ed8d1bcec6aa6dfe6-da3f45b076807e9b-01 outer:exit 2b-de9ac95ef44e53e45b424f9ed8d1bcec6aa6dfe6-22ecfebc38de3584-01
2022-04-20T15:28:24.764Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:24.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-f040ef03833924616aa88acf3cd7b08fb3906393-baec029d426a87a9-01 outer:exit 2b-f040ef03833924616aa88acf3cd7b08fb3906393-16bbdb8b6ca134c0-01
2022-04-20T15:28:24.777Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:24.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-e75b767ff0eef23c379a7c202dc381b93d1fb88c-a9d816bd7c863f7a-01 outer:exit 2b-e75b767ff0eef23c379a7c202dc381b93d1fb88c-dade7a5b517ed9e4-01
2022-04-20T15:28:24.789Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:24.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-7befc6985010b87348146075cb10e358e7aa0120-22aa52cfbbe7d9db-01 outer:exit 2b-7befc6985010b87348146075cb10e358e7aa0120-36bcc8b863ae66fd-01
2022-04-20T15:28:24.805Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:24.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cfa502e2360cf2b3621223cb9579ef077e5dbe4-feec7c2876a2e995-01 outer:exit 2b-7cfa502e2360cf2b3621223cb9579ef077e5dbe4-5aa9701ba33c4e74-01
2022-04-20T15:28:24.813Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:24.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b264713692765c39fab4ff88652f698f93afbc3-18191beaa71247c9-01 outer:exit 2b-8b264713692765c39fab4ff88652f698f93afbc3-27a6f0ca13fc67d6-01
2022-04-20T15:28:24.818Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:24.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-11c7b949c8bfc0dc4584b7f746f2717266a19035-9986c25c07c32445-01 outer:exit 2b-11c7b949c8bfc0dc4584b7f746f2717266a19035-4338191f1a9f6500-01
2022-04-20T15:28:24.866Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (516ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.4
updated 1 package and audited 935 packages in 7.041s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:33.590Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:33.591Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:33.591Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:33.591Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:33.675Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:33.881Z appoptics:patching patched crypto 
2022-04-20T15:28:33.904Z appoptics:patching patched https 
2022-04-20T15:28:33.904Z appoptics:patching patched http 
2022-04-20T15:28:33.964Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:33.964Z appoptics:patching patched fs 
2022-04-20T15:28:33.981Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v14.19.1)
2022-04-20T15:28:33.988Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2022-04-20T15:28:34.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-3393b9c10a355fc613b1a50d13c377096148b683-24fcde427727c88a-01 outer:exit 2b-3393b9c10a355fc613b1a50d13c377096148b683-76c0a5aa33ee4c79-01
2022-04-20T15:28:34.057Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:34.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4ea768cf8c8c85a6eb31ffae02857cfed0d7ec1-c0b51d3974a57292-01 outer:exit 2b-c4ea768cf8c8c85a6eb31ffae02857cfed0d7ec1-f15999b8a60adbc4-01
2022-04-20T15:28:34.127Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:34.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-581387377b188736fba110b5f328deae78ed8181-55e7659845332cb1-01 outer:exit 2b-581387377b188736fba110b5f328deae78ed8181-a192a51affec6a19-01
2022-04-20T15:28:34.136Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:34.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-4612c98b7cd5fb466b88927d10e7b6891b1545f3-99b3350ebc857473-01 outer:exit 2b-4612c98b7cd5fb466b88927d10e7b6891b1545f3-3e92d8be98189fef-01
2022-04-20T15:28:34.140Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:34.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-606758951e9f73f85d3baff8e1d7f4af3382d9c6-4c57339ad8b97040-01 outer:exit 2b-606758951e9f73f85d3baff8e1d7f4af3382d9c6-baab9cea89ce4e43-01
2022-04-20T15:28:34.147Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:34.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-c852ed953c7801684f78b39b13754afd6fcbe9b7-222ea3e4abc862af-01 outer:exit 2b-c852ed953c7801684f78b39b13754afd6fcbe9b7-438540d5bdcc691e-01
2022-04-20T15:28:34.152Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:34.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-09245acdd1503425a769fee8358a043ff709ee41-dbca77ecd99fa131-01 outer:exit 2b-09245acdd1503425a769fee8358a043ff709ee41-357baed708a98b54-01
2022-04-20T15:28:34.155Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:34.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff520b1171fe197edcda37c79a56edb570a104c2-ea26b1793facda9f-01 outer:exit 2b-ff520b1171fe197edcda37c79a56edb570a104c2-d10359b4d36f8dda-01
2022-04-20T15:28:34.160Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:34.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b28dfc8820cbdd216c39a3a7397e726c7c1d9de-c71561973cd1b742-01 outer:exit 2b-8b28dfc8820cbdd216c39a3a7397e726c7c1d9de-3544dee140f98a1e-01
2022-04-20T15:28:34.163Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:34.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-48eb755eb12ef02db6165ec4015d3a07658f05e1-cccc9b62eed076de-01 outer:exit 2b-48eb755eb12ef02db6165ec4015d3a07658f05e1-c04dfe728656566a-01
2022-04-20T15:28:34.167Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:34.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-6925ac2c8913ee2bc2053fc6a6d5867752110e88-3974992fd9ac57ef-01 outer:exit 2b-6925ac2c8913ee2bc2053fc6a6d5867752110e88-e2a74b414afc6b06-01
2022-04-20T15:28:34.176Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:34.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c2b6820e710525844c0fe6d6348beddc55d133f-b279dc2142c5bd98-01 outer:exit 2b-2c2b6820e710525844c0fe6d6348beddc55d133f-3e45dd6efa1a705e-01
2022-04-20T15:28:34.184Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:34.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-290e3531f2356598a3e2676112e33b4b2a2462a0-2f8bd7948f20cd28-01 outer:exit 2b-290e3531f2356598a3e2676112e33b4b2a2462a0-3005bd41148c487f-01
2022-04-20T15:28:34.204Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:34.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-808edb8f6ba27c8ed762730bde0a8d6e55c1fe61-44d1a37e25eb19aa-01 outer:exit 2b-808edb8f6ba27c8ed762730bde0a8d6e55c1fe61-e5d2b5bc1fe221bb-01
2022-04-20T15:28:34.258Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:34.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-0acd6f447ac60c7ceb1e6712507f89a77f839b4c-8a6bc78967ff179a-01 outer:exit 2b-0acd6f447ac60c7ceb1e6712507f89a77f839b4c-81309d3435ced2db-01
2022-04-20T15:28:34.262Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:34.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd7e88fa9c75a247983816b9387e97f5eb1a8bb0-2ac40332ba7bd0e0-01 outer:exit 2b-cd7e88fa9c75a247983816b9387e97f5eb1a8bb0-825efc73b3113d1e-01
2022-04-20T15:28:34.265Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:34.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c4342376c5d68d9d293fa7770d937f6dc0fa652-89c78c6ff5914712-01 outer:exit 2b-5c4342376c5d68d9d293fa7770d937f6dc0fa652-2224a13b013d853b-01
2022-04-20T15:28:34.269Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:34.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-312cf330ca97ecb107df98948d1d39122da4585b-a5744a563b6108e7-01 outer:exit 2b-312cf330ca97ecb107df98948d1d39122da4585b-41ba77e7a3098682-01
2022-04-20T15:28:34.272Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:34.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-d281bba72c4c5a1970e80d0e12c72f3203a0e689-8cd9f58c46d80412-01 outer:exit 2b-d281bba72c4c5a1970e80d0e12c72f3203a0e689-c99483c524092a4c-01
2022-04-20T15:28:34.279Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:34.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bfdc9962585bbb6aa8dd103bf322b0a9f626d41-066379fa0db524ab-01 outer:exit 2b-4bfdc9962585bbb6aa8dd103bf322b0a9f626d41-016e42cd24a246ca-01
2022-04-20T15:28:34.283Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:34.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-619cb5ae6efdd3627a2e47b8a484f73f39bb4407-04d9c2f408904349-01 outer:exit 2b-619cb5ae6efdd3627a2e47b8a484f73f39bb4407-0b9427bbcb59e016-01
2022-04-20T15:28:34.285Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:34.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-99b8a86035da4b83a77e728a3f038a879970e479-db412455a376ff6e-01 outer:exit 2b-99b8a86035da4b83a77e728a3f038a879970e479-f04542fae9232202-01
2022-04-20T15:28:34.288Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:34.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-11ac3774ec6c968bb6282b649a7318a8a9d8efa7-83ddec3e19f9d850-01 outer:exit 2b-11ac3774ec6c968bb6282b649a7318a8a9d8efa7-dd0463f6e409a74a-01
2022-04-20T15:28:34.292Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:34.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-a01b04264e354a4e6aef0fd340ea6e46841e9616-1d44713ae79e5551-01 outer:exit 2b-a01b04264e354a4e6aef0fd340ea6e46841e9616-030e8443a9ff85d8-01
2022-04-20T15:28:34.296Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:34.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-7573be0b75126a10d339d2ccc0c69ecceb25bb72-1573b99f6fc03d2b-01 outer:exit 2b-7573be0b75126a10d339d2ccc0c69ecceb25bb72-7099e39970521580-01
2022-04-20T15:28:34.299Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:34.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-0990f97c79bf8a3972387d9ba7cc2346a6509e2f-b1cc15b3052dd986-01 outer:exit 2b-0990f97c79bf8a3972387d9ba7cc2346a6509e2f-a909bc6bc0bc1a57-01
2022-04-20T15:28:34.303Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:34.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dfcfc7e29c2e2c6805b708589861a8805e6b87b-10151a991b96a422-01 outer:exit 2b-6dfcfc7e29c2e2c6805b708589861a8805e6b87b-6187defc84a3ddfa-01
2022-04-20T15:28:34.310Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:34.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-45defafd407c16edac7f8b1263b6395642aa1178-8165ee54eb58343c-01 outer:exit 2b-45defafd407c16edac7f8b1263b6395642aa1178-9d96d55cecad9f76-01
2022-04-20T15:28:34.316Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:34.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eabbd9fea56f2dfaea53221d0186ee12811d31c-e2ed67c26817441f-01 outer:exit 2b-0eabbd9fea56f2dfaea53221d0186ee12811d31c-ed14b0b7282b4406-01
2022-04-20T15:28:34.329Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:34.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3c10c2123be29b9988bbd066609f50f283db1ec-9d9e80cc6955c989-01 outer:exit 2b-e3c10c2123be29b9988bbd066609f50f283db1ec-3c1eef4d77e2126f-01
2022-04-20T15:28:34.338Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:34.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-219688daa5376b248765d97d2b47d7cb81c2c409-1ba3905d40cef8ff-01 outer:exit 2b-219688daa5376b248765d97d2b47d7cb81c2c409-47d603e8dbc3b06c-01
2022-04-20T15:28:34.342Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:34.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-823e9e7759f339702b5add13fcec95648a2909bf-0f7eb912b9d60f4c-01 outer:exit 2b-823e9e7759f339702b5add13fcec95648a2909bf-480271cee6c8cb9c-01
2022-04-20T15:28:34.345Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:34.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-e519ffbf11c8d3a4fe77f4b68e40afcfd11788b6-9b58e1f234ad10e7-01 outer:exit 2b-e519ffbf11c8d3a4fe77f4b68e40afcfd11788b6-51d9ba7ba5278d42-01
2022-04-20T15:28:34.356Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:34.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-17899222278a9fca02fc85cc0bfad649f0d1e082-d66b5f73bb9b3221-01 outer:exit 2b-17899222278a9fca02fc85cc0bfad649f0d1e082-33981a548d8059a8-01
2022-04-20T15:28:34.358Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:34.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-b19c75a2c04fe8d952f2c36e38a4f186b8ead725-51eaac11467e8022-01 outer:exit 2b-b19c75a2c04fe8d952f2c36e38a4f186b8ead725-d44dc10fa543dc1e-01
2022-04-20T15:28:34.361Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:34.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fe9b03fadfaa7e6863c72e80b6d8b23da1e2279-93af676cf64129f1-01 outer:exit 2b-9fe9b03fadfaa7e6863c72e80b6d8b23da1e2279-09dc206569a05ee0-01
2022-04-20T15:28:34.364Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:34.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-1972c84971dfb5a67d0622e16e5447e76bede893-f0f3d481f3eae5c8-01 outer:exit 2b-1972c84971dfb5a67d0622e16e5447e76bede893-a4d0c47673265818-01
2022-04-20T15:28:34.367Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:34.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-fabbea4eb30494cc4d165c3920b433e72bef4018-6e2f2f5f735abfec-01 outer:exit 2b-fabbea4eb30494cc4d165c3920b433e72bef4018-46e36722d4bcea3e-01
2022-04-20T15:28:34.370Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:34.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4ff29b43e1ce9d42fa5f9f4e52c7ed122e8fca2-7df5621dae8a2a3a-01 outer:exit 2b-a4ff29b43e1ce9d42fa5f9f4e52c7ed122e8fca2-24733eebe7b560fc-01
2022-04-20T15:28:34.383Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:34.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-cedf98e5bb051da5e8fbe41bb77059a493616f68-f4b5dcc72dff8e20-01 outer:exit 2b-cedf98e5bb051da5e8fbe41bb77059a493616f68-c1313881e06865e9-01
2022-04-20T15:28:34.395Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:34.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-c07fdd8a57099c56cd99f855980443e1fe6e09ab-6c06dcd2fb434029-01 outer:exit 2b-c07fdd8a57099c56cd99f855980443e1fe6e09ab-029463fd0db1c349-01
2022-04-20T15:28:34.399Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:34.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-b211d2cec4a3d46e7694ab151f707e13a9d66f80-03522c530a847627-01 outer:exit 2b-b211d2cec4a3d46e7694ab151f707e13a9d66f80-d7f48aa1e98b6ede-01
2022-04-20T15:28:34.403Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:34.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-a785b080c344feac54525c20a3b4d42e459a56ca-c1eafce9d0c761a7-01 outer:exit 2b-a785b080c344feac54525c20a3b4d42e459a56ca-870aec7efa77de32-01
2022-04-20T15:28:34.407Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:34.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfc582cc862df0d5c2e2b9596c87d3d2fb57c287-d841c28a7f06e1d3-01 outer:exit 2b-dfc582cc862df0d5c2e2b9596c87d3d2fb57c287-d35944891833fc87-01
2022-04-20T15:28:34.460Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (464ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.5
updated 1 package and audited 935 packages in 7.06s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:42.815Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:42.816Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:42.816Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:42.817Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:42.899Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:43.110Z appoptics:patching patched crypto 
2022-04-20T15:28:43.134Z appoptics:patching patched https 
2022-04-20T15:28:43.134Z appoptics:patching patched http 
2022-04-20T15:28:43.196Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:43.197Z appoptics:patching patched fs 
2022-04-20T15:28:43.214Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v14.19.1)
2022-04-20T15:28:43.222Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2022-04-20T15:28:43.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cc9d2e7580ad8bf9ff7fdc109b867d382e72ce6-c45e57581c329c17-01 outer:exit 2b-0cc9d2e7580ad8bf9ff7fdc109b867d382e72ce6-61ce1afc28fd6e58-01
2022-04-20T15:28:43.304Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:43.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e4c0078d15426eb211a07923d1f5148469ffc5e-d2d1ea5a756ed3db-01 outer:exit 2b-0e4c0078d15426eb211a07923d1f5148469ffc5e-553f537117ce1fc6-01
2022-04-20T15:28:43.360Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:43.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-369c912a5dea27f8ba6e6da97b4f6c9682659f35-008a5fc508ff9191-01 outer:exit 2b-369c912a5dea27f8ba6e6da97b4f6c9682659f35-7b515a3b8fac0241-01
2022-04-20T15:28:43.365Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:43.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-94745388fda10ca353163e346acb59ed79cb094b-2bd649210ca10435-01 outer:exit 2b-94745388fda10ca353163e346acb59ed79cb094b-6ac2fc137ee58833-01
2022-04-20T15:28:43.369Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:43.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-05c5e6dd06b3361dcb084fce50964beb62f3a7c8-030dbdc9b1c726c9-01 outer:exit 2b-05c5e6dd06b3361dcb084fce50964beb62f3a7c8-ace57fb124ac6546-01
2022-04-20T15:28:43.379Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:43.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-4de2c8f393c9fae3b986e10b245a6294aa77fe16-a8abbe41db2ec611-01 outer:exit 2b-4de2c8f393c9fae3b986e10b245a6294aa77fe16-cb763d6defbcdd1c-01
2022-04-20T15:28:43.383Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:43.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-3137e612e9b48b0ea4da04eb53ccea1f4f62bcbc-99ef78b14efef603-01 outer:exit 2b-3137e612e9b48b0ea4da04eb53ccea1f4f62bcbc-d7d3ff8cc12ae18c-01
2022-04-20T15:28:43.387Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:43.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d9e60f947debe21e5e391fc95bbc6b13bb226e1-da9614686c761086-01 outer:exit 2b-9d9e60f947debe21e5e391fc95bbc6b13bb226e1-5cc425a86df771c7-01
2022-04-20T15:28:43.390Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:43.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d379e953b16071da22847b88995a977eccfc702-8768f544de8ca7a9-01 outer:exit 2b-4d379e953b16071da22847b88995a977eccfc702-bdccb57d2ac75909-01
2022-04-20T15:28:43.393Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:43.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-41007509e5fbb3e448d0ff12aedaed947106ea45-53e057f2121a015f-01 outer:exit 2b-41007509e5fbb3e448d0ff12aedaed947106ea45-e6e05b298456445d-01
2022-04-20T15:28:43.397Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:43.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-59bac2fbc1228edaead4df298e2bc234b01a4dfe-13e8347d82e9e2d4-01 outer:exit 2b-59bac2fbc1228edaead4df298e2bc234b01a4dfe-dc1943939aa6a19b-01
2022-04-20T15:28:43.402Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:43.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-27cc0dc02c8c329a1988aa9002a2c239c2021f63-4aeb9529200b973b-01 outer:exit 2b-27cc0dc02c8c329a1988aa9002a2c239c2021f63-74c1fe44bfa844b5-01
2022-04-20T15:28:43.410Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:43.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ed57f68e6776e36e82fe58a26c4a35116a285a1-f665bc88cb96614d-01 outer:exit 2b-7ed57f68e6776e36e82fe58a26c4a35116a285a1-4edadb5973e67710-01
2022-04-20T15:28:43.428Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:43.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3bf228427bd10a73066920dda49791656588ca7-8b111551294ffde7-01 outer:exit 2b-a3bf228427bd10a73066920dda49791656588ca7-7a055341116d2d92-01
2022-04-20T15:28:43.477Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:43.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-b05ed6fcf8c482fd3139d0131d8a7510a821b023-b13b515731243a64-01 outer:exit 2b-b05ed6fcf8c482fd3139d0131d8a7510a821b023-5039196fec27801e-01
2022-04-20T15:28:43.494Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:43.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-d116d48d719fa85d5d02fe376a00e795fe2001c5-77b381a1354a58e7-01 outer:exit 2b-d116d48d719fa85d5d02fe376a00e795fe2001c5-94917e27a344aa21-01
2022-04-20T15:28:43.505Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:43.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-15d13ef9f2c19255284c059adc46cdb20798c6a6-a59ee21d1bda6712-01 outer:exit 2b-15d13ef9f2c19255284c059adc46cdb20798c6a6-25d30378ff2ad240-01
2022-04-20T15:28:43.509Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:43.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1efb61f3152ce617469c1c8b9030234cf7ab3f5-d2331c95c0947705-01 outer:exit 2b-b1efb61f3152ce617469c1c8b9030234cf7ab3f5-eab4275a793898aa-01
2022-04-20T15:28:43.512Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:43.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-fee7fba5fcb6e7f57cc0e12494ff0c01b845fc4c-b93830e661242f60-01 outer:exit 2b-fee7fba5fcb6e7f57cc0e12494ff0c01b845fc4c-cbd88dd5c332e42c-01
2022-04-20T15:28:43.519Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:43.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-71f2583e356202f174725587282d067a43883541-23754c55cea712e3-01 outer:exit 2b-71f2583e356202f174725587282d067a43883541-26f7551beb96f2ae-01
2022-04-20T15:28:43.522Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:43.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c1214ed68cf348d5a2252da7a4db00db03726a8-eff4fd6264a98627-01 outer:exit 2b-4c1214ed68cf348d5a2252da7a4db00db03726a8-9c8863d5f93927c7-01
2022-04-20T15:28:43.525Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:43.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-a07ec74d99d25702cb66b465b3207e18786a336e-21030eae25e0a93e-01 outer:exit 2b-a07ec74d99d25702cb66b465b3207e18786a336e-e2580c28a97b19ba-01
2022-04-20T15:28:43.527Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:43.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-07ec5f2b37ad50db4769c8b51649f3888d38a0da-1a379a02731ec44b-01 outer:exit 2b-07ec5f2b37ad50db4769c8b51649f3888d38a0da-81727f15d9dfc665-01
2022-04-20T15:28:43.531Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:43.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-34d3137a5f9f65ecb5ff8c04424f88dc9d0a515c-782edb8fe02c7916-01 outer:exit 2b-34d3137a5f9f65ecb5ff8c04424f88dc9d0a515c-4df16a11b4e4c023-01
2022-04-20T15:28:43.535Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:43.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-22d3dacd5d6c67d1db0e74ee54ebecaca5f6c269-1293ec930fdb66c4-01 outer:exit 2b-22d3dacd5d6c67d1db0e74ee54ebecaca5f6c269-4f0bcfb068186eff-01
2022-04-20T15:28:43.539Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:43.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3a7042b78fec3d6bcb3cdf4b5ac165d54002411-e9c3a230aeaeb84b-01 outer:exit 2b-e3a7042b78fec3d6bcb3cdf4b5ac165d54002411-b1d9fcf139800735-01
2022-04-20T15:28:43.543Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:43.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5735ba423159a33b46558c2456cc4baf714626b-db5af8f17d4ce5f1-01 outer:exit 2b-d5735ba423159a33b46558c2456cc4baf714626b-28eaa1db254e470d-01
2022-04-20T15:28:43.550Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:43.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-47ddd318bcbcaa18e522b6a11c3ec1cbd2994c1b-b5d53787d83b0dde-01 outer:exit 2b-47ddd318bcbcaa18e522b6a11c3ec1cbd2994c1b-a19fa39ae1caf1ba-01
2022-04-20T15:28:43.557Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:43.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-07eb176c534c18c21ad62ab38ba63dbcb547e62a-0a8b6734824ee927-01 outer:exit 2b-07eb176c534c18c21ad62ab38ba63dbcb547e62a-a9602957cf51cfec-01
2022-04-20T15:28:43.569Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:43.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d31c05a6f8bfa0690ee8bcc120d4b752c4035ed-21da01b130e79da6-01 outer:exit 2b-1d31c05a6f8bfa0690ee8bcc120d4b752c4035ed-5a797840ea5d0ff7-01
2022-04-20T15:28:43.580Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:43.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-f29609597d03e2bcdd7c513d79a31a345407f760-38567885d18e9750-01 outer:exit 2b-f29609597d03e2bcdd7c513d79a31a345407f760-ac97f213b4b8620d-01
2022-04-20T15:28:43.583Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:43.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-c47fe4c6db270edb3f10b8090aa6c1d7ca033857-bd9e5e336962240e-01 outer:exit 2b-c47fe4c6db270edb3f10b8090aa6c1d7ca033857-b86903d6b5c76696-01
2022-04-20T15:28:43.587Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:43.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-28746a68e69d4734040976290d1f6d96ff18f6c5-923046f5a83a1360-01 outer:exit 2b-28746a68e69d4734040976290d1f6d96ff18f6c5-da53589b1499d31e-01
2022-04-20T15:28:43.599Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:43.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab08d718f4fb11ba40c1212ca24b2474c2692cd9-af4d58e13a536eee-01 outer:exit 2b-ab08d718f4fb11ba40c1212ca24b2474c2692cd9-37837053e73ee033-01
2022-04-20T15:28:43.602Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:43.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-8841835832c6217b99dbf466277bbcd8ab3ace63-9728649f22c716b5-01 outer:exit 2b-8841835832c6217b99dbf466277bbcd8ab3ace63-e8adcb34b3374477-01
2022-04-20T15:28:43.604Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:43.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a117c024f4d46272fa48b521b75388c3c92f21d-e668514425737d72-01 outer:exit 2b-9a117c024f4d46272fa48b521b75388c3c92f21d-3c2d2683427ec626-01
2022-04-20T15:28:43.607Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:43.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-889ca3b80cdd1ffddbdca157926447f21ecca72e-ce38c5f03f5b1959-01 outer:exit 2b-889ca3b80cdd1ffddbdca157926447f21ecca72e-7bc740834e1b5335-01
2022-04-20T15:28:43.610Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:43.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b9f33e68a1fe35f18a1847e2b594a8fc3909a45-5849d616f895edb3-01 outer:exit 2b-7b9f33e68a1fe35f18a1847e2b594a8fc3909a45-b90ebad28c2fa57e-01
2022-04-20T15:28:43.612Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:43.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d24444ea24b829ba6e67578a60cb76046618009-943b352de64c46f7-01 outer:exit 2b-7d24444ea24b829ba6e67578a60cb76046618009-fa229fd6e3ef8eb9-01
2022-04-20T15:28:43.625Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:43.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-bda3bf7faab58cf0766f60e748fd6b8c19963522-1cf55e10634f0732-01 outer:exit 2b-bda3bf7faab58cf0766f60e748fd6b8c19963522-410a90ec0e247ffe-01
2022-04-20T15:28:43.639Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:43.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd879174ece5e5a85f545025a5a7854bf6ed536b-1637e6dc5f0074a0-01 outer:exit 2b-bd879174ece5e5a85f545025a5a7854bf6ed536b-03fa4e65b1c08272-01
2022-04-20T15:28:43.643Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:43.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa70ad53ae964ebb3e82942a39bbf01b7adc8bfc-c0a2b649c9131421-01 outer:exit 2b-aa70ad53ae964ebb3e82942a39bbf01b7adc8bfc-949e80411e406bb7-01
2022-04-20T15:28:43.647Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:43.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f28c3a469dcafb27f3af4b1300239fc1c4cdb16-35bf1df4191b4e6e-01 outer:exit 2b-8f28c3a469dcafb27f3af4b1300239fc1c4cdb16-39cbecbe62548b9d-01
2022-04-20T15:28:43.650Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:43.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ffb728e2344036ed5a1236d42a31d0c227c10a1-245ffe89e9013d12-01 outer:exit 2b-1ffb728e2344036ed5a1236d42a31d0c227c10a1-c9e60cd82eb524f6-01
2022-04-20T15:28:43.688Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (458ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.6
updated 1 package and audited 935 packages in 5.673s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:50.742Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:50.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:50.743Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:50.744Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:50.834Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:51.057Z appoptics:patching patched crypto 
2022-04-20T15:28:51.106Z appoptics:patching patched https 
2022-04-20T15:28:51.107Z appoptics:patching patched http 
2022-04-20T15:28:51.174Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:51.174Z appoptics:patching patched fs 
2022-04-20T15:28:51.193Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v14.19.1)
2022-04-20T15:28:51.201Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2022-04-20T15:28:51.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-08bc753a9c34e09b72ba239825976378a1a947c4-a75b85410d769fce-01 outer:exit 2b-08bc753a9c34e09b72ba239825976378a1a947c4-40aacf703d0c3684-01
2022-04-20T15:28:51.305Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:51.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a0a877770d4e3789289009313638062222660e4-a2d34998c831388b-01 outer:exit 2b-4a0a877770d4e3789289009313638062222660e4-3fb80c968122d6ce-01
2022-04-20T15:28:51.365Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:51.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b0c03b0b80825af81db563871d75b19322888d8-07c08f1f78581b94-01 outer:exit 2b-8b0c03b0b80825af81db563871d75b19322888d8-1c1f326ebe0903a9-01
2022-04-20T15:28:51.371Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:51.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-98e61ab6e40c0476d82c721e846dd26c47e54b9f-3ea161a14cdd6ea9-01 outer:exit 2b-98e61ab6e40c0476d82c721e846dd26c47e54b9f-44af1fdec649e6e2-01
2022-04-20T15:28:51.376Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:51.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-99cb436870a7c8a585bcbe361ba2b55fa1ad0110-2c6df5b354115fc6-01 outer:exit 2b-99cb436870a7c8a585bcbe361ba2b55fa1ad0110-91c6f34fbfa57e50-01
2022-04-20T15:28:51.396Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:51.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-74de23dbaa2257d9666a7c08360daa72e86a56b1-0e42b2f197f6c4d3-01 outer:exit 2b-74de23dbaa2257d9666a7c08360daa72e86a56b1-1a78b219941344ad-01
2022-04-20T15:28:51.407Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:51.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe58533dd10177e291bb37adcf3efc9b30d4f78e-5ddf1ed3c11c64e1-01 outer:exit 2b-fe58533dd10177e291bb37adcf3efc9b30d4f78e-23bfd65a04a27ef2-01
2022-04-20T15:28:51.414Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:51.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-c93199135dfdbf3e64c92f6821b5deeed595fc11-c9c033ff2b8c6ece-01 outer:exit 2b-c93199135dfdbf3e64c92f6821b5deeed595fc11-a83d28e88160706e-01
2022-04-20T15:28:51.419Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:51.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ecb62fcbfec8a2cddbab630b366eb7302541f9f-d644b66aa7683432-01 outer:exit 2b-2ecb62fcbfec8a2cddbab630b366eb7302541f9f-13864772da2b6150-01
2022-04-20T15:28:51.422Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:51.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-62b20de5df0213bb6e30bc24d638bcb754e6beb2-7361a618dba59714-01 outer:exit 2b-62b20de5df0213bb6e30bc24d638bcb754e6beb2-59a3ceb1b5115b8a-01
2022-04-20T15:28:51.427Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:51.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-46937c350d2ecf3a0387376e58f7147907716f21-9b4422f263b66324-01 outer:exit 2b-46937c350d2ecf3a0387376e58f7147907716f21-f747cac9d3cc5ed9-01
2022-04-20T15:28:51.433Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:51.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8ef3ce74a4c5fab4fd3770c49e0d9ca5d9d2f97-f5aac1b0844bf02d-01 outer:exit 2b-d8ef3ce74a4c5fab4fd3770c49e0d9ca5d9d2f97-313fddbe17bce2d4-01
2022-04-20T15:28:51.441Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:51.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-f405f67e5402e90e331a041c358632d36ae8ea88-467396e8994029f3-01 outer:exit 2b-f405f67e5402e90e331a041c358632d36ae8ea88-f4e607bd6712e45a-01
2022-04-20T15:28:51.463Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:51.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e2f8d60a0e9d2edd0cc7b2cd09332a5b0121a22-030f1a684f3f0d49-01 outer:exit 2b-6e2f8d60a0e9d2edd0cc7b2cd09332a5b0121a22-b41a05cd6f6973ca-01
2022-04-20T15:28:51.532Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:51.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-996293ca6d62e2def36b5f75689c9d2e8aea14dd-cd00e2286204aa7c-01 outer:exit 2b-996293ca6d62e2def36b5f75689c9d2e8aea14dd-7647bb4c430b31ed-01
2022-04-20T15:28:51.537Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:51.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-c98e455942c557696b9cd56699cf1e07b6eee61b-765242e22fdd23f5-01 outer:exit 2b-c98e455942c557696b9cd56699cf1e07b6eee61b-452c021824d9526f-01
2022-04-20T15:28:51.541Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:51.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-4918b9114aaf29d429c70a8eb3ea313b45d4914f-a3805d2367cbfaab-01 outer:exit 2b-4918b9114aaf29d429c70a8eb3ea313b45d4914f-eb0de2ddafe0152b-01
2022-04-20T15:28:51.545Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:51.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-c639521f296cacbbd8cda024a41e469853b6726e-cb5cfd6279da737c-01 outer:exit 2b-c639521f296cacbbd8cda024a41e469853b6726e-1620bf260683a0ea-01
2022-04-20T15:28:51.550Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:51.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8c7d472e9640bbbdac4c6f99d0690d61ebff81a-dbf1ece8d2842f53-01 outer:exit 2b-c8c7d472e9640bbbdac4c6f99d0690d61ebff81a-3566188733d2a714-01
2022-04-20T15:28:51.562Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:51.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-17d3aa47fe9325a8ff1ddc493fdf6de2754877ef-54593be6972f718a-01 outer:exit 2b-17d3aa47fe9325a8ff1ddc493fdf6de2754877ef-4cc82ce1764d5913-01
2022-04-20T15:28:51.567Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:51.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b663ad83949f24165b617feabf03e91c4b004d3-b12b72f7af97488e-01 outer:exit 2b-2b663ad83949f24165b617feabf03e91c4b004d3-e707abda9996ece3-01
2022-04-20T15:28:51.571Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:51.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-49755e68deca729d1d4c8bdbd60444a9efdae67d-c16385b70d134ac1-01 outer:exit 2b-49755e68deca729d1d4c8bdbd60444a9efdae67d-ab497d55fa33076a-01
2022-04-20T15:28:51.577Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:51.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-bff2e2c76b3d2d31e7553f1f4cca2411a4b931e6-103591cc14ff40d9-01 outer:exit 2b-bff2e2c76b3d2d31e7553f1f4cca2411a4b931e6-76c37935925d3126-01
2022-04-20T15:28:51.581Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:51.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cf09c752b02f7e5fc0ffe7811fac48466bce137-9a971e5eaac04f15-01 outer:exit 2b-7cf09c752b02f7e5fc0ffe7811fac48466bce137-b0fb86f7ee3aed92-01
2022-04-20T15:28:51.586Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:51.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-87bae69440cb06e68d6ab9b660d23554ff2912d6-ad63155d6a79e7c9-01 outer:exit 2b-87bae69440cb06e68d6ab9b660d23554ff2912d6-e7792765be907e0e-01
2022-04-20T15:28:51.590Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:51.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cc551e96a2c48c015009554cc11b67dc4ea255a-81d16a5cc4efbfcb-01 outer:exit 2b-6cc551e96a2c48c015009554cc11b67dc4ea255a-ada834ef9b8f3c91-01
2022-04-20T15:28:51.594Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:51.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ef2e43e875c961cd35a8e59868bbeca8d396af7-4d4e8c71ab44c39a-01 outer:exit 2b-2ef2e43e875c961cd35a8e59868bbeca8d396af7-92ebe807cee36a03-01
2022-04-20T15:28:51.601Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:51.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce53a0ab9922cff4878008182e414b46cc7e17fb-2a7e1b7f94a66882-01 outer:exit 2b-ce53a0ab9922cff4878008182e414b46cc7e17fb-75a45dcd9b5e33e4-01
2022-04-20T15:28:51.608Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:51.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-850386ae05829bbf21068ccb12c59a50850cea23-94a083ac02733d88-01 outer:exit 2b-850386ae05829bbf21068ccb12c59a50850cea23-f2bb3f6a948d7aef-01
2022-04-20T15:28:51.625Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:51.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ba20cb09f27cf2662e9d89c550fe6f4404cd777-0797c659ac5481e8-01 outer:exit 2b-0ba20cb09f27cf2662e9d89c550fe6f4404cd777-702fb4805e3a9eb1-01
2022-04-20T15:28:51.646Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:51.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfd63f565728a0235939ee43f46eb799545dcfdc-937668c23b29f379-01 outer:exit 2b-cfd63f565728a0235939ee43f46eb799545dcfdc-37de0b30211bd4a1-01
2022-04-20T15:28:51.650Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:51.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-f623a13fe1d25336c0b9184d5e94c4f5b6e28db2-c1778136f7532349-01 outer:exit 2b-f623a13fe1d25336c0b9184d5e94c4f5b6e28db2-6fae492a65c045fe-01
2022-04-20T15:28:51.655Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:51.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-22df881d70ab5ff0694b7d065a099b2c58147b71-3cff65ae2978f64a-01 outer:exit 2b-22df881d70ab5ff0694b7d065a099b2c58147b71-b3c9c60b6e3282e0-01
2022-04-20T15:28:51.664Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:51.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-294761d38568d420ee619f6a7c4a2ae123badbcb-7f01503f5a4b69dc-01 outer:exit 2b-294761d38568d420ee619f6a7c4a2ae123badbcb-75b23c66db68dd83-01
2022-04-20T15:28:51.667Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:51.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-d896dd3b7e9b0deaa9f382751f22629d5a1dfa74-9b96408b8b19b85c-01 outer:exit 2b-d896dd3b7e9b0deaa9f382751f22629d5a1dfa74-0ae1a074c3453c65-01
2022-04-20T15:28:51.671Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:51.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-6beec456c4ab30355dd77cc59276d94b4d6ed145-df132f9bb3d6cf9d-01 outer:exit 2b-6beec456c4ab30355dd77cc59276d94b4d6ed145-10d6331c8e4c5785-01
2022-04-20T15:28:51.674Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:51.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-5893d8d5da34105d068031949e718f27a8117842-ace92c508972f855-01 outer:exit 2b-5893d8d5da34105d068031949e718f27a8117842-ee062d9b8c91b3df-01
2022-04-20T15:28:51.677Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:51.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-87d43702e55c187936056eb9478d36820f39357a-c5ce4e23bde7768c-01 outer:exit 2b-87d43702e55c187936056eb9478d36820f39357a-dd9297e5082734bb-01
2022-04-20T15:28:51.680Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:51.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-c274a7c06a725459e5232ed5eea7e6938fe0b939-7dc9349daed11e7b-01 outer:exit 2b-c274a7c06a725459e5232ed5eea7e6938fe0b939-d1cf797fe03ce154-01
2022-04-20T15:28:51.693Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:51.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-db8be2426a8d94a34ce24ce71c4aca40a847c1b8-736c4314f2e40bb7-01 outer:exit 2b-db8be2426a8d94a34ce24ce71c4aca40a847c1b8-2e60a21f9f9eb9b7-01
2022-04-20T15:28:51.708Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:51.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-d55b4d9fb112974aa2f2a4059f911b21856e7c44-a0bbe75bcda9f7d4-01 outer:exit 2b-d55b4d9fb112974aa2f2a4059f911b21856e7c44-4c8fba8e3a5dd01e-01
2022-04-20T15:28:51.714Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:51.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-a413368e98fca434bd60af080479cbeff83ae634-afc9f61a5130866b-01 outer:exit 2b-a413368e98fca434bd60af080479cbeff83ae634-ea2b5753236d043d-01
2022-04-20T15:28:51.721Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:51.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-f67a2d8ec161180b92effa742ebd2fada8234218-1d0533122b21c0fa-01 outer:exit 2b-f67a2d8ec161180b92effa742ebd2fada8234218-c9f6f29ac923ad66-01
2022-04-20T15:28:51.726Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:51.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-76faa62388fa848da66b49c1da2bbf2e5785c605-23754cf90d6a2b6d-01 outer:exit 2b-76faa62388fa848da66b49c1da2bbf2e5785c605-036df3794b00e5d5-01
2022-04-20T15:28:51.766Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (555ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.7
updated 1 package and audited 935 packages in 6.506s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:59.767Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:59.768Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:59.768Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:59.769Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:59.852Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:00.054Z appoptics:patching patched crypto 
2022-04-20T15:29:00.078Z appoptics:patching patched https 
2022-04-20T15:29:00.078Z appoptics:patching patched http 
2022-04-20T15:29:00.146Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:00.147Z appoptics:patching patched fs 
2022-04-20T15:29:00.165Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v14.19.1)
2022-04-20T15:29:00.174Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2022-04-20T15:29:00.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8de91ceb462249fabbc024b73638df4fdd16340-9bfd6a4fad4dc415-01 outer:exit 2b-b8de91ceb462249fabbc024b73638df4fdd16340-8ee5ae7e714577af-01
2022-04-20T15:29:00.272Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:00.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-201502045511273254711ec0d4d7165b33184cc2-7fc1d1113ca0e94e-01 outer:exit 2b-201502045511273254711ec0d4d7165b33184cc2-0d9b14d04397403c-01
2022-04-20T15:29:00.334Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:00.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-43b78ca10694024272c54e17b65d8e6efb987992-d6f4ad4e2019f092-01 outer:exit 2b-43b78ca10694024272c54e17b65d8e6efb987992-c6188e1fd8011820-01
2022-04-20T15:29:00.340Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:00.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-737040c353247812ff1a01e888ada645b1f9e868-ecdcbd2d558d88bc-01 outer:exit 2b-737040c353247812ff1a01e888ada645b1f9e868-d15c6e196cf01e06-01
2022-04-20T15:29:00.344Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:00.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-e41da94dfcb3fa2c57f9d5a8246c8c9ea4b5758f-94c8463adaf676f0-01 outer:exit 2b-e41da94dfcb3fa2c57f9d5a8246c8c9ea4b5758f-72fb0142afa83eb4-01
2022-04-20T15:29:00.350Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:00.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-246e6bdba81690466197b3287bef149b4afad238-cd1a1504bb8f21c1-01 outer:exit 2b-246e6bdba81690466197b3287bef149b4afad238-af9f94e768584caa-01
2022-04-20T15:29:00.355Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:00.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-e10ca15b0981ad9351151da7924664b394f5b765-e23a35f555b8730a-01 outer:exit 2b-e10ca15b0981ad9351151da7924664b394f5b765-fa0ffe770891417f-01
2022-04-20T15:29:00.358Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:00.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc3ea67afa5cb5a63ecbca58924065123598d4f0-25e6df2be380c47e-01 outer:exit 2b-fc3ea67afa5cb5a63ecbca58924065123598d4f0-c58cae713ab4ce54-01
2022-04-20T15:29:00.362Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:00.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-61100ff99e863c74d3d5f4179d29e136a0313134-1a6a451401ee4031-01 outer:exit 2b-61100ff99e863c74d3d5f4179d29e136a0313134-001812faa5f2811d-01
2022-04-20T15:29:00.365Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:00.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-d851089b03b3c4ce7fe3a6ca2e28f71b4824570f-d2ae7c01de1a2958-01 outer:exit 2b-d851089b03b3c4ce7fe3a6ca2e28f71b4824570f-d8427ce87fcad6cb-01
2022-04-20T15:29:00.369Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:00.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3abd5bcea718d85ce4a9b1c1173391192c59bc7-bd18237c5271b069-01 outer:exit 2b-d3abd5bcea718d85ce4a9b1c1173391192c59bc7-a0135e43b313991c-01
2022-04-20T15:29:00.375Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:00.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc22743936e7bc1943cff3d29db44461b6cdec3f-15425a994b044340-01 outer:exit 2b-cc22743936e7bc1943cff3d29db44461b6cdec3f-a641b9882dbd8966-01
2022-04-20T15:29:00.385Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:00.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec2d99b7c1293fb5117f1ffc1f4ffc92995a9080-2b292f08dc48ad60-01 outer:exit 2b-ec2d99b7c1293fb5117f1ffc1f4ffc92995a9080-ad817ff34ee31f91-01
2022-04-20T15:29:00.410Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:00.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4ddbd636d43d5742d8860b73f372b62f06b2ba1-be9392bbe585b5db-01 outer:exit 2b-c4ddbd636d43d5742d8860b73f372b62f06b2ba1-7ac8e394ff944890-01
2022-04-20T15:29:00.456Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:00.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-be26b3b06914d0672b98a707878c2e10d375b2d8-a2315483f34190c2-01 outer:exit 2b-be26b3b06914d0672b98a707878c2e10d375b2d8-4527a8c72ef838f5-01
2022-04-20T15:29:00.460Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:00.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-c10619b4d0f9177e9395dccfa8ab4c63b124dd57-134ca1610911017f-01 outer:exit 2b-c10619b4d0f9177e9395dccfa8ab4c63b124dd57-de1903b8703fafbd-01
2022-04-20T15:29:00.465Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:00.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-a758e8c5d29383cd628e287d1fa230c2c02e19d3-f57f68f3e188fa2d-01 outer:exit 2b-a758e8c5d29383cd628e287d1fa230c2c02e19d3-16d4d23b78549b91-01
2022-04-20T15:29:00.470Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:00.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-cce4bdd7f8b31fbdec6cf67304352ea9638189ef-f9eb136bde95f36b-01 outer:exit 2b-cce4bdd7f8b31fbdec6cf67304352ea9638189ef-94d79768302908c8-01
2022-04-20T15:29:00.473Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:00.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb2e03c540a2f3cf928097dca586b73db41f66b3-0276c703d5726bdf-01 outer:exit 2b-eb2e03c540a2f3cf928097dca586b73db41f66b3-06ef1fe8d5687a25-01
2022-04-20T15:29:00.480Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:00.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-b927bb7fc5355f2896832d1627eaab475222afc9-58a7a2a86e257ec2-01 outer:exit 2b-b927bb7fc5355f2896832d1627eaab475222afc9-3feb1d2dbdcf0d73-01
2022-04-20T15:29:00.483Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:00.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-1507a4d7d0cdcf2dab1b3861b3d40f94a52817c4-dd7805739410414a-01 outer:exit 2b-1507a4d7d0cdcf2dab1b3861b3d40f94a52817c4-0c493cc4779e2f1e-01
2022-04-20T15:29:00.486Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:00.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-0df1386dbd198a51ff53a5f66e4c343661c74526-0c638ceaa616fc4c-01 outer:exit 2b-0df1386dbd198a51ff53a5f66e4c343661c74526-af1386a2a289c624-01
2022-04-20T15:29:00.489Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:00.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-68ae8913f4e105faebe391d409f9542072591cdf-b5122ea1a4a6538a-01 outer:exit 2b-68ae8913f4e105faebe391d409f9542072591cdf-4934ef94692d0409-01
2022-04-20T15:29:00.494Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:00.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-53ccd94f0f079c92ede05670a30570c39ff758c2-57de09aa7317577c-01 outer:exit 2b-53ccd94f0f079c92ede05670a30570c39ff758c2-41ed7798926094c5-01
2022-04-20T15:29:00.498Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:00.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3bdf5a5b747cf7062595efd88fec6b957d916fc-493c1ef3733e45fb-01 outer:exit 2b-c3bdf5a5b747cf7062595efd88fec6b957d916fc-2fd85b2ace8e6891-01
2022-04-20T15:29:00.502Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:00.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-c23dbefc1402898b69593ee54500dc0c7b57eb4b-44dc414060aef07b-01 outer:exit 2b-c23dbefc1402898b69593ee54500dc0c7b57eb4b-09cbdc897396db8e-01
2022-04-20T15:29:00.505Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:00.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-c75effc27550dd1db213ea943f00fe3355918ff0-97e7abca2c8a96d9-01 outer:exit 2b-c75effc27550dd1db213ea943f00fe3355918ff0-72bbe79ff02afbd6-01
2022-04-20T15:29:00.512Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:00.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5186ec2bcd14e0453a68f047b0ab3494bd5cc23-3f5de2d824dc6c24-01 outer:exit 2b-e5186ec2bcd14e0453a68f047b0ab3494bd5cc23-1973ce51ae527ed9-01
2022-04-20T15:29:00.518Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:00.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad2a4b728741fa6c7ee155e83922d2cc5a4ed2d9-e396fa23c2498b12-01 outer:exit 2b-ad2a4b728741fa6c7ee155e83922d2cc5a4ed2d9-cef345c6265eeda7-01
2022-04-20T15:29:00.534Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:00.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b4ae316610553a50e1a3a179a083555315f8a9b-5b1abe536c537c31-01 outer:exit 2b-4b4ae316610553a50e1a3a179a083555315f8a9b-afad23f4a591e8dc-01
2022-04-20T15:29:00.544Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:00.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c21f2823168d4283884e2eb238be3879652d27c-72a7ed4eac80019d-01 outer:exit 2b-0c21f2823168d4283884e2eb238be3879652d27c-17e1ec4ae5b2896f-01
2022-04-20T15:29:00.547Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:00.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d5e23c6ca9d8b23185099c4ba60b0b9b283fb6e-2735bac4da0bd252-01 outer:exit 2b-6d5e23c6ca9d8b23185099c4ba60b0b9b283fb6e-56618155710c4b3b-01
2022-04-20T15:29:00.551Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:00.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-230bf689821f67ab01ebc4a344c316aaf4738f02-450dc7dcfe3c05be-01 outer:exit 2b-230bf689821f67ab01ebc4a344c316aaf4738f02-611d94ac8818bbf9-01
2022-04-20T15:29:00.560Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:00.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-972a714523e46b70490f65d0d27d7c6ca72cdff0-fbc382e2b11a0ad5-01 outer:exit 2b-972a714523e46b70490f65d0d27d7c6ca72cdff0-d1b46dfc842690be-01
2022-04-20T15:29:00.563Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:00.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e5e398f7f164457a3122e5da7fb87a00012f44a-41d3f0c7bea2eabe-01 outer:exit 2b-1e5e398f7f164457a3122e5da7fb87a00012f44a-41d8fcbbdda3a3e0-01
2022-04-20T15:29:00.567Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:00.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-091154223884a6095e4bf1cf3bdb15c7c278210c-732ea1d2cdc0ea42-01 outer:exit 2b-091154223884a6095e4bf1cf3bdb15c7c278210c-25a41a5703562f03-01
2022-04-20T15:29:00.570Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:00.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3736f71341b4e751c03171ede61c88047244574-aaaf43dcf10bc1d8-01 outer:exit 2b-b3736f71341b4e751c03171ede61c88047244574-7afe0c5e99712251-01
2022-04-20T15:29:00.572Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:00.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff5159059f50b3c12f5176f1b605ae2fdb3fabef-00e46dcd90867056-01 outer:exit 2b-ff5159059f50b3c12f5176f1b605ae2fdb3fabef-8f90e47a26a990a4-01
2022-04-20T15:29:00.575Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:00.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-df48fd986668a131e8fa81312115c2bda18e31f7-939900c50887edc1-01 outer:exit 2b-df48fd986668a131e8fa81312115c2bda18e31f7-3f349068ab5657ca-01
2022-04-20T15:29:00.590Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:00.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5246ca528caa98a3a07f44d5511d64e012405a4-055641321a24a10b-01 outer:exit 2b-e5246ca528caa98a3a07f44d5511d64e012405a4-543eb52df566a859-01
2022-04-20T15:29:00.604Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:00.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-37af01a0ad22ec9b1f285d277d6a30781a8d2f1a-e277af5f90c62f32-01 outer:exit 2b-37af01a0ad22ec9b1f285d277d6a30781a8d2f1a-61ae1b11acf7e830-01
2022-04-20T15:29:00.608Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:00.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-77302ed4d81a8e0523791d72aae642b871080b81-5c79e5efb7805c9a-01 outer:exit 2b-77302ed4d81a8e0523791d72aae642b871080b81-d3eea9a3d3f22b4a-01
2022-04-20T15:29:00.616Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:00.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-65f889c83d4c45c6756e82b2f79a1f08048f01b6-414e70d381ec9451-01 outer:exit 2b-65f889c83d4c45c6756e82b2f79a1f08048f01b6-eff313ab4bdc1bf4-01
2022-04-20T15:29:00.620Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:00.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e1e5fd6ba5bb3ed2cc4eeaa876e3ae0234eee64-e6324f7bb8f4d969-01 outer:exit 2b-0e1e5fd6ba5bb3ed2cc4eeaa876e3ae0234eee64-8f11a26ee3ee888e-01
2022-04-20T15:29:00.667Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (479ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.8
updated 1 package and audited 935 packages in 6.483s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:08.579Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:08.580Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:08.580Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:08.581Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:08.680Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:08.879Z appoptics:patching patched crypto 
2022-04-20T15:29:08.902Z appoptics:patching patched https 
2022-04-20T15:29:08.902Z appoptics:patching patched http 
2022-04-20T15:29:08.960Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:08.961Z appoptics:patching patched fs 
2022-04-20T15:29:08.979Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v14.19.1)
2022-04-20T15:29:08.988Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2022-04-20T15:29:09.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d1d76cca25cf46c7746bb9a36bd09ec521c9a11-5d21c97ff31b3fdc-01 outer:exit 2b-6d1d76cca25cf46c7746bb9a36bd09ec521c9a11-89e96f0cce1875c6-01
2022-04-20T15:29:09.045Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:09.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-6835758016c8ca6399ae7a5b262a0fea0ac83da4-dbc5c24b55194dfb-01 outer:exit 2b-6835758016c8ca6399ae7a5b262a0fea0ac83da4-1e13578efec29595-01
2022-04-20T15:29:09.102Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:09.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2056f57df15bb14d60ffaa5ebc110846c33b5a0-42f723ca9c3d1bed-01 outer:exit 2b-b2056f57df15bb14d60ffaa5ebc110846c33b5a0-c81234456eb2ff4e-01
2022-04-20T15:29:09.107Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:09.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f12e4f4c416463bf3800058352ef93aee060bae-cf6a4ec3637eda87-01 outer:exit 2b-0f12e4f4c416463bf3800058352ef93aee060bae-98ab78daf1e2c8ab-01
2022-04-20T15:29:09.111Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:09.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fe82ef77f0078dca430561e52f1bedfe52c136a-26c0f71a6fad10e7-01 outer:exit 2b-6fe82ef77f0078dca430561e52f1bedfe52c136a-1c3251b178e7fb2c-01
2022-04-20T15:29:09.117Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:09.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-17f455f9c7c504940da6bc815552a94b7e8eebbc-21d3cd3aa9868025-01 outer:exit 2b-17f455f9c7c504940da6bc815552a94b7e8eebbc-2e8ea7bbaf32af39-01
2022-04-20T15:29:09.127Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:09.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8b9534efe66e3e0ab8250fae2aaf1fa956f2745-27c2bbbafe671d84-01 outer:exit 2b-c8b9534efe66e3e0ab8250fae2aaf1fa956f2745-3ebdc90cf0e88a79-01
2022-04-20T15:29:09.130Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:09.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-2038ba0859434882180f57f6a384ca3903ef2b98-2517e285c475de43-01 outer:exit 2b-2038ba0859434882180f57f6a384ca3903ef2b98-f921637e4e3b55d3-01
2022-04-20T15:29:09.134Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:09.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e548cbb602674328db747e6d980610399a0c10f-c3b47e3aea556962-01 outer:exit 2b-6e548cbb602674328db747e6d980610399a0c10f-debbc40bd9694491-01
2022-04-20T15:29:09.137Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:09.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-26ce0d9160f16dcd8b1c8bc452f8ec58767ca171-62856e10b8890b32-01 outer:exit 2b-26ce0d9160f16dcd8b1c8bc452f8ec58767ca171-5e10d49b72b1f0ce-01
2022-04-20T15:29:09.141Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:09.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8ee17a463c53035ba81358134c80401076f13d1-e955f9b68e460ba6-01 outer:exit 2b-c8ee17a463c53035ba81358134c80401076f13d1-52c19a0a745cb582-01
2022-04-20T15:29:09.146Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:09.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-868b99b3905e8cee269d76030e062e8374c8d16b-92dbf3b80d415865-01 outer:exit 2b-868b99b3905e8cee269d76030e062e8374c8d16b-7c08bf4b6da811ef-01
2022-04-20T15:29:09.153Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:09.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e9a3efa189174f501bac4a50c7f2112b312a1ba-9821ab612d805b8c-01 outer:exit 2b-7e9a3efa189174f501bac4a50c7f2112b312a1ba-331d2bda330f1242-01
2022-04-20T15:29:09.175Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:09.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-019b4e59d996421eec12e33c569d1c583964ab0c-090d3d6b0d6df6fb-01 outer:exit 2b-019b4e59d996421eec12e33c569d1c583964ab0c-39ea2c10ea93bd8a-01
2022-04-20T15:29:09.228Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:09.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbe7167b09e591759eec9e4fd62a6a75044af077-0f04075a5854ae7d-01 outer:exit 2b-bbe7167b09e591759eec9e4fd62a6a75044af077-7a8259df4f8bc708-01
2022-04-20T15:29:09.232Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:09.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-6865fd4051f69337bcb8c8b3e2d3331ef24e6072-fcc61583f64e5c95-01 outer:exit 2b-6865fd4051f69337bcb8c8b3e2d3331ef24e6072-51a3f9cbe7700d52-01
2022-04-20T15:29:09.235Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:09.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-00d9b8d25ca2c4067e25464fe2d087a315880a81-3cb99166414132f7-01 outer:exit 2b-00d9b8d25ca2c4067e25464fe2d087a315880a81-d3959d1c5e2d5ebf-01
2022-04-20T15:29:09.240Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:09.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-340271811ffda3b4d6636c854813d2d8146e66a7-8475dc7faf48ebc4-01 outer:exit 2b-340271811ffda3b4d6636c854813d2d8146e66a7-773653f0016403b3-01
2022-04-20T15:29:09.243Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:09.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdca69beb96be9d03619ac3995100e50f4374756-835a03f960926d01-01 outer:exit 2b-fdca69beb96be9d03619ac3995100e50f4374756-70edd86d39fbc169-01
2022-04-20T15:29:09.250Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:09.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-19d31696d1a785a60e5d9ee52c8f6a0d62494944-9f2c78e6a401aece-01 outer:exit 2b-19d31696d1a785a60e5d9ee52c8f6a0d62494944-11867c408f9a6666-01
2022-04-20T15:29:09.253Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:09.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-d700fb7d1898aa2700f8c24fb4e61f43c4e8074c-78343379e14e18bd-01 outer:exit 2b-d700fb7d1898aa2700f8c24fb4e61f43c4e8074c-8eb419ed6448d52a-01
2022-04-20T15:29:09.256Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:09.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2fd71e24ff03911bb9f3a1653e5af001dc830fd-7eb0362214f3a3c2-01 outer:exit 2b-c2fd71e24ff03911bb9f3a1653e5af001dc830fd-260434a6068c1044-01
2022-04-20T15:29:09.258Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:09.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1d23fc530ec9a5bc617325edb44ae7365f9e531-92ad50d475191bd3-01 outer:exit 2b-f1d23fc530ec9a5bc617325edb44ae7365f9e531-92102cf1cefba612-01
2022-04-20T15:29:09.262Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:09.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc8079f216909f122c3fafedb927f6fb317aab4e-6910d9093e00d28a-01 outer:exit 2b-cc8079f216909f122c3fafedb927f6fb317aab4e-0bbd87f54c6029b6-01
2022-04-20T15:29:09.267Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:09.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-d05fd9f2766c1e16c2dab55d34b8145cb956df3d-dc2280fe0be4801e-01 outer:exit 2b-d05fd9f2766c1e16c2dab55d34b8145cb956df3d-1d6b6ba6202a34ce-01
2022-04-20T15:29:09.270Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:09.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1149e5c3cc9645509e2d4ede12c531e482a399a-3f487928ab4784cc-01 outer:exit 2b-f1149e5c3cc9645509e2d4ede12c531e482a399a-6449e1122e688ada-01
2022-04-20T15:29:09.273Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:09.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-3aac7673e139a3d6eb3be58f529682265f353567-d10c487dca1f6af8-01 outer:exit 2b-3aac7673e139a3d6eb3be58f529682265f353567-57eabfffb08470af-01
2022-04-20T15:29:09.281Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:09.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-f20600f84d8a1d6c3c4047063e69e31fba5aa155-21f24688713c65ff-01 outer:exit 2b-f20600f84d8a1d6c3c4047063e69e31fba5aa155-7d45178a8c61aa39-01
2022-04-20T15:29:09.287Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:09.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-655c908c4f2e19663fd966fa081fa02d209d109e-783791f5b354ff30-01 outer:exit 2b-655c908c4f2e19663fd966fa081fa02d209d109e-74e15dd67e3ce31a-01
2022-04-20T15:29:09.298Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:09.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1a1f70ef1b9d799d2c866363d5045bf7ad8128d-2ac6c4732ab2f391-01 outer:exit 2b-f1a1f70ef1b9d799d2c866363d5045bf7ad8128d-eaea2cb920341e58-01
2022-04-20T15:29:09.306Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:09.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-88f9779f00e38fa59ae8218013c8dafdfc606cd8-5eb1cb32a28620bd-01 outer:exit 2b-88f9779f00e38fa59ae8218013c8dafdfc606cd8-90753a2ced26b39e-01
2022-04-20T15:29:09.309Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:09.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-bed974fa13d2d92030ed4eca324b1d1f72b13ac3-e03f077b32ed59e8-01 outer:exit 2b-bed974fa13d2d92030ed4eca324b1d1f72b13ac3-4d45903579fdd3cc-01
2022-04-20T15:29:09.314Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:09.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-80639d24fd5e0c3a7214be82b5fe78574d7b6d2b-76c8dc2c5ce7281f-01 outer:exit 2b-80639d24fd5e0c3a7214be82b5fe78574d7b6d2b-e6ea0e67ccfaa155-01
2022-04-20T15:29:09.324Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:09.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-c519cb5bb3ca85781f9daa65f13c312b5dc37b53-1394fb9efe60f947-01 outer:exit 2b-c519cb5bb3ca85781f9daa65f13c312b5dc37b53-46a6a7039a74f8f8-01
2022-04-20T15:29:09.327Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:09.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e2bbea0acc8b662385fafb51bc4ccd521bbe607-c6001e241e4e4b59-01 outer:exit 2b-4e2bbea0acc8b662385fafb51bc4ccd521bbe607-b4651629cfd43268-01
2022-04-20T15:29:09.330Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:09.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-16a649a639bd19d12db10786957480cecea36cf5-c9f413023fcfff1d-01 outer:exit 2b-16a649a639bd19d12db10786957480cecea36cf5-dbd905f69671490e-01
2022-04-20T15:29:09.333Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:09.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6a46d2ee3eb31386fe1775f60dda76e94013faf-690ca009b5887578-01 outer:exit 2b-b6a46d2ee3eb31386fe1775f60dda76e94013faf-ef188c1cd206dd5f-01
2022-04-20T15:29:09.336Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:09.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7e49de9caf16892adf7e1c8dc400f12eab80be3-5ebb3a5586d32586-01 outer:exit 2b-f7e49de9caf16892adf7e1c8dc400f12eab80be3-b6fec828a04ce3c0-01
2022-04-20T15:29:09.339Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:09.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-3770be87c3c0ac92e25d833112adfdb4c00cd323-288ee8d268c49fac-01 outer:exit 2b-3770be87c3c0ac92e25d833112adfdb4c00cd323-d6a20e58062b2250-01
2022-04-20T15:29:09.352Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:09.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-84852fea9d56f6b48d9a24edb6310b6cc8c0e00e-c3daef742737a342-01 outer:exit 2b-84852fea9d56f6b48d9a24edb6310b6cc8c0e00e-ae7b265c1de3b661-01
2022-04-20T15:29:09.365Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:09.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b04dd697b5569e4ba1ac8a90dc2ab1b27f7a92d-e15ac96860c9c136-01 outer:exit 2b-3b04dd697b5569e4ba1ac8a90dc2ab1b27f7a92d-b8dd3e88d0b25420-01
2022-04-20T15:29:09.369Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:09.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-1514672ae1682882e24d0dd064e9b135a0249ab1-5982aab184ecf44f-01 outer:exit 2b-1514672ae1682882e24d0dd064e9b135a0249ab1-9d7ba93491f17243-01
2022-04-20T15:29:09.373Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:09.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-bff49679d6fc849039bc534f7fe01c89748a1ef9-43f56d54cb8197eb-01 outer:exit 2b-bff49679d6fc849039bc534f7fe01c89748a1ef9-2cd370011ae91676-01
2022-04-20T15:29:09.376Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:09.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-a64e3260c63dbe456ec13e9f9d4f5d0696f49359-2f1176dfda235e0b-01 outer:exit 2b-a64e3260c63dbe456ec13e9f9d4f5d0696f49359-277a4765723f1ee6-01
2022-04-20T15:29:09.413Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (416ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.9
updated 1 package and audited 935 packages in 6.04s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:17.073Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:17.075Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:17.075Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:17.076Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:17.183Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:17.415Z appoptics:patching patched crypto 
2022-04-20T15:29:17.470Z appoptics:patching patched https 
2022-04-20T15:29:17.470Z appoptics:patching patched http 
2022-04-20T15:29:17.536Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:17.537Z appoptics:patching patched fs 
2022-04-20T15:29:17.555Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v14.19.1)
2022-04-20T15:29:17.563Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2022-04-20T15:29:17.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-abfa526ab19c1ce982679578298770e2dffea686-627976a89300c609-01 outer:exit 2b-abfa526ab19c1ce982679578298770e2dffea686-69c3b0b3bbd37b81-01
2022-04-20T15:29:17.633Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:17.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b487ef3f72b538ae4cc35dcd9d42bcb84a60f0a-d522757f295426c3-01 outer:exit 2b-0b487ef3f72b538ae4cc35dcd9d42bcb84a60f0a-7713435cc7850244-01
2022-04-20T15:29:17.693Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:17.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc0092039fbedb113bb4e1cf730de36592de9a05-2a7456790a142f10-01 outer:exit 2b-cc0092039fbedb113bb4e1cf730de36592de9a05-d603780df846602d-01
2022-04-20T15:29:17.697Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:17.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-96e03ba80619c1bf33d2e2d042fb0466853904ea-1d69ee371ec44ab3-01 outer:exit 2b-96e03ba80619c1bf33d2e2d042fb0466853904ea-466e6fe660a74f56-01
2022-04-20T15:29:17.702Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:17.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-631ebc0893829201891719fa7a865a06484e22eb-d13cde1d3d9c7fe2-01 outer:exit 2b-631ebc0893829201891719fa7a865a06484e22eb-cf52321360622bcc-01
2022-04-20T15:29:17.710Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:17.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7e80526bf8dc48c1a53b2259bcc5fcef7263f0d-243135d749ada44e-01 outer:exit 2b-a7e80526bf8dc48c1a53b2259bcc5fcef7263f0d-9088956aed771fcb-01
2022-04-20T15:29:17.714Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:17.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-239312819babf5788574a88684b6da6217b76627-d9ce855c04366cd9-01 outer:exit 2b-239312819babf5788574a88684b6da6217b76627-ef01fbd282e5c270-01
2022-04-20T15:29:17.717Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:17.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbf4099b8ca2964a417fc060361ac3a2697df737-033929d68ae58d62-01 outer:exit 2b-dbf4099b8ca2964a417fc060361ac3a2697df737-95a1f49db54d362a-01
2022-04-20T15:29:17.721Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:17.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-9141f6e78abb3f899642e82b0a997429cfe2d577-262fa43c1ecfce49-01 outer:exit 2b-9141f6e78abb3f899642e82b0a997429cfe2d577-d3c4a3bfdae3e95c-01
2022-04-20T15:29:17.725Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:17.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ca6b9574cf766ec947f6c94f70be035be76bab5-f10d5baa9aa566d5-01 outer:exit 2b-6ca6b9574cf766ec947f6c94f70be035be76bab5-2ad510e65db8ad87-01
2022-04-20T15:29:17.728Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:17.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4cbeb0b8d0d919ac19efbbe9f448dedffd2521d-bd555ffa9f7bd51a-01 outer:exit 2b-d4cbeb0b8d0d919ac19efbbe9f448dedffd2521d-8f319392cb3440a4-01
2022-04-20T15:29:17.734Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:17.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-5eae2781e371ceabaa508c6361f8f9cbf87efff2-515a56896d161407-01 outer:exit 2b-5eae2781e371ceabaa508c6361f8f9cbf87efff2-210132e07943953d-01
2022-04-20T15:29:17.742Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:17.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-75af15e51461fb4ef656497fc5d415493787c20e-83ffa29d1595f2a3-01 outer:exit 2b-75af15e51461fb4ef656497fc5d415493787c20e-66f867ee72ea6056-01
2022-04-20T15:29:17.775Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:17.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2101861654de8e431e79bf1394be9af4d1c3188-de6c56b290d5d149-01 outer:exit 2b-a2101861654de8e431e79bf1394be9af4d1c3188-2c3877ed13b92028-01
2022-04-20T15:29:17.825Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:17.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-a372bdffdc69b116ab42b5a76d842d386fe4e739-b2a26491a03e116d-01 outer:exit 2b-a372bdffdc69b116ab42b5a76d842d386fe4e739-aa0a2b9d06d27da1-01
2022-04-20T15:29:17.829Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:17.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-486238530cc7c032a502ad00d6f1cfcb737a4fc4-048256ddf5fc01b7-01 outer:exit 2b-486238530cc7c032a502ad00d6f1cfcb737a4fc4-6707a42b72096272-01
2022-04-20T15:29:17.832Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:17.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f60484f1c9a303cc1483f0f888f361b00621551-68d527896510f447-01 outer:exit 2b-1f60484f1c9a303cc1483f0f888f361b00621551-4d0f93ac379d01fa-01
2022-04-20T15:29:17.840Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:17.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2bc1cc7e899640ff9bf954a5eee49e4ed894b18-3d62f969dda6be24-01 outer:exit 2b-e2bc1cc7e899640ff9bf954a5eee49e4ed894b18-cec461be0b1a5220-01
2022-04-20T15:29:17.845Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:17.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a882f7f4b81c54861084622fdb1529c7ceb0713-842eac0046d840ed-01 outer:exit 2b-6a882f7f4b81c54861084622fdb1529c7ceb0713-340f168d6715408a-01
2022-04-20T15:29:17.854Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:17.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-560fcf0bdc983a4ebd0d03b3e52c96eaa3d7f342-63180a739e317e71-01 outer:exit 2b-560fcf0bdc983a4ebd0d03b3e52c96eaa3d7f342-fa5e5ea3e9ca292e-01
2022-04-20T15:29:17.857Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:17.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd38d39d77eeeb6e8512d0391fcd516a1f207ac7-bfc7468f26626486-01 outer:exit 2b-cd38d39d77eeeb6e8512d0391fcd516a1f207ac7-36a640d8aa044519-01
2022-04-20T15:29:17.859Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:17.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f0eec62ac2839ba336a406aeaadd36a5535b15e-179929b8c451ceda-01 outer:exit 2b-3f0eec62ac2839ba336a406aeaadd36a5535b15e-174412eb8db63687-01
2022-04-20T15:29:17.862Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:17.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-073800f35607169e60e1a2e0b2efef1bb588bd43-12988dd0e5907e22-01 outer:exit 2b-073800f35607169e60e1a2e0b2efef1bb588bd43-ad7596067782181a-01
2022-04-20T15:29:17.866Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:17.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7e407b7e89b2c1fbf72791a527404ab4459381e-0a7f43b5dc21e91b-01 outer:exit 2b-c7e407b7e89b2c1fbf72791a527404ab4459381e-46d7581d10700ed2-01
2022-04-20T15:29:17.870Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:17.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-69acd407b3b8749a89d55ca316e0184c1a9719f5-24c3e0dba31d13a8-01 outer:exit 2b-69acd407b3b8749a89d55ca316e0184c1a9719f5-982a2932950055da-01
2022-04-20T15:29:17.880Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:17.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cbcaaf68acdd812961f6031164c0ad5680ea953-180e4826b1e6680d-01 outer:exit 2b-7cbcaaf68acdd812961f6031164c0ad5680ea953-f836cabaf91bf60c-01
2022-04-20T15:29:17.883Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:17.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-019ec680b56eb94325588a6f4267957720ec6d2b-773f9ec3808cdc94-01 outer:exit 2b-019ec680b56eb94325588a6f4267957720ec6d2b-89c6fe423737acc7-01
2022-04-20T15:29:17.891Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:17.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-d96bc88f098a4ce0203a6b6838b9c40744f4b06f-bee2c3e5adfc4d44-01 outer:exit 2b-d96bc88f098a4ce0203a6b6838b9c40744f4b06f-b1b602718f5c61c2-01
2022-04-20T15:29:17.902Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:17.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-49ba5c870d578d66d17aee9fcf2e4e3fcf860479-dda13fa4396e4133-01 outer:exit 2b-49ba5c870d578d66d17aee9fcf2e4e3fcf860479-ca4f871940b5d4e5-01
2022-04-20T15:29:17.913Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:17.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-657469f8ede4ee657e3173b27c81b21dce419d74-064402f6e2317707-01 outer:exit 2b-657469f8ede4ee657e3173b27c81b21dce419d74-3ff1152b9b311e49-01
2022-04-20T15:29:17.923Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:17.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-852b5c38d0f45515ffe2e41fb66331bc5f06671e-2e973cb42cc97c3a-01 outer:exit 2b-852b5c38d0f45515ffe2e41fb66331bc5f06671e-f21dc656b0441c87-01
2022-04-20T15:29:17.925Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:17.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-afb16f09a4b2e6934c82a70be40f13ce8bda66c6-7f4a632b770efe7e-01 outer:exit 2b-afb16f09a4b2e6934c82a70be40f13ce8bda66c6-64ab470e7bb246f5-01
2022-04-20T15:29:17.930Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:17.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-e83b6e70d235c32e5dde6fa33b3030191c1895ec-4f0415bfe7909ea8-01 outer:exit 2b-e83b6e70d235c32e5dde6fa33b3030191c1895ec-49a4d3b44fb153a1-01
2022-04-20T15:29:17.939Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:17.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd6492756c15b85be7738d89385a9f976a5f3fb3-77ac31e5db38a14f-01 outer:exit 2b-fd6492756c15b85be7738d89385a9f976a5f3fb3-b801c1feab2dcfcf-01
2022-04-20T15:29:17.941Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:17.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-40905001fddd7cfe03ab91d58fefa7a24db38a5c-5fc0e75e92e7a642-01 outer:exit 2b-40905001fddd7cfe03ab91d58fefa7a24db38a5c-8a14355449f0fc0e-01
2022-04-20T15:29:17.944Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:17.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-1baca57e237818fab48683ea752d4d549a286447-ecaf936406cb5b6f-01 outer:exit 2b-1baca57e237818fab48683ea752d4d549a286447-0a21c23bddf6d7d3-01
2022-04-20T15:29:17.950Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:17.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c61a969d72c1e33f0ada7e45dac38fa249d724b-43e1b8af34e79fae-01 outer:exit 2b-0c61a969d72c1e33f0ada7e45dac38fa249d724b-f471d963b6dc8295-01
2022-04-20T15:29:17.952Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:17.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-17e3356499490d7daa464af823de2e03950fc42a-34726ecc3bd7f989-01 outer:exit 2b-17e3356499490d7daa464af823de2e03950fc42a-dcd758b0641539fa-01
2022-04-20T15:29:17.955Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:17.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a6786203398756676e4d6229edccbdeaf7f1875-d5a8351c42f66a2b-01 outer:exit 2b-2a6786203398756676e4d6229edccbdeaf7f1875-839acabc5d37ab1b-01
2022-04-20T15:29:17.972Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:17.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3ed11e914b2e9de87182c3558390091400072fb-a83fb817757df57b-01 outer:exit 2b-e3ed11e914b2e9de87182c3558390091400072fb-681d8c10a2de8b56-01
2022-04-20T15:29:17.983Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:17.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-53a3cf411a7219ecf07566e106361eebee967568-1c67a7b059920c48-01 outer:exit 2b-53a3cf411a7219ecf07566e106361eebee967568-355d43d460d9904f-01
2022-04-20T15:29:17.987Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:17.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-234950b79935831a693b53229b1d1dfaabd7cff0-c5df62af65801030-01 outer:exit 2b-234950b79935831a693b53229b1d1dfaabd7cff0-65b974429ae27f64-01
2022-04-20T15:29:17.991Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:17.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-0629fe2217b794a42cf11f6ee0e6d05fbb4d7b27-ff733e43a78896a3-01 outer:exit 2b-0629fe2217b794a42cf11f6ee0e6d05fbb4d7b27-ea9eef2d435aa34b-01
2022-04-20T15:29:17.997Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:18.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-371eb11b8480b4a445a8fc3f8a612f1302d8317b-e87a5445e4715f44-01 outer:exit 2b-371eb11b8480b4a445a8fc3f8a612f1302d8317b-8d9655744b3ebdd0-01
2022-04-20T15:29:18.042Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (470ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.10
updated 1 package and audited 935 packages in 6.147s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:25.697Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:25.698Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:25.698Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:25.699Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:25.781Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:25.994Z appoptics:patching patched crypto 
2022-04-20T15:29:26.018Z appoptics:patching patched https 
2022-04-20T15:29:26.018Z appoptics:patching patched http 
2022-04-20T15:29:26.079Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:26.080Z appoptics:patching patched fs 
2022-04-20T15:29:26.097Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v14.19.1)
2022-04-20T15:29:26.105Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2022-04-20T15:29:26.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2c62e4a2b5b333c0e2fc7a676a14c8899a2390c-82a566c0877ae274-01 outer:exit 2b-f2c62e4a2b5b333c0e2fc7a676a14c8899a2390c-4b6b1a16dac5c385-01
2022-04-20T15:29:26.160Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:26.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2793b07e1a8f8c1d3c69005d198ff1359cd621d-09373748768a39d9-01 outer:exit 2b-a2793b07e1a8f8c1d3c69005d198ff1359cd621d-d690d9f8e9fd2dd9-01
2022-04-20T15:29:26.215Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:26.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-7620dbdad773f1178ca2bd4ac1a556cf36242fcc-50ea88d7bc6a9bad-01 outer:exit 2b-7620dbdad773f1178ca2bd4ac1a556cf36242fcc-8172b9d94a9d789d-01
2022-04-20T15:29:26.219Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:26.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-e44694f1d2c0662d7e641cbae1a60828aedd3b76-ddae3b1f318c308a-01 outer:exit 2b-e44694f1d2c0662d7e641cbae1a60828aedd3b76-26f3edd1779b9d69-01
2022-04-20T15:29:26.222Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:26.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-00ac50ee71f9e31f654495c58118a06aed88c965-87f34d63da6b98e8-01 outer:exit 2b-00ac50ee71f9e31f654495c58118a06aed88c965-330c54fbf486457d-01
2022-04-20T15:29:26.229Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:26.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab7da91c2cc295ead007f045e6302055a0d05068-3b311fa86b1f4746-01 outer:exit 2b-ab7da91c2cc295ead007f045e6302055a0d05068-b401638b067b48e2-01
2022-04-20T15:29:26.232Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:26.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-f610c4865a1740b57c6f212f484880cf716a2754-73aae597c5e3fe25-01 outer:exit 2b-f610c4865a1740b57c6f212f484880cf716a2754-1563b352833b9ce7-01
2022-04-20T15:29:26.236Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:26.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0aefc482edb104fe7a99945fa15983ee5bc599b-adbebe4e98f90fcc-01 outer:exit 2b-b0aefc482edb104fe7a99945fa15983ee5bc599b-06be112191dc28c6-01
2022-04-20T15:29:26.240Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:26.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-899c8fc13162083850a2395406673ccdc5229f35-69b8a7ca9ecad1a6-01 outer:exit 2b-899c8fc13162083850a2395406673ccdc5229f35-5e03eed705a5502c-01
2022-04-20T15:29:26.243Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:26.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-b395d1ebe24a10350226091f832b7c97f4993558-b315d3b7753db056-01 outer:exit 2b-b395d1ebe24a10350226091f832b7c97f4993558-55b9f964801d9e99-01
2022-04-20T15:29:26.247Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:26.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b348d88ea0672806e2cd7cd15d043910d5f6ba5-91db63dcabfef0dc-01 outer:exit 2b-9b348d88ea0672806e2cd7cd15d043910d5f6ba5-466039de36b55160-01
2022-04-20T15:29:26.252Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:26.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-d27876702984ec86c44dbd9620980a04997f00e6-1745509a1a82a2d5-01 outer:exit 2b-d27876702984ec86c44dbd9620980a04997f00e6-c8c3a58c6fd85527-01
2022-04-20T15:29:26.259Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:26.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a16193a0dc94fca59cf3f61fcae047f4044f56e-f04f14ca02d2ac62-01 outer:exit 2b-3a16193a0dc94fca59cf3f61fcae047f4044f56e-f76922464cde9096-01
2022-04-20T15:29:26.280Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:26.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6450f590186543bc7ec1526a0764a32a576d29d-fbe798eee4657677-01 outer:exit 2b-b6450f590186543bc7ec1526a0764a32a576d29d-c3cbd0b8b545a6fa-01
2022-04-20T15:29:26.328Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:26.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-605d8433636954c833d4f0d9421bf502270618ed-2d63eb1021bf3110-01 outer:exit 2b-605d8433636954c833d4f0d9421bf502270618ed-50119525eeec8f39-01
2022-04-20T15:29:26.333Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:26.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2ccc3f15bdcd116c5427ce94ba80b898ef18800-b4ab67cc4475a62c-01 outer:exit 2b-b2ccc3f15bdcd116c5427ce94ba80b898ef18800-6dc8651ede46b379-01
2022-04-20T15:29:26.336Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:26.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-31757b77f10624f3a41bcf274101b54d5ccbc396-3d3c64378e080f5a-01 outer:exit 2b-31757b77f10624f3a41bcf274101b54d5ccbc396-d8548d856518e649-01
2022-04-20T15:29:26.339Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:26.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-658919eca52d7c98cd66aa0d0a8d73bce317d618-3ac2118d465772b4-01 outer:exit 2b-658919eca52d7c98cd66aa0d0a8d73bce317d618-3cf4d2e5bd7b3904-01
2022-04-20T15:29:26.343Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:26.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b7fade63fd4caa46cc85be13350cf140759715f-a370f5c4cf3fccac-01 outer:exit 2b-6b7fade63fd4caa46cc85be13350cf140759715f-0d69e02a5df8a2a0-01
2022-04-20T15:29:26.350Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:26.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-94471d0e290234646ff223eb26fb7c4119ced30f-e9fa95c25de5820c-01 outer:exit 2b-94471d0e290234646ff223eb26fb7c4119ced30f-28f58570e6679f76-01
2022-04-20T15:29:26.352Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:26.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-352a83a7b65e666f8ca04fa516afacac4e353dc1-c468cf18a6dcdb6e-01 outer:exit 2b-352a83a7b65e666f8ca04fa516afacac4e353dc1-ec40864b99a0b91a-01
2022-04-20T15:29:26.355Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:26.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-47ef6a7b13770983f640018abdd98713c67d9c6f-d9fd065c19437f78-01 outer:exit 2b-47ef6a7b13770983f640018abdd98713c67d9c6f-013f7fb6153d0afb-01
2022-04-20T15:29:26.358Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:26.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf76982b4a26206a9f324941b4d9a8243d41c198-fc6298131d666563-01 outer:exit 2b-cf76982b4a26206a9f324941b4d9a8243d41c198-00764d5ed4fcb9de-01
2022-04-20T15:29:26.362Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:26.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-a75d88fb13c22523d82af6542149c8ce43dd511a-b9de867965ec5690-01 outer:exit 2b-a75d88fb13c22523d82af6542149c8ce43dd511a-f1da7e7c6c5568a0-01
2022-04-20T15:29:26.366Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:26.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-57cb5f37300a4a0040793e21f2edd8d7647439ef-e80c97f9ddbed5f0-01 outer:exit 2b-57cb5f37300a4a0040793e21f2edd8d7647439ef-ed359669fd25f501-01
2022-04-20T15:29:26.369Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:26.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-b44b05d13357d9420efd78d94b04300c53820024-6a262f20140db026-01 outer:exit 2b-b44b05d13357d9420efd78d94b04300c53820024-4abb2e3775843845-01
2022-04-20T15:29:26.372Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:26.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-413bdad7f6f83bfb5f38de47ceaa79c289a30e59-a0de6a7568c3c6fc-01 outer:exit 2b-413bdad7f6f83bfb5f38de47ceaa79c289a30e59-2c7771f88a7aaca4-01
2022-04-20T15:29:26.379Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:26.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3ffa723b58632c0f7056d2d33cbe8ebd33d4821-55f2313c43049dfc-01 outer:exit 2b-b3ffa723b58632c0f7056d2d33cbe8ebd33d4821-97513557ac44108f-01
2022-04-20T15:29:26.386Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:26.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ced15117df5b171c6d2e1c474f76da0c633b3d8-e11b4fcc970fd8b7-01 outer:exit 2b-9ced15117df5b171c6d2e1c474f76da0c633b3d8-a2a024b9697bf930-01
2022-04-20T15:29:26.395Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:26.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-eced88c9fb5206d1b33a44ba8708239387106673-d2a8093945c882b6-01 outer:exit 2b-eced88c9fb5206d1b33a44ba8708239387106673-3b48cce8f81e6c7e-01
2022-04-20T15:29:26.404Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:26.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f3bb5dfb1cbfd8a1b58f54c1e1e0268ba48a63-5e306b111d58b6a1-01 outer:exit 2b-87f3bb5dfb1cbfd8a1b58f54c1e1e0268ba48a63-5f354dfc07d2b5fc-01
2022-04-20T15:29:26.407Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:26.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2dc9f31c6677085f5a8c98f001039e053cd432a-e703cb6236d9fa5f-01 outer:exit 2b-c2dc9f31c6677085f5a8c98f001039e053cd432a-58966571570f70ef-01
2022-04-20T15:29:26.412Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:26.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-620a4ad86b9e3680f5364aaa7bf0e1b16177b418-6c93676bde542b68-01 outer:exit 2b-620a4ad86b9e3680f5364aaa7bf0e1b16177b418-388137234e0df06a-01
2022-04-20T15:29:26.421Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:26.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-5435e7f583162f77f1ce844d23d091373dbc7d8d-072e64fbfff99563-01 outer:exit 2b-5435e7f583162f77f1ce844d23d091373dbc7d8d-bf36d0512e65cb99-01
2022-04-20T15:29:26.424Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:26.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-81e08a903ad9d4b91483a4e74dd8ae6bc0d456f4-ff3616631a104e95-01 outer:exit 2b-81e08a903ad9d4b91483a4e74dd8ae6bc0d456f4-5f92b5598ee928b3-01
2022-04-20T15:29:26.427Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:26.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cb2b1bf87ff13d806b438a7626effe33af00d99-3da902950e47b1c8-01 outer:exit 2b-1cb2b1bf87ff13d806b438a7626effe33af00d99-0939ebabc0bf683a-01
2022-04-20T15:29:26.430Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:26.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-c94dbecb9fdbd225f257c4094780ade5f245472d-5744ee65a9a99df3-01 outer:exit 2b-c94dbecb9fdbd225f257c4094780ade5f245472d-28063731966c4e66-01
2022-04-20T15:29:26.433Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:26.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-440562e379c37bbe10f8882257324d77455ea54a-94282145cce55655-01 outer:exit 2b-440562e379c37bbe10f8882257324d77455ea54a-3e6b1ddfe6ad0b7e-01
2022-04-20T15:29:26.436Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:26.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d8f030f9fc7be26fe26d5d81d6e000044b24f61-d6b92031d1dbe6b2-01 outer:exit 2b-4d8f030f9fc7be26fe26d5d81d6e000044b24f61-0fb2af0da51017d4-01
2022-04-20T15:29:26.454Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:26.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f26e3d99888fcbd71c8e58aad1fd0704ca9f308-d102df205f6f1096-01 outer:exit 2b-9f26e3d99888fcbd71c8e58aad1fd0704ca9f308-dd1cc261010c1cf3-01
2022-04-20T15:29:26.467Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:26.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-2df4c52d21fdb2f7e2511e02321a47bc8a65b9f3-d3225ce5ecab5fab-01 outer:exit 2b-2df4c52d21fdb2f7e2511e02321a47bc8a65b9f3-9e9dc233a58520c6-01
2022-04-20T15:29:26.470Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:26.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-80c8e890dadbfbae6d160cf2a982ea7636b4c88a-9789bc25d300db76-01 outer:exit 2b-80c8e890dadbfbae6d160cf2a982ea7636b4c88a-d9b86bc85c5c281b-01
2022-04-20T15:29:26.474Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:26.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-56e4e9759c8bee47e49174c7e91635109d6dfa32-aed7d6dc99f92e74-01 outer:exit 2b-56e4e9759c8bee47e49174c7e91635109d6dfa32-1f3f2c738a330bf3-01
2022-04-20T15:29:26.478Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:26.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-3153ed212985a053546ae633b4ed098ba0b003c2-c179dcf1ead9ba84-01 outer:exit 2b-3153ed212985a053546ae633b4ed098ba0b003c2-f87c0cbab94ecccf-01
2022-04-20T15:29:26.514Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (401ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.11
updated 1 package and audited 935 packages in 6.348s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:34.369Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:34.370Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:34.370Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:34.371Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:34.448Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:34.655Z appoptics:patching patched crypto 
2022-04-20T15:29:34.678Z appoptics:patching patched https 
2022-04-20T15:29:34.679Z appoptics:patching patched http 
2022-04-20T15:29:34.763Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:34.764Z appoptics:patching patched fs 
2022-04-20T15:29:34.783Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v14.19.1)
2022-04-20T15:29:34.793Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2022-04-20T15:29:34.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-35601e78306d746c643914db2993c82782867d98-6f7640eaa42f68a4-01 outer:exit 2b-35601e78306d746c643914db2993c82782867d98-35da91464eb76ae3-01
2022-04-20T15:29:34.853Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:34.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-a27a0468f39b814e9e812ac82b2179f384757db2-2ddd633c285aad75-01 outer:exit 2b-a27a0468f39b814e9e812ac82b2179f384757db2-c81f9a820d25be0d-01
2022-04-20T15:29:34.907Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:34.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-585d768bf5352652ce9c843768dda3c2b314fb3d-9646162f67468c00-01 outer:exit 2b-585d768bf5352652ce9c843768dda3c2b314fb3d-3117f92201ff3719-01
2022-04-20T15:29:34.912Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:34.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-58e158a594fa7304cd7db432b337cafe7e071529-9781f2cdeb3a9d6c-01 outer:exit 2b-58e158a594fa7304cd7db432b337cafe7e071529-1214fe45768beed1-01
2022-04-20T15:29:34.915Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:34.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-49de4b48201e5df5962386b4fd67de78bc53ae2e-37f3b35af3b65a0f-01 outer:exit 2b-49de4b48201e5df5962386b4fd67de78bc53ae2e-a70fb08dfed53c39-01
2022-04-20T15:29:34.921Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:34.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a789cf6ba20a47114ec2be0b404a9556a60eeff-4fefaede5cf8fcfe-01 outer:exit 2b-3a789cf6ba20a47114ec2be0b404a9556a60eeff-c41481ebc2716da1-01
2022-04-20T15:29:34.926Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:34.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-21ae1da2239dc8fc3ff7b8cb689f478c1c6dc218-9f392c6553a4fb3f-01 outer:exit 2b-21ae1da2239dc8fc3ff7b8cb689f478c1c6dc218-af2a020a6e46c4b5-01
2022-04-20T15:29:34.934Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:34.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a17a1f4e658a2cfe74d16b9c2da9e41a2b5c294-3743d4f6954901e8-01 outer:exit 2b-3a17a1f4e658a2cfe74d16b9c2da9e41a2b5c294-da363c4a9beb151b-01
2022-04-20T15:29:34.938Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:34.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-dffa8f2a668deef7d9009219018b6158e94bc079-dc3238ae6eff3261-01 outer:exit 2b-dffa8f2a668deef7d9009219018b6158e94bc079-36e7bfe98cbe7152-01
2022-04-20T15:29:34.941Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:34.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-047dee2589e1291418eba63c067640d3f1e369a9-cccc163409b09727-01 outer:exit 2b-047dee2589e1291418eba63c067640d3f1e369a9-421323d366c7e388-01
2022-04-20T15:29:34.945Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:34.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-d29090d23b0383a22886770dd56f2a5d87e42403-424b58b39bea320e-01 outer:exit 2b-d29090d23b0383a22886770dd56f2a5d87e42403-7004e9e7d9da3059-01
2022-04-20T15:29:34.950Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:34.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-72cf2a7587449849fadc7b63cefded700336a3d0-ad9e8e95b7f5e099-01 outer:exit 2b-72cf2a7587449849fadc7b63cefded700336a3d0-548f9639c43aea52-01
2022-04-20T15:29:34.958Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:34.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a5c716252f48ca4f6638ae9246cf65d989f28d3-c9f61474238ba4ba-01 outer:exit 2b-9a5c716252f48ca4f6638ae9246cf65d989f28d3-92282595cd467a9d-01
2022-04-20T15:29:34.978Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:35.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1d77a9d50dc262aaa487d1c3e97721543189ea6-219cc6ff430ac9be-01 outer:exit 2b-a1d77a9d50dc262aaa487d1c3e97721543189ea6-2774f3273d5025f1-01
2022-04-20T15:29:35.027Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:35.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc9ff23582785f28c0517dc4752b23ebf15f7029-eca88e6e768a4b70-01 outer:exit 2b-cc9ff23582785f28c0517dc4752b23ebf15f7029-342302c51321c39d-01
2022-04-20T15:29:35.031Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:35.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c7b04732ef9bbbefbf5d2b5d589c923b3bf21b3-0d8dbe76a9528ca8-01 outer:exit 2b-7c7b04732ef9bbbefbf5d2b5d589c923b3bf21b3-1ec1e0a97e018806-01
2022-04-20T15:29:35.035Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:35.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e407be498eaac67432c346c3698c71887ac7617-c68b47a7ad1583ba-01 outer:exit 2b-0e407be498eaac67432c346c3698c71887ac7617-d81f8306cfa5dbf8-01
2022-04-20T15:29:35.038Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:35.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-4955133de5b0a51aed7af8f60a721efe339cce80-65b14423b5e28482-01 outer:exit 2b-4955133de5b0a51aed7af8f60a721efe339cce80-79f04bd9203832d5-01
2022-04-20T15:29:35.041Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:35.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-85733212a2b99b824c9f1351e89027e52d0126d2-5a30afa2031a5d60-01 outer:exit 2b-85733212a2b99b824c9f1351e89027e52d0126d2-3d11f0302ef0dd7b-01
2022-04-20T15:29:35.048Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:35.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-019a9bff30ebe0bab721e763dbb276afb1950efa-d705165c667fcb2f-01 outer:exit 2b-019a9bff30ebe0bab721e763dbb276afb1950efa-8792573018ee10dd-01
2022-04-20T15:29:35.060Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:35.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e52a99e88f8a3809d2d352f4cad1f61180534c7-49edd67d2b817fe2-01 outer:exit 2b-9e52a99e88f8a3809d2d352f4cad1f61180534c7-fd74c6c88eecb373-01
2022-04-20T15:29:35.068Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:35.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-99c0d0ea2f12a542a81d7123310ff832fa89a0e8-836a6e3f4404bfb8-01 outer:exit 2b-99c0d0ea2f12a542a81d7123310ff832fa89a0e8-da3cbb5c123bb5ad-01
2022-04-20T15:29:35.071Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:35.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-e391aa9a7552fef6525f081a80ad1734e68ce71a-22a7007368a7384e-01 outer:exit 2b-e391aa9a7552fef6525f081a80ad1734e68ce71a-7c41cc37a68f0cf5-01
2022-04-20T15:29:35.075Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:35.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-20b8a54281bbddca5b538400049518e5c1eb72f3-d45f6916e0eb3527-01 outer:exit 2b-20b8a54281bbddca5b538400049518e5c1eb72f3-3afdc74ce09229bd-01
2022-04-20T15:29:35.080Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:35.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-503ae96638dee237137e406448635eee8dbba51c-706ffc7dd418aacd-01 outer:exit 2b-503ae96638dee237137e406448635eee8dbba51c-b6680d4361651f0c-01
2022-04-20T15:29:35.083Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:35.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-767ac958d4e05c2435bff84adf7344fa97cf80f4-3d392d39ad69d6e2-01 outer:exit 2b-767ac958d4e05c2435bff84adf7344fa97cf80f4-c4ae43408dab6b11-01
2022-04-20T15:29:35.086Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:35.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-0edac98b3caa0d9c903b5a55581749fbd85f8d9b-1a5ef8a582939c77-01 outer:exit 2b-0edac98b3caa0d9c903b5a55581749fbd85f8d9b-5113e65005477216-01
2022-04-20T15:29:35.093Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:35.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbee019d08c8af7c1151517162f42f0cefbf26d0-bb4732c3fa52893d-01 outer:exit 2b-fbee019d08c8af7c1151517162f42f0cefbf26d0-c4b3f0cbc2332469-01
2022-04-20T15:29:35.100Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:35.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-875ccb5b100674c4aaefa99b031c819c92246f49-0d022593bcd9e343-01 outer:exit 2b-875ccb5b100674c4aaefa99b031c819c92246f49-7f36279f6ea7c04d-01
2022-04-20T15:29:35.111Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:35.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9d370a5acf204295204522de1f698254786ea47-1d92a0b127eb6e5e-01 outer:exit 2b-d9d370a5acf204295204522de1f698254786ea47-b24da87ca1e706d3-01
2022-04-20T15:29:35.121Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:35.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-137e0a43c1335147e748400a0f3f840c4f850196-83713ef51c2732df-01 outer:exit 2b-137e0a43c1335147e748400a0f3f840c4f850196-5bce3c611cdc2af9-01
2022-04-20T15:29:35.124Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:35.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-728c7b2531e8635f2bf67d5dd89bb860f9b2f45d-07df1e87f5b489c9-01 outer:exit 2b-728c7b2531e8635f2bf67d5dd89bb860f9b2f45d-185a6e9f89b34a36-01
2022-04-20T15:29:35.127Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:35.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-42d4c159783573304b7c9d1b1eeeefb2db57b3a6-5d4b261ab98a100a-01 outer:exit 2b-42d4c159783573304b7c9d1b1eeeefb2db57b3a6-9f6287be41cf9f1e-01
2022-04-20T15:29:35.137Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:35.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff06e0245560722576fb5cf7a7bf924b1e3ab811-7b47fc1db1db5f56-01 outer:exit 2b-ff06e0245560722576fb5cf7a7bf924b1e3ab811-74476022dfe3babf-01
2022-04-20T15:29:35.140Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:35.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a7abce5a19adfceb5e9f5553a41ed64f9c7fddf-74da4acf558d331d-01 outer:exit 2b-5a7abce5a19adfceb5e9f5553a41ed64f9c7fddf-e66485e07422dfd5-01
2022-04-20T15:29:35.143Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:35.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-85b4119cf184ca8aae8b76b372d9088d4c79308a-6485633f0dfeda45-01 outer:exit 2b-85b4119cf184ca8aae8b76b372d9088d4c79308a-f1b6fec91545daf8-01
2022-04-20T15:29:35.146Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:35.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf9137b79819728f8fe41d83553de6df7a28ed2d-bacc7027d5e6ac6e-01 outer:exit 2b-cf9137b79819728f8fe41d83553de6df7a28ed2d-915efd0e9d910411-01
2022-04-20T15:29:35.148Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:35.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-34663bcebc4dffc144f521d4e8b15c04e81fa5fd-3833ea3a3b2d2937-01 outer:exit 2b-34663bcebc4dffc144f521d4e8b15c04e81fa5fd-3aa3cc5c614cfd3f-01
2022-04-20T15:29:35.151Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:35.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-8635aa57e568ebbb99d374792ea67eb50f16c90a-e59269cb85a83d24-01 outer:exit 2b-8635aa57e568ebbb99d374792ea67eb50f16c90a-ef67705d515c7c33-01
2022-04-20T15:29:35.164Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:35.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3bf20a937ef274750d927adf73ed078fff9f364-7666f4f1ff012d5a-01 outer:exit 2b-e3bf20a937ef274750d927adf73ed078fff9f364-4ad00a20ce16e081-01
2022-04-20T15:29:35.181Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:35.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-179b4a2fcacb20c202828e0dcac1d2bf9abd26df-2c4ce3daa8393a89-01 outer:exit 2b-179b4a2fcacb20c202828e0dcac1d2bf9abd26df-084110db458b2dd5-01
2022-04-20T15:29:35.185Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:35.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf194c154629c248b865154ed41b37b262186857-19f31a938094dfb5-01 outer:exit 2b-cf194c154629c248b865154ed41b37b262186857-0c450239b63ada9a-01
2022-04-20T15:29:35.189Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:35.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-af12263d4f8c14b5b06b2d025b7a677bd9095576-980cfba07e4a3cff-01 outer:exit 2b-af12263d4f8c14b5b06b2d025b7a677bd9095576-cd890d5563e023c8-01
2022-04-20T15:29:35.196Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:35.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fd88e7069c373bb49becc4c12167ff4ffc5c1db-fd04c6dadeba053f-01 outer:exit 2b-0fd88e7069c373bb49becc4c12167ff4ffc5c1db-7a0d1608e04ac1c9-01
2022-04-20T15:29:35.232Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (428ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.12
updated 1 package and audited 935 packages in 5.607s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:42.127Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:42.128Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:42.128Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:42.129Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:42.224Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:42.440Z appoptics:patching patched crypto 
2022-04-20T15:29:42.486Z appoptics:patching patched https 
2022-04-20T15:29:42.492Z appoptics:patching patched http 
2022-04-20T15:29:42.569Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:42.570Z appoptics:patching patched fs 
2022-04-20T15:29:42.594Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v14.19.1)
2022-04-20T15:29:42.602Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2022-04-20T15:29:42.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-41b5ef9e206c7bcd010853b1f7c0c5c0e9ed816d-ccf4ccece1a9704f-01 outer:exit 2b-41b5ef9e206c7bcd010853b1f7c0c5c0e9ed816d-cfe81394c10b2b07-01
2022-04-20T15:29:42.664Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:42.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4c01924a2de0d9ee8de04916ec6182f45a87674-c8a3c189b14326a0-01 outer:exit 2b-d4c01924a2de0d9ee8de04916ec6182f45a87674-2c804d261820ef17-01
2022-04-20T15:29:42.717Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:42.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-33c02a6adfa7a2413e4d8b4da0c32cefdd31ef76-e7617d9f0c4d73cb-01 outer:exit 2b-33c02a6adfa7a2413e4d8b4da0c32cefdd31ef76-579b5de1cc89c8ac-01
2022-04-20T15:29:42.721Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:42.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b909beccefb77e2f4deb44a8f4ea42796faf3c3-6b7604a57802b23c-01 outer:exit 2b-4b909beccefb77e2f4deb44a8f4ea42796faf3c3-318993d18d6c727e-01
2022-04-20T15:29:42.727Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:42.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-057367256b235d3ddd292173c328b54be0f2929d-54a92d25ee217b43-01 outer:exit 2b-057367256b235d3ddd292173c328b54be0f2929d-3d4bb893f0368999-01
2022-04-20T15:29:42.738Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:42.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-43c6bf690688b2910045f53bbbe3e5665fd88036-ccdc6cc60b315205-01 outer:exit 2b-43c6bf690688b2910045f53bbbe3e5665fd88036-852817356515c219-01
2022-04-20T15:29:42.746Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:42.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d8936b7998a44165b020b2c76a0fcf07fd664b1-316b5acc67b8cf4a-01 outer:exit 2b-6d8936b7998a44165b020b2c76a0fcf07fd664b1-21c71f8cfa9f9657-01
2022-04-20T15:29:42.751Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:42.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-51c1a77575d9f293118127d4734c371e7bfc0082-a418b26edfeb4944-01 outer:exit 2b-51c1a77575d9f293118127d4734c371e7bfc0082-b049d3f09f3da1af-01
2022-04-20T15:29:42.760Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:42.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-52fb8251765d81549771d2f6769b6380d0bf8d8f-d1f166f6882d34f1-01 outer:exit 2b-52fb8251765d81549771d2f6769b6380d0bf8d8f-f38273e969574f53-01
2022-04-20T15:29:42.764Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:42.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-b803559f13a57d24a4270f98e809bf4f1f7e2559-8fc13898b2297476-01 outer:exit 2b-b803559f13a57d24a4270f98e809bf4f1f7e2559-288205b1c748a57a-01
2022-04-20T15:29:42.773Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:42.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e48379f333edfda74638304487c39caf3ec7754-6eeee77b1556dc75-01 outer:exit 2b-3e48379f333edfda74638304487c39caf3ec7754-0dd0cd0673517ac2-01
2022-04-20T15:29:42.779Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:42.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cc9c61a5961c4c75750aeb6422b95449fd137f8-74cab47c58afb5ce-01 outer:exit 2b-0cc9c61a5961c4c75750aeb6422b95449fd137f8-79f4e13fd97419c4-01
2022-04-20T15:29:42.804Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:42.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-73e92cdec9903a0a6fe5a509ef52a4614ad08ae4-b878d1caf2768f48-01 outer:exit 2b-73e92cdec9903a0a6fe5a509ef52a4614ad08ae4-02b822b111e4f419-01
2022-04-20T15:29:42.821Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:42.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d1b5ab5676e8fb38e7af3bbdd693311ef9066cc-3ed86fbdee6b81d4-01 outer:exit 2b-5d1b5ab5676e8fb38e7af3bbdd693311ef9066cc-228a5f3b55bf7b82-01
2022-04-20T15:29:42.886Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:42.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e83218221a7f168d92424a2450ff8037612f297-998eee3bc0f064a7-01 outer:exit 2b-8e83218221a7f168d92424a2450ff8037612f297-61afb7ecc8525593-01
2022-04-20T15:29:42.891Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:42.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-73521ed47881251f45645cd8efc36caabfc6eda8-ee807b7a3932303f-01 outer:exit 2b-73521ed47881251f45645cd8efc36caabfc6eda8-d616e7e5d2a5f64d-01
2022-04-20T15:29:42.897Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:42.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-2db9ea837c6af8ab02dcbe08f61deea150737ab9-0fad11048884ec6e-01 outer:exit 2b-2db9ea837c6af8ab02dcbe08f61deea150737ab9-62148abc8d99f0a5-01
2022-04-20T15:29:42.915Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:42.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bc6df19c45439cdff950699dc60711baa0804e7-7b1af28f69d9ba9f-01 outer:exit 2b-9bc6df19c45439cdff950699dc60711baa0804e7-6b40f1fc08116116-01
2022-04-20T15:29:42.919Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:42.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-f95724e28abd791f255942fd22bce7c18b46d924-cc434d63199d2f72-01 outer:exit 2b-f95724e28abd791f255942fd22bce7c18b46d924-cbc2f5327f520b4a-01
2022-04-20T15:29:42.931Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:42.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-346f42b8f6ffe4394085231d43496211f4e0cb4c-e8adce75b3b1e6a5-01 outer:exit 2b-346f42b8f6ffe4394085231d43496211f4e0cb4c-0fe8de93582e3709-01
2022-04-20T15:29:42.939Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:42.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfb63e560e0f495239befe65be4d725ec4dc7d4a-ff2f63d0d41491c6-01 outer:exit 2b-dfb63e560e0f495239befe65be4d725ec4dc7d4a-20b538c683443969-01
2022-04-20T15:29:42.946Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:42.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e16cd856f7f6927400de0f37090ffd1a562abb9-652a861db8c20897-01 outer:exit 2b-9e16cd856f7f6927400de0f37090ffd1a562abb9-34cf4393ff537ff4-01
2022-04-20T15:29:42.949Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:42.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-f37fef6e7721634f4150f9c04b746b44350f8365-72c701d62e6071c2-01 outer:exit 2b-f37fef6e7721634f4150f9c04b746b44350f8365-181d1bffd43bcc31-01
2022-04-20T15:29:42.953Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:42.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-41343202f79a09bdace47c6526def0d032533440-68d203dc1eb90668-01 outer:exit 2b-41343202f79a09bdace47c6526def0d032533440-c79223eebb23ad10-01
2022-04-20T15:29:42.960Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:42.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab2a5bbb4ace09355ab7a1340a637bdd9cfd3643-70897cd838ff5efb-01 outer:exit 2b-ab2a5bbb4ace09355ab7a1340a637bdd9cfd3643-0b6dd9a0ae710966-01
2022-04-20T15:29:42.963Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:42.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-44f1aa8aa0cade90589e6cb99baae9fab39425cf-9bb6398fa98b7a67-01 outer:exit 2b-44f1aa8aa0cade90589e6cb99baae9fab39425cf-b885b89dacaefa3e-01
2022-04-20T15:29:42.967Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:43.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-465befec88826a074a4693dc8dc369d06dfbce9b-28c7694c1ddd9a34-01 outer:exit 2b-465befec88826a074a4693dc8dc369d06dfbce9b-618ac449b235820e-01
2022-04-20T15:29:43.005Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:43.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-474632d25c1386b9bcf5f4d78ed6cd031f797c0f-249365a1d28d5ff8-01 outer:exit 2b-474632d25c1386b9bcf5f4d78ed6cd031f797c0f-cd8d76b773225460-01
2022-04-20T15:29:43.051Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:43.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5d25150f999d39f62378e2249086754eec5cd11-814319b0e9156e20-01 outer:exit 2b-f5d25150f999d39f62378e2249086754eec5cd11-93e5f3c7b4717e95-01
2022-04-20T15:29:43.074Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:43.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-482fe3fa2e9c47629896c0dc3913a45b40a6d89d-b70336bb8c27a8c9-01 outer:exit 2b-482fe3fa2e9c47629896c0dc3913a45b40a6d89d-df969b90fc7626ee-01
2022-04-20T15:29:43.084Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:43.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5bb4186032733377d2c1c8c94a29d6fd31e0c1f-e6c959f77af6f845-01 outer:exit 2b-d5bb4186032733377d2c1c8c94a29d6fd31e0c1f-c4a897f339942cab-01
2022-04-20T15:29:43.088Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:43.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3d0ea206311e00e1668ae31bb3263c26f453013-e9fd933e3379553f-01 outer:exit 2b-c3d0ea206311e00e1668ae31bb3263c26f453013-508be10d4598fa99-01
2022-04-20T15:29:43.095Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:43.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-34422118a021c430c6c87183c27fd320a8263b48-c3736c8047da30b8-01 outer:exit 2b-34422118a021c430c6c87183c27fd320a8263b48-8bb29440fa5502ea-01
2022-04-20T15:29:43.110Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:43.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-f113ffd0b5a82870078dc506cf0d77d4eeedcd83-dc713d9f3308a8de-01 outer:exit 2b-f113ffd0b5a82870078dc506cf0d77d4eeedcd83-6ef16452316eeb63-01
2022-04-20T15:29:43.112Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:43.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-adfa85a4834f6762a3c1b04dfa3226ae9120baff-7fdebb49eebf22f2-01 outer:exit 2b-adfa85a4834f6762a3c1b04dfa3226ae9120baff-3176ca698ea7ca1b-01
2022-04-20T15:29:43.115Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:43.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dfd5430900a0b96dc95bdbc07a0bd48b5c36c62-36b7a4ae715101e8-01 outer:exit 2b-1dfd5430900a0b96dc95bdbc07a0bd48b5c36c62-d3d6c5dbacc18ecc-01
2022-04-20T15:29:43.118Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:43.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-75f8876960cd6c92722ec9270b82171678053863-6c3c075e4d7b215e-01 outer:exit 2b-75f8876960cd6c92722ec9270b82171678053863-3f9472776a457438-01
2022-04-20T15:29:43.128Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:43.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-29ae41ec32b9f941fde2c74d26607c5601126cf1-26f6bab7d26afa14-01 outer:exit 2b-29ae41ec32b9f941fde2c74d26607c5601126cf1-4b35cfb34a024006-01
2022-04-20T15:29:43.138Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:43.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-aae139b322075984256f5042951f803491556e80-7d61fd2e62f0a176-01 outer:exit 2b-aae139b322075984256f5042951f803491556e80-00eb923b0de4e542-01
2022-04-20T15:29:43.158Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:43.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa37d6c3cdee68f7cfbc0b043c68580aaa34180b-e3b30bd48d8a0c44-01 outer:exit 2b-fa37d6c3cdee68f7cfbc0b043c68580aaa34180b-a5dfd68199753b53-01
2022-04-20T15:29:43.179Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:43.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6b3067d75eff6ec0ce1e1cdf2ce66246b3961c8-2511e63f0d033b0a-01 outer:exit 2b-e6b3067d75eff6ec0ce1e1cdf2ce66246b3961c8-0debbd9f49108c92-01
2022-04-20T15:29:43.184Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:43.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ffdc66d3971d642371f3dc0ffcaef1a7f928bc7-baca68de6fec4084-01 outer:exit 2b-3ffdc66d3971d642371f3dc0ffcaef1a7f928bc7-3a9243be48ecc2d2-01
2022-04-20T15:29:43.188Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:43.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-764b0446614c9d4cbde3cd0014a76e9eab387ef1-4241ace985f47973-01 outer:exit 2b-764b0446614c9d4cbde3cd0014a76e9eab387ef1-7ad2c8a396be56de-01
2022-04-20T15:29:43.213Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:43.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a89a12137ab68f183438a54e499372d65eae9d4-d123be0fc74f570d-01 outer:exit 2b-3a89a12137ab68f183438a54e499372d65eae9d4-3567031cb3a29b9a-01
2022-04-20T15:29:43.254Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (643ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.13
updated 1 package and audited 935 packages in 6.517s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:51.144Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:51.145Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:51.145Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:51.146Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:51.245Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:51.448Z appoptics:patching patched crypto 
2022-04-20T15:29:51.471Z appoptics:patching patched https 
2022-04-20T15:29:51.472Z appoptics:patching patched http 
2022-04-20T15:29:51.538Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:51.538Z appoptics:patching patched fs 
2022-04-20T15:29:51.557Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v14.19.1)
2022-04-20T15:29:51.564Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2022-04-20T15:29:51.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2c7b37eefc813f3350b2eb2bd715ce54c9b89e6-0b69e453090dfb52-01 outer:exit 2b-f2c7b37eefc813f3350b2eb2bd715ce54c9b89e6-307ab960cdef0d12-01
2022-04-20T15:29:51.621Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:51.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-593659b55fe887d238cae5239126317d970d60e3-79b3b09866a4e484-01 outer:exit 2b-593659b55fe887d238cae5239126317d970d60e3-fec299886565990a-01
2022-04-20T15:29:51.687Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:51.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2503f5040bcd622bff47912802c16e1d00654f9-4c7463a4658cb1bb-01 outer:exit 2b-a2503f5040bcd622bff47912802c16e1d00654f9-574ba287f3ac9e8b-01
2022-04-20T15:29:51.691Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:51.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c5568b65c69367ed8810978e11eda19a3a985f9-36a33dc973418826-01 outer:exit 2b-7c5568b65c69367ed8810978e11eda19a3a985f9-bee8a04c6e1a9021-01
2022-04-20T15:29:51.695Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:51.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a22bf78e6a566469c5875e571121ef428b06096-9d9cfba5216855a3-01 outer:exit 2b-0a22bf78e6a566469c5875e571121ef428b06096-57aefa3e0f50ea9d-01
2022-04-20T15:29:51.701Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:51.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7d75b94ff61a6b20bfee95931ec939fe978d17c-716287820322eb20-01 outer:exit 2b-d7d75b94ff61a6b20bfee95931ec939fe978d17c-60c0f69cf6f43629-01
2022-04-20T15:29:51.709Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:51.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-388c559fb6bab68ebbfaa37e7253690a10998706-3621da5a1039a606-01 outer:exit 2b-388c559fb6bab68ebbfaa37e7253690a10998706-4377089d62e73def-01
2022-04-20T15:29:51.713Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:51.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a96c76f2567761a55658beeb162cb00a3e9552d-6d4ecf46b247aaa7-01 outer:exit 2b-1a96c76f2567761a55658beeb162cb00a3e9552d-d75df2ad7d22a6e8-01
2022-04-20T15:29:51.717Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:51.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-59821ec2ced7ed9bd2958d585f430839c0aefdc9-58bb3b0ccd48b3aa-01 outer:exit 2b-59821ec2ced7ed9bd2958d585f430839c0aefdc9-0a1ea92deb8e4f94-01
2022-04-20T15:29:51.720Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:51.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c5cf56ca2230656664919b718b082de0ebc3edc-9cade1256cafd665-01 outer:exit 2b-3c5cf56ca2230656664919b718b082de0ebc3edc-7cfa1dae983edd17-01
2022-04-20T15:29:51.725Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:51.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dc806418316b4500e8004549cc98e8065ffdb0b-f043f217f07cef16-01 outer:exit 2b-0dc806418316b4500e8004549cc98e8065ffdb0b-72d4e1cad193a0cf-01
2022-04-20T15:29:51.732Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:51.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-937c2689422a339108427169d3e2af3d147b34dc-a7c2b3d268af278b-01 outer:exit 2b-937c2689422a339108427169d3e2af3d147b34dc-cafabb186758b309-01
2022-04-20T15:29:51.740Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:51.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ff87f93b9b75d3c4c1a054b87877dcb5ff9f4f8-e04dbf1fd1bfbaa7-01 outer:exit 2b-0ff87f93b9b75d3c4c1a054b87877dcb5ff9f4f8-99080f3dc711e2d5-01
2022-04-20T15:29:51.761Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:51.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-eda29de5dea2d4c54b59ef506919bbc1e4e9501a-6356b8e42303f0bc-01 outer:exit 2b-eda29de5dea2d4c54b59ef506919bbc1e4e9501a-7f52117ed593a3d0-01
2022-04-20T15:29:51.808Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:51.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-30fb8fea93de2023b5e450ebc1e66874282d87b2-ee1aabbaa0c952e3-01 outer:exit 2b-30fb8fea93de2023b5e450ebc1e66874282d87b2-5b434463fef7956f-01
2022-04-20T15:29:51.813Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:51.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcabd4dd443ee0dadea5c5342981413b8003eeb3-9cdff8042aaeb258-01 outer:exit 2b-bcabd4dd443ee0dadea5c5342981413b8003eeb3-81bb2061b323cd71-01
2022-04-20T15:29:51.817Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:51.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-e46c2540ba82b96191ddfed4883a4ec7a2daec5b-55d574d96804cc54-01 outer:exit 2b-e46c2540ba82b96191ddfed4883a4ec7a2daec5b-c04d5fbcbc8905a9-01
2022-04-20T15:29:51.821Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:51.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-2077aeed35fb1004b89d3f7d31dd8700ffa7e7a2-f607c8ec30a31901-01 outer:exit 2b-2077aeed35fb1004b89d3f7d31dd8700ffa7e7a2-aa816edfeae47c3b-01
2022-04-20T15:29:51.828Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:51.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-14401a37fa60319320dc393b10924a455ed170e0-af7a3ef441d40482-01 outer:exit 2b-14401a37fa60319320dc393b10924a455ed170e0-1ff0a4352352e3c3-01
2022-04-20T15:29:51.831Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:51.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-70fecf48e5173b39ea110508d84fcdffb9258eb4-28bb553d06360b65-01 outer:exit 2b-70fecf48e5173b39ea110508d84fcdffb9258eb4-33b0c283fab073aa-01
2022-04-20T15:29:51.834Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:51.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b256c06c34e7246c26f5f5cbd57032dc7bf1935-3bfb385d41eeda8d-01 outer:exit 2b-2b256c06c34e7246c26f5f5cbd57032dc7bf1935-b609648696535a61-01
2022-04-20T15:29:51.837Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:51.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c604deadb91a763fd52e3f6b20542c38c120bc-67fbeb7d9284a97c-01 outer:exit 2b-65c604deadb91a763fd52e3f6b20542c38c120bc-ec0e2a07ebac21cd-01
2022-04-20T15:29:51.840Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:51.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8c7bc3d6578663e42a9c5a0ab71ea2400990534-a075a269c0e2e351-01 outer:exit 2b-b8c7bc3d6578663e42a9c5a0ab71ea2400990534-8dabb49ffc6e690b-01
2022-04-20T15:29:51.843Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:51.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbe713bd95c6dc1b08a49e1397200042c09f0195-8487c1d95c80efc0-01 outer:exit 2b-fbe713bd95c6dc1b08a49e1397200042c09f0195-ec9779b45e737b5b-01
2022-04-20T15:29:51.847Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:51.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-82fb752ba5ecdac8540402d72618bbb9c6a6dd4e-40d3f4792b970c7a-01 outer:exit 2b-82fb752ba5ecdac8540402d72618bbb9c6a6dd4e-0c914a69f0b17b55-01
2022-04-20T15:29:51.850Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:51.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-85fa8a87dbea51ccf69ffcb9c719daefab3cd032-507d54dc53660719-01 outer:exit 2b-85fa8a87dbea51ccf69ffcb9c719daefab3cd032-6358108c5ed650f8-01
2022-04-20T15:29:51.853Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:51.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-b745dba9b94468e208ae8a69ec48cd6bbf487688-ef3fb637bb331d18-01 outer:exit 2b-b745dba9b94468e208ae8a69ec48cd6bbf487688-013b6e03b5ad4cec-01
2022-04-20T15:29:51.863Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:51.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-728052fa2dbceaeb1ee41f74420e3670c5442c9d-63dcf5d411045090-01 outer:exit 2b-728052fa2dbceaeb1ee41f74420e3670c5442c9d-08783baac719f654-01
2022-04-20T15:29:51.868Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:51.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2b5c390d45a9a0b2d2e002d38e45830a2b20221-d72086e5e870ce91-01 outer:exit 2b-b2b5c390d45a9a0b2d2e002d38e45830a2b20221-0a063431bfd6287f-01
2022-04-20T15:29:51.879Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:51.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-03b49e188ca92660e7afc77bbd6ff81b0a78d309-51a7d7cc24c60139-01 outer:exit 2b-03b49e188ca92660e7afc77bbd6ff81b0a78d309-f569a9bebcb4a6c7-01
2022-04-20T15:29:51.890Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:51.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-efe32a494ae298d4146db33eb04b7fcecb0246ee-b4d10bff5facd550-01 outer:exit 2b-efe32a494ae298d4146db33eb04b7fcecb0246ee-27765d24a6859432-01
2022-04-20T15:29:51.893Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:51.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a7fac42b684a9c8b3134f9816d7075908d9f2e-b41dbee94d6dc760-01 outer:exit 2b-77a7fac42b684a9c8b3134f9816d7075908d9f2e-a4699135495dc38a-01
2022-04-20T15:29:51.896Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:51.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-887e148f471fd2455da163d29e21d63638bf56bd-4608d454d3215cd3-01 outer:exit 2b-887e148f471fd2455da163d29e21d63638bf56bd-60f1261aa48c1ef5-01
2022-04-20T15:29:51.908Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:51.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-5266c33b7685e5179755597f2d37fb29bafd26b9-286a34020718099b-01 outer:exit 2b-5266c33b7685e5179755597f2d37fb29bafd26b9-d02f5cbbce3c52a9-01
2022-04-20T15:29:51.911Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:51.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1835adbdf7231491b9dbd1fc9809dd7bf5438b5-ed520995a626b9e0-01 outer:exit 2b-f1835adbdf7231491b9dbd1fc9809dd7bf5438b5-f13900a5673f9608-01
2022-04-20T15:29:51.913Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:51.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-35b6e600c41eaafa6f7a3afc2c18f6790ef73eca-263b4f39dc5f6ebd-01 outer:exit 2b-35b6e600c41eaafa6f7a3afc2c18f6790ef73eca-6655455d75a6b344-01
2022-04-20T15:29:51.916Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:51.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6e83a2827bbd939344d89e2aff2deb88197684f-2bb1a3f891059458-01 outer:exit 2b-f6e83a2827bbd939344d89e2aff2deb88197684f-25a5e6ef6541b587-01
2022-04-20T15:29:51.919Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:51.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-259f475d026f3d2568e99c634a99cff0a9b4ee27-fa67e9de14aed035-01 outer:exit 2b-259f475d026f3d2568e99c634a99cff0a9b4ee27-88758e2308b405b3-01
2022-04-20T15:29:51.921Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:51.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0af8e12733e5e867c8250723230bf1a5758f753-e3c7776810b689f2-01 outer:exit 2b-e0af8e12733e5e867c8250723230bf1a5758f753-ca9955ca0030e83a-01
2022-04-20T15:29:51.936Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:51.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-fec7d4e205328f5c48b08c80b34c546f9b5bb05d-c0d6a550fc320af4-01 outer:exit 2b-fec7d4e205328f5c48b08c80b34c546f9b5bb05d-e1e06fdb45f6b28e-01
2022-04-20T15:29:51.949Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:51.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3aa412409eec7af5cab13fd63fa4c043cf17d1b-e8dd6127bfbe5b49-01 outer:exit 2b-b3aa412409eec7af5cab13fd63fa4c043cf17d1b-0e45446294ae0e8d-01
2022-04-20T15:29:51.953Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:51.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-655cc736f3496e5e120973dc12dc55ff39ca3f3e-ff7ec53f705c6f6c-01 outer:exit 2b-655cc736f3496e5e120973dc12dc55ff39ca3f3e-d6d827d8b6e5b35e-01
2022-04-20T15:29:51.957Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:51.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ff98083cfac17b56445ef7bcc0bf8208f4a7f66-2b68ead6947f959c-01 outer:exit 2b-5ff98083cfac17b56445ef7bcc0bf8208f4a7f66-f06a81118c612fa8-01
2022-04-20T15:29:51.960Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:51.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-91604da1fda61f5a0222c8d10e66d2ef90a5081f-58c58d0be6fd49fa-01 outer:exit 2b-91604da1fda61f5a0222c8d10e66d2ef90a5081f-21800f7d9dc20ab4-01
2022-04-20T15:29:51.996Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (424ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.14
updated 1 package and audited 935 packages in 7.118s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:00.415Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:00.415Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:00.416Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:00.418Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:00.503Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:00.713Z appoptics:patching patched crypto 
2022-04-20T15:30:00.736Z appoptics:patching patched https 
2022-04-20T15:30:00.737Z appoptics:patching patched http 
2022-04-20T15:30:00.796Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:00.797Z appoptics:patching patched fs 
2022-04-20T15:30:00.815Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v14.19.1)
2022-04-20T15:30:00.823Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2022-04-20T15:30:00.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-f584de5b59181fe9f63b24fbbeac1d9aee40d389-4bcabb0c5251c6f2-01 outer:exit 2b-f584de5b59181fe9f63b24fbbeac1d9aee40d389-58b3dd8e7b62d769-01
2022-04-20T15:30:00.881Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:00.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1ebc9827fc76e046a7534b70051f89ac3c7fe8c-020f32959e125939-01 outer:exit 2b-e1ebc9827fc76e046a7534b70051f89ac3c7fe8c-21d0bafc5d5730ec-01
2022-04-20T15:30:00.947Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:00.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-148d9caba67f0b65e4ae4bccd9ebed42f3652538-02f90df2090170f5-01 outer:exit 2b-148d9caba67f0b65e4ae4bccd9ebed42f3652538-4b35cb09fde37a39-01
2022-04-20T15:30:00.951Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:00.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d821f1eccbc7b6df6cdb6033b4e33acb2562ecb-69016484a67a01f3-01 outer:exit 2b-9d821f1eccbc7b6df6cdb6033b4e33acb2562ecb-95bbe2b45851d1ef-01
2022-04-20T15:30:00.955Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:00.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-47a3a8a02475f0b4128f1c01e3d4f6a97c74b22b-100c6a4b480d62df-01 outer:exit 2b-47a3a8a02475f0b4128f1c01e3d4f6a97c74b22b-6cc03db0124e1d5f-01
2022-04-20T15:30:00.961Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:00.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-8107636ba74921869dc23f1cd989f93ec0648e2d-8ae32cc424afe361-01 outer:exit 2b-8107636ba74921869dc23f1cd989f93ec0648e2d-d8acb56197bce4bf-01
2022-04-20T15:30:00.965Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:00.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f1ecb452e9ec78a595a1804857306c00c0774bf-189c52925b104085-01 outer:exit 2b-6f1ecb452e9ec78a595a1804857306c00c0774bf-947be149a217873d-01
2022-04-20T15:30:00.968Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:00.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7ea87ebf454070d8339b591909ce0088d552321-01d65cc52fee20d6-01 outer:exit 2b-e7ea87ebf454070d8339b591909ce0088d552321-c1f471cf0e7d89ea-01
2022-04-20T15:30:00.972Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:00.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3920f948d1d347dab5a66e3d6b628108789973d-d228f137690c5a68-01 outer:exit 2b-d3920f948d1d347dab5a66e3d6b628108789973d-017f2e3e6a0ac34f-01
2022-04-20T15:30:00.975Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:00.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-5787048a6055fd7b8359e53de0f2c41cc1b21635-e23c5fed4c798d32-01 outer:exit 2b-5787048a6055fd7b8359e53de0f2c41cc1b21635-e5d7c124cb407073-01
2022-04-20T15:30:00.979Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:00.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc36aacfcbeb79a7e69e49ea06557e905e5210e4-414080fe85d23059-01 outer:exit 2b-bc36aacfcbeb79a7e69e49ea06557e905e5210e4-e01ab0da0755c266-01
2022-04-20T15:30:00.986Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:00.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-71b65f4ff010fafa4456c178ea0e43f20261474e-67e0988f554ec8f8-01 outer:exit 2b-71b65f4ff010fafa4456c178ea0e43f20261474e-c86e2790abcf6d7d-01
2022-04-20T15:30:00.994Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:01.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-70868c973f11124c77b7dcaafd49db3bb9ca48ed-5da17b8d5181f065-01 outer:exit 2b-70868c973f11124c77b7dcaafd49db3bb9ca48ed-4ab0155b3b7e79c9-01
2022-04-20T15:30:01.015Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:01.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-47e5e78ca32d915f9540d1b2127d7f4566b6ee13-7dead8c2c7b92d85-01 outer:exit 2b-47e5e78ca32d915f9540d1b2127d7f4566b6ee13-8add000caff1135a-01
2022-04-20T15:30:01.063Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:01.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-1986f2382beb2baddbacdaa8628438ac7cadc058-e5790313e688bab7-01 outer:exit 2b-1986f2382beb2baddbacdaa8628438ac7cadc058-95505da645d11f38-01
2022-04-20T15:30:01.068Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:01.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e2beca2c093b7bf2d7735ee7e17d021c7a18690-740adf6ae85a1847-01 outer:exit 2b-8e2beca2c093b7bf2d7735ee7e17d021c7a18690-fe7d5aa4c240f116-01
2022-04-20T15:30:01.071Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:01.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fc5df07eb3d15f31b6f4932d592eb05f9d403c8-e120976b535bfe6f-01 outer:exit 2b-2fc5df07eb3d15f31b6f4932d592eb05f9d403c8-5a1b1afcec2ddddd-01
2022-04-20T15:30:01.075Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:01.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-1183aaa8047993417710939fd7bf8ec7ce20fa42-9390a33b451ca112-01 outer:exit 2b-1183aaa8047993417710939fd7bf8ec7ce20fa42-55853316b61099e5-01
2022-04-20T15:30:01.078Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:01.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-972f9ba2ad6769755b68b7bbe37de2acf2b26879-fde30f13ccefc4fc-01 outer:exit 2b-972f9ba2ad6769755b68b7bbe37de2acf2b26879-be511feed21ffc5c-01
2022-04-20T15:30:01.084Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:01.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b38bb9c484b90d83d745aae84e89126337311b8-052087a3170bd112-01 outer:exit 2b-3b38bb9c484b90d83d745aae84e89126337311b8-a96904cdce72cbb7-01
2022-04-20T15:30:01.087Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:01.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-f90ecb40546e558badce7f1092a4cc724807aa0d-0d989e861be312c1-01 outer:exit 2b-f90ecb40546e558badce7f1092a4cc724807aa0d-eddf4932f4035795-01
2022-04-20T15:30:01.089Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:01.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-e68afee0dc7373b545af28b0abb06258bc0fdfbc-21ccf2358a73b8dd-01 outer:exit 2b-e68afee0dc7373b545af28b0abb06258bc0fdfbc-379fef8d60325fe1-01
2022-04-20T15:30:01.092Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:01.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-98626dc4074b6181d29af66c5e9af27e5247ccfb-32a5f496c02c0627-01 outer:exit 2b-98626dc4074b6181d29af66c5e9af27e5247ccfb-044d1b079ac9b935-01
2022-04-20T15:30:01.096Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:01.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb770c7145845d7052ccb0350fd0de23224d80d4-66817e77f95b5d75-01 outer:exit 2b-eb770c7145845d7052ccb0350fd0de23224d80d4-04bc3c4e7c39381b-01
2022-04-20T15:30:01.100Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:01.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e2d201c00a6a0291303cca9cffcdfcc3ae8d2ee-64510265795e9537-01 outer:exit 2b-1e2d201c00a6a0291303cca9cffcdfcc3ae8d2ee-c58d4f8d1d638a6a-01
2022-04-20T15:30:01.103Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:01.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-72cb5f586e7dc1bdbc2a8ed6662776d3084004ab-7f4e261f6c6875d6-01 outer:exit 2b-72cb5f586e7dc1bdbc2a8ed6662776d3084004ab-73a7916edef95480-01
2022-04-20T15:30:01.106Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:01.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9a6848246ce43940f1e33257ac07b2a5b3b4f26-90c4c7d905e79156-01 outer:exit 2b-d9a6848246ce43940f1e33257ac07b2a5b3b4f26-32127678aa6828b3-01
2022-04-20T15:30:01.116Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:01.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f6e18adea26d6571aa8fa272a7d4307e0600978-3734c0ad20da664f-01 outer:exit 2b-3f6e18adea26d6571aa8fa272a7d4307e0600978-def22ee52d5d7351-01
2022-04-20T15:30:01.122Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:01.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d35688aaa109cadc560431208212451ea888dad-495cfa89b1c41336-01 outer:exit 2b-6d35688aaa109cadc560431208212451ea888dad-f4a06e34a9c5e1c6-01
2022-04-20T15:30:01.133Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:01.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-aff6b1b2e6c3c60b06b5004ef55c11f6e036fa79-a543516873522a7d-01 outer:exit 2b-aff6b1b2e6c3c60b06b5004ef55c11f6e036fa79-e7177895bcc95119-01
2022-04-20T15:30:01.142Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:01.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-19184ac8ebc10ec375ee402ebe3f7a8d27429062-23ca5260ac097e13-01 outer:exit 2b-19184ac8ebc10ec375ee402ebe3f7a8d27429062-70af1f71aa5a0b8d-01
2022-04-20T15:30:01.145Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:01.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebdfa055440c658ae950971f12db7425fe158980-df66af46318ebced-01 outer:exit 2b-ebdfa055440c658ae950971f12db7425fe158980-fdc874b69f4b9456-01
2022-04-20T15:30:01.149Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:01.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4b7b83e98e731d94673ec56f2304fdf371277a3-e9786676ecffa6a4-01 outer:exit 2b-e4b7b83e98e731d94673ec56f2304fdf371277a3-e91046eeada91407-01
2022-04-20T15:30:01.158Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:01.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-05f5988335758390491e59f4d02753b695c1bebc-f598593fb37bdf11-01 outer:exit 2b-05f5988335758390491e59f4d02753b695c1bebc-53d55c116c4d1336-01
2022-04-20T15:30:01.161Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:01.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd54fdc7a1ca185f97d86f339ebc275fc5e9d24a-bef10f5bbb7d3fd8-01 outer:exit 2b-fd54fdc7a1ca185f97d86f339ebc275fc5e9d24a-c66aa92133e0346e-01
2022-04-20T15:30:01.164Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:01.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-b011759d2f228335c7d19dfc822b513080e54692-faabed141f08363d-01 outer:exit 2b-b011759d2f228335c7d19dfc822b513080e54692-4111af0ca8db297c-01
2022-04-20T15:30:01.168Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:01.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a8160c9b69bc3ae31b447ae5f6a010c4b3aeb91-9be0c140be2b6a43-01 outer:exit 2b-9a8160c9b69bc3ae31b447ae5f6a010c4b3aeb91-80af4821c8daf8d5-01
2022-04-20T15:30:01.170Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:01.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce01b7c89ae39099a164ecdbeb890148ffda7283-266d855699f3f9fb-01 outer:exit 2b-ce01b7c89ae39099a164ecdbeb890148ffda7283-8e10a8cd91ae2668-01
2022-04-20T15:30:01.173Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:01.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-e25b6087f987523c0cb8bea28004071ab6178b21-60ba53dccadacc5d-01 outer:exit 2b-e25b6087f987523c0cb8bea28004071ab6178b21-9bd25f68c16bf9d3-01
2022-04-20T15:30:01.187Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:01.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a8321aa36e6a1bae155bb9f4bac16c9e9b54f61-c4459d20850ca765-01 outer:exit 2b-2a8321aa36e6a1bae155bb9f4bac16c9e9b54f61-d858d9920c0473c0-01
2022-04-20T15:30:01.199Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:01.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-b305b00c8ef55592305e4919a5f6b58716cea63e-dc1a4f867bf96c3b-01 outer:exit 2b-b305b00c8ef55592305e4919a5f6b58716cea63e-2cdf46fadff80a9d-01
2022-04-20T15:30:01.203Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:01.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e00ec9aafa0df5b06c28478a895de90aa712f86-e8e47755d3e92253-01 outer:exit 2b-5e00ec9aafa0df5b06c28478a895de90aa712f86-09f09e566febdda0-01
2022-04-20T15:30:01.207Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:01.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-422b2bad55eaae9461ce69b2b6a8cb2e3037cf95-a08f021d2569be87-01 outer:exit 2b-422b2bad55eaae9461ce69b2b6a8cb2e3037cf95-d8152c231a48f1e0-01
2022-04-20T15:30:01.210Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:01.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-a79174d8eac1e433da0096fd549d5365d95d477b-1dee5fc54d23fb3d-01 outer:exit 2b-a79174d8eac1e433da0096fd549d5365d95d477b-37507a25546a0350-01
2022-04-20T15:30:01.245Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (414ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.0
updated 2 packages and audited 935 packages in 5.524s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:08.693Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:08.694Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:08.694Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:08.695Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:08.849Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:09.174Z appoptics:patching patched crypto 
2022-04-20T15:30:09.216Z appoptics:patching patched https 
2022-04-20T15:30:09.216Z appoptics:patching patched http 
2022-04-20T15:30:09.313Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:09.314Z appoptics:patching patched fs 
2022-04-20T15:30:09.395Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v14.19.1)
2022-04-20T15:30:09.403Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2022-04-20T15:30:09.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-39ddb817ffa2dd6deb1810d71f63e325e815a738-3ba7a14365c6e482-01 outer:exit 2b-39ddb817ffa2dd6deb1810d71f63e325e815a738-3f3f04c6ac9715c9-01
2022-04-20T15:30:09.470Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:09.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-2572134e002d459e137921271fa18c8563e83704-70679cd3d5625e9b-01 outer:exit 2b-2572134e002d459e137921271fa18c8563e83704-05d6cbcf45d9bec8-01
2022-04-20T15:30:09.524Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:09.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4c78b84bbd4e6fa92c02947322e8b230c1a49d7-30aa59a3a87cdfe1-01 outer:exit 2b-a4c78b84bbd4e6fa92c02947322e8b230c1a49d7-3a04dab4b9423344-01
2022-04-20T15:30:09.529Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:09.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-c052afac4ba172137529ac38d39e349532dbeb6a-e110394c01830d9f-01 outer:exit 2b-c052afac4ba172137529ac38d39e349532dbeb6a-a819fb216fa74818-01
2022-04-20T15:30:09.537Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:09.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-dda2e3a75e2f8debd4c08bba252b9b3ed4e2815a-750b746b4932f00c-01 outer:exit 2b-dda2e3a75e2f8debd4c08bba252b9b3ed4e2815a-7bd78731ad70c763-01
2022-04-20T15:30:09.549Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:09.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d779f0ee3ed5739bc3bda1137bd9a1b3e9bf512-0501cd20724fe0a5-01 outer:exit 2b-3d779f0ee3ed5739bc3bda1137bd9a1b3e9bf512-3f70016392adfb3c-01
2022-04-20T15:30:09.557Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:09.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-78f5289890b127957b8ca720b583725e2f8f2fc9-60d47dee4fe34675-01 outer:exit 2b-78f5289890b127957b8ca720b583725e2f8f2fc9-57f8160bab818233-01
2022-04-20T15:30:09.561Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:09.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-133974b3555e8b16aabb940c717792cab7263716-585db95b608e47d9-01 outer:exit 2b-133974b3555e8b16aabb940c717792cab7263716-115093f118ab7417-01
2022-04-20T15:30:09.564Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:09.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-93023c11dad45b42a6ce9b2cb993a44db8a301cb-df6fc7efa1078686-01 outer:exit 2b-93023c11dad45b42a6ce9b2cb993a44db8a301cb-79ef5c9938e66f6e-01
2022-04-20T15:30:09.572Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:09.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-1589605ff60431f3784d1a15827c574827f91918-79d6bbcd776675aa-01 outer:exit 2b-1589605ff60431f3784d1a15827c574827f91918-fb9b70c0492693b3-01
2022-04-20T15:30:09.576Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:09.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc464808de2360605b101616a7c63786baa0b558-a9f6c1b5be2be13e-01 outer:exit 2b-dc464808de2360605b101616a7c63786baa0b558-e313652a7834851e-01
2022-04-20T15:30:09.584Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:09.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-73e1f5f5af381f212004568b858820efd0781166-866daf59a71e8140-01 outer:exit 2b-73e1f5f5af381f212004568b858820efd0781166-c4a8acd18c9f8079-01
2022-04-20T15:30:09.592Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:09.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-cedcf47ef7a5bf526ffd5566e9ce646a02ea09ce-353e9648ce9b7f72-01 outer:exit 2b-cedcf47ef7a5bf526ffd5566e9ce646a02ea09ce-df0d0c578e727433-01
2022-04-20T15:30:09.612Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:09.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-702ad85ebe2e57952b5514190dbb60d9d4b8d5bd-fb5b888e2d5c663b-01 outer:exit 2b-702ad85ebe2e57952b5514190dbb60d9d4b8d5bd-6bf9592cc40b49f3-01
2022-04-20T15:30:09.661Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:09.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-04eea498571d553fbc9aea1a22b4d29988b1ea83-9f9d1d389128ec7b-01 outer:exit 2b-04eea498571d553fbc9aea1a22b4d29988b1ea83-d6a9fe191f4cd518-01
2022-04-20T15:30:09.667Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:09.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-820144a1549fd9786d23ab3cf85d440cf0d0faa3-9666a5c337970ea2-01 outer:exit 2b-820144a1549fd9786d23ab3cf85d440cf0d0faa3-b21d7b800d925757-01
2022-04-20T15:30:09.670Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:09.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b32e1d96214f4f26179134b79ccdb6f9fb9ee1e-85e73595b8e9a2dc-01 outer:exit 2b-1b32e1d96214f4f26179134b79ccdb6f9fb9ee1e-f2fd8e52cd444114-01
2022-04-20T15:30:09.675Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:09.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-7718e26c3ca794a7d30c0478f0ec3e07de309031-44d183c1882a9fbe-01 outer:exit 2b-7718e26c3ca794a7d30c0478f0ec3e07de309031-23c6f8ace16e729f-01
2022-04-20T15:30:09.678Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:09.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6e14d294ba99837f0cec908316e48592cb2e80b-aaf8cb74f64bbf20-01 outer:exit 2b-f6e14d294ba99837f0cec908316e48592cb2e80b-f611b720cac3eb42-01
2022-04-20T15:30:09.682Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:09.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b511aaf209fcdb150f7bcbabf24716da318ab34-01844cf211de75ed-01 outer:exit 2b-2b511aaf209fcdb150f7bcbabf24716da318ab34-7f528867c4185977-01
2022-04-20T15:30:09.685Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:09.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fabd1cfb5636f924a781c86a4a64f26526e256c-32091f8ad369df3e-01 outer:exit 2b-2fabd1cfb5636f924a781c86a4a64f26526e256c-fe2871f70216e19e-01
2022-04-20T15:30:09.691Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:09.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-50f2d71ae0bfc6d0455293007c2647fbd9e97e56-8835329556594589-01 outer:exit 2b-50f2d71ae0bfc6d0455293007c2647fbd9e97e56-3938657d6ecf3e04-01
2022-04-20T15:30:09.695Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:09.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-b80adb96ef56e82c808080ef1a3b316eaa6c514e-126168f0b36319aa-01 outer:exit 2b-b80adb96ef56e82c808080ef1a3b316eaa6c514e-fe60fb0b83ad0154-01
2022-04-20T15:30:09.700Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:09.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e207326ecf682aa83c4a8840b5a5ebd5443e17c-4cc8d993713ea079-01 outer:exit 2b-8e207326ecf682aa83c4a8840b5a5ebd5443e17c-2a1308838aef2085-01
2022-04-20T15:30:09.719Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:09.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b0588e4d03042bd9d258db5bef04097b9288094-53931d0fafb28292-01 outer:exit 2b-0b0588e4d03042bd9d258db5bef04097b9288094-127095ed7df1490a-01
2022-04-20T15:30:09.723Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:09.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-b594d036cfd8c1a98d8b355757dc467af566a821-eb461339ad908ee6-01 outer:exit 2b-b594d036cfd8c1a98d8b355757dc467af566a821-832f5db022703992-01
2022-04-20T15:30:09.727Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:09.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-b953102a1b2e35e34b626558b2cdab6a4a84c3c3-a8805c41bef53074-01 outer:exit 2b-b953102a1b2e35e34b626558b2cdab6a4a84c3c3-b763c4788e3bd8d0-01
2022-04-20T15:30:09.735Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:09.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce54533f6d5a0038fc092201678931292e0a0226-5844f234a349e0b2-01 outer:exit 2b-ce54533f6d5a0038fc092201678931292e0a0226-fde5a9e01daeab29-01
2022-04-20T15:30:09.741Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:09.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-361694f36466c7574ebdbf7cfba9bd377a6e493a-559d70bcc0b8b2cc-01 outer:exit 2b-361694f36466c7574ebdbf7cfba9bd377a6e493a-e4baca8e8eeaf1ab-01
2022-04-20T15:30:09.753Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:09.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e222802f91d627c05b757c5c1ee9caf641e14b8-8197d6aa09e74130-01 outer:exit 2b-8e222802f91d627c05b757c5c1ee9caf641e14b8-158d96e5c24e9ea0-01
2022-04-20T15:30:09.762Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:09.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-7426027043995b849cc02277e5e587e190a8009d-a442d876acab9c46-01 outer:exit 2b-7426027043995b849cc02277e5e587e190a8009d-ecce395145fd3fd1-01
2022-04-20T15:30:09.765Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:09.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ba0d24076f1d0b662ffbf205789b4414184349a-b5a3e2537ebfba24-01 outer:exit 2b-8ba0d24076f1d0b662ffbf205789b4414184349a-02a9610de9689dee-01
2022-04-20T15:30:09.770Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:09.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-babadc8e09555f91df50a5d678ff932f38125fa0-0ef0139ecd5cd0f7-01 outer:exit 2b-babadc8e09555f91df50a5d678ff932f38125fa0-737c55e513e78845-01
2022-04-20T15:30:09.779Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:09.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a61c21abc8a8d19590f5dd6306a77f5dab3fc28-4fa21433306be17c-01 outer:exit 2b-0a61c21abc8a8d19590f5dd6306a77f5dab3fc28-d92ddc0967c38c48-01
2022-04-20T15:30:09.783Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:09.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-1661326f3dcdb46ec5c3d42a02ebfee724eb08da-9efff145363dc7a3-01 outer:exit 2b-1661326f3dcdb46ec5c3d42a02ebfee724eb08da-9b7a5e76963df7c8-01
2022-04-20T15:30:09.786Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:09.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a80160332976734e4b77cf4f21d8e24814f3975-aea1c324693f553e-01 outer:exit 2b-2a80160332976734e4b77cf4f21d8e24814f3975-b301b060325ad7e2-01
2022-04-20T15:30:09.789Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:09.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fff5eefa476235d771c496d8feab10160aa2a0d-51479540652e9a6b-01 outer:exit 2b-8fff5eefa476235d771c496d8feab10160aa2a0d-63bb758ba47598b9-01
2022-04-20T15:30:09.793Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:09.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a8cbbe2872da25071a0b49fc6c88bf10d60a75f-af21687fb7ed30f5-01 outer:exit 2b-5a8cbbe2872da25071a0b49fc6c88bf10d60a75f-c82e2deedf6d77a6-01
2022-04-20T15:30:09.796Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:09.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ff79ea872ffb145dcf98589ef781b26700a1d7b-8da1ad14d1a613bc-01 outer:exit 2b-4ff79ea872ffb145dcf98589ef781b26700a1d7b-66c42f36637ef6fd-01
2022-04-20T15:30:09.808Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:09.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-c64f7d6a6542c7d852963f1ace9e94cae0326280-f856058367b37293-01 outer:exit 2b-c64f7d6a6542c7d852963f1ace9e94cae0326280-f63968c9f50a7335-01
2022-04-20T15:30:09.820Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:09.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d317b1a3e4b1862417428dd7e5db1ef5d976acf-b3eb2aeff07d222d-01 outer:exit 2b-4d317b1a3e4b1862417428dd7e5db1ef5d976acf-e6d107cfb055613c-01
2022-04-20T15:30:09.824Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:09.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-1117567854725cb455379da3c5e944fca940ac4c-cb718c58d2c41b70-01 outer:exit 2b-1117567854725cb455379da3c5e944fca940ac4c-02fb05ac0217ec82-01
2022-04-20T15:30:09.828Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:09.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-e57d7d7ee3ae7edf0f19d2f59a54cbc07ec1a459-7aab1308ef1edc85-01 outer:exit 2b-e57d7d7ee3ae7edf0f19d2f59a54cbc07ec1a459-18b502fdbcd18aa1-01
2022-04-20T15:30:09.832Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:09.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-af1fbf440301f3d1e168552d60a74d70201e13d8-b6a18f64cb143b79-01 outer:exit 2b-af1fbf440301f3d1e168552d60a74d70201e13d8-a583ea8c9dd94410-01
2022-04-20T15:30:09.870Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (460ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.1
updated 1 package and audited 935 packages in 6.232s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:17.508Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:17.508Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:17.509Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:17.509Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:17.593Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:17.803Z appoptics:patching patched crypto 
2022-04-20T15:30:17.827Z appoptics:patching patched https 
2022-04-20T15:30:17.828Z appoptics:patching patched http 
2022-04-20T15:30:17.905Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:17.906Z appoptics:patching patched fs 
2022-04-20T15:30:17.947Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v14.19.1)
2022-04-20T15:30:17.956Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2022-04-20T15:30:18.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-a97d9b026ed6f876443c91c3e30394cb51fe27d9-e5ae1380036a4fc0-01 outer:exit 2b-a97d9b026ed6f876443c91c3e30394cb51fe27d9-48a7f9582a198b66-01
2022-04-20T15:30:18.018Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:18.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd8abc4c10d10d2bea9d7ce3121fd9a7e5219a35-c42b60ff9bacd4c5-01 outer:exit 2b-fd8abc4c10d10d2bea9d7ce3121fd9a7e5219a35-9bafd0919a9991d0-01
2022-04-20T15:30:18.079Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:18.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-d40cc786a7b4acd29df17f5139d2a0a22248dec4-0e4b97de8b77eb1e-01 outer:exit 2b-d40cc786a7b4acd29df17f5139d2a0a22248dec4-6382186473d79049-01
2022-04-20T15:30:18.084Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:18.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-ada310abbc6224504847921eb4c6d6b69430a048-a9c0666b5d22af7e-01 outer:exit 2b-ada310abbc6224504847921eb4c6d6b69430a048-5e3ab8f1718898a8-01
2022-04-20T15:30:18.088Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:18.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c324985b775ad272e95e1a6bb002fecf9e60922-75c61184c36569ae-01 outer:exit 2b-5c324985b775ad272e95e1a6bb002fecf9e60922-d41cd8e07ce3b0ed-01
2022-04-20T15:30:18.095Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:18.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c510db0f5a1ef4e81798b2d27af2a71a96a29b3-3f27d3fded6861f3-01 outer:exit 2b-9c510db0f5a1ef4e81798b2d27af2a71a96a29b3-f3889d859cacd9d5-01
2022-04-20T15:30:18.099Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:18.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3e44587b2ab68d4b8eb00e16756b91247b27a0b-1e3a9eee91d39969-01 outer:exit 2b-b3e44587b2ab68d4b8eb00e16756b91247b27a0b-0efc3d0c0732d017-01
2022-04-20T15:30:18.103Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:18.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-c329f69194da65eb338b01019f50d882811c40f8-aea472a6d8962e85-01 outer:exit 2b-c329f69194da65eb338b01019f50d882811c40f8-1058af0ea3c2282b-01
2022-04-20T15:30:18.106Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:18.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-28143bf90908d29e96ac59bbd26ebd78d1e80c40-735c098f5014cb20-01 outer:exit 2b-28143bf90908d29e96ac59bbd26ebd78d1e80c40-b8f77c543c1c8dd6-01
2022-04-20T15:30:18.109Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:18.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f5cf2d7c3667a536ce49997620248d56f0a6585-cf40feac414d149b-01 outer:exit 2b-8f5cf2d7c3667a536ce49997620248d56f0a6585-c0b49c594eacbce1-01
2022-04-20T15:30:18.113Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:18.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-32642190d834c3e5c667f2ce757228f608618e1c-09f8ee5ceb655e04-01 outer:exit 2b-32642190d834c3e5c667f2ce757228f608618e1c-0116c7681a5f9d3b-01
2022-04-20T15:30:18.119Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:18.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d74b41ce270bcd099d189035bf9555e18061d3e-ed1915197b1170f3-01 outer:exit 2b-1d74b41ce270bcd099d189035bf9555e18061d3e-0451aff39471770d-01
2022-04-20T15:30:18.127Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:18.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f26a854b0c9770d332bda63cbf544831958eb95-b14ad84b0e902bf6-01 outer:exit 2b-4f26a854b0c9770d332bda63cbf544831958eb95-27fb3f6fda57b97a-01
2022-04-20T15:30:18.147Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:18.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-b761f276f6c484d3d0af44642f2207ae699f7f29-d49c78ff59ac8b2c-01 outer:exit 2b-b761f276f6c484d3d0af44642f2207ae699f7f29-f50143f1f52eec82-01
2022-04-20T15:30:18.199Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:18.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff3908b1311eabcfe2d2aae2d4157a2c501e772d-b14ae0912d70182e-01 outer:exit 2b-ff3908b1311eabcfe2d2aae2d4157a2c501e772d-15e74ec3b3f9b5de-01
2022-04-20T15:30:18.202Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:18.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee9c54e48e890e39df88bfa09a467232589b9f00-523a34d7287a8ec0-01 outer:exit 2b-ee9c54e48e890e39df88bfa09a467232589b9f00-32315e9e953dade3-01
2022-04-20T15:30:18.205Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:18.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-91e5eaf0e1b788276d770a567a690bfc5b345dbd-1591bb7fbf770796-01 outer:exit 2b-91e5eaf0e1b788276d770a567a690bfc5b345dbd-c0e2defef0fbe5a7-01
2022-04-20T15:30:18.209Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:18.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-99558bedc2dd667895e96c7f9c22c438310aff73-3e1dcc448293f64f-01 outer:exit 2b-99558bedc2dd667895e96c7f9c22c438310aff73-eae5dcc90f390503-01
2022-04-20T15:30:18.212Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:18.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e5f1e58acbd51074eb3a52271fb80d5e995de17-7390fa444786b980-01 outer:exit 2b-2e5f1e58acbd51074eb3a52271fb80d5e995de17-83d8fc3a9e4a1edc-01
2022-04-20T15:30:18.215Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:18.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c9d9034c076bb7a18ea4a8b92986c9659b42d35-7c5342cd7895eb5d-01 outer:exit 2b-3c9d9034c076bb7a18ea4a8b92986c9659b42d35-bb5011eabc8a66d1-01
2022-04-20T15:30:18.217Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:18.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d29e65ac1ad4bf0a3ab40d3c91cdac7de91709e-386b34686bb979ad-01 outer:exit 2b-7d29e65ac1ad4bf0a3ab40d3c91cdac7de91709e-5b7779d17d7bec47-01
2022-04-20T15:30:18.220Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:18.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee4fb93476047ae5c7bf587f6b4fae3ee4025e60-6e8739c46a73d80c-01 outer:exit 2b-ee4fb93476047ae5c7bf587f6b4fae3ee4025e60-b3478d47fff6ac60-01
2022-04-20T15:30:18.222Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:18.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-17d64b4dd256cfc7d1457587eb90ada2303a3763-f7423192831f092a-01 outer:exit 2b-17d64b4dd256cfc7d1457587eb90ada2303a3763-51bedfb62f1e2f29-01
2022-04-20T15:30:18.226Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:18.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-5199c050088073ae99d48e82007f046fdd7c4fe9-dd2e1285284b6b9d-01 outer:exit 2b-5199c050088073ae99d48e82007f046fdd7c4fe9-367401d6c7840204-01
2022-04-20T15:30:18.230Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:18.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-99947e55fde590e37d442392905f0e02d4067f30-90c0df6f406811cb-01 outer:exit 2b-99947e55fde590e37d442392905f0e02d4067f30-d53bbcad7bef74a5-01
2022-04-20T15:30:18.233Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:18.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-d80e8e97d40fcfe557b21fb60e21ab31e2dcee40-7919613a69e01a17-01 outer:exit 2b-d80e8e97d40fcfe557b21fb60e21ab31e2dcee40-9f9e31ef453bdcb1-01
2022-04-20T15:30:18.237Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:18.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f223a1c2ed9c807b9178193fbb1cf2893f7d5a9-4538caa768261a11-01 outer:exit 2b-9f223a1c2ed9c807b9178193fbb1cf2893f7d5a9-482975bfef77149b-01
2022-04-20T15:30:18.247Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:18.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-feb9179c60cced191d1497a26b37b30e4dff0d12-59ccc499d7a61704-01 outer:exit 2b-feb9179c60cced191d1497a26b37b30e4dff0d12-873ca203269a9960-01
2022-04-20T15:30:18.252Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:18.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6b7f726cfd5c044d5ecf05ed18e24630a87ca4b-9ebe27b840a26b0d-01 outer:exit 2b-a6b7f726cfd5c044d5ecf05ed18e24630a87ca4b-ed9a41a2560896f8-01
2022-04-20T15:30:18.268Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:18.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-5daa7208451ba04eac451e59285bfbde5dab4e0e-0177bd77d94d5d58-01 outer:exit 2b-5daa7208451ba04eac451e59285bfbde5dab4e0e-2be6dbcd570fab69-01
2022-04-20T15:30:18.277Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:18.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b6acc59313af9f405f302e79b19ca2e93ebd269-9ccdedf17447c075-01 outer:exit 2b-0b6acc59313af9f405f302e79b19ca2e93ebd269-cb0c8ad8efd439d1-01
2022-04-20T15:30:18.284Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:18.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-78de992c40f855a7d572ee4c46d90ffacdab46d7-639c4b1fdcb4f4d4-01 outer:exit 2b-78de992c40f855a7d572ee4c46d90ffacdab46d7-4d5d20611cb55e7b-01
2022-04-20T15:30:18.291Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:18.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb3f724d4841060a852a3d156a6aad52717636e0-263cb4c7bcb946c8-01 outer:exit 2b-cb3f724d4841060a852a3d156a6aad52717636e0-df8416e17917d3e0-01
2022-04-20T15:30:18.305Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:18.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-0649cb35133d807498dfab21badba75d019cabf0-1fad1e89a99cdb7c-01 outer:exit 2b-0649cb35133d807498dfab21badba75d019cabf0-445e71c264af61b6-01
2022-04-20T15:30:18.308Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:18.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-6480707292fd4a353b95128fd66b032ff41bfab9-eb41de040be372e5-01 outer:exit 2b-6480707292fd4a353b95128fd66b032ff41bfab9-eceb2f49eb5645b1-01
2022-04-20T15:30:18.312Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:18.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-19026186306abc762120fd992a8ed9d055e225de-52d466eb96b00fa2-01 outer:exit 2b-19026186306abc762120fd992a8ed9d055e225de-f717241ab6483bb6-01
2022-04-20T15:30:18.315Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:18.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-51cf5595f2c8ca9018ccfa49ea560f7d7abe2dab-57d7ef7c1d692350-01 outer:exit 2b-51cf5595f2c8ca9018ccfa49ea560f7d7abe2dab-d015327ddc0db4d4-01
2022-04-20T15:30:18.318Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:18.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-38d31ee4f2ba652a618395cb2de46550f35f4c22-f5ce5488b2351c48-01 outer:exit 2b-38d31ee4f2ba652a618395cb2de46550f35f4c22-6769e011226df4c0-01
2022-04-20T15:30:18.325Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:18.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-e70205dcc3a51df33cc7c1e97d4cbc55353fb2cf-1bd4ab88d1ca623a-01 outer:exit 2b-e70205dcc3a51df33cc7c1e97d4cbc55353fb2cf-f398171c286b30fc-01
2022-04-20T15:30:18.340Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:18.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-957c8af049d3dea19ff33d0834a78d9f9492ac10-0130c5995c5b5fb0-01 outer:exit 2b-957c8af049d3dea19ff33d0834a78d9f9492ac10-efa22ceeed08465a-01
2022-04-20T15:30:18.355Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:18.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-952488a38b4ef09f9dd6b319646c004113ebe4b1-18c6f7ca4ccd7b34-01 outer:exit 2b-952488a38b4ef09f9dd6b319646c004113ebe4b1-71aee75be69d11cb-01
2022-04-20T15:30:18.359Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:18.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-281a035e7b557929dba30945ce8a0a0e24bf5205-42063ee62bad5e30-01 outer:exit 2b-281a035e7b557929dba30945ce8a0a0e24bf5205-e237664ca49c19cb-01
2022-04-20T15:30:18.362Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:18.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ab4199ddcfe7e14d7bf2a80eca6a4bce323297d-7dd57d3ca8699f16-01 outer:exit 2b-2ab4199ddcfe7e14d7bf2a80eca6a4bce323297d-d0c27ff3ff6966d9-01
2022-04-20T15:30:18.388Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:18.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-d082e8f08ae5c7a750133bb0b0cbb60342c33dea-651d9243220b3578-01 outer:exit 2b-d082e8f08ae5c7a750133bb0b0cbb60342c33dea-1ff242e378282a92-01
2022-04-20T15:30:18.447Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (484ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.2
updated 1 package and audited 935 packages in 6.5s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:26.292Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:26.293Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:26.293Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:26.294Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:26.375Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:26.583Z appoptics:patching patched crypto 
2022-04-20T15:30:26.607Z appoptics:patching patched https 
2022-04-20T15:30:26.607Z appoptics:patching patched http 
2022-04-20T15:30:26.660Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:26.660Z appoptics:patching patched fs 
2022-04-20T15:30:26.692Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v14.19.1)
2022-04-20T15:30:26.699Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2022-04-20T15:30:26.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-1811eb150f994312ec967e9d38381c574a184673-59f8b3db8590e879-01 outer:exit 2b-1811eb150f994312ec967e9d38381c574a184673-4956d1b248d3821f-01
2022-04-20T15:30:26.757Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:26.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b3e799207c800d09c3de3fd38262cdf3c8e2c7c-fbaa9077293390e3-01 outer:exit 2b-3b3e799207c800d09c3de3fd38262cdf3c8e2c7c-3e0e10cb093cb431-01
2022-04-20T15:30:26.816Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:26.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-27793af2ac85a064dbf2d990f28957f9f853b661-665ed8455fe9a87e-01 outer:exit 2b-27793af2ac85a064dbf2d990f28957f9f853b661-580bd0d339fdf0a7-01
2022-04-20T15:30:26.821Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:26.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c4ac79338e5951359997633118e783c9fe91682-af5080664b6c73a3-01 outer:exit 2b-8c4ac79338e5951359997633118e783c9fe91682-5d0c1c1ebd92068f-01
2022-04-20T15:30:26.825Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:26.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfbde782285233201a7bde06ab1a46b4de7a0634-68e414b8dca300e2-01 outer:exit 2b-dfbde782285233201a7bde06ab1a46b4de7a0634-34503f7e87926576-01
2022-04-20T15:30:26.832Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:26.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-789977d025be038cb0ff74e89196d293c401a3c7-af7bb97e92b6733e-01 outer:exit 2b-789977d025be038cb0ff74e89196d293c401a3c7-5c1379e16eee7055-01
2022-04-20T15:30:26.836Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:26.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cb2e719e7719d6b845ef12a802fa4c309ec5937-41ad3f35790a8250-01 outer:exit 2b-0cb2e719e7719d6b845ef12a802fa4c309ec5937-840dda1ea423c1cd-01
2022-04-20T15:30:26.839Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:26.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e688b075b3791fbd68e64cdac38340525673f64-da16dd03d4976953-01 outer:exit 2b-0e688b075b3791fbd68e64cdac38340525673f64-6e7048754bd30123-01
2022-04-20T15:30:26.842Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:26.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-13701c6ed29024f4226867de1556248d7aa122db-202aa4c2ad488c10-01 outer:exit 2b-13701c6ed29024f4226867de1556248d7aa122db-d657332b595abf4e-01
2022-04-20T15:30:26.846Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:26.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-09c5197bfae0a65937ad14472e962566829ba7d5-a2fe290a8146cfe7-01 outer:exit 2b-09c5197bfae0a65937ad14472e962566829ba7d5-079317f62ea26a41-01
2022-04-20T15:30:26.850Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:26.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-37f74242ec651f5d4c642e7d19ed245a8354ef12-69bf8c4a15b68ece-01 outer:exit 2b-37f74242ec651f5d4c642e7d19ed245a8354ef12-0fc7fc8315f3df9e-01
2022-04-20T15:30:26.855Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:26.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc4dff72b386774adfd991f65cae44fb57b76670-f7eb8723c944c65f-01 outer:exit 2b-cc4dff72b386774adfd991f65cae44fb57b76670-b7e7b9296dd4a57c-01
2022-04-20T15:30:26.863Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:26.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-283c8af8547df7a36c5acfe58d627955c405b673-94e52cd7eb9a7943-01 outer:exit 2b-283c8af8547df7a36c5acfe58d627955c405b673-e968067d25bebb73-01
2022-04-20T15:30:26.884Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:26.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-e917a8e77a85cc5e5c12ae7b20cb7c8158e3dc63-f62b3124f5d40e7e-01 outer:exit 2b-e917a8e77a85cc5e5c12ae7b20cb7c8158e3dc63-6dd7f478bfd17b18-01
2022-04-20T15:30:26.934Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:26.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-b09f1ebc7cffa07d6ac0bb05df85be1e7c2d8ce1-f2c294ab3130503b-01 outer:exit 2b-b09f1ebc7cffa07d6ac0bb05df85be1e7c2d8ce1-8b014ab28f5b9cb6-01
2022-04-20T15:30:26.939Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:26.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-b188b6abd11ffcb78a28e645c61bbf157023f479-33b362579c251f65-01 outer:exit 2b-b188b6abd11ffcb78a28e645c61bbf157023f479-8590bb67826f2738-01
2022-04-20T15:30:26.942Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:26.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b10fbb492552d2d1bcf82d6dc289593a4c95aba-e266e67aced7926b-01 outer:exit 2b-3b10fbb492552d2d1bcf82d6dc289593a4c95aba-0f9515dd3135d78b-01
2022-04-20T15:30:26.947Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:26.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d41cd44575a81263e1c7cdd10ba742aa3a570e3-0d667978410917eb-01 outer:exit 2b-1d41cd44575a81263e1c7cdd10ba742aa3a570e3-111692e930f8337f-01
2022-04-20T15:30:26.949Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:26.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd34f0aee3c4c7d662c8d19d50960628d29b05eb-f41f69cb1becb634-01 outer:exit 2b-cd34f0aee3c4c7d662c8d19d50960628d29b05eb-ae486d1e2a7995c8-01
2022-04-20T15:30:26.952Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:26.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d9c500e228bcaf75e7de0e8a1e62e3ad6341391-c5c4eb4902bb5a4c-01 outer:exit 2b-7d9c500e228bcaf75e7de0e8a1e62e3ad6341391-8ab9ca587403ce89-01
2022-04-20T15:30:26.956Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:26.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-d82ab2641977a441646c1f66d10b7f5ee86a7e93-ce223347cb1388c9-01 outer:exit 2b-d82ab2641977a441646c1f66d10b7f5ee86a7e93-d1083b2318391675-01
2022-04-20T15:30:26.958Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:26.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-726fb2a34013eac3f3f636024b5d5c7c04731ed1-5b54c2cc9b24de5d-01 outer:exit 2b-726fb2a34013eac3f3f636024b5d5c7c04731ed1-51c6c8a095fd7f4c-01
2022-04-20T15:30:26.961Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:26.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0b6f78078deb0b7a53bfb557439a6f0de28d447-9b693f236a255366-01 outer:exit 2b-e0b6f78078deb0b7a53bfb557439a6f0de28d447-972f03af0dc4fcd3-01
2022-04-20T15:30:26.965Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:26.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6707be2a1f083808ea46d2cab1e072b1a979f24-5596d17b33a1df59-01 outer:exit 2b-c6707be2a1f083808ea46d2cab1e072b1a979f24-080f9faac5d0335f-01
2022-04-20T15:30:26.969Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:26.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9ca176060780c18b239397fa529ea4d6b20c6d2-093ec428b7578807-01 outer:exit 2b-c9ca176060780c18b239397fa529ea4d6b20c6d2-7cc5b785bb4c8904-01
2022-04-20T15:30:26.972Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:26.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-7925795045c66ed26642e7633c7e43516e0616f0-c3572c1b861d3c02-01 outer:exit 2b-7925795045c66ed26642e7633c7e43516e0616f0-6fef5874d31ec6c6-01
2022-04-20T15:30:26.975Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:26.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-0437c497a97162b6dc9fafc95eaca2b5176e5f0e-069c5416a2f67902-01 outer:exit 2b-0437c497a97162b6dc9fafc95eaca2b5176e5f0e-ea0eab21edcebcd2-01
2022-04-20T15:30:26.984Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:26.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-b941055e1145e50b5985196e5fc2d3381dc30d81-61efdf7add4e22bb-01 outer:exit 2b-b941055e1145e50b5985196e5fc2d3381dc30d81-c6258f1abb0ce851-01
2022-04-20T15:30:26.991Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:27.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-49fcb2970ce60e92b6d334acc5b4c13429bb7466-f3fc5a960485bdbe-01 outer:exit 2b-49fcb2970ce60e92b6d334acc5b4c13429bb7466-e80a65dd3ed9ce09-01
2022-04-20T15:30:27.004Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:27.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-007fe5b310dca2ef291418e1b76ca8ea91f6c147-0cc63884cc73f056-01 outer:exit 2b-007fe5b310dca2ef291418e1b76ca8ea91f6c147-18a57865f29a0216-01
2022-04-20T15:30:27.013Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:27.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-766e2af07fe173a5f4528f200768d9c81ec46dea-f6aac63271fc6ca4-01 outer:exit 2b-766e2af07fe173a5f4528f200768d9c81ec46dea-590b5042060217e8-01
2022-04-20T15:30:27.016Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:27.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a3870e202bcad049d1ec143339ac147711a0d62-d89844741eb33045-01 outer:exit 2b-9a3870e202bcad049d1ec143339ac147711a0d62-790d86a2a08951e6-01
2022-04-20T15:30:27.021Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:27.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fda48903f43d9646eedf636a56c90f24d7a877b-defd9d8d1e2d35cf-01 outer:exit 2b-3fda48903f43d9646eedf636a56c90f24d7a877b-28e9ecbde582ac2c-01
2022-04-20T15:30:27.030Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:27.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7c87c8c58e21548f4128334bf9f58b354792287-d46fd203ce492229-01 outer:exit 2b-a7c87c8c58e21548f4128334bf9f58b354792287-7a9c35ddaf18b2fb-01
2022-04-20T15:30:27.033Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:27.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-c44992b07f6dec1784a3cf526444811740aa3eed-bf4642cce404e8ec-01 outer:exit 2b-c44992b07f6dec1784a3cf526444811740aa3eed-722cf08f9731aed2-01
2022-04-20T15:30:27.035Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:27.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-677e4374304cdd7badf94f0e063ede086d068b52-dacd33a5678c81a0-01 outer:exit 2b-677e4374304cdd7badf94f0e063ede086d068b52-8c561f5767625c24-01
2022-04-20T15:30:27.038Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:27.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-6742a1fa5d4b293937e8fdf7d02991829fe03ce9-7d6de2a1ddee0cc8-01 outer:exit 2b-6742a1fa5d4b293937e8fdf7d02991829fe03ce9-8dc9fe92257108bd-01
2022-04-20T15:30:27.041Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:27.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-577b3aa57d2cdb71cbe715afa3517c9684dbfb28-83b82d3c715ece62-01 outer:exit 2b-577b3aa57d2cdb71cbe715afa3517c9684dbfb28-6412c7faff96911f-01
2022-04-20T15:30:27.044Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:27.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-75363b378589e2235a70ffc3c2ed7d94d34cdda7-a3095a6da40cfdae-01 outer:exit 2b-75363b378589e2235a70ffc3c2ed7d94d34cdda7-55746d8d198c619e-01
2022-04-20T15:30:27.056Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:27.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fe1eac7343430a00bdbe8c098841fa491612573-9065209af9c5424b-01 outer:exit 2b-2fe1eac7343430a00bdbe8c098841fa491612573-7f92af0c67ab2790-01
2022-04-20T15:30:27.069Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:27.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbbf84ce00bcf42689a70578a8cdcb775d802762-2c2a3aef0cc3560b-01 outer:exit 2b-cbbf84ce00bcf42689a70578a8cdcb775d802762-f748922a985353de-01
2022-04-20T15:30:27.073Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:27.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-af6c25a064d92445439f43f6e6baf46c425ae396-7a646a3449dae575-01 outer:exit 2b-af6c25a064d92445439f43f6e6baf46c425ae396-e9f242844fb8aba4-01
2022-04-20T15:30:27.077Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:27.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-c62ff63e3b10203b5c3b8a51964742b572da61fa-096386639dfe740f-01 outer:exit 2b-c62ff63e3b10203b5c3b8a51964742b572da61fa-ad697b93f438b324-01
2022-04-20T15:30:27.081Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:27.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6af5a936e8946747a4f795e8600e58572a27ca8-cce9d2f2a3c84405-01 outer:exit 2b-f6af5a936e8946747a4f795e8600e58572a27ca8-8c54fe8f128c7b16-01
2022-04-20T15:30:27.124Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (417ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.3
updated 1 package and audited 935 packages in 6.258s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:34.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:34.744Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:34.744Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:34.745Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:34.865Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:35.174Z appoptics:patching patched crypto 
2022-04-20T15:30:35.301Z appoptics:patching patched https 
2022-04-20T15:30:35.310Z appoptics:patching patched http 
2022-04-20T15:30:35.409Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:35.410Z appoptics:patching patched fs 
2022-04-20T15:30:35.490Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v14.19.1)
2022-04-20T15:30:35.500Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2022-04-20T15:30:35.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-75f78fbd0381f0a95f7033cf800787594d3bc920-db516af29b9c11e6-01 outer:exit 2b-75f78fbd0381f0a95f7033cf800787594d3bc920-15c08f28c44b4832-01
2022-04-20T15:30:35.620Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:35.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-43d800c7d2e652ac22ac456c44a42388134ce0dc-a4abda930db70ef9-01 outer:exit 2b-43d800c7d2e652ac22ac456c44a42388134ce0dc-d0e4aecf61585d04-01
2022-04-20T15:30:35.685Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:35.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a02a0ea38da83bc2831ba3b9bd4f30e07c55c14-e099fd2db03e960a-01 outer:exit 2b-2a02a0ea38da83bc2831ba3b9bd4f30e07c55c14-0bae2ff56f3bf869-01
2022-04-20T15:30:35.690Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:35.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-b40e0eaff03d11340b75a38aaedbe091fcd441bf-39ce449b8d47c21f-01 outer:exit 2b-b40e0eaff03d11340b75a38aaedbe091fcd441bf-bb92aa3d056aba44-01
2022-04-20T15:30:35.697Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:35.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-9332dd765ac8c416d9decec03edece320f818f11-56ef682bb917ee88-01 outer:exit 2b-9332dd765ac8c416d9decec03edece320f818f11-1edae9b8fa5e7123-01
2022-04-20T15:30:35.708Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:35.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-b676f9cb7ff72c1d26dd1577d4153bf6e82f7283-00778cc12e8832c6-01 outer:exit 2b-b676f9cb7ff72c1d26dd1577d4153bf6e82f7283-bd7a651e9489e9ac-01
2022-04-20T15:30:35.715Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:35.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-99595fc859dae98e136eae5a10867d2ccd3a9688-37008c2f313ecd3a-01 outer:exit 2b-99595fc859dae98e136eae5a10867d2ccd3a9688-23bf61889a1e5e05-01
2022-04-20T15:30:35.719Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:35.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dae2eabdd541c98b103be9cf444a52644251dad-f3ad439eaafef610-01 outer:exit 2b-0dae2eabdd541c98b103be9cf444a52644251dad-b1e23209b075f1f1-01
2022-04-20T15:30:35.723Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:35.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-6605fc5cdf350b23c5470a54d38477e82eac443a-475b0368308b300a-01 outer:exit 2b-6605fc5cdf350b23c5470a54d38477e82eac443a-1a1ef19cd005dcd0-01
2022-04-20T15:30:35.726Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:35.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eb8405fb4e5b98b96221b01655fa040ea8d85bf-82e800edb8e23d3e-01 outer:exit 2b-9eb8405fb4e5b98b96221b01655fa040ea8d85bf-20acb2b4d64bc4b2-01
2022-04-20T15:30:35.732Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:35.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ccc91bf749fd001090f280a446b87025ffa76f3-d4eb53a918311806-01 outer:exit 2b-2ccc91bf749fd001090f280a446b87025ffa76f3-3f12ae0af44be9bc-01
2022-04-20T15:30:35.738Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:35.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbc4bf6246477b3a1191293a7679c638ee075812-0ae79bd6d7846604-01 outer:exit 2b-cbc4bf6246477b3a1191293a7679c638ee075812-fb23e9a03d2d1802-01
2022-04-20T15:30:35.746Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:35.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-03a0652d23e8841fefad6aa4e8e0d414d0ef0bc8-1520deb8050c2e88-01 outer:exit 2b-03a0652d23e8841fefad6aa4e8e0d414d0ef0bc8-381343da4e206dce-01
2022-04-20T15:30:35.771Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:35.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-128b1d7bb40357db2b68270f39bd7a61170fa1cf-34a6b86a6b4a727b-01 outer:exit 2b-128b1d7bb40357db2b68270f39bd7a61170fa1cf-cec33b72f474561c-01
2022-04-20T15:30:35.828Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:35.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd2cb7d69457af0c4ad39b84684502a0ad4ef322-b63ac7dfc72f568e-01 outer:exit 2b-dd2cb7d69457af0c4ad39b84684502a0ad4ef322-effa0ca1a9952c54-01
2022-04-20T15:30:35.832Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:35.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1913e48724271bb1324d335040324e581f06b0d-2324a407dfa42f1d-01 outer:exit 2b-f1913e48724271bb1324d335040324e581f06b0d-b69da3fdd85cb68e-01
2022-04-20T15:30:35.835Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:35.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2a2f51e492eafafc47102543ec0d70ae3c48e3e-25a484842fd55c9d-01 outer:exit 2b-b2a2f51e492eafafc47102543ec0d70ae3c48e3e-17c47ed845fc6195-01
2022-04-20T15:30:35.839Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:35.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab07f085093a875d35d9fc005a8267d50c9a2a70-8280f9fdb34ab103-01 outer:exit 2b-ab07f085093a875d35d9fc005a8267d50c9a2a70-9b4090af8c9f21f1-01
2022-04-20T15:30:35.842Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:35.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-529b0702bf4d8faf8a639219497e33e8f2eb21cd-af02713c927018fb-01 outer:exit 2b-529b0702bf4d8faf8a639219497e33e8f2eb21cd-ddf8cb5fd88f8d7e-01
2022-04-20T15:30:35.847Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:35.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0cb6394a887b91e5fc93e3983c5d8f493277f44-4df41f4183cf281a-01 outer:exit 2b-e0cb6394a887b91e5fc93e3983c5d8f493277f44-7decb2fa0514ca98-01
2022-04-20T15:30:35.853Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:35.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3a8424fa1f04ee82632ce16962228fb57612bcb-41b9d83fe9c59267-01 outer:exit 2b-f3a8424fa1f04ee82632ce16962228fb57612bcb-73c33fefcba04c97-01
2022-04-20T15:30:35.856Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:35.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b595c24d0b47c08e8d79dcb38f45b6c50e5148f-9ac7689ba407c1c7-01 outer:exit 2b-5b595c24d0b47c08e8d79dcb38f45b6c50e5148f-9a3559de583e721d-01
2022-04-20T15:30:35.863Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:35.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-921c9fed0f0654608a2b85b9dae505e8e385a651-954c192b32e35705-01 outer:exit 2b-921c9fed0f0654608a2b85b9dae505e8e385a651-20054c30ecd88b44-01
2022-04-20T15:30:35.868Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:35.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f88114f05bf4683c5101cef734f7c7f7114bad7-88056f23a83580fc-01 outer:exit 2b-4f88114f05bf4683c5101cef734f7c7f7114bad7-22a20fac5f0ec5fb-01
2022-04-20T15:30:35.874Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:35.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-b00153f5cf1db00e0822b4156c37beb7b0f37db6-becfb65e6fe5e2a9-01 outer:exit 2b-b00153f5cf1db00e0822b4156c37beb7b0f37db6-a537a083bbeba44f-01
2022-04-20T15:30:35.882Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:35.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7dbb2d1f78d743f7e39963b3dd68baff0a7047a-df515747df6db154-01 outer:exit 2b-b7dbb2d1f78d743f7e39963b3dd68baff0a7047a-cebe87efa6ec4195-01
2022-04-20T15:30:35.890Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:35.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-37590702a22d86131dbf44aa68664fe4bbc321ae-0fc0846efeb21d0b-01 outer:exit 2b-37590702a22d86131dbf44aa68664fe4bbc321ae-d256c5d916fadc2e-01
2022-04-20T15:30:35.903Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:35.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-7aaa28525d1be702cef9af304233e61deac63089-6e589dfce4bb32cf-01 outer:exit 2b-7aaa28525d1be702cef9af304233e61deac63089-633b83ca89f0f36e-01
2022-04-20T15:30:35.909Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:35.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-9537eb31cefa9afa810bc4525898653d72c5e600-20010348ee4656ab-01 outer:exit 2b-9537eb31cefa9afa810bc4525898653d72c5e600-09892e6285224096-01
2022-04-20T15:30:35.921Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:35.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb34bc800e737d0e9a85a4cc1ceb1ac7f6f9e989-4e0c7bca996d201b-01 outer:exit 2b-fb34bc800e737d0e9a85a4cc1ceb1ac7f6f9e989-d6e336740142a6ab-01
2022-04-20T15:30:35.929Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:35.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-35f7c8fc0eda4e3c28e3a9623e6b5bb6f643f73b-8a07afa072ebbae2-01 outer:exit 2b-35f7c8fc0eda4e3c28e3a9623e6b5bb6f643f73b-37f4d148c0bb8a5d-01
2022-04-20T15:30:35.933Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:35.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-9282b2f70590aa7095be9cab7c1a42b0618ed6ba-15322c3027d33e43-01 outer:exit 2b-9282b2f70590aa7095be9cab7c1a42b0618ed6ba-a18ba5eceac5aa5a-01
2022-04-20T15:30:35.938Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:35.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-48c239c01d4d15ff5ab203aaa79de308454f6c3c-96783b4c3eb447d2-01 outer:exit 2b-48c239c01d4d15ff5ab203aaa79de308454f6c3c-72fb9dc138bf1efe-01
2022-04-20T15:30:35.948Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:35.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-8874d895c6a158996010de6723740e0873b2f877-7f073d4dfd90e045-01 outer:exit 2b-8874d895c6a158996010de6723740e0873b2f877-ec3408cd53e56fc6-01
2022-04-20T15:30:35.953Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:35.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-d82e9b7dbc83fa4422dcc3d1998ae195bfb72471-0937cbbaaf3ee621-01 outer:exit 2b-d82e9b7dbc83fa4422dcc3d1998ae195bfb72471-b831901b8e2bc2fd-01
2022-04-20T15:30:35.957Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:35.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-582411e7ed036065b7629ae9ddb0497b0ef1d843-b62e22cc4bef953e-01 outer:exit 2b-582411e7ed036065b7629ae9ddb0497b0ef1d843-48d8e6e3cdbb3d1e-01
2022-04-20T15:30:35.960Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:35.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-3de846ab3ba95bb70519b7f944d2688d5fc9f75f-b9974ac2ae0dcb2c-01 outer:exit 2b-3de846ab3ba95bb70519b7f944d2688d5fc9f75f-4327977a1e2234f2-01
2022-04-20T15:30:35.963Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:35.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aacfc91a075a6905237cd531e05b96db772a55f-acaf3c4a1fa55e7d-01 outer:exit 2b-8aacfc91a075a6905237cd531e05b96db772a55f-dc3e67b0f2c37253-01
2022-04-20T15:30:35.966Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:35.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecbaa4c50e3e27af38272683724397c822394622-30269a2e481c5b7e-01 outer:exit 2b-ecbaa4c50e3e27af38272683724397c822394622-93fc440395543f0c-01
2022-04-20T15:30:35.983Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:35.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-90da27fcb8c34050047be2f41de20da40172ca10-66b488ab45442154-01 outer:exit 2b-90da27fcb8c34050047be2f41de20da40172ca10-539a17cabcf554be-01
2022-04-20T15:30:35.994Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:35.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eec101a114fd93edc9d881dae47bf51e14932fc-f91358e3ef160033-01 outer:exit 2b-0eec101a114fd93edc9d881dae47bf51e14932fc-c8bbf325265ea37a-01
2022-04-20T15:30:35.999Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:36.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7826c3f8e074b48b731638e4c5bf56400225255-74f066992020fad6-01 outer:exit 2b-d7826c3f8e074b48b731638e4c5bf56400225255-40ad0095fa02a438-01
2022-04-20T15:30:36.004Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:36.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-636aaeff81b8214eb4506e7e484972898a4a0c6d-78918e238892b2dc-01 outer:exit 2b-636aaeff81b8214eb4506e7e484972898a4a0c6d-969a7a74f236feb4-01
2022-04-20T15:30:36.012Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:36.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-44700c80cfd18c40f20aefca061f42801754f859-6ca8e6ac86925ff9-01 outer:exit 2b-44700c80cfd18c40f20aefca061f42801754f859-ee613daae0dd98f6-01
2022-04-20T15:30:36.060Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (531ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.4
updated 1 package and audited 935 packages in 7.373s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:44.917Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:44.917Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:44.918Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:44.919Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:45.000Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:45.200Z appoptics:patching patched crypto 
2022-04-20T15:30:45.224Z appoptics:patching patched https 
2022-04-20T15:30:45.224Z appoptics:patching patched http 
2022-04-20T15:30:45.276Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:45.277Z appoptics:patching patched fs 
2022-04-20T15:30:45.309Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v14.19.1)
2022-04-20T15:30:45.317Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2022-04-20T15:30:45.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc3d1d55cecef06d1387975205ebeda2c4b7cd11-2b26c9b149da00a5-01 outer:exit 2b-bc3d1d55cecef06d1387975205ebeda2c4b7cd11-64a1976f1d7fdc61-01
2022-04-20T15:30:45.374Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:45.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-cde92042790c57cb0efcbab8004af9744cb579a2-c164e4332fef85b5-01 outer:exit 2b-cde92042790c57cb0efcbab8004af9744cb579a2-329dc2ee56d29135-01
2022-04-20T15:30:45.428Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:45.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-747798ac470d0cec750a29d8f7c92d3ca45a371a-c58dc97f824b9c01-01 outer:exit 2b-747798ac470d0cec750a29d8f7c92d3ca45a371a-ea25ce60cdbca48a-01
2022-04-20T15:30:45.433Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:45.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-95e6b0ed8c5d05b6cc420e9c442e98ef805a299c-b1e81d6a2edd3461-01 outer:exit 2b-95e6b0ed8c5d05b6cc420e9c442e98ef805a299c-f511583cd97575b2-01
2022-04-20T15:30:45.438Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:45.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-945c65b10d05cdc5240dc6d1a4bd7d2db337c79d-8d3d2cb5c598be8c-01 outer:exit 2b-945c65b10d05cdc5240dc6d1a4bd7d2db337c79d-fb31b56f56ba719d-01
2022-04-20T15:30:45.446Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:45.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea6a7cfd2fbad7183f44c8a9bbb867d5c3c90d3d-b91b599d9c14180a-01 outer:exit 2b-ea6a7cfd2fbad7183f44c8a9bbb867d5c3c90d3d-849b5d3dabf19710-01
2022-04-20T15:30:45.456Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:45.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-c442b86e66d4c41d064a401880990e44f49c54ff-6a2e4104d838447e-01 outer:exit 2b-c442b86e66d4c41d064a401880990e44f49c54ff-5e379d00e27898ef-01
2022-04-20T15:30:45.463Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:45.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b0d42467d4aeec60eff0fe28d13e2ea0b577a75-85dbffe33095ea0a-01 outer:exit 2b-2b0d42467d4aeec60eff0fe28d13e2ea0b577a75-1a9efdd11a7d4f67-01
2022-04-20T15:30:45.467Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:45.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-3305d2890c08da4503567a5cb1cbd01a9cd47e45-2ad6a955bccfc3d6-01 outer:exit 2b-3305d2890c08da4503567a5cb1cbd01a9cd47e45-a9800e606c16b2a3-01
2022-04-20T15:30:45.471Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:45.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4b1def30ec46c3130576588fe11f29da0c7e76d-3af2e306ae329493-01 outer:exit 2b-d4b1def30ec46c3130576588fe11f29da0c7e76d-3702d25f3dbc3b8c-01
2022-04-20T15:30:45.475Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:45.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a7d0585cfd88ea23f1f814c677da008ee09e418-31ba57cacff1ac44-01 outer:exit 2b-5a7d0585cfd88ea23f1f814c677da008ee09e418-c5e201e54b400807-01
2022-04-20T15:30:45.483Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:45.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-82459009a0ab6a42362123a5bc15412e97bb07c6-39c073e0eb5660aa-01 outer:exit 2b-82459009a0ab6a42362123a5bc15412e97bb07c6-aeec19b0c5bcfdaf-01
2022-04-20T15:30:45.495Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:45.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d81cd6b9effa95bba604c2c1410d65adb850285-1c585da92aa21259-01 outer:exit 2b-8d81cd6b9effa95bba604c2c1410d65adb850285-45326ea8b2d087d3-01
2022-04-20T15:30:45.527Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:45.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d9861cbdbae41e2ba95f0a0cd7f8b3bd3608c6f-8e5188d7dddd019e-01 outer:exit 2b-3d9861cbdbae41e2ba95f0a0cd7f8b3bd3608c6f-d23a43ba91fefd1e-01
2022-04-20T15:30:45.579Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:45.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-708aaff9200f2937cc37b35fad6a1b02654c8a10-13c3034fbd504b4b-01 outer:exit 2b-708aaff9200f2937cc37b35fad6a1b02654c8a10-1120a77eb9e1d5af-01
2022-04-20T15:30:45.585Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:45.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad5ed512e202a3e5d9edcded0724bc92e6477355-d385aa2927db05c5-01 outer:exit 2b-ad5ed512e202a3e5d9edcded0724bc92e6477355-7a941df6c192b99e-01
2022-04-20T15:30:45.589Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:45.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-369ee722d9a90060d4c7dcad884e1f6861782a61-36eeecf525ef2497-01 outer:exit 2b-369ee722d9a90060d4c7dcad884e1f6861782a61-74833464ad5c4fdc-01
2022-04-20T15:30:45.593Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:45.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9446167e070a0cf7c7456735587e5aa02b6fa6c-e5a0073b53cb427d-01 outer:exit 2b-c9446167e070a0cf7c7456735587e5aa02b6fa6c-00affb90675b5696-01
2022-04-20T15:30:45.596Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:45.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dae7b7de92ec62cc82f3803a5690ba42e7ebe52-2a7b2037a9f3ce71-01 outer:exit 2b-2dae7b7de92ec62cc82f3803a5690ba42e7ebe52-6fc41786f92e5833-01
2022-04-20T15:30:45.599Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:45.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-34957211f23f4d02a3cbe4376005addd3352ad29-9d32ce05db0147d0-01 outer:exit 2b-34957211f23f4d02a3cbe4376005addd3352ad29-8156cf769d88f145-01
2022-04-20T15:30:45.604Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:45.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e6aa43f5286b5841d47cf2fae387e18140fbd9e-6d211b106996fe5b-01 outer:exit 2b-2e6aa43f5286b5841d47cf2fae387e18140fbd9e-26cfdaf11119318a-01
2022-04-20T15:30:45.607Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:45.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cf38f88a4985ac9a5fa042cee76592fcd1fa2a4-a10a9368c7d7b24e-01 outer:exit 2b-4cf38f88a4985ac9a5fa042cee76592fcd1fa2a4-8c8cb6e6e58e66ce-01
2022-04-20T15:30:45.612Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:45.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fa750b4d170fe8ff7288c6220f4bc75f3cb4005-ccca45f58e8a5243-01 outer:exit 2b-0fa750b4d170fe8ff7288c6220f4bc75f3cb4005-8d46000ce1a49a02-01
2022-04-20T15:30:45.639Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:45.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fe16414316e92bece9c614652d9a79b854e10db-e5010a585fb09013-01 outer:exit 2b-6fe16414316e92bece9c614652d9a79b854e10db-1422d4afb5988fc9-01
2022-04-20T15:30:45.643Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:45.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-996d8c74a6c732ffed15cb448bfa89e8b4b8ac14-fe03feb8bf335f55-01 outer:exit 2b-996d8c74a6c732ffed15cb448bfa89e8b4b8ac14-aef37caf97fc5dda-01
2022-04-20T15:30:45.650Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:45.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ac5faf5cf5ad36554cb9e17fcd894e390d56e8d-ab0ca714de2513f1-01 outer:exit 2b-6ac5faf5cf5ad36554cb9e17fcd894e390d56e8d-e8c1d94bfb6c50b9-01
2022-04-20T15:30:45.653Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:45.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-10c7eceb173812ca56db333d897785288d8b333c-24ed23dfffdba6c1-01 outer:exit 2b-10c7eceb173812ca56db333d897785288d8b333c-9fff54183d203102-01
2022-04-20T15:30:45.662Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:45.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1b63a156e92721009c6c17f82c1263a7c5a0804-8398bec5c4f0e2f8-01 outer:exit 2b-a1b63a156e92721009c6c17f82c1263a7c5a0804-a6e3233f4e2e4017-01
2022-04-20T15:30:45.670Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:45.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-438fd751a6c11509bd3fa8b03effa1c1f09af207-53cf7dd094bedbc2-01 outer:exit 2b-438fd751a6c11509bd3fa8b03effa1c1f09af207-5825b0f47b7e141d-01
2022-04-20T15:30:45.681Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:45.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba057a26729448b44a8637c43affbb38d7210f12-e557b335cf48e48c-01 outer:exit 2b-ba057a26729448b44a8637c43affbb38d7210f12-bb8adea44caa339f-01
2022-04-20T15:30:45.690Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:45.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce9543d125167f16b98b0456332322ee4d99f5c3-92fcf40f33ba40c6-01 outer:exit 2b-ce9543d125167f16b98b0456332322ee4d99f5c3-fae988eff0dd9ed7-01
2022-04-20T15:30:45.693Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:45.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-1206667556ac54dd48a6e583e38ff12b8c6821ae-b5c559c83840eba8-01 outer:exit 2b-1206667556ac54dd48a6e583e38ff12b8c6821ae-99406de3f40d0cd4-01
2022-04-20T15:30:45.699Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:45.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac8053ecb20db2dd2dfa88fbb11d291fd877a260-8c97867b4c81da15-01 outer:exit 2b-ac8053ecb20db2dd2dfa88fbb11d291fd877a260-4db558946840d7c0-01
2022-04-20T15:30:45.713Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:45.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-1604741cb6c99998a1c82bc877ce5ed843d57be4-c428ce8761b63537-01 outer:exit 2b-1604741cb6c99998a1c82bc877ce5ed843d57be4-399e058bf2610120-01
2022-04-20T15:30:45.718Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:45.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba55559949270896319a8617966c68bc4e487e1f-9fa889fef30a08bd-01 outer:exit 2b-ba55559949270896319a8617966c68bc4e487e1f-d311ff34f2b3227a-01
2022-04-20T15:30:45.721Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:45.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd1d3cf8cfbe448dcdcbf1de6502c04a8f4fa906-fadac8ac4b8bd7ab-01 outer:exit 2b-fd1d3cf8cfbe448dcdcbf1de6502c04a8f4fa906-f81ca1e4deed2828-01
2022-04-20T15:30:45.723Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:45.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-58abedfba26625739db87091dd44a8b73003c05f-5000e965a041ca8e-01 outer:exit 2b-58abedfba26625739db87091dd44a8b73003c05f-3ca1cde24fec9fad-01
2022-04-20T15:30:45.726Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:45.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7e463199ac27790ca7005afd29184ad896f2eb4-4c180bdcb6eaccfc-01 outer:exit 2b-f7e463199ac27790ca7005afd29184ad896f2eb4-ff733d4423e7bd02-01
2022-04-20T15:30:45.729Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:45.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-808f6a9b64220d25d9161ef956ebce1d172f13cb-8bb92a6fe13e75c7-01 outer:exit 2b-808f6a9b64220d25d9161ef956ebce1d172f13cb-cdd93d287b834c0e-01
2022-04-20T15:30:45.742Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:45.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-01d7f6d879f55f4678c490d717d7528d7797e226-1aa2f3eb62d1de65-01 outer:exit 2b-01d7f6d879f55f4678c490d717d7528d7797e226-aee3a17c1fe5b6a2-01
2022-04-20T15:30:45.756Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:45.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ef9f325a9856f1a4f47de5f4864aaae75f17db8-50cd5e8a4dc436b8-01 outer:exit 2b-4ef9f325a9856f1a4f47de5f4864aaae75f17db8-11872d26cf5cd313-01
2022-04-20T15:30:45.760Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:45.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cbabbcd69bfbfdc4dabdddc312db73615548171-57636f85ac631ef3-01 outer:exit 2b-5cbabbcd69bfbfdc4dabdddc312db73615548171-2d9e80574a0b875b-01
2022-04-20T15:30:45.764Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:45.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-d23cd0bc8bcece1205c873e2df2382f108d377cb-c9f1abd5e1c5f36a-01 outer:exit 2b-d23cd0bc8bcece1205c873e2df2382f108d377cb-38500a1bdf1cc0ee-01
2022-04-20T15:30:45.767Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:45.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fc7743b41371094e9e31a036f7c6d837f9dc7aa-de763802b2efa84f-01 outer:exit 2b-1fc7743b41371094e9e31a036f7c6d837f9dc7aa-ce3a214950a3934c-01
2022-04-20T15:30:45.806Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (482ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.5
updated 1 package and audited 935 packages in 6.957s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:54.100Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:54.101Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:54.101Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:54.102Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:54.253Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:54.476Z appoptics:patching patched crypto 
2022-04-20T15:30:54.500Z appoptics:patching patched https 
2022-04-20T15:30:54.501Z appoptics:patching patched http 
2022-04-20T15:30:54.551Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:54.551Z appoptics:patching patched fs 
2022-04-20T15:30:54.585Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v14.19.1)
2022-04-20T15:30:54.593Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2022-04-20T15:30:54.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-80b3775b3989df23a7e40cba2178aea8dc9db820-e06b18a60ab819d4-01 outer:exit 2b-80b3775b3989df23a7e40cba2178aea8dc9db820-d601b248d615c477-01
2022-04-20T15:30:54.650Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:54.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7f7139cbf9abedc7ad0c4207c045018b498005d-c6d117aa3df8c56e-01 outer:exit 2b-b7f7139cbf9abedc7ad0c4207c045018b498005d-259f04808dfaf7d0-01
2022-04-20T15:30:54.705Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:54.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-634fdb9146d6cc66c2b4676c286a8bdb1d2a2580-f2a3157d3e393d71-01 outer:exit 2b-634fdb9146d6cc66c2b4676c286a8bdb1d2a2580-803f3453884525c7-01
2022-04-20T15:30:54.709Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:54.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-f03e51a4c87eec15332de1c4c561cf0e6ca1e66b-a007261ae409ca16-01 outer:exit 2b-f03e51a4c87eec15332de1c4c561cf0e6ca1e66b-877df7d75b950417-01
2022-04-20T15:30:54.716Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:54.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-1965315cdd611c862705590aa40467be7445f298-a1e16161134309c3-01 outer:exit 2b-1965315cdd611c862705590aa40467be7445f298-cc4c8d4e3da0eb96-01
2022-04-20T15:30:54.722Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:54.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-8672050db82b1af22c1d0b60b5abb9081ed1896b-7ea8e1b5b463a639-01 outer:exit 2b-8672050db82b1af22c1d0b60b5abb9081ed1896b-fa6154e934746f02-01
2022-04-20T15:30:54.726Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:54.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-e553349a3b81be8a06477ab7ab90cace483b478b-d10a236d9346d610-01 outer:exit 2b-e553349a3b81be8a06477ab7ab90cace483b478b-3e81c3ba3f065daa-01
2022-04-20T15:30:54.730Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:54.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-59cc45b82b367303a2670722f65b4f8ba0fe7d1d-80d453525272b3bb-01 outer:exit 2b-59cc45b82b367303a2670722f65b4f8ba0fe7d1d-d168e210dd1f4f48-01
2022-04-20T15:30:54.733Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:54.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-979e31e4fde9e75dfb75166778be31b2689dd71e-550e3016e504be8b-01 outer:exit 2b-979e31e4fde9e75dfb75166778be31b2689dd71e-0362b7f4e1fb2932-01
2022-04-20T15:30:54.736Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:54.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-905a643375710d198807a4d1a0cdfc75a691c2fb-03ded426d9bf0520-01 outer:exit 2b-905a643375710d198807a4d1a0cdfc75a691c2fb-ca8e10e2d16320f7-01
2022-04-20T15:30:54.740Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:54.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-4da91707b289c924d0c441532d9e9e339ee11e2f-237939597d41bbef-01 outer:exit 2b-4da91707b289c924d0c441532d9e9e339ee11e2f-a57e77852c88af7d-01
2022-04-20T15:30:54.746Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:54.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9e9ada692d2128b364583b536a0967989587309-6856afab6d14b307-01 outer:exit 2b-d9e9ada692d2128b364583b536a0967989587309-56bf75470d245d66-01
2022-04-20T15:30:54.754Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:54.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-c67badbf4bf0ca05e039ca246c338c515c3a4ed0-cbf12f4d56fd9cf9-01 outer:exit 2b-c67badbf4bf0ca05e039ca246c338c515c3a4ed0-68f0040fd396c271-01
2022-04-20T15:30:54.776Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:54.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a31ff8902d99e89bee5aab6784dd5fcbc6d7ec7-29608de1570ae1f6-01 outer:exit 2b-1a31ff8902d99e89bee5aab6784dd5fcbc6d7ec7-10ee9a91a713aa27-01
2022-04-20T15:30:54.826Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:54.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-29ca7a77213db8e0424bb017038ecc7eaf667472-1f05837bbea91b03-01 outer:exit 2b-29ca7a77213db8e0424bb017038ecc7eaf667472-b2515cbd4211e08d-01
2022-04-20T15:30:54.830Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:54.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-75cab04705fd520802ae31f7a574a468bce1d67e-a124328130666dfd-01 outer:exit 2b-75cab04705fd520802ae31f7a574a468bce1d67e-29b7cb39bbca478d-01
2022-04-20T15:30:54.834Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:54.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-be3f760bae496258748bc014a1c65976556529fd-2d7287df47202773-01 outer:exit 2b-be3f760bae496258748bc014a1c65976556529fd-b11d07168af08fc7-01
2022-04-20T15:30:54.837Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:54.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-aab43ca9eefaa0bdba258c1f5f686af6850466f1-0152d4fab5d31aaf-01 outer:exit 2b-aab43ca9eefaa0bdba258c1f5f686af6850466f1-8823570c17ad1e56-01
2022-04-20T15:30:54.840Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:54.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe86aa560d69c610c86b3ee62fa76849df7d47e6-db2ebf6945df831b-01 outer:exit 2b-fe86aa560d69c610c86b3ee62fa76849df7d47e6-d2a2d6d0bdb7b2a6-01
2022-04-20T15:30:54.843Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:54.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-086a28925b72467aed8324f7dda91ca4e9a5277d-2d16f4c850597aa9-01 outer:exit 2b-086a28925b72467aed8324f7dda91ca4e9a5277d-e7c2f1fd19363761-01
2022-04-20T15:30:54.846Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:54.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b0fb8a54f484915c2ec342be382a28c2e6b120f-852253514b0e3ff8-01 outer:exit 2b-9b0fb8a54f484915c2ec342be382a28c2e6b120f-69df203fb1b1bab7-01
2022-04-20T15:30:54.849Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:54.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-5720bcf5bc5c147dce1f9835ca6b67131da9f024-1917b8031e73fda2-01 outer:exit 2b-5720bcf5bc5c147dce1f9835ca6b67131da9f024-6bd1b9201a940e0a-01
2022-04-20T15:30:54.853Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:54.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9e2ceb45b62bf854e4e17c2f0d1c117c9c055fc-fc65c0e4f625537e-01 outer:exit 2b-d9e2ceb45b62bf854e4e17c2f0d1c117c9c055fc-e8c41165c15021cc-01
2022-04-20T15:30:54.856Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:54.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-e00e12138d85bdfe8fd6af99c7137f7850837c5b-f6833728de9b0249-01 outer:exit 2b-e00e12138d85bdfe8fd6af99c7137f7850837c5b-0e828d333214bb3e-01
2022-04-20T15:30:54.860Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:54.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4dac24c972c9578bb5bb990ad5c3b390a45a38e-9d2b5aac0cbce77e-01 outer:exit 2b-c4dac24c972c9578bb5bb990ad5c3b390a45a38e-544c67484cf75c9f-01
2022-04-20T15:30:54.863Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:54.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca72e15aac9c46dedc2d759025442c93feeac64d-b82030c92847caa8-01 outer:exit 2b-ca72e15aac9c46dedc2d759025442c93feeac64d-9a17abc4652b625d-01
2022-04-20T15:30:54.867Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:54.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c73fedfa2957808db781c9f94d4d7c81ed31ef6-227d678ad9a6c12c-01 outer:exit 2b-7c73fedfa2957808db781c9f94d4d7c81ed31ef6-38e69f05001e8c67-01
2022-04-20T15:30:54.876Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:54.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fa31f7938ac85481df084570771a8ae5da255b6-29eafc6ccb246f2f-01 outer:exit 2b-8fa31f7938ac85481df084570771a8ae5da255b6-e02b23bd22ff9c50-01
2022-04-20T15:30:54.882Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:54.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2df10302ee064dc72f6387865c35ed076b11e8e-05413e87f083f6a0-01 outer:exit 2b-b2df10302ee064dc72f6387865c35ed076b11e8e-ac76f3708898ccda-01
2022-04-20T15:30:54.899Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:54.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd0eb512cb594bfde845651953594ece9eb4b605-f16e1ba4f7ceb6df-01 outer:exit 2b-dd0eb512cb594bfde845651953594ece9eb4b605-64f12b8232cae311-01
2022-04-20T15:30:54.907Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:54.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e4857b7c8e093c09d9e75ecd410eb6c8ce6a284-d0eda296195c8e07-01 outer:exit 2b-9e4857b7c8e093c09d9e75ecd410eb6c8ce6a284-9457f7be582a2824-01
2022-04-20T15:30:54.911Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:54.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-66b78e4d517c46686e524229f5c02cd77fdb3485-71b214f062cf6ad1-01 outer:exit 2b-66b78e4d517c46686e524229f5c02cd77fdb3485-ff9a81f63e8071cf-01
2022-04-20T15:30:54.917Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:54.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a37f321ba19677074ffb644162c6bc1bc8046b4-2a648d77b8d28f84-01 outer:exit 2b-6a37f321ba19677074ffb644162c6bc1bc8046b4-e6311e6d744a359c-01
2022-04-20T15:30:54.945Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:54.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a5d94a5caf9f423ea3db00518aa23d03bd7102a-c23697ab4481f129-01 outer:exit 2b-7a5d94a5caf9f423ea3db00518aa23d03bd7102a-ed85aef0110d4139-01
2022-04-20T15:30:54.948Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:54.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7923d810198cc931c2f44a6022143163989f053-88fa99ae78166c6f-01 outer:exit 2b-f7923d810198cc931c2f44a6022143163989f053-21799e1a85ee4e18-01
2022-04-20T15:30:54.952Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:54.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c1e57a9daca5773aa89f325ad6984013ad13f9e-dd06354eee069ec1-01 outer:exit 2b-0c1e57a9daca5773aa89f325ad6984013ad13f9e-d96d617fb58f8791-01
2022-04-20T15:30:54.955Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:54.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-21a643a21913f3aabf1996b4a4d0daf7690def70-ff9e568f631a6440-01 outer:exit 2b-21a643a21913f3aabf1996b4a4d0daf7690def70-5d8f12f6d9231ca7-01
2022-04-20T15:30:54.957Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:54.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-21258ee5a3dcdcd02833a5f0f95fbec1fe3f526e-998020167eafcc68-01 outer:exit 2b-21258ee5a3dcdcd02833a5f0f95fbec1fe3f526e-1c90fdd4a4872161-01
2022-04-20T15:30:54.960Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:54.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-af3efddcb99c783160babb7b12d4b9184f697865-904fdef0eb71a1cc-01 outer:exit 2b-af3efddcb99c783160babb7b12d4b9184f697865-3b158a46aa88f60f-01
2022-04-20T15:30:54.973Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:54.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-b825dd9653b29d5be2881f1eee6625dda2c42e4d-6be4f7ab93d21992-01 outer:exit 2b-b825dd9653b29d5be2881f1eee6625dda2c42e4d-dbfea39ee728f9eb-01
2022-04-20T15:30:54.986Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:54.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ab1ad0332a3afa5e40daa0e095f4f6d4a088da5-6312af0b873fcbc9-01 outer:exit 2b-5ab1ad0332a3afa5e40daa0e095f4f6d4a088da5-c36947e65b16af4d-01
2022-04-20T15:30:54.990Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:54.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-663d4eb8018b08d374c78439276fa851a39c69ee-f6698e7d60d16158-01 outer:exit 2b-663d4eb8018b08d374c78439276fa851a39c69ee-e2aaab44cfa25665-01
2022-04-20T15:30:54.994Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:54.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0fa2b1b94087dcdd886d7507d9497deb6e79b7e-16385300b294c112-01 outer:exit 2b-a0fa2b1b94087dcdd886d7507d9497deb6e79b7e-f60e84144368b486-01
2022-04-20T15:30:54.998Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:55.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcb2b42640935c5b7abc0197dab3b2068ca3b1d1-09213d77f038eb70-01 outer:exit 2b-fcb2b42640935c5b7abc0197dab3b2068ca3b1d1-63ef6554ed8b7532-01
2022-04-20T15:30:55.036Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (435ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.6
updated 1 package and audited 935 packages in 6.114s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:02.657Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:02.658Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:02.658Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:02.659Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:02.741Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:02.930Z appoptics:patching patched crypto 
2022-04-20T15:31:02.953Z appoptics:patching patched https 
2022-04-20T15:31:02.954Z appoptics:patching patched http 
2022-04-20T15:31:03.008Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:03.008Z appoptics:patching patched fs 
2022-04-20T15:31:03.041Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v14.19.1)
2022-04-20T15:31:03.049Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2022-04-20T15:31:03.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b226960adfb1699d02deb7047668b820e61b0fd-894dd157e6ba9276-01 outer:exit 2b-7b226960adfb1699d02deb7047668b820e61b0fd-aa060dcff9b0f9a9-01
2022-04-20T15:31:03.109Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:03.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-3646b3183ac4dc58346d1ed2d99ccdc6024655b8-3f39af2dca56f8f0-01 outer:exit 2b-3646b3183ac4dc58346d1ed2d99ccdc6024655b8-c0daaa9dcfaf4963-01
2022-04-20T15:31:03.163Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:03.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7f4ccf405835ef469e6a030d12bb7fe6e030fb7-969e741df5d36365-01 outer:exit 2b-f7f4ccf405835ef469e6a030d12bb7fe6e030fb7-b92415e112d0ce36-01
2022-04-20T15:31:03.167Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:03.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-d20a4c0f97e183cc2577060d16fe3a6493362b88-790a2fe964404c37-01 outer:exit 2b-d20a4c0f97e183cc2577060d16fe3a6493362b88-cb144d30ef84a45c-01
2022-04-20T15:31:03.171Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:03.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-70fa1998423931ee060558c1c814b8bd3005197d-42bf7f9a7c414b31-01 outer:exit 2b-70fa1998423931ee060558c1c814b8bd3005197d-ea3f4f4c5b183b49-01
2022-04-20T15:31:03.178Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:03.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-d36bcbd3afe2804b995bd5ef962609fcdd813a2a-d38dec0e7f9b3933-01 outer:exit 2b-d36bcbd3afe2804b995bd5ef962609fcdd813a2a-004d16e957618729-01
2022-04-20T15:31:03.182Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:03.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0ce7fa026c77c1198a31b70aa1ec62eeb50079e-de933497b6ac99e3-01 outer:exit 2b-c0ce7fa026c77c1198a31b70aa1ec62eeb50079e-7281b0d0dafea619-01
2022-04-20T15:31:03.186Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:03.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4577a69bab11fd90f6ef691c5ab63a8d9f995c8-4be979e56153d3ad-01 outer:exit 2b-b4577a69bab11fd90f6ef691c5ab63a8d9f995c8-8d65004e9d0862f7-01
2022-04-20T15:31:03.189Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:03.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c8d3fe6757ab169f13cce66796f5fea62cee84d-f0391b1cde21f4de-01 outer:exit 2b-3c8d3fe6757ab169f13cce66796f5fea62cee84d-46385581a0ce3402-01
2022-04-20T15:31:03.192Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:03.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9cda65aa9814c19ad046bb6dfa39d1d23189b2e-374c688d514dddc9-01 outer:exit 2b-a9cda65aa9814c19ad046bb6dfa39d1d23189b2e-9b2ad8504783ed0b-01
2022-04-20T15:31:03.196Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:03.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-bece2efdf677d96ee6587c3d133802b26567f74a-ccf19e8078741f6d-01 outer:exit 2b-bece2efdf677d96ee6587c3d133802b26567f74a-766985d6aae4c8fd-01
2022-04-20T15:31:03.201Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:03.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c5d12594536ea61051f3f15973b309033f3b691-c03d23b35b8d73c9-01 outer:exit 2b-8c5d12594536ea61051f3f15973b309033f3b691-322dc3caeeea112c-01
2022-04-20T15:31:03.209Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:03.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3964ea598d1b5c081a281fa23100425ce4cd55f-57f785e057a05d05-01 outer:exit 2b-b3964ea598d1b5c081a281fa23100425ce4cd55f-338d04f739534db7-01
2022-04-20T15:31:03.230Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:03.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-18eec149cfb843d741953c9a8af534b305f736a9-eab90b04114632dd-01 outer:exit 2b-18eec149cfb843d741953c9a8af534b305f736a9-a3fc36f8670a6e69-01
2022-04-20T15:31:03.281Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:03.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e2304a53463610ff5363c7825e2fe5e39f974ae-1be986f584aebc3d-01 outer:exit 2b-9e2304a53463610ff5363c7825e2fe5e39f974ae-63010b27d20cb197-01
2022-04-20T15:31:03.285Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:03.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dda3d281f4620a0a958bfe2346d90f29cf4a8b9-e77b7c4da94a6c50-01 outer:exit 2b-0dda3d281f4620a0a958bfe2346d90f29cf4a8b9-43a016d1857400dd-01
2022-04-20T15:31:03.288Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:03.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-7167ad01fe5c3e8643950abd4b13a625c1f8ea7a-bc022fb5eef33017-01 outer:exit 2b-7167ad01fe5c3e8643950abd4b13a625c1f8ea7a-f3893313a2e44c02-01
2022-04-20T15:31:03.292Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:03.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-00e4a83a287bce1f95c586cef0c1bc2a58623c6a-afff4f7b359400f4-01 outer:exit 2b-00e4a83a287bce1f95c586cef0c1bc2a58623c6a-08755042a5eafa5f-01
2022-04-20T15:31:03.295Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:03.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bff233eaa60e1c12d18f8b2d2347896e88f078b-75df52ecc58a0546-01 outer:exit 2b-8bff233eaa60e1c12d18f8b2d2347896e88f078b-a3f4b7ec59ded4bb-01
2022-04-20T15:31:03.297Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:03.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-f182d7277c4bdc6edeb1c58df1d99ea6c7367d40-14d98abfc5ef05c3-01 outer:exit 2b-f182d7277c4bdc6edeb1c58df1d99ea6c7367d40-d1de5ecf14f3a1b8-01
2022-04-20T15:31:03.300Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:03.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-7afe20f279f28c1b8112df14bc9e9a685f4920d7-88d65e149076e9ad-01 outer:exit 2b-7afe20f279f28c1b8112df14bc9e9a685f4920d7-b3ad430ea680439f-01
2022-04-20T15:31:03.303Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:03.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-89eb46b80cd5f97de408f0f3a12ca8934c6c439b-c29e377da4ed4c52-01 outer:exit 2b-89eb46b80cd5f97de408f0f3a12ca8934c6c439b-08fbdafe20dff99a-01
2022-04-20T15:31:03.306Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:03.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-11a2516f50f35fdde7f92c04d65917de87f02429-27cc8612156fa4f9-01 outer:exit 2b-11a2516f50f35fdde7f92c04d65917de87f02429-a2af0f889fd9d485-01
2022-04-20T15:31:03.310Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:03.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-5412177991a4b7b985d17a2597ade62e299440dc-b59ed292bd5259da-01 outer:exit 2b-5412177991a4b7b985d17a2597ade62e299440dc-6fb2a32cefa2ee53-01
2022-04-20T15:31:03.314Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:03.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ccd130dc8b0a1eec9cbbb9198af8f5dd8ea06b8-5195569dd9aace7a-01 outer:exit 2b-3ccd130dc8b0a1eec9cbbb9198af8f5dd8ea06b8-e9e4c9561f84899c-01
2022-04-20T15:31:03.317Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:03.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ac03629bd04f4764ec49d37f81099c6987f6358-bc2144a18795ab82-01 outer:exit 2b-0ac03629bd04f4764ec49d37f81099c6987f6358-566e9c6b0600108b-01
2022-04-20T15:31:03.320Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:03.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-27f1754982b6c1bb31d1e1119718c365315adbb5-fc00d7a0978fb639-01 outer:exit 2b-27f1754982b6c1bb31d1e1119718c365315adbb5-a4e7b18b463c3e19-01
2022-04-20T15:31:03.330Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:03.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-134a2aa312edd2de2115dd0341cc53883e0f1226-f83fc7a9b40f21cb-01 outer:exit 2b-134a2aa312edd2de2115dd0341cc53883e0f1226-9b29ca2b02e58461-01
2022-04-20T15:31:03.340Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:03.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae795fa040c25f53ee7628a87ed6eff56f77d8cd-fb96a4b1afb5aa4a-01 outer:exit 2b-ae795fa040c25f53ee7628a87ed6eff56f77d8cd-9207ca5688d42056-01
2022-04-20T15:31:03.354Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:03.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-56953efc90477747f9c0b9112a604c848d354572-7b2fbc327e29eacc-01 outer:exit 2b-56953efc90477747f9c0b9112a604c848d354572-e01df5da13e37c23-01
2022-04-20T15:31:03.372Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:03.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-19090c243859097914dbb57c33a8ab90564963bb-7e0238b963a1e3f2-01 outer:exit 2b-19090c243859097914dbb57c33a8ab90564963bb-52b4ec733e3a1fa0-01
2022-04-20T15:31:03.376Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:03.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-0418e0ad0b048afaf69f30f8d46808d8547dec1b-5f5b725b91508c17-01 outer:exit 2b-0418e0ad0b048afaf69f30f8d46808d8547dec1b-a700ec3d44728640-01
2022-04-20T15:31:03.382Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:03.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-513c54cfefcd74b14ada8f2042244982e326fef5-e0e43add0955bda1-01 outer:exit 2b-513c54cfefcd74b14ada8f2042244982e326fef5-1192ab56a96a24a7-01
2022-04-20T15:31:03.392Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:03.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-45b65984086523cf01ce2dd941337bf3a62dd0ad-ea819aa1fb7825ae-01 outer:exit 2b-45b65984086523cf01ce2dd941337bf3a62dd0ad-596b20a3eaa2259a-01
2022-04-20T15:31:03.396Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:03.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-5798da524b5292cdaf3682a687e48f49cb1b552b-ee9644f692505c2a-01 outer:exit 2b-5798da524b5292cdaf3682a687e48f49cb1b552b-bf5900e2d7707a6d-01
2022-04-20T15:31:03.400Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:03.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-213fb19f12dc0d2ba495dfcefcee87a847b82afa-be4908b2c1745660-01 outer:exit 2b-213fb19f12dc0d2ba495dfcefcee87a847b82afa-ee6ba83c3099b1e1-01
2022-04-20T15:31:03.403Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:03.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-d70f9567dfb38e5e49cbd7bdb366d1752a187cb8-b2ed57c9afe11a10-01 outer:exit 2b-d70f9567dfb38e5e49cbd7bdb366d1752a187cb8-eac2a348fbbfecf0-01
2022-04-20T15:31:03.406Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:03.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f8a7162434319c3416a4394d6af677ef81f4f26-75500c00b87a85eb-01 outer:exit 2b-9f8a7162434319c3416a4394d6af677ef81f4f26-e3cbeb24a481eebf-01
2022-04-20T15:31:03.413Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:03.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-6903a409179c800205a7b535da3b450d342a4741-2cb45aa866d46637-01 outer:exit 2b-6903a409179c800205a7b535da3b450d342a4741-0c73b3d20bc4265d-01
2022-04-20T15:31:03.443Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:03.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fff14090db65ce414ed41c081fe6c7ba7e7430d-7000aeed3655d202-01 outer:exit 2b-7fff14090db65ce414ed41c081fe6c7ba7e7430d-3a0d70a4342798e1-01
2022-04-20T15:31:03.461Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:03.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcd5d22d8dea37d04c7d499eff9a31c3368923c2-90b1c120a6200e79-01 outer:exit 2b-fcd5d22d8dea37d04c7d499eff9a31c3368923c2-173b249006668a0a-01
2022-04-20T15:31:03.466Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:03.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3dea50129d485d233c7f66d57f84f5dec31e2b2-ef6fd7c1f6334e37-01 outer:exit 2b-d3dea50129d485d233c7f66d57f84f5dec31e2b2-152a6d99e600a310-01
2022-04-20T15:31:03.470Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:03.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ad56c7ef9b57f0012a40b90cd9e372ebd635c07-daa545949e4cebb7-01 outer:exit 2b-7ad56c7ef9b57f0012a40b90cd9e372ebd635c07-2537149bc7fcd52b-01
2022-04-20T15:31:03.473Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:03.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2ee527df5514e3e74147d57d3b3b818d004be29-25fb062166f103e0-01 outer:exit 2b-c2ee527df5514e3e74147d57d3b3b818d004be29-82b16d6f92d129ab-01
2022-04-20T15:31:03.511Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (454ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.7
updated 1 package and audited 935 packages in 5.734s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:10.641Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:10.642Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:10.642Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:10.643Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:10.727Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:10.933Z appoptics:patching patched crypto 
2022-04-20T15:31:10.963Z appoptics:patching patched https 
2022-04-20T15:31:10.964Z appoptics:patching patched http 
2022-04-20T15:31:11.012Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:11.013Z appoptics:patching patched fs 
2022-04-20T15:31:11.044Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v14.19.1)
2022-04-20T15:31:11.052Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2022-04-20T15:31:11.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-b437650b0c93e45547c895da083e2a2cda8fd734-859d9b9bc67047a7-01 outer:exit 2b-b437650b0c93e45547c895da083e2a2cda8fd734-900041a33d3e8303-01
2022-04-20T15:31:11.109Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:11.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-4de8533191d73898d2c07478e3885fab6be02a4b-251f704e3fb23a54-01 outer:exit 2b-4de8533191d73898d2c07478e3885fab6be02a4b-410158a309e5edd8-01
2022-04-20T15:31:11.165Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:11.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-33876bc255aaf21426d835e8d00c25789d90c57c-8eae1d0bf095e965-01 outer:exit 2b-33876bc255aaf21426d835e8d00c25789d90c57c-e0d4a2b9408d6924-01
2022-04-20T15:31:11.170Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:11.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5164b5ffb9a769eb4854746a29ef077d2262e09-063e43d033dbf029-01 outer:exit 2b-b5164b5ffb9a769eb4854746a29ef077d2262e09-d3933a2f0bfcccf0-01
2022-04-20T15:31:11.175Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:11.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-26bb30c2d1e313905fa3cae9afb4c4aa3b27b415-9dca425f65947ae5-01 outer:exit 2b-26bb30c2d1e313905fa3cae9afb4c4aa3b27b415-c69d4a4349bb8cb3-01
2022-04-20T15:31:11.181Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:11.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2e24b6f224d20fef313c19bc6742ca10d43e619-bfdf50c46fdb59a3-01 outer:exit 2b-a2e24b6f224d20fef313c19bc6742ca10d43e619-e9cd0736cd9e6644-01
2022-04-20T15:31:11.186Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:11.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-1389c9e5f235271f5687efb83a002c92ef1ebd28-e84c6bda1055a0b3-01 outer:exit 2b-1389c9e5f235271f5687efb83a002c92ef1ebd28-8b20f1865485f888-01
2022-04-20T15:31:11.190Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:11.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-7473d504d5162229e9174ebefc438287b1545ae1-afdd32227d1e5d8c-01 outer:exit 2b-7473d504d5162229e9174ebefc438287b1545ae1-6b5fda37bf2613a4-01
2022-04-20T15:31:11.193Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:11.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b4edef22f0fc3ccfb2ecf6fc619b6e22571825f-acc31c9c9f94d6df-01 outer:exit 2b-7b4edef22f0fc3ccfb2ecf6fc619b6e22571825f-03252a2a1658a66a-01
2022-04-20T15:31:11.196Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:11.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cca4909b444a915ab274af5505f963c9187d72e-99be69c08ce4dce5-01 outer:exit 2b-2cca4909b444a915ab274af5505f963c9187d72e-3bd5303c8aad6542-01
2022-04-20T15:31:11.200Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:11.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf408f7a100d52bac5732b6489e7463b54ad835b-9b5d85d29f7cc9d7-01 outer:exit 2b-cf408f7a100d52bac5732b6489e7463b54ad835b-5d1b91f83393e4bb-01
2022-04-20T15:31:11.205Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:11.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-c22cffd3d55b81a2427db9894b3f2d73ebbd9d24-e7b5aad5b4f4a67d-01 outer:exit 2b-c22cffd3d55b81a2427db9894b3f2d73ebbd9d24-6bc617b9d64b8e64-01
2022-04-20T15:31:11.213Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:11.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fa94c827e5ff45844d42fe8985f6dfdd1ebf0ab-faa94577102cf744-01 outer:exit 2b-2fa94c827e5ff45844d42fe8985f6dfdd1ebf0ab-24e58fff48a4f25d-01
2022-04-20T15:31:11.235Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:11.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-51f9d76225a78b1c70d48cf759b823b35a89c767-23a83c24acf37cf3-01 outer:exit 2b-51f9d76225a78b1c70d48cf759b823b35a89c767-23148a33030ae1fa-01
2022-04-20T15:31:11.285Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:11.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f0ccdba846f23ad73e6255a387817f187e7ac42-4f1437b9102a5756-01 outer:exit 2b-9f0ccdba846f23ad73e6255a387817f187e7ac42-b299724eb780f369-01
2022-04-20T15:31:11.292Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:11.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-9711a9f909e570f41121238ec9b441879b9d6bc8-79ad3103710a9572-01 outer:exit 2b-9711a9f909e570f41121238ec9b441879b9d6bc8-1a68acd1e8aa9a70-01
2022-04-20T15:31:11.295Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:11.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-f003d69d253a278f7cd4b4c129250f6790e59786-0cf1849e5df798c0-01 outer:exit 2b-f003d69d253a278f7cd4b4c129250f6790e59786-353f8a9296038859-01
2022-04-20T15:31:11.298Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:11.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f988abfda2952370ab5aaac08540402c63c9bef-c422d90bed36175a-01 outer:exit 2b-4f988abfda2952370ab5aaac08540402c63c9bef-65bd46fe5798cd68-01
2022-04-20T15:31:11.302Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:11.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d9f60629d2ebecdf1d2cd88012c9939dc5a11dd-b50cd2ee3148fc2b-01 outer:exit 2b-6d9f60629d2ebecdf1d2cd88012c9939dc5a11dd-33421df689a4a39d-01
2022-04-20T15:31:11.305Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:11.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-3697aa23dd5ce021228b18eb1bb45968b7ffd0b4-e80ae43364a246b7-01 outer:exit 2b-3697aa23dd5ce021228b18eb1bb45968b7ffd0b4-99586ddc9fe95116-01
2022-04-20T15:31:11.308Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:11.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d06712b7839271d91cb691032d51cdd0bf1433f-c6791eb41daf832a-01 outer:exit 2b-7d06712b7839271d91cb691032d51cdd0bf1433f-e5f6325e467a25b6-01
2022-04-20T15:31:11.311Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:11.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-f42212ff4b24ad95402674f09328cd22f83a63f8-c6f2de6bb42aaa51-01 outer:exit 2b-f42212ff4b24ad95402674f09328cd22f83a63f8-df706a280b106a05-01
2022-04-20T15:31:11.313Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:11.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c55ea78e5789f698fb341253e3b55a102797ff3-dde36b23b10007d0-01 outer:exit 2b-2c55ea78e5789f698fb341253e3b55a102797ff3-afb5409134f61a71-01
2022-04-20T15:31:11.317Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:11.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d6fc50c867b0c065ee90603fc267855351a784c-680fe655c2dd5e19-01 outer:exit 2b-9d6fc50c867b0c065ee90603fc267855351a784c-f1b04d97ecd56fc6-01
2022-04-20T15:31:11.321Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:11.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-0da241b0bf27a394a9cc16b8123b896dda9d14f0-2ac49d5547757755-01 outer:exit 2b-0da241b0bf27a394a9cc16b8123b896dda9d14f0-bafd43a3cfd4cf3b-01
2022-04-20T15:31:11.325Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:11.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab34597c91f222be84d09acbf1d90381c87f0be7-c6e5c419a69d7e10-01 outer:exit 2b-ab34597c91f222be84d09acbf1d90381c87f0be7-5eaa3461d804864f-01
2022-04-20T15:31:11.328Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:11.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-83da6e1e9c89021ddc09e657cf83f26aa0874945-958ff4990676ad3a-01 outer:exit 2b-83da6e1e9c89021ddc09e657cf83f26aa0874945-5dcb67aa06172a56-01
2022-04-20T15:31:11.338Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:11.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-90e85749580c2a7e97db8eee380c47f82a2dfa82-fad8df4257e4b572-01 outer:exit 2b-90e85749580c2a7e97db8eee380c47f82a2dfa82-2d7173ad21cb3339-01
2022-04-20T15:31:11.344Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:11.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f2f045f6f6532688046423de75b5f87da02ca39-630d4804c99582ef-01 outer:exit 2b-9f2f045f6f6532688046423de75b5f87da02ca39-e0e503a3361092b9-01
2022-04-20T15:31:11.353Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:11.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e6f704dd7447b237d72efa0f8107f71bd2a0478-632539034effec47-01 outer:exit 2b-8e6f704dd7447b237d72efa0f8107f71bd2a0478-8d07a820291698cd-01
2022-04-20T15:31:11.363Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:11.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-19f1edec0115031da9396ec8612987a5befd6c37-8b72f5d40933d50d-01 outer:exit 2b-19f1edec0115031da9396ec8612987a5befd6c37-a3c87397a0cebcea-01
2022-04-20T15:31:11.365Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:11.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e6f117a11a0c5faf096524abbbbaa84e499c05d-d4891cc08c51a90b-01 outer:exit 2b-8e6f117a11a0c5faf096524abbbbaa84e499c05d-40caf207d1a49716-01
2022-04-20T15:31:11.370Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:11.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d977df88c36401fc64f48bfbc2f69ec1fb5a7c5-0b2829197d3b3c16-01 outer:exit 2b-4d977df88c36401fc64f48bfbc2f69ec1fb5a7c5-12b8b1d92defb261-01
2022-04-20T15:31:11.379Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:11.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb654be30429d372aeb902d5463c3bcb0a050c4b-4500e652a18b2847-01 outer:exit 2b-bb654be30429d372aeb902d5463c3bcb0a050c4b-ae22cd100e52d464-01
2022-04-20T15:31:11.381Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:11.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c3daab8d5d75b40872c63b68b5648505168ba6e-57579d6d3f3d582d-01 outer:exit 2b-1c3daab8d5d75b40872c63b68b5648505168ba6e-874f8894659c2c89-01
2022-04-20T15:31:11.384Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:11.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-54732965e42b932f4f4c6b356e0b3c2891c572f9-341c0a7f6d0bf672-01 outer:exit 2b-54732965e42b932f4f4c6b356e0b3c2891c572f9-bba8652105df229b-01
2022-04-20T15:31:11.387Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:11.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-c426184acd94ce20fd630c380baef1c946f7b7ed-2dae4c5e22a2085e-01 outer:exit 2b-c426184acd94ce20fd630c380baef1c946f7b7ed-b3b61acfec0547dc-01
2022-04-20T15:31:11.389Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:11.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fb31584c6f42aef53098628756409ebbf7ecbf8-24f91d4633ad6524-01 outer:exit 2b-1fb31584c6f42aef53098628756409ebbf7ecbf8-351a1752903fadf2-01
2022-04-20T15:31:11.394Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:11.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-b82b040e226978ab2b25717ee852dc18cb58dca3-2c2387090029ba99-01 outer:exit 2b-b82b040e226978ab2b25717ee852dc18cb58dca3-011dccc98c085e7d-01
2022-04-20T15:31:11.411Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:11.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-92104d9e587869392210ea56a0d89c5657fa76ad-114cca60318ee2d6-01 outer:exit 2b-92104d9e587869392210ea56a0d89c5657fa76ad-3c531c093bec3e56-01
2022-04-20T15:31:11.423Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:11.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-159bd830de82b84e1b7c8e5739a0059037ae2765-e3d367f6e793c300-01 outer:exit 2b-159bd830de82b84e1b7c8e5739a0059037ae2765-be2cdf094a139435-01
2022-04-20T15:31:11.427Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:11.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a988b9c57f6702f062880d6acb5fd89a5351b36-4027b818aee1b928-01 outer:exit 2b-5a988b9c57f6702f062880d6acb5fd89a5351b36-936f6634115d980b-01
2022-04-20T15:31:11.430Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:11.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-e65898eec73d2ff0fa78d43f0017108431303e84-cb0776bed79ed901-01 outer:exit 2b-e65898eec73d2ff0fa78d43f0017108431303e84-7cc14c98950f889a-01
2022-04-20T15:31:11.434Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:11.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a0d53aa7b74d0f714f77e64f205e2118aff4e96-6c1f8f0140a4e58d-01 outer:exit 2b-7a0d53aa7b74d0f714f77e64f205e2118aff4e96-0883600fa96c0bd6-01
2022-04-20T15:31:11.471Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (411ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.8
updated 1 package and audited 935 packages in 6.728s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:19.463Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:19.464Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:19.464Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:19.465Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:19.552Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:19.765Z appoptics:patching patched crypto 
2022-04-20T15:31:19.811Z appoptics:patching patched https 
2022-04-20T15:31:19.812Z appoptics:patching patched http 
2022-04-20T15:31:19.856Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:19.856Z appoptics:patching patched fs 
2022-04-20T15:31:19.910Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v14.19.1)
2022-04-20T15:31:19.918Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2022-04-20T15:31:20.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-7be74a15be9bae1445cf68c59ad5769e72463a4b-3f1231ff690a70ab-01 outer:exit 2b-7be74a15be9bae1445cf68c59ad5769e72463a4b-e9253ac6a94a36a5-01
2022-04-20T15:31:20.035Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:20.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-05c1b974d3e98f3841db4c6841b6b4ed844561a6-9ded5bd6c47ffc1d-01 outer:exit 2b-05c1b974d3e98f3841db4c6841b6b4ed844561a6-051d20a2c9473bb7-01
2022-04-20T15:31:20.093Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:20.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-faa7800251f872f0b2f59f616f5607c92b3baab5-287ac5c54d230eb3-01 outer:exit 2b-faa7800251f872f0b2f59f616f5607c92b3baab5-c925f69fb60529db-01
2022-04-20T15:31:20.098Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:20.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5be95514ae40807225b5a380b8cbff912ea5f4a-e03363203e00b39c-01 outer:exit 2b-e5be95514ae40807225b5a380b8cbff912ea5f4a-c71c22b3ee862d06-01
2022-04-20T15:31:20.102Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:20.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-c936d7728726fc5b128b51084e927ad01afabcb8-ea4018596280ba1a-01 outer:exit 2b-c936d7728726fc5b128b51084e927ad01afabcb8-2533b0d7650f6819-01
2022-04-20T15:31:20.109Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:20.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-4847e0eea8edc32f0a1e534688fed3eccc9c5ee0-d8f548c4d5aefa05-01 outer:exit 2b-4847e0eea8edc32f0a1e534688fed3eccc9c5ee0-7b74f438fa105c1c-01
2022-04-20T15:31:20.114Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:20.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6e97f53104d72a0423976ac5fff91cd90d5a0de-532c4917c01d67d1-01 outer:exit 2b-e6e97f53104d72a0423976ac5fff91cd90d5a0de-bc75244f92d98f32-01
2022-04-20T15:31:20.119Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:20.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c70e8af7dfbb1529c594ede90446dce9e9e30b5-c90a4327c2992a0b-01 outer:exit 2b-4c70e8af7dfbb1529c594ede90446dce9e9e30b5-58db467d16aa061d-01
2022-04-20T15:31:20.123Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:20.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7e68b7e17d10da4f84f2ed47e93ef77a07ce6b9-d36b38801ca55ad0-01 outer:exit 2b-c7e68b7e17d10da4f84f2ed47e93ef77a07ce6b9-e2f29998813aeb50-01
2022-04-20T15:31:20.128Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:20.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c3b244ba9020ee612034f60962f736db5d816e3-054a61f266c1b489-01 outer:exit 2b-2c3b244ba9020ee612034f60962f736db5d816e3-3e84224901d44d68-01
2022-04-20T15:31:20.135Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:20.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-0722a5212c5226856d72b74e375e1effbec3a3f8-3edff34b5cb1236e-01 outer:exit 2b-0722a5212c5226856d72b74e375e1effbec3a3f8-9e696cb1422dc1b5-01
2022-04-20T15:31:20.141Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:20.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-a363f6effa659f5bae986b55aacf56e0948f23bf-804e08bb4bc10906-01 outer:exit 2b-a363f6effa659f5bae986b55aacf56e0948f23bf-9a78b55ffabd7b4d-01
2022-04-20T15:31:20.149Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:20.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c6e60dc8bc8b65c5721c2b6c5106750134f2479-4647bb651b58c670-01 outer:exit 2b-7c6e60dc8bc8b65c5721c2b6c5106750134f2479-78e2acba0a827c37-01
2022-04-20T15:31:20.168Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:20.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-2071372fa4375fe841ede025bac3224848e71c79-f9832e428e436dd3-01 outer:exit 2b-2071372fa4375fe841ede025bac3224848e71c79-abc59e4a929ea260-01
2022-04-20T15:31:20.225Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:20.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-44d30fc29276c4362d71efc2f5f5e546af63b169-8df180e2d1e867a3-01 outer:exit 2b-44d30fc29276c4362d71efc2f5f5e546af63b169-ae0a3c1d8dbee931-01
2022-04-20T15:31:20.233Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:20.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce1672a097d55f67dc33fdde7126f9f532792c7c-4b5baa7cd9296a50-01 outer:exit 2b-ce1672a097d55f67dc33fdde7126f9f532792c7c-26ddc5e4b270f8ff-01
2022-04-20T15:31:20.236Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:20.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-189b81c686a901c67308036bf80a70ae81880217-6fc8d75f1ec5c2b7-01 outer:exit 2b-189b81c686a901c67308036bf80a70ae81880217-b22b74e092ba9de0-01
2022-04-20T15:31:20.240Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:20.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e19042dbb7bca7e701082f7e657bb759dcdb2c3-a603eed8b73f4544-01 outer:exit 2b-8e19042dbb7bca7e701082f7e657bb759dcdb2c3-6450d87e213120ae-01
2022-04-20T15:31:20.243Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:20.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ba40447bd7061bc85872eeec14873cba44d14e9-0984d5cfb743141b-01 outer:exit 2b-3ba40447bd7061bc85872eeec14873cba44d14e9-33d175f3018a954c-01
2022-04-20T15:31:20.246Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:20.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-388870a0ff041c014350992a1596c77ff978ea9e-bf4d074759dc4ea6-01 outer:exit 2b-388870a0ff041c014350992a1596c77ff978ea9e-b7e2a49a79d22936-01
2022-04-20T15:31:20.249Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:20.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-1205054536227f5292b6116ff5ef4ee9fb710f6c-f1f6143ff24c9213-01 outer:exit 2b-1205054536227f5292b6116ff5ef4ee9fb710f6c-cb4d7c69471de248-01
2022-04-20T15:31:20.252Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:20.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-1236629848a5d5ee958a61e64c1b8f00d9e3df10-02cd7e6ea1d62441-01 outer:exit 2b-1236629848a5d5ee958a61e64c1b8f00d9e3df10-3038dc4ea7c32f79-01
2022-04-20T15:31:20.254Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:20.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3a9352f3075dae24655eb439e7b45cbb2b49d7c-d52d7d00141ad4f3-01 outer:exit 2b-c3a9352f3075dae24655eb439e7b45cbb2b49d7c-f9a0316d5f88e4cc-01
2022-04-20T15:31:20.258Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:20.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-791abc46d4094ce4c84ef1533e487b58248ec2cc-cff1f4b25ee68e4c-01 outer:exit 2b-791abc46d4094ce4c84ef1533e487b58248ec2cc-aaa8fc999df072b9-01
2022-04-20T15:31:20.273Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:20.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fd4d8ad9536d615f700f0ed57b928fc18494915-4802141f6ca1105f-01 outer:exit 2b-2fd4d8ad9536d615f700f0ed57b928fc18494915-1603771c4fb39669-01
2022-04-20T15:31:20.276Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:20.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf04b3ffe76234a80746f5d1c54b7f28ad0390eb-b23cc5c3ebb3b741-01 outer:exit 2b-cf04b3ffe76234a80746f5d1c54b7f28ad0390eb-a6fa50a3ef77cde6-01
2022-04-20T15:31:20.280Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:20.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa2f3b97a7b2f80e59b6261c6fb914515bd01b9e-e7436a9e81f7584a-01 outer:exit 2b-fa2f3b97a7b2f80e59b6261c6fb914515bd01b9e-868e0c6c418b3b1e-01
2022-04-20T15:31:20.288Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:20.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-17e614ebad1a5a311259cadd49d73c4162b85383-e3d2feb0beae6065-01 outer:exit 2b-17e614ebad1a5a311259cadd49d73c4162b85383-675c4d0bf82310cc-01
2022-04-20T15:31:20.302Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:20.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-c56021d2939fa1728f778dbb1b3e963b32ae6a64-4d7c4bfa569f4bea-01 outer:exit 2b-c56021d2939fa1728f778dbb1b3e963b32ae6a64-3bd1917783ef265f-01
2022-04-20T15:31:20.318Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:20.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e755baa4760b8b2b2901d190472daa078b840a7-eeb11ed895be51ff-01 outer:exit 2b-7e755baa4760b8b2b2901d190472daa078b840a7-efbb5b4365ca5ed6-01
2022-04-20T15:31:20.335Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:20.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-75f05f2fc2f57f2a741be345cbc415a67c4c8ba4-5f04cecc43bcac78-01 outer:exit 2b-75f05f2fc2f57f2a741be345cbc415a67c4c8ba4-3bedb384dec6f1be-01
2022-04-20T15:31:20.340Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:20.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-345ec273f67a545d6bd9a61cc82eaf23f7a48a57-4a123a8fae585593-01 outer:exit 2b-345ec273f67a545d6bd9a61cc82eaf23f7a48a57-86bc3328f079f709-01
2022-04-20T15:31:20.346Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:20.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c13d2deccd75c923e2dae549a261d56313079f7-1b0d73c7821cafa7-01 outer:exit 2b-8c13d2deccd75c923e2dae549a261d56313079f7-e1e5dd906ee67d06-01
2022-04-20T15:31:20.354Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:20.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca0a75d12d0c1cb27b6b23ec1c3778d8d31549cd-701ddd7cfdd30959-01 outer:exit 2b-ca0a75d12d0c1cb27b6b23ec1c3778d8d31549cd-1fefd4974c03ccf1-01
2022-04-20T15:31:20.357Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:20.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-384af8e292253a0a73f6f7bab9d13d058ae5d455-00bcdf9b3de1216d-01 outer:exit 2b-384af8e292253a0a73f6f7bab9d13d058ae5d455-156a4c8b1302cb63-01
2022-04-20T15:31:20.360Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:20.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2c1ae96ca622a4c31f32645d690f52ba13ef698-3ab2a000762f60e1-01 outer:exit 2b-e2c1ae96ca622a4c31f32645d690f52ba13ef698-1c5b32d18386ee1a-01
2022-04-20T15:31:20.362Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:20.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-4faae5658fcce8474cc45529bea40ef56341e549-51cc12285746fb35-01 outer:exit 2b-4faae5658fcce8474cc45529bea40ef56341e549-9e479b7152854c28-01
2022-04-20T15:31:20.369Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:20.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8710b5c606a2ca69471cd3c333287fce965c20c-08477ddb8845ee33-01 outer:exit 2b-c8710b5c606a2ca69471cd3c333287fce965c20c-674cb544d648e6a5-01
2022-04-20T15:31:20.373Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:20.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-d069fcf651078175fe9689b0b6a9898bb83eaf4f-147ce8af2492726e-01 outer:exit 2b-d069fcf651078175fe9689b0b6a9898bb83eaf4f-6b09998bf87c7115-01
2022-04-20T15:31:20.402Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:20.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-0561460bda9d913d77819700b0014dd9434d3f02-562a35f99e4691ab-01 outer:exit 2b-0561460bda9d913d77819700b0014dd9434d3f02-6dfc2de174afec51-01
2022-04-20T15:31:20.416Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:20.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dd65c526f1ca64729c2b46a6bd4fcb2cc19764a-8ab1fc9fc3ec4b99-01 outer:exit 2b-0dd65c526f1ca64729c2b46a6bd4fcb2cc19764a-ae6c4a036795eccc-01
2022-04-20T15:31:20.421Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:20.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-f00bb497ce9a97a075c4ccbbb2eb5c0d38ad7163-a6098a7a579ccc83-01 outer:exit 2b-f00bb497ce9a97a075c4ccbbb2eb5c0d38ad7163-787bc088fedd056f-01
2022-04-20T15:31:20.426Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:20.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e838544324fd6b4d5e8aac30c1da4e0cb7292ca-c12455bccabb9097-01 outer:exit 2b-7e838544324fd6b4d5e8aac30c1da4e0cb7292ca-ddbefcb1f9767e13-01
2022-04-20T15:31:20.434Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:20.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a7f8e5a086c36ed43ce60a99742babf039dae14-27ab63af8c02d394-01 outer:exit 2b-2a7f8e5a086c36ed43ce60a99742babf039dae14-0653b9bfc70e0ebe-01
2022-04-20T15:31:20.477Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (550ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.9
updated 1 package and audited 935 packages in 7.851s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:29.680Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:29.681Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:29.681Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:29.681Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:29.766Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:29.967Z appoptics:patching patched crypto 
2022-04-20T15:31:29.991Z appoptics:patching patched https 
2022-04-20T15:31:29.993Z appoptics:patching patched http 
2022-04-20T15:31:30.047Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:30.048Z appoptics:patching patched fs 
2022-04-20T15:31:30.090Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v14.19.1)
2022-04-20T15:31:30.104Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2022-04-20T15:31:30.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-f29c1519e8ae7d2898c528eec720c8a030d1c772-8275d137c420a94c-01 outer:exit 2b-f29c1519e8ae7d2898c528eec720c8a030d1c772-c7a09d06cd717e71-01
2022-04-20T15:31:30.196Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:30.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-b980eb4038e84e95f295da250786b5524a72cd3d-93afc4550ce5bcad-01 outer:exit 2b-b980eb4038e84e95f295da250786b5524a72cd3d-306ba0180cb76734-01
2022-04-20T15:31:30.273Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:30.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-30262dc7a5b9c6cdba2fceaf3f73969fb3da161a-10536defabc5b3ee-01 outer:exit 2b-30262dc7a5b9c6cdba2fceaf3f73969fb3da161a-ce91b62014e17671-01
2022-04-20T15:31:30.278Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:30.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe1530a878e5b729ec93a45783bb952bd328b0f8-f81a9197511c4080-01 outer:exit 2b-fe1530a878e5b729ec93a45783bb952bd328b0f8-a61cd75b842bd9ff-01
2022-04-20T15:31:30.282Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:30.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc123760ea614fa00b04e2707ef04d7e2776224c-bf2823ab5e99f689-01 outer:exit 2b-bc123760ea614fa00b04e2707ef04d7e2776224c-6826a6543dd48189-01
2022-04-20T15:31:30.289Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:30.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce886c5afa9b2221346fd180f17b101111749751-fda2cf42ffa3474e-01 outer:exit 2b-ce886c5afa9b2221346fd180f17b101111749751-46ffa8e2df486dca-01
2022-04-20T15:31:30.293Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:30.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-a43a6229e5bb0a8b2b021eab8f1246a63749314d-5c3a777cd3145ec2-01 outer:exit 2b-a43a6229e5bb0a8b2b021eab8f1246a63749314d-514b44156cdacbaf-01
2022-04-20T15:31:30.297Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:30.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-db1a483514b9f1ac80dcb589a01dc3d93875e49a-3cd6ef271d645a94-01 outer:exit 2b-db1a483514b9f1ac80dcb589a01dc3d93875e49a-af0564ba411c8a78-01
2022-04-20T15:31:30.301Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:30.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-223ff5c14d4163967f1c2c62dda829cafce30565-4f5cf5715a0f09b5-01 outer:exit 2b-223ff5c14d4163967f1c2c62dda829cafce30565-589dac6efe519eb0-01
2022-04-20T15:31:30.305Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:30.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-401da12bd1ab75775b0937740499d5588eeacc7b-dda0f5f68bb1c0ec-01 outer:exit 2b-401da12bd1ab75775b0937740499d5588eeacc7b-28cebf8ce43b2f17-01
2022-04-20T15:31:30.309Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:30.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-e31010142cd60c5c19ce9c93b6c48cab1cd081d0-b7e35714ae1f03a6-01 outer:exit 2b-e31010142cd60c5c19ce9c93b6c48cab1cd081d0-17eff2778fcf0777-01
2022-04-20T15:31:30.315Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:30.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fefc818624779b6301d866db2069f060192a227-ff8d30ea88a148ba-01 outer:exit 2b-3fefc818624779b6301d866db2069f060192a227-c44367e1cbb29068-01
2022-04-20T15:31:30.344Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:30.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5f4f115441fe6b6bf004e171d8a010dd9dae993-e50d53c610b0877c-01 outer:exit 2b-d5f4f115441fe6b6bf004e171d8a010dd9dae993-80fcddb2276e9926-01
2022-04-20T15:31:30.367Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:30.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-66badeb8116802260efb49353ce2a6da6eced4ea-f8ac7dbbd4e034da-01 outer:exit 2b-66badeb8116802260efb49353ce2a6da6eced4ea-11b6eab71ff70bc3-01
2022-04-20T15:31:30.416Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:30.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e60643641531e6b68de19f5223c6960fbfdd526-4d3358d31d21f003-01 outer:exit 2b-0e60643641531e6b68de19f5223c6960fbfdd526-e06679e14ca0f16c-01
2022-04-20T15:31:30.423Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:30.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8ff4b542d85ba1e5472a7bb6cac094dcfda3c3e-ecbd7619fcd50914-01 outer:exit 2b-e8ff4b542d85ba1e5472a7bb6cac094dcfda3c3e-0eb0dfce1ee1b608-01
2022-04-20T15:31:30.426Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:30.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ea1b96cb6eaa0c8660b1f3db15ac506d903083d-2d144ca155c49248-01 outer:exit 2b-5ea1b96cb6eaa0c8660b1f3db15ac506d903083d-6cbe3bf7ac4b77a3-01
2022-04-20T15:31:30.430Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:30.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-03583d38607f5487ede808f840e5944901f458f4-b7d7cb43f8a1ccfb-01 outer:exit 2b-03583d38607f5487ede808f840e5944901f458f4-eeb5c6ef12097ed3-01
2022-04-20T15:31:30.433Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:30.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-a73dc90e24689d7afe9facbbd9d6322274680c64-675a88ace1b958a2-01 outer:exit 2b-a73dc90e24689d7afe9facbbd9d6322274680c64-faea671f0b077f3f-01
2022-04-20T15:31:30.436Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:30.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-d18aa12da158ad9e645d97f0378409fb527ee69f-3c2fc141410efdbc-01 outer:exit 2b-d18aa12da158ad9e645d97f0378409fb527ee69f-0aad56b12864e570-01
2022-04-20T15:31:30.439Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:30.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-514b4607b12e28fa059b7dfcca0f0c10758d010f-3f43fe12b69c6f78-01 outer:exit 2b-514b4607b12e28fa059b7dfcca0f0c10758d010f-206e453d2be9e81b-01
2022-04-20T15:31:30.442Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:30.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec16635cc621f0fc08f204bc320d9d301e444cde-96efe615806fbe84-01 outer:exit 2b-ec16635cc621f0fc08f204bc320d9d301e444cde-995c33d65f18485e-01
2022-04-20T15:31:30.445Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:30.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-598ffbf318a7da5730951fae6b2c1d78f16aa553-db271ca7c158d2c6-01 outer:exit 2b-598ffbf318a7da5730951fae6b2c1d78f16aa553-91073b0c88e821a3-01
2022-04-20T15:31:30.453Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:30.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f0175bb8f5f6ec9f4b831ef2c5da50d4c33f858-46e4f53f244b81bd-01 outer:exit 2b-5f0175bb8f5f6ec9f4b831ef2c5da50d4c33f858-c2c0404d064db2ea-01
2022-04-20T15:31:30.460Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:30.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-c07f41ac11da5939354020d80a6f08af1eb1247e-ce4496d452bb7c7c-01 outer:exit 2b-c07f41ac11da5939354020d80a6f08af1eb1247e-f323d2320023583f-01
2022-04-20T15:31:30.469Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:30.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1e21d465bc41eb9c1e6f87b9578a3305ce0fbc6-112bac56cfbd832e-01 outer:exit 2b-f1e21d465bc41eb9c1e6f87b9578a3305ce0fbc6-67470b2e44570ce2-01
2022-04-20T15:31:30.473Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:30.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebd88e147ba4fd999b94e21276d414ea9dcdd2fc-8b44eac4b1e4dc59-01 outer:exit 2b-ebd88e147ba4fd999b94e21276d414ea9dcdd2fc-261d86104f0258b3-01
2022-04-20T15:31:30.507Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:30.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbd2e39512035df7720883b195ee38a237de1229-8f5ce96352e8f3da-01 outer:exit 2b-bbd2e39512035df7720883b195ee38a237de1229-3b89abed8cff7ec4-01
2022-04-20T15:31:30.534Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:30.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ba6cff3d842f7fd318760e28775bdb1e180cf79-1547e9f4a8531512-01 outer:exit 2b-6ba6cff3d842f7fd318760e28775bdb1e180cf79-c0efa1a67d5ef85e-01
2022-04-20T15:31:30.548Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:30.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e69880e19de2837bdb4a1054782119048a58ef8-7e20539dc525074a-01 outer:exit 2b-9e69880e19de2837bdb4a1054782119048a58ef8-c0988795079b18ee-01
2022-04-20T15:31:30.558Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:30.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f1ec614f899236244a572a6cef62fd15fef6b29-3fa8cd3d75415ac3-01 outer:exit 2b-2f1ec614f899236244a572a6cef62fd15fef6b29-427c7868d92b7461-01
2022-04-20T15:31:30.562Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:30.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-070816b4f9bc4ad77dcbe641f8d4508d172ae137-1394d7e89b18f4f3-01 outer:exit 2b-070816b4f9bc4ad77dcbe641f8d4508d172ae137-b5942af2c28e11a3-01
2022-04-20T15:31:30.567Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:30.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-a878e7fbe00e5424971642d1f67a287d96ec835d-63f20b1528ef1627-01 outer:exit 2b-a878e7fbe00e5424971642d1f67a287d96ec835d-082f49bbfba3f7ca-01
2022-04-20T15:31:30.579Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:30.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-96cf2159c452b31c9fbcb68b823ab51b688e146a-d9c64c166ebc3d03-01 outer:exit 2b-96cf2159c452b31c9fbcb68b823ab51b688e146a-481b7f3f967cf7d0-01
2022-04-20T15:31:30.582Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:30.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4a75a001ca3af00409f44b06144ad5e66dd25d3-8fbcb27200d1317b-01 outer:exit 2b-b4a75a001ca3af00409f44b06144ad5e66dd25d3-6118f19f36268a8e-01
2022-04-20T15:31:30.585Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:30.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5e8a6319c8a6c6f9205e3e711ab84e9fd827083-9ff1cd559dd7bcce-01 outer:exit 2b-f5e8a6319c8a6c6f9205e3e711ab84e9fd827083-a3420685f07a09b5-01
2022-04-20T15:31:30.588Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:30.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5adcee96b2ef73d0e0be484058fa451327d170d-e93229ba3a292d2d-01 outer:exit 2b-e5adcee96b2ef73d0e0be484058fa451327d170d-6f5d0c1230354d8e-01
2022-04-20T15:31:30.591Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:30.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb05bb9feabe53862588e2d74fa623b3e59645c3-46a218d3147623e5-01 outer:exit 2b-bb05bb9feabe53862588e2d74fa623b3e59645c3-798399de52964ea1-01
2022-04-20T15:31:30.594Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:30.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-6991b8b8251a277e12fd536488a1efbca3a163e6-82d6097aac3eb7bf-01 outer:exit 2b-6991b8b8251a277e12fd536488a1efbca3a163e6-bb6f049bd6a3ae2f-01
2022-04-20T15:31:30.634Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:30.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb57e3e1c2879bec19a22e5a2915c3b2fb591971-ac8bcf1d91148e9f-01 outer:exit 2b-fb57e3e1c2879bec19a22e5a2915c3b2fb591971-2d8aec0bd608e724-01
2022-04-20T15:31:30.645Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:30.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-b541beb6b08eccdd0e0f0925570f0aa1b136c43e-0f7ab3e5d6ac3e97-01 outer:exit 2b-b541beb6b08eccdd0e0f0925570f0aa1b136c43e-1e56157584422d1f-01
2022-04-20T15:31:30.649Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:30.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-126641255ab6ccbb5022d5646f3112402998463d-8f17ecad3141f066-01 outer:exit 2b-126641255ab6ccbb5022d5646f3112402998463d-17c360fde8423ebe-01
2022-04-20T15:31:30.653Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:30.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bc43b40aca9908de4054c52e06a6955a67b549a-1a55afc426ffaed6-01 outer:exit 2b-7bc43b40aca9908de4054c52e06a6955a67b549a-46fbbb0d2caf1ea5-01
2022-04-20T15:31:30.671Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:30.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-36626b37e84e7f3483f7f4d3c4c4ea1fe63efed3-90a269b59bb3a8e3-01 outer:exit 2b-36626b37e84e7f3483f7f4d3c4c4ea1fe63efed3-4f31a79bb289a030-01
2022-04-20T15:31:30.707Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (594ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.10
updated 1 package and audited 935 packages in 5.438s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:37.448Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:37.448Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:37.448Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:37.449Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:37.549Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:37.769Z appoptics:patching patched crypto 
2022-04-20T15:31:37.829Z appoptics:patching patched https 
2022-04-20T15:31:37.829Z appoptics:patching patched http 
2022-04-20T15:31:37.877Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:37.877Z appoptics:patching patched fs 
2022-04-20T15:31:37.914Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v14.19.1)
2022-04-20T15:31:37.922Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2022-04-20T15:31:37.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e43373eb2561e7a4be94413ec216779ecbf6b60-79343a5754b12dc4-01 outer:exit 2b-1e43373eb2561e7a4be94413ec216779ecbf6b60-fc0ed877d2a99372-01
2022-04-20T15:31:37.981Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:38.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff01b6f22457d2d30def0a94ae8e78ca9749406a-bfb79e54ab6ce9c9-01 outer:exit 2b-ff01b6f22457d2d30def0a94ae8e78ca9749406a-81ac1e8a6078c2a9-01
2022-04-20T15:31:38.047Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:38.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d4041d2014d4a68d4d6d0ff1a79704daec9b2ea-6d9bb15de4cae758-01 outer:exit 2b-1d4041d2014d4a68d4d6d0ff1a79704daec9b2ea-99aa4fba0ff9fd40-01
2022-04-20T15:31:38.052Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:38.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa847c759c40ebc59c53211039b34928ce14f1b6-fd072fce645fb4e2-01 outer:exit 2b-fa847c759c40ebc59c53211039b34928ce14f1b6-2ab36e3ebfdf48c3-01
2022-04-20T15:31:38.056Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:38.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4ac43a7a54fbe2f6feac7ff58580630a74381c4-9edf86aa170aa2db-01 outer:exit 2b-f4ac43a7a54fbe2f6feac7ff58580630a74381c4-eb1af68061f6afbf-01
2022-04-20T15:31:38.063Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:38.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-44f437d376cd759b0f0f7187043d5117a9f3c5bb-fc5474a37a6e3199-01 outer:exit 2b-44f437d376cd759b0f0f7187043d5117a9f3c5bb-b4b8f15bb49bd772-01
2022-04-20T15:31:38.067Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:38.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5ff63b62b92c3adb413ae873c62f01b9d69ee6e-51b3d71297e3abe7-01 outer:exit 2b-b5ff63b62b92c3adb413ae873c62f01b9d69ee6e-a986929a3170ec26-01
2022-04-20T15:31:38.071Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:38.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ab0763dd79116fdc58edde8ea150194033ea1df-ea3e68e866250c8a-01 outer:exit 2b-9ab0763dd79116fdc58edde8ea150194033ea1df-dc4d98d2471a9b8a-01
2022-04-20T15:31:38.075Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:38.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9306f51c83a23908b432dd608cb899232962294-688b0ff7880ca739-01 outer:exit 2b-b9306f51c83a23908b432dd608cb899232962294-c8b230c3fa428ea1-01
2022-04-20T15:31:38.078Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:38.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cc5cfce54467d0b7f9708ecf5c5fa56c76b6d61-76a9b0c476006ea2-01 outer:exit 2b-5cc5cfce54467d0b7f9708ecf5c5fa56c76b6d61-edebe7dedcc534f1-01
2022-04-20T15:31:38.082Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:38.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1db0e0ab71818a143681f3252b2e8c93725448e-825470b7c9bcb5b8-01 outer:exit 2b-c1db0e0ab71818a143681f3252b2e8c93725448e-4e0f4df7107d33ed-01
2022-04-20T15:31:38.088Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:38.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbc60824c5b734c6563b48bea404ab52b0aabf87-ef900790ff51b633-01 outer:exit 2b-cbc60824c5b734c6563b48bea404ab52b0aabf87-9d1103593fb19d0f-01
2022-04-20T15:31:38.099Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:38.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-6735d6907ee206d0698de7892bfb6feadeb0523b-a6e79ea4945fc9b2-01 outer:exit 2b-6735d6907ee206d0698de7892bfb6feadeb0523b-b06bbe462ea53789-01
2022-04-20T15:31:38.138Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:38.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca709d16fdf687c6bed3d14e532e18849f341770-a6ce8933a0eb7429-01 outer:exit 2b-ca709d16fdf687c6bed3d14e532e18849f341770-9bbce06088c6beae-01
2022-04-20T15:31:38.193Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:38.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdb5378d4f8d2550267e1655e5e473b0d6fd2f57-ff0b5324078ee565-01 outer:exit 2b-cdb5378d4f8d2550267e1655e5e473b0d6fd2f57-d27780825e95e0c1-01
2022-04-20T15:31:38.199Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:38.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe39c4e50ec0ad8fcd0572fc654ae4fda0d8a2b0-969405ca3768ed90-01 outer:exit 2b-fe39c4e50ec0ad8fcd0572fc654ae4fda0d8a2b0-de69865cd2b11926-01
2022-04-20T15:31:38.203Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:38.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-703dbb768746a59d6553002ed5d98512fdc07fcd-fac96afebd6ba8fe-01 outer:exit 2b-703dbb768746a59d6553002ed5d98512fdc07fcd-0438cbf372ca08a9-01
2022-04-20T15:31:38.206Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:38.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-85e8d2f8aab92646fd569495d7679ed4df1d14ab-8e6ce2ac3d559511-01 outer:exit 2b-85e8d2f8aab92646fd569495d7679ed4df1d14ab-344844b3f01343ea-01
2022-04-20T15:31:38.210Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:38.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-40381bad73751884ce72de852b5bbf6faad6603b-7f27470a54887a46-01 outer:exit 2b-40381bad73751884ce72de852b5bbf6faad6603b-da56e54c59a65087-01
2022-04-20T15:31:38.213Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:38.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1e6dd8a2a9aef3b97c5069ed0cfe294b56aa2c0-fa9ecebd5c4eefd3-01 outer:exit 2b-c1e6dd8a2a9aef3b97c5069ed0cfe294b56aa2c0-d21aae39775cc262-01
2022-04-20T15:31:38.217Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:38.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b630f2fc4e7a2e58a95354de55a1ba02d4e9310-46a23bfef96847ec-01 outer:exit 2b-1b630f2fc4e7a2e58a95354de55a1ba02d4e9310-b3850bc9375ec4e0-01
2022-04-20T15:31:38.222Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:38.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1a9ae0bf07aab6c08e22735637dc31477ce132e-cf0c527d97a8e9f0-01 outer:exit 2b-a1a9ae0bf07aab6c08e22735637dc31477ce132e-bc6e2bd8c1bde82a-01
2022-04-20T15:31:38.226Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:38.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-41c0bf09fc9ea0006ab5991ab2a63e6fc8c3bc9a-6822abcdda909879-01 outer:exit 2b-41c0bf09fc9ea0006ab5991ab2a63e6fc8c3bc9a-d9b64e9821ec215b-01
2022-04-20T15:31:38.232Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:38.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-df7d1f3dffd46a974435ff21a7681676629895f1-d893658da82f69ae-01 outer:exit 2b-df7d1f3dffd46a974435ff21a7681676629895f1-6e86518bb20d678d-01
2022-04-20T15:31:38.242Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:38.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bfa22f100d6367be213c41135c2070dbc4e0667-e9452e6106d262c3-01 outer:exit 2b-8bfa22f100d6367be213c41135c2070dbc4e0667-73cc62e113d112f3-01
2022-04-20T15:31:38.246Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:38.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-8439ed5b2c74e0c01a532f22bf0f35f356a14428-4c08209ad3f9c318-01 outer:exit 2b-8439ed5b2c74e0c01a532f22bf0f35f356a14428-951a4ef22ac57d96-01
2022-04-20T15:31:38.249Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:38.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-5daadfe4a7989138813a32588a5c919c4ff7fd13-c5389bfc1f3ac0ab-01 outer:exit 2b-5daadfe4a7989138813a32588a5c919c4ff7fd13-945ecb283d1ee5a1-01
2022-04-20T15:31:38.259Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:38.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c335529b01e3aa0a3249b4c2d851067bb765b80-2db145d2973d7bdc-01 outer:exit 2b-0c335529b01e3aa0a3249b4c2d851067bb765b80-444fae2605a02d91-01
2022-04-20T15:31:38.268Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:38.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d6d8fa86d1e2b6ef94f9c478ff886c8d4194064-bc6c07d9edeaa85b-01 outer:exit 2b-3d6d8fa86d1e2b6ef94f9c478ff886c8d4194064-27381fbd9e2e40be-01
2022-04-20T15:31:38.281Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:38.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-62e9e4608dfd8a0f05cb8efb731eea6ef50ddb31-bef50f77a1f788a8-01 outer:exit 2b-62e9e4608dfd8a0f05cb8efb731eea6ef50ddb31-500589fc4d2fb307-01
2022-04-20T15:31:38.290Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:38.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-370a47b91ba27afd2a21229764f70b68ff9c51ad-3e8a476586ebc960-01 outer:exit 2b-370a47b91ba27afd2a21229764f70b68ff9c51ad-426be58469eaad0d-01
2022-04-20T15:31:38.293Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:38.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a02d829ff5dfd4a27e2d47ea97d1b7b21a9678d-a7389653ec793c67-01 outer:exit 2b-6a02d829ff5dfd4a27e2d47ea97d1b7b21a9678d-8529ea0381c9e330-01
2022-04-20T15:31:38.298Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:38.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfa8e473fbd8e34583af66da8ba3cd2998139d0d-cea22ee24e6ad0c9-01 outer:exit 2b-cfa8e473fbd8e34583af66da8ba3cd2998139d0d-d356311a903cbc87-01
2022-04-20T15:31:38.308Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:38.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-090dd8f86c62389cdfaa932d7629892784bd65a0-3dacef875911701b-01 outer:exit 2b-090dd8f86c62389cdfaa932d7629892784bd65a0-67a92f38c3567197-01
2022-04-20T15:31:38.311Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:38.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-6403ab5b96fe5f4588703d599914a0ab146e13f6-81d088e0e112be21-01 outer:exit 2b-6403ab5b96fe5f4588703d599914a0ab146e13f6-8f3eae90a84bb735-01
2022-04-20T15:31:38.314Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:38.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5a08b6293d52ae111c8b051c446148d06af9a6b-ea782eaefccd1e24-01 outer:exit 2b-e5a08b6293d52ae111c8b051c446148d06af9a6b-7510975f68177b61-01
2022-04-20T15:31:38.317Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:38.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-423241e0531bb0fbbf4b15d8ca7ac98e917bd945-db71cb36038a7d2a-01 outer:exit 2b-423241e0531bb0fbbf4b15d8ca7ac98e917bd945-aea0205d479fed55-01
2022-04-20T15:31:38.319Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:38.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-908e25e6efb3cd3b1a1a45f7497b7f51e4a9066f-0dc746ca7d2b5644-01 outer:exit 2b-908e25e6efb3cd3b1a1a45f7497b7f51e4a9066f-a283d4ff7a71d030-01
2022-04-20T15:31:38.322Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:38.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0c95db3e0d4d127ff32a65d2866c9fcf94dabf3-97fdb56ce6e8f057-01 outer:exit 2b-f0c95db3e0d4d127ff32a65d2866c9fcf94dabf3-2b28c30d86f17cc7-01
2022-04-20T15:31:38.335Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:38.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-161d2e3e20a2cef7a58e719aaa07eff9970f1066-3d30a91c57e1d11d-01 outer:exit 2b-161d2e3e20a2cef7a58e719aaa07eff9970f1066-bf79fa94d239da58-01
2022-04-20T15:31:38.362Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:38.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7d5e7e5489190f1c565c9c71933133a37948db0-5395d23692c5bfe3-01 outer:exit 2b-f7d5e7e5489190f1c565c9c71933133a37948db0-2252db2460702b10-01
2022-04-20T15:31:38.367Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:38.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5d012b60cfbc61cccd2789ba68a06958c951994-6afef9feac16b7ee-01 outer:exit 2b-d5d012b60cfbc61cccd2789ba68a06958c951994-dcfcf1d756b6c2c7-01
2022-04-20T15:31:38.371Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:38.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-055cdc7376f7534c6a903cd69b1c0c13a5d8064f-b24a5e533ece79c4-01 outer:exit 2b-055cdc7376f7534c6a903cd69b1c0c13a5d8064f-93a5ad37fa31094d-01
2022-04-20T15:31:38.374Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:38.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-389eec90903b1f4a669be1589fbeba918f97460b-4c04a8bb10d1eae2-01 outer:exit 2b-389eec90903b1f4a669be1589fbeba918f97460b-29146b8cada2b1e4-01
2022-04-20T15:31:38.417Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (487ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.11
updated 1 package and audited 935 packages in 6.386s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:46.320Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:46.321Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:46.321Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:46.322Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:46.401Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:46.640Z appoptics:patching patched crypto 
2022-04-20T15:31:46.690Z appoptics:patching patched https 
2022-04-20T15:31:46.691Z appoptics:patching patched http 
2022-04-20T15:31:46.754Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:46.754Z appoptics:patching patched fs 
2022-04-20T15:31:46.786Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v14.19.1)
2022-04-20T15:31:46.793Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2022-04-20T15:31:46.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-58577bb31037fbca884835c88eae3554d93c4fc7-53316011656ed17a-01 outer:exit 2b-58577bb31037fbca884835c88eae3554d93c4fc7-551b3a192e1084b8-01
2022-04-20T15:31:46.849Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:46.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b8aab16b58fa75b0c8a413803bef1936c1a2a0a-6f9c367d29ed1d93-01 outer:exit 2b-9b8aab16b58fa75b0c8a413803bef1936c1a2a0a-ed2900d5a082e9ba-01
2022-04-20T15:31:46.906Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:46.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe76277617205fe68cdd62755be3e32dbb24ee13-d808d8a8a4f9b202-01 outer:exit 2b-fe76277617205fe68cdd62755be3e32dbb24ee13-70ecf748375de319-01
2022-04-20T15:31:46.911Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:46.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d8fafbd9213132c72d67046bb65c99f0233610a-f4ae28350f0e0b41-01 outer:exit 2b-1d8fafbd9213132c72d67046bb65c99f0233610a-32682363aa1cc166-01
2022-04-20T15:31:46.914Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:46.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-48860b5eb7580be0a1f1adb68fa100e882a6b28f-f7e1875890197004-01 outer:exit 2b-48860b5eb7580be0a1f1adb68fa100e882a6b28f-d28d04d1f409162b-01
2022-04-20T15:31:46.921Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:46.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff24daee5d26b4c9a574ba262027cad8aed106ea-1ff0334495052236-01 outer:exit 2b-ff24daee5d26b4c9a574ba262027cad8aed106ea-49098af71d4972ea-01
2022-04-20T15:31:46.925Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:46.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-8455b0d1e7a35e789f8e9158d3860a7bda2e24bf-ec730b5db3c8ddfe-01 outer:exit 2b-8455b0d1e7a35e789f8e9158d3860a7bda2e24bf-b0d63c44d5f32915-01
2022-04-20T15:31:46.928Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:46.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-35b27814b704edc8bf05717e29209b74bc878571-34daae99d993777a-01 outer:exit 2b-35b27814b704edc8bf05717e29209b74bc878571-e6d76686a78fb486-01
2022-04-20T15:31:46.931Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:46.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e7c0abd1bdcb1de8a467c0fa44409b7b380f7b8-4ad81acd9771a113-01 outer:exit 2b-4e7c0abd1bdcb1de8a467c0fa44409b7b380f7b8-da8616c19b144a7e-01
2022-04-20T15:31:46.934Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:46.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4acc2a5853be190d60b703265722fc78c672ff8-6adbece9810fa6c4-01 outer:exit 2b-a4acc2a5853be190d60b703265722fc78c672ff8-700b919b4d0842c1-01
2022-04-20T15:31:46.939Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:46.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dcb8b16d00338daa1aa0760baf70d0fe4d0f5c7-ab94f0d4fbda2084-01 outer:exit 2b-7dcb8b16d00338daa1aa0760baf70d0fe4d0f5c7-c44c5502101fec69-01
2022-04-20T15:31:46.949Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:46.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ca2a2d2ab8d7dd275fc3658d3b9986fa3817abe-68314b329d322069-01 outer:exit 2b-7ca2a2d2ab8d7dd275fc3658d3b9986fa3817abe-2816a3a620413384-01
2022-04-20T15:31:46.957Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:46.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cd363a611b1e7f3a471875533024fef40ac055a-6cb3fc2e979e44a8-01 outer:exit 2b-1cd363a611b1e7f3a471875533024fef40ac055a-c4f08667b79d56f1-01
2022-04-20T15:31:46.974Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:47.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7d189092cf2b5cd23f8908480010a16c6cce49f-c67875756128c6f4-01 outer:exit 2b-e7d189092cf2b5cd23f8908480010a16c6cce49f-60474b849c30f9da-01
2022-04-20T15:31:47.021Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:47.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-02bda98032d7b3594155df3b6a7ac0d22d5df228-c0527cd60ef3bbe1-01 outer:exit 2b-02bda98032d7b3594155df3b6a7ac0d22d5df228-f0c79831e50a7c6b-01
2022-04-20T15:31:47.029Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:47.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-42a33d05be27e4a792f2d4b2e61da366648fc587-d2baacdac909c717-01 outer:exit 2b-42a33d05be27e4a792f2d4b2e61da366648fc587-32e8c37e6fe2b6fd-01
2022-04-20T15:31:47.033Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:47.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c691036826ab1f7d647dcbd0df712fb7db41762-1e4a338aafa83e28-01 outer:exit 2b-3c691036826ab1f7d647dcbd0df712fb7db41762-c69cdde2854579e6-01
2022-04-20T15:31:47.036Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:47.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d1b3cc2d3e7890ab97856f1c7806ac1a021f5af-8678883f8b41f9a6-01 outer:exit 2b-7d1b3cc2d3e7890ab97856f1c7806ac1a021f5af-571cb30e2605db88-01
2022-04-20T15:31:47.039Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:47.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-0425261b7e4490040cefac67cc0e7616c8c99cbb-beb8dcec6acec8f4-01 outer:exit 2b-0425261b7e4490040cefac67cc0e7616c8c99cbb-776f127fe537f8f4-01
2022-04-20T15:31:47.042Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:47.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff8d25132ef57d9a199ef7ab223ffbf54f10eefe-b99bf90f52593624-01 outer:exit 2b-ff8d25132ef57d9a199ef7ab223ffbf54f10eefe-69f2f4c128e6142a-01
2022-04-20T15:31:47.045Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:47.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd2ce87ff7dfa417e16feed44dd97f008a128729-7f20592904201d8f-01 outer:exit 2b-bd2ce87ff7dfa417e16feed44dd97f008a128729-3056c3b3634b5fcd-01
2022-04-20T15:31:47.047Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:47.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-76e04235a1983bc694732f69e961448aff8a04d1-c229e770b7849b5c-01 outer:exit 2b-76e04235a1983bc694732f69e961448aff8a04d1-6d8e5b203e6210b6-01
2022-04-20T15:31:47.050Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:47.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-c19aa5aefe506dcb7718c8568007ad5c69cd7931-8e9a4533493767a7-01 outer:exit 2b-c19aa5aefe506dcb7718c8568007ad5c69cd7931-d73ce2bc81685eff-01
2022-04-20T15:31:47.054Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:47.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f897720cab19bbfaed003dd5d7293eb725cd4df-b6c5dda50eea3e2c-01 outer:exit 2b-3f897720cab19bbfaed003dd5d7293eb725cd4df-4733b361044f5206-01
2022-04-20T15:31:47.058Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:47.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-7640a795d17eb229961b7761776c5e7f1319b44c-b92fb806f6591671-01 outer:exit 2b-7640a795d17eb229961b7761776c5e7f1319b44c-2712bfc76f3a8e45-01
2022-04-20T15:31:47.061Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:47.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-a52c7fcc19d1b2259c42385bec89eb030d37449e-c78502079405c20e-01 outer:exit 2b-a52c7fcc19d1b2259c42385bec89eb030d37449e-90dccb71e30ef1a9-01
2022-04-20T15:31:47.065Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:47.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-94aa237fa850a54ecd101fef596528ca0115bab4-108b6283c208170c-01 outer:exit 2b-94aa237fa850a54ecd101fef596528ca0115bab4-073d4ecb1b451980-01
2022-04-20T15:31:47.072Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:47.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-28dc2c0172df01ea11af035e1de8a7ed6c429a71-324c75612389e131-01 outer:exit 2b-28dc2c0172df01ea11af035e1de8a7ed6c429a71-616026f57c89534e-01
2022-04-20T15:31:47.078Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:47.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8f8615646f6aea618e7ae0dfb34ecc26963a547-94ed20089b105892-01 outer:exit 2b-e8f8615646f6aea618e7ae0dfb34ecc26963a547-20397d152460702b-01
2022-04-20T15:31:47.089Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:47.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fcfa6106dbcba7805043bd82518ce09d37b552f-5457623f314750ae-01 outer:exit 2b-5fcfa6106dbcba7805043bd82518ce09d37b552f-74891bc6a1fce37d-01
2022-04-20T15:31:47.111Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:47.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc3ce230c082618fc6b3837ddea10a5ae0e6e579-70ceb2927c12692e-01 outer:exit 2b-dc3ce230c082618fc6b3837ddea10a5ae0e6e579-96edf29767ff861e-01
2022-04-20T15:31:47.114Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:47.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-b578b1e5b2419838abf7f1ae2d296c9f6f350d04-90cb0a6d16c64391-01 outer:exit 2b-b578b1e5b2419838abf7f1ae2d296c9f6f350d04-bd52a5870ef79be3-01
2022-04-20T15:31:47.119Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:47.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d0703623f212ae8305d831dc5d9c18485c2f8a5-37693c539899be07-01 outer:exit 2b-8d0703623f212ae8305d831dc5d9c18485c2f8a5-259c53ad75ebb8ea-01
2022-04-20T15:31:47.129Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:47.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca765cac747b1c21dcc5a5edf28e2b20b721bad1-c5cb4f4808386f76-01 outer:exit 2b-ca765cac747b1c21dcc5a5edf28e2b20b721bad1-f3304b42a8e13554-01
2022-04-20T15:31:47.132Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:47.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fdeb9ad94c4d3a7b0442a9e545604ea9e6284cf-67dde72361d55412-01 outer:exit 2b-5fdeb9ad94c4d3a7b0442a9e545604ea9e6284cf-766c15685ade5135-01
2022-04-20T15:31:47.135Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:47.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f3a5adf4caafec88831bc3cc59711bf9644bf54-0d2f10dcdfbb17c9-01 outer:exit 2b-4f3a5adf4caafec88831bc3cc59711bf9644bf54-349954df762fa5b7-01
2022-04-20T15:31:47.137Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:47.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ccc2f4f4d0d6babb2d42634f5e0a4fb91d2a4e9-04d5012fe8b491ec-01 outer:exit 2b-6ccc2f4f4d0d6babb2d42634f5e0a4fb91d2a4e9-b619cda2274e932f-01
2022-04-20T15:31:47.140Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:47.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3a828a270cbfe8da4591aa667b47fe685dac4c7-53aa7fe7db114af9-01 outer:exit 2b-d3a828a270cbfe8da4591aa667b47fe685dac4c7-f8148f36d0419390-01
2022-04-20T15:31:47.142Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:47.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f148f1fbebe965e87b2e3039f0ee82a33c48f8d-c19fc979ee321326-01 outer:exit 2b-6f148f1fbebe965e87b2e3039f0ee82a33c48f8d-84c80fe681f240a6-01
2022-04-20T15:31:47.154Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:47.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-da4d26788477b6b1ae5cc95ced9e32718d38f8e5-264d56eab7909617-01 outer:exit 2b-da4d26788477b6b1ae5cc95ced9e32718d38f8e5-23d401ed5a13e258-01
2022-04-20T15:31:47.166Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:47.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a17b6cfcf4db7c6b8727c551de500bf01f80389-bbf998c7ffb937cf-01 outer:exit 2b-7a17b6cfcf4db7c6b8727c551de500bf01f80389-77db2f1ba92e2c2d-01
2022-04-20T15:31:47.169Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:47.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-da2d54f4e4a0b14aeb41c7a696223fa5cd1c0afb-61e5dac43c92fe2d-01 outer:exit 2b-da2d54f4e4a0b14aeb41c7a696223fa5cd1c0afb-252e85bf445504b4-01
2022-04-20T15:31:47.173Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:47.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a47af978c8d87b4f7793f2d269b07a07b0a7b78-5024e3d7482475ac-01 outer:exit 2b-1a47af978c8d87b4f7793f2d269b07a07b0a7b78-48cc88ac13729a48-01
2022-04-20T15:31:47.176Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:47.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8fe2c10119d774dd6bc005255832e759450d426-dc1cc1b6dbe21f6c-01 outer:exit 2b-f8fe2c10119d774dd6bc005255832e759450d426-f4cf832bcb14a658-01
2022-04-20T15:31:47.210Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (411ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.12
updated 1 package and audited 935 packages in 6.423s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:55.005Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:55.006Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:55.006Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:55.006Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:55.108Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:55.347Z appoptics:patching patched crypto 
2022-04-20T15:31:55.390Z appoptics:patching patched https 
2022-04-20T15:31:55.391Z appoptics:patching patched http 
2022-04-20T15:31:55.450Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:55.451Z appoptics:patching patched fs 
2022-04-20T15:31:55.488Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v14.19.1)
2022-04-20T15:31:55.496Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2022-04-20T15:31:55.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-4182aa703aa47efb97b67c8c52b16fb74f2ca1c1-291118904e86c00b-01 outer:exit 2b-4182aa703aa47efb97b67c8c52b16fb74f2ca1c1-f0eec85dbcc1c142-01
2022-04-20T15:31:55.554Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:55.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-132d479c064b1efecc38fbaedcf3c73337ede933-050b24afaf7be427-01 outer:exit 2b-132d479c064b1efecc38fbaedcf3c73337ede933-06b1a0ba05c545ee-01
2022-04-20T15:31:55.608Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:55.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-301e1185556c5e441de45b4905e6e284658f2216-4fbbbc913a43cf01-01 outer:exit 2b-301e1185556c5e441de45b4905e6e284658f2216-0749eb48390c02a3-01
2022-04-20T15:31:55.613Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:55.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b702d8dd2531607564abb24f0279e04af4e62a0-6cb0d7ff90128968-01 outer:exit 2b-2b702d8dd2531607564abb24f0279e04af4e62a0-4dabc3720a5730e1-01
2022-04-20T15:31:55.617Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:55.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab06622270dd79b79fbbc2aa55587d22748c96ec-05029e592eface34-01 outer:exit 2b-ab06622270dd79b79fbbc2aa55587d22748c96ec-4d89bd6f4c3d6a83-01
2022-04-20T15:31:55.624Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:55.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0fb776632d5f461e04b51b986cd375e25b52037-0440e6338096e2d0-01 outer:exit 2b-e0fb776632d5f461e04b51b986cd375e25b52037-fc1c965fd9051607-01
2022-04-20T15:31:55.628Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:55.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-68600ca432c99dd14f684ce9d0264ca0773cc7bf-ec2aa795b8ec7f17-01 outer:exit 2b-68600ca432c99dd14f684ce9d0264ca0773cc7bf-24a10db6e217f1c3-01
2022-04-20T15:31:55.632Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:55.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-b435adb450a7d089ec5665c1ae6cb4f8bc7e0afc-705e079cb7cab8fa-01 outer:exit 2b-b435adb450a7d089ec5665c1ae6cb4f8bc7e0afc-c3a836def49a9970-01
2022-04-20T15:31:55.636Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:55.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-a180bc4dd13dec1385dc15a9f583394998b30674-1cff4839a8e55328-01 outer:exit 2b-a180bc4dd13dec1385dc15a9f583394998b30674-87cb65df6fcd68dd-01
2022-04-20T15:31:55.640Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:55.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a11f6a2ca56878e80f4007d1102af2611ef3276-2ba890d992ffe295-01 outer:exit 2b-8a11f6a2ca56878e80f4007d1102af2611ef3276-1ba0ce9e180000f8-01
2022-04-20T15:31:55.644Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:55.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-d50f00fc2643f24c58c88f9dfb5a436d6a61abb2-1adc86f8d4f6a2be-01 outer:exit 2b-d50f00fc2643f24c58c88f9dfb5a436d6a61abb2-60d585509dd864c5-01
2022-04-20T15:31:55.650Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:55.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2f32fdf0dcc7907f678decb4189c6018dc8baaf-9ec7121ed0b5cd2f-01 outer:exit 2b-c2f32fdf0dcc7907f678decb4189c6018dc8baaf-0cd0848306edc9d0-01
2022-04-20T15:31:55.657Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:55.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-39cdd66234424193798cee8a033997b655a75b14-4612c0a570232a4c-01 outer:exit 2b-39cdd66234424193798cee8a033997b655a75b14-eff9e4c5405aebfd-01
2022-04-20T15:31:55.677Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:55.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-f04780fcf3d233f47a26a12add7e1f76b7c56503-981998be59123890-01 outer:exit 2b-f04780fcf3d233f47a26a12add7e1f76b7c56503-43059f087a28785b-01
2022-04-20T15:31:55.736Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:55.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-23e5a5c26cfcfb02cc9d2657e7cb7c5a0838250c-b75094e75ca7206c-01 outer:exit 2b-23e5a5c26cfcfb02cc9d2657e7cb7c5a0838250c-380726af1a9ae390-01
2022-04-20T15:31:55.744Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:55.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d05814a1918ca1942f7452927ebab289b0bd87d-46a03cb994b813c5-01 outer:exit 2b-4d05814a1918ca1942f7452927ebab289b0bd87d-8c8bdba0cdd739e2-01
2022-04-20T15:31:55.748Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:55.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-84177f379771c6200437c22349e0a8ccd74d195c-6f2874517855b53b-01 outer:exit 2b-84177f379771c6200437c22349e0a8ccd74d195c-ad90f62bb1f959f3-01
2022-04-20T15:31:55.752Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:55.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-6529f2314ae88e6177b384d365f803cfeb96e4d9-865bf81535249a42-01 outer:exit 2b-6529f2314ae88e6177b384d365f803cfeb96e4d9-373e23a8716cbfe3-01
2022-04-20T15:31:55.755Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:55.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bb4ddba1afeffb786726d98e84b1cb6c6e4bc2f-6da019fbf9d6d6ed-01 outer:exit 2b-9bb4ddba1afeffb786726d98e84b1cb6c6e4bc2f-f1be3d739ee97ad4-01
2022-04-20T15:31:55.758Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:55.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-f587abdf2a3a68cb052437f44f72eb49bf0e11c9-db3a728fd9fa4071-01 outer:exit 2b-f587abdf2a3a68cb052437f44f72eb49bf0e11c9-644bb1418a46342f-01
2022-04-20T15:31:55.761Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:55.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-c310ab881e2ec491652b5af3fe8aa6bfd2fdf554-881cea48d2583097-01 outer:exit 2b-c310ab881e2ec491652b5af3fe8aa6bfd2fdf554-e36f6eacf8a7b16a-01
2022-04-20T15:31:55.763Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:55.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-553c86cbd9c3d43886803b3abd6564d36ad55e0a-170b421a68da40bb-01 outer:exit 2b-553c86cbd9c3d43886803b3abd6564d36ad55e0a-8adc46bfb848904d-01
2022-04-20T15:31:55.766Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:55.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-c81f4268be9dc2acd90eb0e84139ca3c3aa20feb-4578dfe1415b82ad-01 outer:exit 2b-c81f4268be9dc2acd90eb0e84139ca3c3aa20feb-b21f0984e79b1ed8-01
2022-04-20T15:31:55.770Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:55.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1ff0418ea019249bb98b8273acf6dfbea89a951-995125d4c6c96d3d-01 outer:exit 2b-a1ff0418ea019249bb98b8273acf6dfbea89a951-e8a86891e6c29373-01
2022-04-20T15:31:55.774Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:55.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-40a0e99978506e0f21fbac279258c3ea6bc1a853-a8c22eee072c4ff5-01 outer:exit 2b-40a0e99978506e0f21fbac279258c3ea6bc1a853-1e68add7b474a774-01
2022-04-20T15:31:55.777Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:55.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f40d5762e19de355ef0e92f7b12f39721293def-3702ac5bcd91f21e-01 outer:exit 2b-5f40d5762e19de355ef0e92f7b12f39721293def-045756d5c01de37a-01
2022-04-20T15:31:55.780Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:55.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0aa587a24b39a86332f3b9472d91e52c39d23ff-1aa5e06bb20cf051-01 outer:exit 2b-a0aa587a24b39a86332f3b9472d91e52c39d23ff-93dec7fb3ac296d6-01
2022-04-20T15:31:55.790Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:55.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a10758c025495e1adf9de7cb71877c16f6cbec9-72b8cb9a1febbc40-01 outer:exit 2b-8a10758c025495e1adf9de7cb71877c16f6cbec9-a357274b2c60d3a2-01
2022-04-20T15:31:55.796Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:55.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee70809f7fccb5c5f8e136a9c09ecb53f83edcc3-e17baecaa5e369fb-01 outer:exit 2b-ee70809f7fccb5c5f8e136a9c09ecb53f83edcc3-1512b9aeb8b127a6-01
2022-04-20T15:31:55.808Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:55.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-139295ba077a459d7e69690aaadf195531843c42-56305f3e2674f935-01 outer:exit 2b-139295ba077a459d7e69690aaadf195531843c42-f90342e266f215d8-01
2022-04-20T15:31:55.816Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:55.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-02782a78ce295a7bfb85042dc6320fe40a718816-e896c0e6a3295505-01 outer:exit 2b-02782a78ce295a7bfb85042dc6320fe40a718816-872b6ed4e82a5723-01
2022-04-20T15:31:55.820Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:55.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-943ed05e415bb3d74b0ef48e9d2fca6a34f8ec92-4475683960fc45be-01 outer:exit 2b-943ed05e415bb3d74b0ef48e9d2fca6a34f8ec92-6890d0e40ce6ee3f-01
2022-04-20T15:31:55.823Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:55.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0dee8f94851856e4d7b94bd0f9c3ae484ddcbf7-47f78f7819df73d1-01 outer:exit 2b-f0dee8f94851856e4d7b94bd0f9c3ae484ddcbf7-0cd1d5321dfaff67-01
2022-04-20T15:31:55.832Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:55.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ef907916199c98453e3a245a88efc7cf8093297-6479bf64e3a3e94a-01 outer:exit 2b-0ef907916199c98453e3a245a88efc7cf8093297-f0a9283713176b45-01
2022-04-20T15:31:55.837Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:55.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c0e265f6f15f7cb7aeceedf757e7cf930852c37-4de42cd552c51c53-01 outer:exit 2b-0c0e265f6f15f7cb7aeceedf757e7cf930852c37-b73f8898e39e4b6c-01
2022-04-20T15:31:55.840Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:55.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f0cc5f6803f4ff43b3f01a23beb687cab2f3a84-2f73352d6ddf5d5e-01 outer:exit 2b-9f0cc5f6803f4ff43b3f01a23beb687cab2f3a84-9a5dd13c278c8673-01
2022-04-20T15:31:55.842Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:55.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e1465c49a8b36f742db8f0af6e4300329befac9-fe2638e5f2a2854b-01 outer:exit 2b-7e1465c49a8b36f742db8f0af6e4300329befac9-f6fc3517cc0103cc-01
2022-04-20T15:31:55.845Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:55.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8b1f14c9d3b37c9542007dd9c1511575d8fe9d8-e5160f537cd7a5e8-01 outer:exit 2b-b8b1f14c9d3b37c9542007dd9c1511575d8fe9d8-6356d914cbe16871-01
2022-04-20T15:31:55.850Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:55.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd95486cbe9d92d4d97c6945ef84a56a6193521a-625aea94f2693d45-01 outer:exit 2b-cd95486cbe9d92d4d97c6945ef84a56a6193521a-3e511f98c459e9d9-01
2022-04-20T15:31:55.864Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:55.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-79d17fdc3ba256b024e9fabebe629f30feee3378-23eafe5970caf3b2-01 outer:exit 2b-79d17fdc3ba256b024e9fabebe629f30feee3378-3dfd719692ad9acf-01
2022-04-20T15:31:55.877Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:55.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfbf0caee06dcb88106c180a3f74e7710aafb1cf-12e662b8b538d7fe-01 outer:exit 2b-dfbf0caee06dcb88106c180a3f74e7710aafb1cf-150fe7c6c99b0ac7-01
2022-04-20T15:31:55.880Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:55.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec379b71157884e2a545b6aec6724f4adff348d0-8bc2eb69c0b1766b-01 outer:exit 2b-ec379b71157884e2a545b6aec6724f4adff348d0-26b6412f973ef9d3-01
2022-04-20T15:31:55.884Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:55.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-58b4e3488577e7d370146b387832b156249df4e7-16caf7e783616397-01 outer:exit 2b-58b4e3488577e7d370146b387832b156249df4e7-aa0c59332fd16b3c-01
2022-04-20T15:31:55.888Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:55.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d3ef33dca5626f23cad686ab73c47ac0d0b8cdf-d3b239472114d917-01 outer:exit 2b-6d3ef33dca5626f23cad686ab73c47ac0d0b8cdf-6197728db7edece8-01
2022-04-20T15:31:55.924Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (421ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.13
updated 1 package and audited 935 packages in 6.63s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:03.841Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:03.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:03.842Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:03.843Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:03.936Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:04.127Z appoptics:patching patched crypto 
2022-04-20T15:32:04.152Z appoptics:patching patched https 
2022-04-20T15:32:04.152Z appoptics:patching patched http 
2022-04-20T15:32:04.199Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:04.199Z appoptics:patching patched fs 
2022-04-20T15:32:04.234Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v14.19.1)
2022-04-20T15:32:04.242Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2022-04-20T15:32:04.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6a062a54e08513da4375e4ded75898f291c3d60-e975c6609a0cca5f-01 outer:exit 2b-d6a062a54e08513da4375e4ded75898f291c3d60-42f713e118c7d0b4-01
2022-04-20T15:32:04.320Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:32:04.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-b273c5fc4bf8d533ecc4b2686034f7a5c89f8c8e-91a23d62115a184a-01 outer:exit 2b-b273c5fc4bf8d533ecc4b2686034f7a5c89f8c8e-17db58b1dd36ab51-01
2022-04-20T15:32:04.387Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:32:04.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-a35263aabc35daf97d830883a1a39ecfabe5d077-8d7a1c071ba6d206-01 outer:exit 2b-a35263aabc35daf97d830883a1a39ecfabe5d077-c815b4be1061f95e-01
2022-04-20T15:32:04.394Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:32:04.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-4656abbcc42ffdfe96baea96b8f66f34c1f2abb3-3315853229b704ca-01 outer:exit 2b-4656abbcc42ffdfe96baea96b8f66f34c1f2abb3-9abbd5bde1eb15aa-01
2022-04-20T15:32:04.399Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:32:04.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa5667529bf602d4050a1f26d833b48d7d8c2368-bf1834d38d883558-01 outer:exit 2b-fa5667529bf602d4050a1f26d833b48d7d8c2368-7639cbec55e7b137-01
2022-04-20T15:32:04.406Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:32:04.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc6b8071ac3776b2b7e068e819f3139e06beb4ff-2a1ebab91bc41889-01 outer:exit 2b-bc6b8071ac3776b2b7e068e819f3139e06beb4ff-4574f8351c945bb7-01
2022-04-20T15:32:04.410Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:32:04.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce80ce55247abf67515424040bfae32967ca2dd6-748559f215bfd4f1-01 outer:exit 2b-ce80ce55247abf67515424040bfae32967ca2dd6-c335555a8e264b99-01
2022-04-20T15:32:04.414Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:32:04.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b3cda1d52370fd235493ab2953beb392268a2d6-37840b16cbf76623-01 outer:exit 2b-9b3cda1d52370fd235493ab2953beb392268a2d6-bde177584026b2b7-01
2022-04-20T15:32:04.418Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:32:04.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-b03a01ed21fa585fc91b4cbd06c6678427372cd7-0a08096f55f5ea42-01 outer:exit 2b-b03a01ed21fa585fc91b4cbd06c6678427372cd7-b9974d5d2eae8758-01
2022-04-20T15:32:04.422Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:32:04.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-01942cfa5ffc1854300fe687c1865b9e8b38a7c2-45d963830c6b701d-01 outer:exit 2b-01942cfa5ffc1854300fe687c1865b9e8b38a7c2-ce445a207ab2a417-01
2022-04-20T15:32:04.426Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:32:04.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc8cf921ab55a500244dd1b55d09fdb5e0fc5297-119e53d96edcc63d-01 outer:exit 2b-bc8cf921ab55a500244dd1b55d09fdb5e0fc5297-4dd4628422270b75-01
2022-04-20T15:32:04.431Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:32:04.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e420c74e3e21f0e13823f3046551a0490235634-ceec507550ec7607-01 outer:exit 2b-0e420c74e3e21f0e13823f3046551a0490235634-0c7213fb134b8fd3-01
2022-04-20T15:32:04.441Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:32:04.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9c86749cd23da65540673a7709043ca1bf6cb62-8e12b4a663cb7eb5-01 outer:exit 2b-b9c86749cd23da65540673a7709043ca1bf6cb62-d350fde3994406ae-01
2022-04-20T15:32:04.463Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:32:04.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-8565663022b1567dc3a32f167155d321243fc13b-f4e469b2a37fb5fe-01 outer:exit 2b-8565663022b1567dc3a32f167155d321243fc13b-f453231683e4d471-01
2022-04-20T15:32:04.525Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:32:04.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e51a146a91f16100312572b69b03f4cf24bf8dc-a401363d6dd6b380-01 outer:exit 2b-8e51a146a91f16100312572b69b03f4cf24bf8dc-af841137142928f3-01
2022-04-20T15:32:04.534Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:32:04.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-c413dea7e9bf4708a15059a4f87709dddb0ab6d3-5349ce662b88e01f-01 outer:exit 2b-c413dea7e9bf4708a15059a4f87709dddb0ab6d3-0bc9b31352a8c033-01
2022-04-20T15:32:04.537Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:32:04.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-04b0b8c72c711217712ff929f21dde68fa20bea4-52d62da9dc392e9f-01 outer:exit 2b-04b0b8c72c711217712ff929f21dde68fa20bea4-f0c98dd5a2be47aa-01
2022-04-20T15:32:04.541Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:32:04.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd7c678639f62b9dcfe4d83ab73727e3a9ea6a6a-60bd0494f560977b-01 outer:exit 2b-dd7c678639f62b9dcfe4d83ab73727e3a9ea6a6a-f2ee5c070c3f4f78-01
2022-04-20T15:32:04.544Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:32:04.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cfed7c13afd1996aec5ddb1c55813d89c80e0be-458acf925f63d6d2-01 outer:exit 2b-8cfed7c13afd1996aec5ddb1c55813d89c80e0be-f8e10725fb5c074d-01
2022-04-20T15:32:04.547Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:32:04.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3767ee2404846f714eaa4c092113105d15bf19a-fc7e62524b07b081-01 outer:exit 2b-e3767ee2404846f714eaa4c092113105d15bf19a-f34404f68ef06fc2-01
2022-04-20T15:32:04.550Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:32:04.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-3203384c615feefaad4c2ac476421b1ff76917dd-c8c4cbbe572b0640-01 outer:exit 2b-3203384c615feefaad4c2ac476421b1ff76917dd-965c514fa0faca49-01
2022-04-20T15:32:04.553Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:32:04.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-069157a6d55ef84e10bcf2b98947dfd88811fb21-62641501d04c8103-01 outer:exit 2b-069157a6d55ef84e10bcf2b98947dfd88811fb21-1ca8d95265f33192-01
2022-04-20T15:32:04.556Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:32:04.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9df543dfded96630766640d019d7f81506563d1-815af1f7de27e7bb-01 outer:exit 2b-c9df543dfded96630766640d019d7f81506563d1-d8673cbd726e75c1-01
2022-04-20T15:32:04.561Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:32:04.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8c4df42374a51f8df812e99fdb3553935c1123f-5a33d2d37794a77f-01 outer:exit 2b-d8c4df42374a51f8df812e99fdb3553935c1123f-d8f3b44f84b081ad-01
2022-04-20T15:32:04.565Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:32:04.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e1635c65319355b7921c16ce228ed38660aff77-341f3a1eef04aadb-01 outer:exit 2b-2e1635c65319355b7921c16ce228ed38660aff77-41217cf97655fc7e-01
2022-04-20T15:32:04.569Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:32:04.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fc08ef7b9a1bfa683349e8448367ba09531b79b-2d383a8e5aebb900-01 outer:exit 2b-7fc08ef7b9a1bfa683349e8448367ba09531b79b-345903d0eac2a2df-01
2022-04-20T15:32:04.572Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:32:04.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c8991bcca11fa01586b63c4c21c8abaccdecbb5-5d22a064b48c5cef-01 outer:exit 2b-6c8991bcca11fa01586b63c4c21c8abaccdecbb5-e88e05e0a108a672-01
2022-04-20T15:32:04.583Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:32:04.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-180ecd6ce7fe4fac77fbc6629652ff0c41084af5-4656c700c342d12c-01 outer:exit 2b-180ecd6ce7fe4fac77fbc6629652ff0c41084af5-33ea2fee52c7889b-01
2022-04-20T15:32:04.589Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:32:04.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-633aa80fd16fbf1cfe1b69c53dcb09a2a100fbab-a655f085c20965cf-01 outer:exit 2b-633aa80fd16fbf1cfe1b69c53dcb09a2a100fbab-30d4a6932334050d-01
2022-04-20T15:32:04.617Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:32:04.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-95252d9dc72ce2b64225bd493278e11532764b12-c1121eb72e57ebdf-01 outer:exit 2b-95252d9dc72ce2b64225bd493278e11532764b12-128d67ad7b850d2a-01
2022-04-20T15:32:04.627Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:32:04.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-14ea1f54a95df78ebcbcc3eb58ae1bd3ef1f00ee-11e4fdd66470062a-01 outer:exit 2b-14ea1f54a95df78ebcbcc3eb58ae1bd3ef1f00ee-2baf713d8b0cc6ed-01
2022-04-20T15:32:04.630Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:32:04.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-f95fd27bafd11ec223a2626ac49776d0d35623b8-63226bb65f7a3aaa-01 outer:exit 2b-f95fd27bafd11ec223a2626ac49776d0d35623b8-4c288001ad80564c-01
2022-04-20T15:32:04.634Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:32:04.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9535e5b78a8b5d037cf2ae346aa89df7a923a98-32250c1deb4ac77a-01 outer:exit 2b-d9535e5b78a8b5d037cf2ae346aa89df7a923a98-49412b43b769f565-01
2022-04-20T15:32:04.648Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:32:04.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-71dd1d294b281a90b4a0d8e7a89102c4ed51fe02-33ea2f8a18feec5d-01 outer:exit 2b-71dd1d294b281a90b4a0d8e7a89102c4ed51fe02-c6e7cbcc6a10c046-01
2022-04-20T15:32:04.651Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:32:04.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e79491b259177428d00f287f0790addc9fc86bd-56f9975d3b475e7b-01 outer:exit 2b-6e79491b259177428d00f287f0790addc9fc86bd-5f38166eaca7652a-01
2022-04-20T15:32:04.654Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:32:04.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-408d9b8cd9075fe6a6cb90bc29bfc12e5ebdf02a-d110a068de2e0b0e-01 outer:exit 2b-408d9b8cd9075fe6a6cb90bc29bfc12e5ebdf02a-b574b525b85f02fc-01
2022-04-20T15:32:04.657Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:32:04.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b59a2b35e34c0aff4c134339e5ea33d5caf6376-1d8e5b524cad76fe-01 outer:exit 2b-9b59a2b35e34c0aff4c134339e5ea33d5caf6376-febe3d40c82c921e-01
2022-04-20T15:32:04.659Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:32:04.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-a609a42c06e80b6eee0c61fc6e5012d7f1793308-b3642b1e220332fb-01 outer:exit 2b-a609a42c06e80b6eee0c61fc6e5012d7f1793308-44fe0a8cc6db2bcb-01
2022-04-20T15:32:04.662Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:32:04.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd5a8ae410e65d0c921f398052ff0e2b9c5f7c14-be2229666b46fd21-01 outer:exit 2b-cd5a8ae410e65d0c921f398052ff0e2b9c5f7c14-a8cde315286b5173-01
2022-04-20T15:32:04.678Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:32:04.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-d691a19951d8d5f51f8ee947556762ac65dc494b-ba672cf8b9ce4d6b-01 outer:exit 2b-d691a19951d8d5f51f8ee947556762ac65dc494b-257c2dee0eb05bf2-01
2022-04-20T15:32:04.691Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:32:04.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-06a2ffa03adf171891d232d2662cccd6d6c3b5da-d71d921f08ea08ed-01 outer:exit 2b-06a2ffa03adf171891d232d2662cccd6d6c3b5da-a99b65cbde59af75-01
2022-04-20T15:32:04.695Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:32:04.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-914dd5a4c8c0c41e30a61d553123302725e630e9-a77a2bae3f4f222b-01 outer:exit 2b-914dd5a4c8c0c41e30a61d553123302725e630e9-604b12a098cb1539-01
2022-04-20T15:32:04.699Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:32:04.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-97f7325cbc2436cef55469c3098266409d96b1c0-2b7823752aa957d1-01 outer:exit 2b-97f7325cbc2436cef55469c3098266409d96b1c0-2666ceaa55b34314-01
2022-04-20T15:32:04.704Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:32:04.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc9fec7ec806b2c168acd3034fa3eaeb41952bbb-7ac3593745465276-01 outer:exit 2b-fc9fec7ec806b2c168acd3034fa3eaeb41952bbb-3d7559aa985e3ac6-01
2022-04-20T15:32:04.749Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (498ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.14
updated 1 package and audited 935 packages in 6.474s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:12.705Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:12.706Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:12.706Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:12.707Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:12.786Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:12.997Z appoptics:patching patched crypto 
2022-04-20T15:32:13.022Z appoptics:patching patched https 
2022-04-20T15:32:13.023Z appoptics:patching patched http 
2022-04-20T15:32:13.073Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:13.074Z appoptics:patching patched fs 
2022-04-20T15:32:13.108Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v14.19.1)
2022-04-20T15:32:13.116Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2022-04-20T15:32:13.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-508a1526ca1f02f888ed3de6eeec7d4a41a51176-1af9b33ebe91f57d-01 outer:exit 2b-508a1526ca1f02f888ed3de6eeec7d4a41a51176-49fb7c68e6f2fd35-01
2022-04-20T15:32:13.174Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:32:13.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a521edf684af6ea221d43ce1d826da62841ce6b-caac8b95c598d835-01 outer:exit 2b-2a521edf684af6ea221d43ce1d826da62841ce6b-f4912de7b677644b-01
2022-04-20T15:32:13.231Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:32:13.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-c597f83f41b1ab9c55506c56e59d3825ac296f2f-6e4ef00d4181e036-01 outer:exit 2b-c597f83f41b1ab9c55506c56e59d3825ac296f2f-468565e89c7d29a5-01
2022-04-20T15:32:13.235Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:32:13.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed5c618940fe3ec797447d8b92211d65cb3d604f-8a73a6c1da6cb143-01 outer:exit 2b-ed5c618940fe3ec797447d8b92211d65cb3d604f-d5ade10ce4500876-01
2022-04-20T15:32:13.238Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:32:13.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c56340a221fb6b5382820e8ea292aaa72f03371-550835b67f12b242-01 outer:exit 2b-6c56340a221fb6b5382820e8ea292aaa72f03371-522e3b0f36121787-01
2022-04-20T15:32:13.246Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:32:13.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7e57fc657b1b4a83c24c5c1b11efa389d4c8bf8-a786ba9341fa8fa3-01 outer:exit 2b-f7e57fc657b1b4a83c24c5c1b11efa389d4c8bf8-492318967d1ca5d9-01
2022-04-20T15:32:13.255Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:32:13.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d13ad410a7b28eaa40564d536245b3492361140-f2e602285f3cc8c1-01 outer:exit 2b-4d13ad410a7b28eaa40564d536245b3492361140-ac04aa4eede26c5a-01
2022-04-20T15:32:13.259Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:32:13.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-13393600a4dd3d5a3e41058a0382f48d7ca91eb4-aa53ec23c232d892-01 outer:exit 2b-13393600a4dd3d5a3e41058a0382f48d7ca91eb4-9da920c47a3caeb2-01
2022-04-20T15:32:13.262Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:32:13.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4820030e0e7288e45417f308b83327f45f25fc2-811655133401cd44-01 outer:exit 2b-d4820030e0e7288e45417f308b83327f45f25fc2-188040ac94735925-01
2022-04-20T15:32:13.266Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:32:13.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-f671a4793ad8fcf55ed3bf5c0c11d57bc9131f28-ce53e296290abe40-01 outer:exit 2b-f671a4793ad8fcf55ed3bf5c0c11d57bc9131f28-499ab1f71aeff8ef-01
2022-04-20T15:32:13.269Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:32:13.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-476b21d365689c94c4cee58fecfc7621e33b97f4-72696e2461fa48eb-01 outer:exit 2b-476b21d365689c94c4cee58fecfc7621e33b97f4-3c8299e82a02a892-01
2022-04-20T15:32:13.274Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:32:13.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-da18275cc9a43aa1c663df6b6ca258d4583c4135-2aaa24200b78bc95-01 outer:exit 2b-da18275cc9a43aa1c663df6b6ca258d4583c4135-f9b61f065114e8ce-01
2022-04-20T15:32:13.282Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:32:13.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec3909c440d08a459beae31ad4c714e88c764701-53d20770c802aafd-01 outer:exit 2b-ec3909c440d08a459beae31ad4c714e88c764701-74230275e3406d08-01
2022-04-20T15:32:13.301Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:32:13.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd4c7b427ef0821dc5c63f70dba0bd377dea4698-7695bf1c6f282674-01 outer:exit 2b-dd4c7b427ef0821dc5c63f70dba0bd377dea4698-6bef5373f87e0a66-01
2022-04-20T15:32:13.346Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:32:13.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e3cacc80ed250e675b0d7be9b768238824b4b54-721986795eab5b6c-01 outer:exit 2b-1e3cacc80ed250e675b0d7be9b768238824b4b54-9005a7290c103cc3-01
2022-04-20T15:32:13.355Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:32:13.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-718e6e203aacbfc8ecea0d72f7ed89239427daa5-ff7b4dd644be88cc-01 outer:exit 2b-718e6e203aacbfc8ecea0d72f7ed89239427daa5-6fadbcc258c24f75-01
2022-04-20T15:32:13.358Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:32:13.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-114eb27319886ebb1671d96b3b8d5cef140334b9-f5bcfc816d6fef8b-01 outer:exit 2b-114eb27319886ebb1671d96b3b8d5cef140334b9-d663d2957de75594-01
2022-04-20T15:32:13.362Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:32:13.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-152aa09e6de9f81b17e8e3d4a1c7080721d335a1-c818babb18fdd24f-01 outer:exit 2b-152aa09e6de9f81b17e8e3d4a1c7080721d335a1-2e98ec4edc77d224-01
2022-04-20T15:32:13.368Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:32:13.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-3522fe15f24eda2910dd477654ea60328601f048-4f65e593c4d801a0-01 outer:exit 2b-3522fe15f24eda2910dd477654ea60328601f048-f8d0a5022461af74-01
2022-04-20T15:32:13.372Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:32:13.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccae61e0ce8d2cd5de3e9d4e8a74f3aa3785958f-1a7e91e9ccfc1510-01 outer:exit 2b-ccae61e0ce8d2cd5de3e9d4e8a74f3aa3785958f-de0636a8ec9e455c-01
2022-04-20T15:32:13.374Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:32:13.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b6e394d1bf57a1512e8672583dcf2297cabe3cf-89a4a59c91cbd628-01 outer:exit 2b-2b6e394d1bf57a1512e8672583dcf2297cabe3cf-35b9739231077338-01
2022-04-20T15:32:13.377Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:32:13.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f8c68566ce79a6289ef57016e0b0556283edee7-61a07702f6c79c60-01 outer:exit 2b-4f8c68566ce79a6289ef57016e0b0556283edee7-e899f908a0871892-01
2022-04-20T15:32:13.380Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:32:13.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-861ebbcf5d1197322ae56cb7ecabb221e7d78855-d423ee8930d65bf1-01 outer:exit 2b-861ebbcf5d1197322ae56cb7ecabb221e7d78855-13be2258c4424e6f-01
2022-04-20T15:32:13.384Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:32:13.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-437b61f0f2cabcee959fd3d27a356e14369208d3-5876912e57f6d8ff-01 outer:exit 2b-437b61f0f2cabcee959fd3d27a356e14369208d3-7a52cb19e57913ee-01
2022-04-20T15:32:13.387Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:32:13.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-9409dca5ec107f34a59370bbe3d4a5df07ec6a0c-2ad4649de4252458-01 outer:exit 2b-9409dca5ec107f34a59370bbe3d4a5df07ec6a0c-6a5adb88321e9af2-01
2022-04-20T15:32:13.391Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:32:13.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8236922e25a806ad8274b12be2b183daa048783-e9a07e5fd8ef798e-01 outer:exit 2b-e8236922e25a806ad8274b12be2b183daa048783-111e34edfb258b1a-01
2022-04-20T15:32:13.394Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:32:13.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c1852b706a40fce3d4bbb6fd2cb3413c7bbd09a-968b5583ded8a365-01 outer:exit 2b-4c1852b706a40fce3d4bbb6fd2cb3413c7bbd09a-20d2c3a938268d22-01
2022-04-20T15:32:13.403Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:32:13.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-a255139f45a79769b4ebf86dc3aa9237240c9511-8a37b0b0c2e1f615-01 outer:exit 2b-a255139f45a79769b4ebf86dc3aa9237240c9511-9c20acd5a7e0f6d2-01
2022-04-20T15:32:13.409Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:32:13.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-b59689f583737257ae7f1760df2a18e7582a21de-8d45e9a741b3f143-01 outer:exit 2b-b59689f583737257ae7f1760df2a18e7582a21de-8fdd1104d4943bf7-01
2022-04-20T15:32:13.420Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:32:13.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0ceadf5efb310b61c7de661c0fc002e0f54078f-9a206618538bafe9-01 outer:exit 2b-c0ceadf5efb310b61c7de661c0fc002e0f54078f-ddeea9ab93298ae8-01
2022-04-20T15:32:13.430Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:32:13.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-a00eb6105dc106f294658fa3d22356b2da27a605-7ded88378d4f5761-01 outer:exit 2b-a00eb6105dc106f294658fa3d22356b2da27a605-cf9fed02dda5f784-01
2022-04-20T15:32:13.433Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:32:13.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b0d9d79035ef4d7926fa2d7f219b5ac2de3990d-56b356b258513952-01 outer:exit 2b-4b0d9d79035ef4d7926fa2d7f219b5ac2de3990d-0bb5f47ff20fd780-01
2022-04-20T15:32:13.436Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:32:13.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-b46fa69db1fb3b67b9fd671bbd976969312f1e9d-7f1950d397d2dabb-01 outer:exit 2b-b46fa69db1fb3b67b9fd671bbd976969312f1e9d-9c2d6d980df46280-01
2022-04-20T15:32:13.445Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:32:13.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0fec5f9ef54083fcc239b61266d8e1aba758848-3e3b44c63965e047-01 outer:exit 2b-e0fec5f9ef54083fcc239b61266d8e1aba758848-db800eaff5c71898-01
2022-04-20T15:32:13.448Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:32:13.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-41aa43e4e67a3b2533dc8459af111c8bc1c5d347-4ebeba44c9d028dc-01 outer:exit 2b-41aa43e4e67a3b2533dc8459af111c8bc1c5d347-63333ebd82b75ed6-01
2022-04-20T15:32:13.450Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:32:13.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-434f71b4c9af28f9aa7a20baedd9218e92018773-3b1c94ff27afcbcd-01 outer:exit 2b-434f71b4c9af28f9aa7a20baedd9218e92018773-ee6d0b718f260d12-01
2022-04-20T15:32:13.453Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:32:13.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac5e2c4319b367b67e9490d7c9814ce985961748-234c6180aadb7d19-01 outer:exit 2b-ac5e2c4319b367b67e9490d7c9814ce985961748-2251b39b18313ed2-01
2022-04-20T15:32:13.456Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:32:13.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-85bf1d01bea1d3e5f8520dd46385dbee473ddffb-9a7d0ca23aa3f02a-01 outer:exit 2b-85bf1d01bea1d3e5f8520dd46385dbee473ddffb-47b661af5f0c68b9-01
2022-04-20T15:32:13.458Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:32:13.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ff19b9c24664672e8ece4904bbf998bd20ac0ab-443d4ee9d5a8c9ca-01 outer:exit 2b-2ff19b9c24664672e8ece4904bbf998bd20ac0ab-3e8ada826cad34d6-01
2022-04-20T15:32:13.483Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:32:13.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9069f0a053c4e3970ee2c42f87a16d711fd812d-b267a8c988b504e2-01 outer:exit 2b-a9069f0a053c4e3970ee2c42f87a16d711fd812d-3db7e84b204feef7-01
2022-04-20T15:32:13.495Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:32:13.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-6549e4e7909385292e154f22115c4aebf80e5560-bfcb0b1b302a0e41-01 outer:exit 2b-6549e4e7909385292e154f22115c4aebf80e5560-343c0f390af7a2cd-01
2022-04-20T15:32:13.499Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:32:13.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-e762d9e1c4d2125a3197bda17d4dd66c6bbd230b-86925b1181abcbfe-01 outer:exit 2b-e762d9e1c4d2125a3197bda17d4dd66c6bbd230b-a99c44916ca53944-01
2022-04-20T15:32:13.503Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:32:13.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-21f11bbcfbd20465ab5773e52bd9dc89d8fa1cd3-9f4ff1a0397358b7-01 outer:exit 2b-21f11bbcfbd20465ab5773e52bd9dc89d8fa1cd3-0809c45fae24cc3a-01
2022-04-20T15:32:13.506Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:32:13.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d34e3666fc420cd5249ba9905b06b235ee436f0-e4df8e258d09b1f1-01 outer:exit 2b-2d34e3666fc420cd5249ba9905b06b235ee436f0-067c507ebf1f1a50-01
2022-04-20T15:32:13.543Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (420ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.15
updated 1 package and audited 935 packages in 6.091s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:20.909Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:20.910Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:20.910Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:20.911Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:20.992Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:21.208Z appoptics:patching patched crypto 
2022-04-20T15:32:21.237Z appoptics:patching patched https 
2022-04-20T15:32:21.238Z appoptics:patching patched http 
2022-04-20T15:32:21.291Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:21.291Z appoptics:patching patched fs 
2022-04-20T15:32:21.326Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v14.19.1)
2022-04-20T15:32:21.334Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2022-04-20T15:32:21.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-f71f1961bc9e94aa826b9db6c586d1b3d08ea3d0-ddbdb3c3be29bf24-01 outer:exit 2b-f71f1961bc9e94aa826b9db6c586d1b3d08ea3d0-d40f22900b8fcdb4-01
2022-04-20T15:32:21.396Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:32:21.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa4a3c93357dede182f7ce71196f1cfabfb738e4-9e49cc44c241a806-01 outer:exit 2b-aa4a3c93357dede182f7ce71196f1cfabfb738e4-40fd2e289963eead-01
2022-04-20T15:32:21.469Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:32:21.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-62c5e3d690973d294575b6a3485ff4c2b011ef60-8e5fcc78e645d1f5-01 outer:exit 2b-62c5e3d690973d294575b6a3485ff4c2b011ef60-4cfa6f713f5f7eca-01
2022-04-20T15:32:21.488Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:32:21.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-29ed7e35a264ca1c80244411c80c93491d137235-d8c928a796709bd5-01 outer:exit 2b-29ed7e35a264ca1c80244411c80c93491d137235-06b51eb9a1e6aa0f-01
2022-04-20T15:32:21.493Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:32:21.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b4ec44556bf471edd355473cf97e90a71802b8c-7478f39f37fb5e53-01 outer:exit 2b-8b4ec44556bf471edd355473cf97e90a71802b8c-a029843579699540-01
2022-04-20T15:32:21.507Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:32:21.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-898510caf65d2d5da094de455cdca0d972d2130f-a847649d71dfdf28-01 outer:exit 2b-898510caf65d2d5da094de455cdca0d972d2130f-70f49f5e75de4071-01
2022-04-20T15:32:21.512Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:32:21.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fb3ae9cbd1154851357928cf17bea8bf7e08d27-52acf9f6389d0500-01 outer:exit 2b-1fb3ae9cbd1154851357928cf17bea8bf7e08d27-36f1b8e1c02a0cd1-01
2022-04-20T15:32:21.526Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:32:21.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-d83d2e1e5081484181e8ad6b01688121bdfc49ab-b9ab7fa44cae5f77-01 outer:exit 2b-d83d2e1e5081484181e8ad6b01688121bdfc49ab-6e5d93144a764cf2-01
2022-04-20T15:32:21.538Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:32:21.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f9f104da52ccaf729916e54fa184aa6d316b0b7-12c446cc407ab034-01 outer:exit 2b-2f9f104da52ccaf729916e54fa184aa6d316b0b7-accd6584112b33a1-01
2022-04-20T15:32:21.547Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:32:21.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-0111878808d4763fca01eb72179877e5c4aa4eb4-1748cc960271f318-01 outer:exit 2b-0111878808d4763fca01eb72179877e5c4aa4eb4-69752d6fe74d17fb-01
2022-04-20T15:32:21.561Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:32:21.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-75231bdc129dece9730f67c5f7124d37d31264e2-8018c6230f6d5a0f-01 outer:exit 2b-75231bdc129dece9730f67c5f7124d37d31264e2-04d4f4a41fec8edf-01
2022-04-20T15:32:21.581Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:32:21.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-9395f267ac5044c76c29124de8c4bc3819d5d36e-658fd7742382e750-01 outer:exit 2b-9395f267ac5044c76c29124de8c4bc3819d5d36e-68289d782be54c96-01
2022-04-20T15:32:21.592Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:32:21.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f1789cbf4cef4cae94cf8b6002ce24e55cb0cee-b6d45aa077f56dc8-01 outer:exit 2b-2f1789cbf4cef4cae94cf8b6002ce24e55cb0cee-4e9de9017ae55dfb-01
2022-04-20T15:32:21.630Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:32:21.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2ad6c946cec97596169fd4bda5f1811496d3ec6-53487603c3075334-01 outer:exit 2b-d2ad6c946cec97596169fd4bda5f1811496d3ec6-1d8cf164fcc72e6a-01
2022-04-20T15:32:21.686Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:32:21.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-66d02a370957a58cdf813352c9c153b1611425e9-7261202cc8f6287c-01 outer:exit 2b-66d02a370957a58cdf813352c9c153b1611425e9-f13b2d1e35738007-01
2022-04-20T15:32:21.698Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:32:21.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-2863fe83750e68ff449f468f10e2b55e8f4e1037-97f5d7f7463e0500-01 outer:exit 2b-2863fe83750e68ff449f468f10e2b55e8f4e1037-d895c95c5d031a52-01
2022-04-20T15:32:21.708Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:32:21.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d8648ddc9bb57fe9864ef0bf6b38868ac03060a-55d7efa97b96bd5a-01 outer:exit 2b-0d8648ddc9bb57fe9864ef0bf6b38868ac03060a-374e30dcc82e96e4-01
2022-04-20T15:32:21.713Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:32:21.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ab4f4b37f490fd73c884566adcde52a498b08f4-c98bc4c88603a7f8-01 outer:exit 2b-2ab4f4b37f490fd73c884566adcde52a498b08f4-630cc8c9a73cb57e-01
2022-04-20T15:32:21.719Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:32:21.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c29d02a9d3edc91138e18fd979ddad900a0551b-ac602668898eafc9-01 outer:exit 2b-0c29d02a9d3edc91138e18fd979ddad900a0551b-51c30dbe272d2576-01
2022-04-20T15:32:21.723Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:32:21.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-de7e40ad0adef819ff66c57214a26fde3dd3d980-99b2d2f9222b34bd-01 outer:exit 2b-de7e40ad0adef819ff66c57214a26fde3dd3d980-9194e2f6d8d4b7f6-01
2022-04-20T15:32:21.727Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:32:21.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-355eab9bbf004b9666dd3a0bd6ef0da488a3bdf7-9c4f506df57c81a3-01 outer:exit 2b-355eab9bbf004b9666dd3a0bd6ef0da488a3bdf7-85c5bd50ecd26c0c-01
2022-04-20T15:32:21.729Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:32:21.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba03b69105ba68f2a8a13080639c8ba3d9431891-2e8adfdbb9b7243d-01 outer:exit 2b-ba03b69105ba68f2a8a13080639c8ba3d9431891-2174ba8432a63f8f-01
2022-04-20T15:32:21.732Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:32:21.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f8e8515c3fabe88872db66aa3d1604d1da6f8e9-f243e92a2542f0e3-01 outer:exit 2b-1f8e8515c3fabe88872db66aa3d1604d1da6f8e9-c05ea2db76449820-01
2022-04-20T15:32:21.736Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:32:21.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-644530baf9fc73e877c9beeacd5e59a0c4ec3d71-9984e0d1927245b4-01 outer:exit 2b-644530baf9fc73e877c9beeacd5e59a0c4ec3d71-52a89fdb21272a51-01
2022-04-20T15:32:21.739Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:32:21.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-268f1d6fe4fd01c93852680f21ede1b74d6a4d7d-921fe34da77d5471-01 outer:exit 2b-268f1d6fe4fd01c93852680f21ede1b74d6a4d7d-83e8419adbcdbf1d-01
2022-04-20T15:32:21.742Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:32:21.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd94bc02e57e72b21f11a5210cec156cfb4aa547-f6412232f206754e-01 outer:exit 2b-dd94bc02e57e72b21f11a5210cec156cfb4aa547-db6170ad04f7411c-01
2022-04-20T15:32:21.746Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:32:21.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c94fc9cb8cb7fc97d99ff1e1e8e3acca38ad2ca-b46398faaf86929b-01 outer:exit 2b-2c94fc9cb8cb7fc97d99ff1e1e8e3acca38ad2ca-e06e1036ce222149-01
2022-04-20T15:32:21.756Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:32:21.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-66903a4435346fd763bbf174a028c32ab5bd33cd-563db84efcaa3575-01 outer:exit 2b-66903a4435346fd763bbf174a028c32ab5bd33cd-3c77584e981be70e-01
2022-04-20T15:32:21.762Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:32:21.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-83ffaf59d09a6a1afc2f832e5124475e2e205a14-0c29144b0ed0bfa8-01 outer:exit 2b-83ffaf59d09a6a1afc2f832e5124475e2e205a14-4b50c945e2074946-01
2022-04-20T15:32:21.773Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:32:21.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fec05636857a5ecb4d9e08e67b8c5ed3ca8c1c8-4476da6a36cd474a-01 outer:exit 2b-2fec05636857a5ecb4d9e08e67b8c5ed3ca8c1c8-539dbf09bb44d1c7-01
2022-04-20T15:32:21.782Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:32:21.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-e012f913245158bc0522f4975225aea9c10f5fc9-e3db3f2bc1a4fd7d-01 outer:exit 2b-e012f913245158bc0522f4975225aea9c10f5fc9-af11b3b20e70da0a-01
2022-04-20T15:32:21.786Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:32:21.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-e48737312d83456a5d0c390e9ff94ecf580edf55-89b131ed8f3d5eb1-01 outer:exit 2b-e48737312d83456a5d0c390e9ff94ecf580edf55-893ce96c6809477a-01
2022-04-20T15:32:21.791Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:32:21.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-340def93b93b62b979fea8e65f7a8d7c6f4bd2a7-47f7a1cb7e108f5c-01 outer:exit 2b-340def93b93b62b979fea8e65f7a8d7c6f4bd2a7-c78d535ea06033f6-01
2022-04-20T15:32:21.800Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:32:21.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfbd947b84c70644508570aeadda76f8394f9d27-005115da3ea02f2a-01 outer:exit 2b-cfbd947b84c70644508570aeadda76f8394f9d27-5c3899bf3b166a98-01
2022-04-20T15:32:21.804Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:32:21.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-308984d6ead928fd1e92ae9c124df9d24224b8a0-ed11d74e49f7c220-01 outer:exit 2b-308984d6ead928fd1e92ae9c124df9d24224b8a0-e94ea09e909f8214-01
2022-04-20T15:32:21.806Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:32:21.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-6908af1167645ccecb1f9b2559e5697cb1776a70-e0833770ac5577b9-01 outer:exit 2b-6908af1167645ccecb1f9b2559e5697cb1776a70-e085d71be921d0e2-01
2022-04-20T15:32:21.809Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:32:21.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-90e109a9c57ba7b29ac78bd690116ecdbd192cc4-963edae8bf9fc55b-01 outer:exit 2b-90e109a9c57ba7b29ac78bd690116ecdbd192cc4-995794cbd668fe5d-01
2022-04-20T15:32:21.812Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:32:21.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-9329726523430e50a6bafe217e82fb9ada22e860-c3209a2f70e78a2e-01 outer:exit 2b-9329726523430e50a6bafe217e82fb9ada22e860-68e6a6cd1c2084cc-01
2022-04-20T15:32:21.814Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:32:21.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-e20239fa0cfe02b02254dd68fef2a74a14cf01be-2e7a2d13a8bc946a-01 outer:exit 2b-e20239fa0cfe02b02254dd68fef2a74a14cf01be-ac12f3ea2699e3dd-01
2022-04-20T15:32:21.826Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:32:21.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-86e7ecd6a8fb198518e1d91a4220525011769a8a-1757ba9df910fe10-01 outer:exit 2b-86e7ecd6a8fb198518e1d91a4220525011769a8a-9e97c2cea998ae3b-01
2022-04-20T15:32:21.838Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:32:21.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9a351202382260f9e45e5ed5ee54cbe055b0f48-de30d3346c2a49cc-01 outer:exit 2b-c9a351202382260f9e45e5ed5ee54cbe055b0f48-c0cef0a47a85ec95-01
2022-04-20T15:32:21.842Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:32:21.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa04c48c715290e773c401fbc47a8675745e60da-11a15ea01a4accaf-01 outer:exit 2b-aa04c48c715290e773c401fbc47a8675745e60da-d6ed38f9325cc460-01
2022-04-20T15:32:21.846Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:32:21.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-5add4e9aa9d7a39c57174fce9361358f5471717a-8d61fe1e26c94891-01 outer:exit 2b-5add4e9aa9d7a39c57174fce9361358f5471717a-3f0989516d1c6cc5-01
2022-04-20T15:32:21.850Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:32:21.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8a34e0ebd3cc421783589e14ced9a1476e437df-33fa8f53573e9bae-01 outer:exit 2b-e8a34e0ebd3cc421783589e14ced9a1476e437df-ac082865746a178a-01
2022-04-20T15:32:21.887Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (546ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.16
updated 1 package and audited 935 packages in 5.658s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:28.878Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:28.880Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:28.880Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:28.881Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:28.964Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:29.187Z appoptics:patching patched crypto 
2022-04-20T15:32:29.211Z appoptics:patching patched https 
2022-04-20T15:32:29.211Z appoptics:patching patched http 
2022-04-20T15:32:29.279Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:29.279Z appoptics:patching patched fs 
2022-04-20T15:32:29.313Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v14.19.1)
2022-04-20T15:32:29.320Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2022-04-20T15:32:29.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce74b3ecc4103110bee0c490352e642aaaa62915-2910843fda2b4847-01 outer:exit 2b-ce74b3ecc4103110bee0c490352e642aaaa62915-8f6ec2727be59622-01
2022-04-20T15:32:29.398Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:32:29.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f7cbc5f44c6bfef1acf740e76085a32f649b988-02f6361871df1c7e-01 outer:exit 2b-1f7cbc5f44c6bfef1acf740e76085a32f649b988-c18c8c155d923c47-01
2022-04-20T15:32:29.454Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:32:29.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-26b68e863a13110038a8df5d023953b3315570f3-756eedf6c12a6be5-01 outer:exit 2b-26b68e863a13110038a8df5d023953b3315570f3-a5a02c6e9771dca0-01
2022-04-20T15:32:29.469Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:32:29.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-63557ac66ba0a32bcc8365f66639d9f32f09d92d-c2c15b211ec3d404-01 outer:exit 2b-63557ac66ba0a32bcc8365f66639d9f32f09d92d-955fc643578ed90c-01
2022-04-20T15:32:29.475Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:32:29.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-66f31e89727568e171f6bcb2b7eca0b19eef5233-f4d64e6835e3f2d8-01 outer:exit 2b-66f31e89727568e171f6bcb2b7eca0b19eef5233-7bbc01baf7f5cac7-01
2022-04-20T15:32:29.483Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:32:29.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2f5bcb8e4e09528a839f05a0ad76013f584eab2-ec8dfdd5916b0612-01 outer:exit 2b-d2f5bcb8e4e09528a839f05a0ad76013f584eab2-87dd1e7e3949810d-01
2022-04-20T15:32:29.491Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:32:29.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4816d135dfa3b73371128f2346e9c45c3e95889-85c4121a4672f9b3-01 outer:exit 2b-d4816d135dfa3b73371128f2346e9c45c3e95889-8f2f138ecfc051d1-01
2022-04-20T15:32:29.500Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:32:29.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-97d22c1471577bcd05e143c7448c5faab47a3b7a-d7568287088ba04e-01 outer:exit 2b-97d22c1471577bcd05e143c7448c5faab47a3b7a-add8cf358c7e7856-01
2022-04-20T15:32:29.504Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:32:29.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc63fdc58d72f9bedbbfc242aafdf91a7f8fcef1-85473f0f96e741e1-01 outer:exit 2b-cc63fdc58d72f9bedbbfc242aafdf91a7f8fcef1-71243596ec3a15bc-01
2022-04-20T15:32:29.508Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:32:29.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a50b909155e2829b42c515850ff850903f38c21-69d56516e1b41947-01 outer:exit 2b-3a50b909155e2829b42c515850ff850903f38c21-20ccd4a5fd12e91c-01
2022-04-20T15:32:29.512Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:32:29.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-786c38f623d13eebacc3acdd2234d5379a7a14d2-3292c69367997090-01 outer:exit 2b-786c38f623d13eebacc3acdd2234d5379a7a14d2-2a95dee0875fd164-01
2022-04-20T15:32:29.520Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:32:29.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f0c3304156aa9441da0bc5eacb6ddebbfb5637b-922da82f48ae9685-01 outer:exit 2b-1f0c3304156aa9441da0bc5eacb6ddebbfb5637b-211c411a1a5fab35-01
2022-04-20T15:32:29.530Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:32:29.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-2be53bca4c2d62db3c184ffc4f893c0f435f615f-2262b04535d3044a-01 outer:exit 2b-2be53bca4c2d62db3c184ffc4f893c0f435f615f-5f9427b821606387-01
2022-04-20T15:32:29.551Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:32:29.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffb5df2be8ed2b7209813bc62010a9c8b64164d9-a1037d9e059826fc-01 outer:exit 2b-ffb5df2be8ed2b7209813bc62010a9c8b64164d9-200079bc18b6d558-01
2022-04-20T15:32:29.610Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:32:29.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbd9664f02df377d8e08624eba39c6be0df27ed5-1921eb34e5d582b6-01 outer:exit 2b-bbd9664f02df377d8e08624eba39c6be0df27ed5-280de520d9f583ec-01
2022-04-20T15:32:29.618Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:32:29.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-6825c90686ab05e1600479d487e7d2769428e10d-b89806a133e01781-01 outer:exit 2b-6825c90686ab05e1600479d487e7d2769428e10d-d1f5f32e0980e65e-01
2022-04-20T15:32:29.621Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:32:29.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-dab6a7981166e3fae077c41635112eac00c0537d-5b375aef9b25a0d8-01 outer:exit 2b-dab6a7981166e3fae077c41635112eac00c0537d-a9c48ff8203f086d-01
2022-04-20T15:32:29.625Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:32:29.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6a336bbcaef9d8be09f8a2a268346a0b19c238e-8fd647376aa462a5-01 outer:exit 2b-c6a336bbcaef9d8be09f8a2a268346a0b19c238e-edab0df2bce6c202-01
2022-04-20T15:32:29.628Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:32:29.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-05e49f83cf3249ca24fd59ae2a63a484941de545-ec85952ad4e7554d-01 outer:exit 2b-05e49f83cf3249ca24fd59ae2a63a484941de545-288f527e8efe49e9-01
2022-04-20T15:32:29.631Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:32:29.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-11d7b405d1f90838580f27a16b2de15b2cad5b74-850a123ac61221bb-01 outer:exit 2b-11d7b405d1f90838580f27a16b2de15b2cad5b74-0f4c8743f2120a62-01
2022-04-20T15:32:29.634Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:32:29.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbee73be6f4e19c006ba76667d60bbc13a5390a0-60aa9d618865faa8-01 outer:exit 2b-fbee73be6f4e19c006ba76667d60bbc13a5390a0-fee577c31621f57e-01
2022-04-20T15:32:29.636Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:32:29.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-06667116c66a939d34534e6ff7a10634f4c35a40-1575391392d0a184-01 outer:exit 2b-06667116c66a939d34534e6ff7a10634f4c35a40-1ea07946567cfa3f-01
2022-04-20T15:32:29.639Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:32:29.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a09f8f6f8975d9d5522cdcc285e57dd5cdd871d-665112d2fc11a84f-01 outer:exit 2b-7a09f8f6f8975d9d5522cdcc285e57dd5cdd871d-7b10689ecc47fb2e-01
2022-04-20T15:32:29.643Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:32:29.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3c9aab9378165f168de02bc1261153aaa4494ec-da4585c72e405f2f-01 outer:exit 2b-b3c9aab9378165f168de02bc1261153aaa4494ec-8f07e61b2debc892-01
2022-04-20T15:32:29.647Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:32:29.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e0e04f2da615899e8da4644a44eee0bb674e6c4-385e3018e39ed769-01 outer:exit 2b-0e0e04f2da615899e8da4644a44eee0bb674e6c4-e0941ca8338fa30a-01
2022-04-20T15:32:29.650Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:32:29.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd28b253c0ef8644fb60a89df39d8dc0a79baf0d-be5a9bebd94faf76-01 outer:exit 2b-fd28b253c0ef8644fb60a89df39d8dc0a79baf0d-91f0f48680701185-01
2022-04-20T15:32:29.653Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:32:29.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-fabbdcc62ab3be5498cfef0797513bd53097ee8f-6b54b6877d699093-01 outer:exit 2b-fabbdcc62ab3be5498cfef0797513bd53097ee8f-749a37da3ca6481e-01
2022-04-20T15:32:29.663Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:32:29.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-0acd4c94a40d2ad5dd17f62ae7a3076ad18e1514-6e5ec53a8ec1303e-01 outer:exit 2b-0acd4c94a40d2ad5dd17f62ae7a3076ad18e1514-36225ed4195e9afe-01
2022-04-20T15:32:29.668Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:32:29.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a949a24c00ebdbadf000e8491a89cdd6c3b971d-4c6b4e87b4c3936c-01 outer:exit 2b-2a949a24c00ebdbadf000e8491a89cdd6c3b971d-c376c77a0aac4678-01
2022-04-20T15:32:29.679Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:32:29.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-bef574d613ab8cd9866cd360fb7a3f4e14e010e1-8d9712976d4ea169-01 outer:exit 2b-bef574d613ab8cd9866cd360fb7a3f4e14e010e1-8f530afc11c8195f-01
2022-04-20T15:32:29.687Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:32:29.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-608c19c03bf06463acbccfb623ca4651319a1a62-a6dfc74c60ed9b3d-01 outer:exit 2b-608c19c03bf06463acbccfb623ca4651319a1a62-9c886a93976df331-01
2022-04-20T15:32:29.691Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:32:29.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-a99f78b4c50af08f4220300cdb03b432afc7d280-9130727fd7ea0866-01 outer:exit 2b-a99f78b4c50af08f4220300cdb03b432afc7d280-b1f41b7ecbe7eb3f-01
2022-04-20T15:32:29.707Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:32:29.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-5152421db9f4c82784eea0e4c5348bea3f340039-4a5c94de54df1810-01 outer:exit 2b-5152421db9f4c82784eea0e4c5348bea3f340039-b36866a2122b119b-01
2022-04-20T15:32:29.722Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:32:29.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-defe2c924f6bb1f423b4f81a07f7467e51ea3a1a-6b227f3dbab653cc-01 outer:exit 2b-defe2c924f6bb1f423b4f81a07f7467e51ea3a1a-68ed73b6f1e75cea-01
2022-04-20T15:32:29.725Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:32:29.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-a39a656672c4c5892f7cc1b80e4cf4801e2e35d3-76271c07db9bd73c-01 outer:exit 2b-a39a656672c4c5892f7cc1b80e4cf4801e2e35d3-67cfc74298ae60a8-01
2022-04-20T15:32:29.728Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:32:29.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ae7e18aafa25f85f0adacbe55d9ef16d717324e-b4fefb926b887bdb-01 outer:exit 2b-1ae7e18aafa25f85f0adacbe55d9ef16d717324e-bdf6531e0a53878f-01
2022-04-20T15:32:29.732Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:32:29.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3a329fde4304c24b3540a2f43ecc348c498a08a-6a3272bc9d99ccc5-01 outer:exit 2b-a3a329fde4304c24b3540a2f43ecc348c498a08a-9530a87b627886ff-01
2022-04-20T15:32:29.734Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:32:29.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b37745d03af32d9d133eae09b95a0b9376b0bb1-e412da3574709443-01 outer:exit 2b-7b37745d03af32d9d133eae09b95a0b9376b0bb1-08814d0b453c4db6-01
2022-04-20T15:32:29.737Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:32:29.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-db3e6dde644e9476db64c81fe72df91ffdba88c6-dfce4950cd3097a3-01 outer:exit 2b-db3e6dde644e9476db64c81fe72df91ffdba88c6-544d30f71b58ddf8-01
2022-04-20T15:32:29.749Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:32:29.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-147446a93ef650770951cf77365a7683e7542ef4-bcb86b54e9d0b8a8-01 outer:exit 2b-147446a93ef650770951cf77365a7683e7542ef4-1e3a63e21c0178c4-01
2022-04-20T15:32:29.761Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:32:29.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f8d67d6b64eee8d89b63a813356a04c143c56dc-7ca4b52e1494b3f9-01 outer:exit 2b-4f8d67d6b64eee8d89b63a813356a04c143c56dc-f16a5ffbb1bf83a6-01
2022-04-20T15:32:29.766Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:32:29.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb48e67c4a3f532f8279a9a12a4ae50495c5013c-8c7b5a8fa3abe350-01 outer:exit 2b-fb48e67c4a3f532f8279a9a12a4ae50495c5013c-04461750ab2a6d89-01
2022-04-20T15:32:29.770Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:32:29.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bfd895b5347a23f82ebd8d1b6c5168b36b21709-d6aabfc5e17f4ca6-01 outer:exit 2b-9bfd895b5347a23f82ebd8d1b6c5168b36b21709-0d809e74bb92028f-01
2022-04-20T15:32:29.773Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:32:29.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-b75e0e66c050fcb068994416b52082e9c9e1363a-ddbb2b5d780cd76a-01 outer:exit 2b-b75e0e66c050fcb068994416b52082e9c9e1363a-77386aa87e3e4917-01
2022-04-20T15:32:29.811Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (483ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.17
updated 1 package and audited 935 packages in 6.697s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:37.969Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:37.970Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:37.970Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:37.971Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:38.054Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:38.247Z appoptics:patching patched crypto 
2022-04-20T15:32:38.271Z appoptics:patching patched https 
2022-04-20T15:32:38.271Z appoptics:patching patched http 
2022-04-20T15:32:38.324Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:38.325Z appoptics:patching patched fs 
2022-04-20T15:32:38.358Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v14.19.1)
2022-04-20T15:32:38.367Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2022-04-20T15:32:38.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bbec3758298c08f16d6a960fa69053c91a4a592-35e24468c3f5e5d3-01 outer:exit 2b-9bbec3758298c08f16d6a960fa69053c91a4a592-a1fe6f913be5162e-01
2022-04-20T15:32:38.424Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:32:38.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-727c4deccff7baa8dd24087c4678beebcaae559c-9d73308b1bbc72ea-01 outer:exit 2b-727c4deccff7baa8dd24087c4678beebcaae559c-206a1ce3f151bd78-01
2022-04-20T15:32:38.479Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:32:38.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b4d7d0190768278a81a295ae7b77ee03e0a4075-8136b44c53de0a96-01 outer:exit 2b-9b4d7d0190768278a81a295ae7b77ee03e0a4075-76c33bffc18a66af-01
2022-04-20T15:32:38.484Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:32:38.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c0a5b25c8fce362a2159b936a15cc2e9c058abd-bbca368be0d63b47-01 outer:exit 2b-9c0a5b25c8fce362a2159b936a15cc2e9c058abd-acd278f1228c9fb4-01
2022-04-20T15:32:38.488Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:32:38.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e921c1cc51ad7039c3f9b385d23e3339a058d96-5ec3dd5157ffa7ba-01 outer:exit 2b-6e921c1cc51ad7039c3f9b385d23e3339a058d96-8b53eb3f2a2c9a08-01
2022-04-20T15:32:38.494Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:32:38.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-b06e110d38a3a9a84d25e0b537ea08ff87fb1801-bada42ce377f022e-01 outer:exit 2b-b06e110d38a3a9a84d25e0b537ea08ff87fb1801-3549a5ee9dda09aa-01
2022-04-20T15:32:38.499Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:32:38.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb56225f07c988073a0b3811ad60e3f407ab14c3-55a33b80be312142-01 outer:exit 2b-cb56225f07c988073a0b3811ad60e3f407ab14c3-eeeed730f1f2c28c-01
2022-04-20T15:32:38.502Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:32:38.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-de9da5124aae1d6423b87c4b73a7a4418c5e6985-86ddd6ff2033f35f-01 outer:exit 2b-de9da5124aae1d6423b87c4b73a7a4418c5e6985-3b850bd14b4fb280-01
2022-04-20T15:32:38.505Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:32:38.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-d12c2d1d8f382e16d12813256e7f4a659f5c15d7-95b940ec89da4fdb-01 outer:exit 2b-d12c2d1d8f382e16d12813256e7f4a659f5c15d7-c80acda47af15f61-01
2022-04-20T15:32:38.509Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:32:38.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-f070ff720356a31faebc20a7fc1b5888ead8fd74-5ae610a7d37a0d97-01 outer:exit 2b-f070ff720356a31faebc20a7fc1b5888ead8fd74-54aa110e34090630-01
2022-04-20T15:32:38.513Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:32:38.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc411c9da17dde904d61b4b26224e519d31a797b-1c7449cd36652717-01 outer:exit 2b-dc411c9da17dde904d61b4b26224e519d31a797b-665745692cbaaecd-01
2022-04-20T15:32:38.518Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:32:38.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bf3d759603e93d21505d9ef7491aa7a831c8e4c-1bbf2f907ff5ccda-01 outer:exit 2b-2bf3d759603e93d21505d9ef7491aa7a831c8e4c-7d255e5271c29a8f-01
2022-04-20T15:32:38.526Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:32:38.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d48f515601444fcb5bfd6928fbef79f9c1a52c8-f7abd1a43ee43065-01 outer:exit 2b-9d48f515601444fcb5bfd6928fbef79f9c1a52c8-63ae4b303d8fef73-01
2022-04-20T15:32:38.546Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:32:38.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e9c180eb6dc12d43dbb2123059cf80eb0825231-e82b39399b1ccbfb-01 outer:exit 2b-2e9c180eb6dc12d43dbb2123059cf80eb0825231-23abfcf70e5b3860-01
2022-04-20T15:32:38.602Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:32:38.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-c71c08f9050e246fec3d1f779b077ebfe7b918ef-9014e34ebdc6b746-01 outer:exit 2b-c71c08f9050e246fec3d1f779b077ebfe7b918ef-06a9068b3cf2a49f-01
2022-04-20T15:32:38.609Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:32:38.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-acea23f2ceb119539ed994bdcddef42c83b06dd0-36eb793e59653e09-01 outer:exit 2b-acea23f2ceb119539ed994bdcddef42c83b06dd0-cfbb5a540743f032-01
2022-04-20T15:32:38.612Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:32:38.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-60a27bf4d3fe13d829d90d06c7ffed68177bfce5-887f7ed349a511a5-01 outer:exit 2b-60a27bf4d3fe13d829d90d06c7ffed68177bfce5-6d0d7ac30dd122b3-01
2022-04-20T15:32:38.616Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:32:38.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7c6fd62cdefb51dcf2655662d589a561ef816a8-01bbbf487ad96910-01 outer:exit 2b-d7c6fd62cdefb51dcf2655662d589a561ef816a8-f6d3b73f16b9d8b1-01
2022-04-20T15:32:38.619Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:32:38.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-557ed62040c37eeb86603dda58a837846d4daa2b-653c9fd21c8bca1d-01 outer:exit 2b-557ed62040c37eeb86603dda58a837846d4daa2b-679aea8fdfc7df47-01
2022-04-20T15:32:38.622Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:32:38.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad6bea29ef71599b177a943136612bf7a87ce160-45a4cc1fc0849890-01 outer:exit 2b-ad6bea29ef71599b177a943136612bf7a87ce160-da7a08e727145ad9-01
2022-04-20T15:32:38.624Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:32:38.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba1e1427568e5d9abb202960e5bfd8e441af5771-e244925ee6a2fd1a-01 outer:exit 2b-ba1e1427568e5d9abb202960e5bfd8e441af5771-564bedca150be99a-01
2022-04-20T15:32:38.627Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:32:38.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f4e77171673df03845da6db39b0156a8d72fa98-9497147b771f23cd-01 outer:exit 2b-4f4e77171673df03845da6db39b0156a8d72fa98-3ba1a59c389bcdd4-01
2022-04-20T15:32:38.630Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:32:38.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-116ca92d7cdf5c43264b717d1ba852cf5dee4844-10f178c51b9330f4-01 outer:exit 2b-116ca92d7cdf5c43264b717d1ba852cf5dee4844-8da7d9bc5200e771-01
2022-04-20T15:32:38.634Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:32:38.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-90a0e54f984126b5f0f73c3ac233fe1b5bec5713-ce31a66456f3d919-01 outer:exit 2b-90a0e54f984126b5f0f73c3ac233fe1b5bec5713-d9de7cfe679f0d91-01
2022-04-20T15:32:38.638Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:32:38.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fca5ea337cdc9290b4afa4163196e223d5eb7e3-2a57c0471bad8e86-01 outer:exit 2b-1fca5ea337cdc9290b4afa4163196e223d5eb7e3-79c3658c09d748f7-01
2022-04-20T15:32:38.642Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:32:38.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fdd9449e9bc65ac23df4afdaf863c74bac81b41-253ef8608d171c67-01 outer:exit 2b-5fdd9449e9bc65ac23df4afdaf863c74bac81b41-4850d8d0ee1aa709-01
2022-04-20T15:32:38.645Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:32:38.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-1438c6ca22ac3eb77166d891f1cc82a71d07e39d-83745375e9de0f4d-01 outer:exit 2b-1438c6ca22ac3eb77166d891f1cc82a71d07e39d-e09cdcbf5c9fcce5-01
2022-04-20T15:32:38.655Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:32:38.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2683dc3353c2f75a1b98d3616ecf7bb24eb2501-4ad8137f83c49e6f-01 outer:exit 2b-d2683dc3353c2f75a1b98d3616ecf7bb24eb2501-4077b5693e606161-01
2022-04-20T15:32:38.661Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:32:38.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-df54a4b0a1d200ee6e291c63a799d0e90814ceb8-75f8bba3f815be15-01 outer:exit 2b-df54a4b0a1d200ee6e291c63a799d0e90814ceb8-28fd71090072a97f-01
2022-04-20T15:32:38.671Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:32:38.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-aff11392e85ec8c239cd8e293fb5ff8f6cbbb196-4ea0afa8b811495d-01 outer:exit 2b-aff11392e85ec8c239cd8e293fb5ff8f6cbbb196-631698ca11eed3c2-01
2022-04-20T15:32:38.684Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:32:38.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-060ecded88bbfb7d3223078b9e844f78c3b6dc00-41fb3f00f981e863-01 outer:exit 2b-060ecded88bbfb7d3223078b9e844f78c3b6dc00-241af07e5e358383-01
2022-04-20T15:32:38.687Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:32:38.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdd0ec852f180471b2961c9f7e2eaf404c8843ff-32b1c68de541ae95-01 outer:exit 2b-bdd0ec852f180471b2961c9f7e2eaf404c8843ff-1cef0ab2332e1201-01
2022-04-20T15:32:38.693Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:32:38.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a1c9950184f49a2ba7115b3bd64bdc825a2ebf-e2704b66b33352b8-01 outer:exit 2b-77a1c9950184f49a2ba7115b3bd64bdc825a2ebf-544f1f0e28ffc34b-01
2022-04-20T15:32:38.720Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:32:38.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f9dd0f6142ef33036f8a96f5c4ad21d229708a4-c3e1e788c55941c7-01 outer:exit 2b-2f9dd0f6142ef33036f8a96f5c4ad21d229708a4-6a2f0ec9e56c1765-01
2022-04-20T15:32:38.723Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:32:38.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-718e4aadd6799c456701d0331a002c4a7068e796-4c60cae9a00aba1b-01 outer:exit 2b-718e4aadd6799c456701d0331a002c4a7068e796-7a29c3fb7742020d-01
2022-04-20T15:32:38.726Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:32:38.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ccac3ff2895dd198b2241481194109dea036066-fcce85003fbf3dc3-01 outer:exit 2b-1ccac3ff2895dd198b2241481194109dea036066-0a3699687b9681ff-01
2022-04-20T15:32:38.729Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:32:38.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-106619e365b9a065ef5fc3c8c4440c9b93a1c6e3-7c9351e7d36f0c63-01 outer:exit 2b-106619e365b9a065ef5fc3c8c4440c9b93a1c6e3-1d268a597b0707bc-01
2022-04-20T15:32:38.731Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:32:38.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-08ecc382ff50571bd6f467a0bca5294530120163-9a12f9ccf205637b-01 outer:exit 2b-08ecc382ff50571bd6f467a0bca5294530120163-cac9be103d77d360-01
2022-04-20T15:32:38.734Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:32:38.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-085be0bed03c4ec778fe633ecc169465c15a1105-99ff42f2e23643be-01 outer:exit 2b-085be0bed03c4ec778fe633ecc169465c15a1105-b15fc51da329c669-01
2022-04-20T15:32:38.746Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:32:38.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e16e6b119e6725eaf98d2cda441f3a53d7dc3d7-b9fccb9d8f948d16-01 outer:exit 2b-1e16e6b119e6725eaf98d2cda441f3a53d7dc3d7-87d3a72186e983a8-01
2022-04-20T15:32:38.757Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:32:38.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a2f2e12809f46791239775842ccbf39311f99af-fb0ca7e6d0f426b9-01 outer:exit 2b-1a2f2e12809f46791239775842ccbf39311f99af-534ece916e8a94af-01
2022-04-20T15:32:38.764Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:32:38.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7db6237f04812cac19ccd2952c021cf7c7b9809-d0e62e8e3825a966-01 outer:exit 2b-d7db6237f04812cac19ccd2952c021cf7c7b9809-f687ba0a3439c5ab-01
2022-04-20T15:32:38.768Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:32:38.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-46a4a01a423f38c7378f18e503cebc5929799be1-fa7a9042745364bf-01 outer:exit 2b-46a4a01a423f38c7378f18e503cebc5929799be1-c6f23e46b818f885-01
2022-04-20T15:32:38.772Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:32:38.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-52302ace7b5fac7817739a18c470adb2ede3803e-96ade621258ab5db-01 outer:exit 2b-52302ace7b5fac7817739a18c470adb2ede3803e-840f467b2007a5b3-01
2022-04-20T15:32:38.809Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (435ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.18
updated 1 package and audited 935 packages in 6.386s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:46.768Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:46.769Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:46.769Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:46.770Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:46.850Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:47.072Z appoptics:patching patched crypto 
2022-04-20T15:32:47.095Z appoptics:patching patched https 
2022-04-20T15:32:47.096Z appoptics:patching patched http 
2022-04-20T15:32:47.144Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:47.144Z appoptics:patching patched fs 
2022-04-20T15:32:47.177Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v14.19.1)
2022-04-20T15:32:47.185Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2022-04-20T15:32:47.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9d5c6356a27d02d7d4070933bb9afc8bf0be261-d06c054368e2a4e1-01 outer:exit 2b-b9d5c6356a27d02d7d4070933bb9afc8bf0be261-f053baf56aa7b345-01
2022-04-20T15:32:47.243Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:32:47.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cd4217467a8a1a08beb77f4b9b0905a8344bf3d-805f2fc951793743-01 outer:exit 2b-4cd4217467a8a1a08beb77f4b9b0905a8344bf3d-4612b01d7cdbd588-01
2022-04-20T15:32:47.296Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:32:47.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-e66b2ae660ea0067a34d64d4b02190a3140ab79c-8d3457addb6344f0-01 outer:exit 2b-e66b2ae660ea0067a34d64d4b02190a3140ab79c-0fd7cfa369d0741f-01
2022-04-20T15:32:47.301Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:32:47.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b6264a76f0706dbf56c5fccc8bcd407473214d7-559aa55ac53b8fc8-01 outer:exit 2b-4b6264a76f0706dbf56c5fccc8bcd407473214d7-19db6ce76e0546e3-01
2022-04-20T15:32:47.306Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:32:47.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-77da8bd4e839e721f6969ea25b6b8e787f14dcec-5420bdf8bc1a2e1f-01 outer:exit 2b-77da8bd4e839e721f6969ea25b6b8e787f14dcec-3b8ab2c91a1abcd1-01
2022-04-20T15:32:47.312Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:32:47.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-196e7f574986a0604b33918ffccccbbd9d5a7a12-9d1d4cb9bbd7e2c7-01 outer:exit 2b-196e7f574986a0604b33918ffccccbbd9d5a7a12-4163bd2930e78a6e-01
2022-04-20T15:32:47.316Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:32:47.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-370a880b8df1de5c172a0d624cd57f35f22d30e7-32ebfb87460fec5f-01 outer:exit 2b-370a880b8df1de5c172a0d624cd57f35f22d30e7-05abb08d3c92baa7-01
2022-04-20T15:32:47.320Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:32:47.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c6757d3aaa4de7084a296c87d4f8cfea5a124fe-115e570b96fc3cab-01 outer:exit 2b-2c6757d3aaa4de7084a296c87d4f8cfea5a124fe-e2dc2c52ffd82a07-01
2022-04-20T15:32:47.329Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:32:47.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-68869bab2a9f7e083f4955f7dd9df18155d4362a-f0629bddb9ad27c1-01 outer:exit 2b-68869bab2a9f7e083f4955f7dd9df18155d4362a-2a8dd2e9cd76354e-01
2022-04-20T15:32:47.333Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:32:47.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad09b491291ec2aeadfd3d632e38e90520ffc173-09f5233502f1bc06-01 outer:exit 2b-ad09b491291ec2aeadfd3d632e38e90520ffc173-ca25f1d7aa7a5363-01
2022-04-20T15:32:47.337Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:32:47.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-433a55429389faa822e9a7bed5230d754631b154-7a770ef0c014760c-01 outer:exit 2b-433a55429389faa822e9a7bed5230d754631b154-fbab191085750a53-01
2022-04-20T15:32:47.342Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:32:47.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-31daf7513d3af1d7c05e745026f88efd6dc9c0cf-bbe86a6dc4db8d30-01 outer:exit 2b-31daf7513d3af1d7c05e745026f88efd6dc9c0cf-d69a7b4ef1a74f8b-01
2022-04-20T15:32:47.351Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:32:47.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-d331dd3595afbe97cbbc9338a3ab62d4cd6395cf-b08d861f423bd39f-01 outer:exit 2b-d331dd3595afbe97cbbc9338a3ab62d4cd6395cf-623d7b41a8e7c6d5-01
2022-04-20T15:32:47.374Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:32:47.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-b09f63285bddf7635271754514cd46eaad6219c9-c56ecc06c084a038-01 outer:exit 2b-b09f63285bddf7635271754514cd46eaad6219c9-929e5b9d447f11cb-01
2022-04-20T15:32:47.421Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:32:47.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab95a31b661d4568982ace541d2d481fdc3c7ec1-d5a8f3f248fa8b72-01 outer:exit 2b-ab95a31b661d4568982ace541d2d481fdc3c7ec1-d9ecd9e2341a244c-01
2022-04-20T15:32:47.427Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:32:47.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-70b1c1bf7e43d841811507fafda258795ec7b92d-344f5e12a1fde08c-01 outer:exit 2b-70b1c1bf7e43d841811507fafda258795ec7b92d-624ca533d461cf0c-01
2022-04-20T15:32:47.430Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:32:47.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d1e7503ddd9b0c9ab5affa7603d325c7050292b-e1e2eb0124495901-01 outer:exit 2b-1d1e7503ddd9b0c9ab5affa7603d325c7050292b-849455d3b90546fb-01
2022-04-20T15:32:47.433Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:32:47.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-c10c8af2334f53c6d2fa13d170d30b5ba4456621-8a580962177c76de-01 outer:exit 2b-c10c8af2334f53c6d2fa13d170d30b5ba4456621-7928d2ad8c684494-01
2022-04-20T15:32:47.436Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:32:47.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf8d06abf69c49889b32a0c6c2740183f9feb72d-94a8f1c3f98a1582-01 outer:exit 2b-bf8d06abf69c49889b32a0c6c2740183f9feb72d-99a801e60d1338ff-01
2022-04-20T15:32:47.439Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:32:47.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fc29d229fc82a86363ae7dcf8c10bac5c719ae6-adaf3ee07d96ef3b-01 outer:exit 2b-7fc29d229fc82a86363ae7dcf8c10bac5c719ae6-0e0ee47a45477d14-01
2022-04-20T15:32:47.443Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:32:47.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bf98c38c340b9ff1edabbfb62d6c819ca1fae8a-06f83a11395495f1-01 outer:exit 2b-8bf98c38c340b9ff1edabbfb62d6c819ca1fae8a-bc2f6ec940c8dfe2-01
2022-04-20T15:32:47.445Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:32:47.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-b31c1d39e75d99dfb585ece09874c78884c6fa7b-5086687f34e52db2-01 outer:exit 2b-b31c1d39e75d99dfb585ece09874c78884c6fa7b-f8296c3bd60f7bef-01
2022-04-20T15:32:47.448Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:32:47.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-8db8813daf722665c6357f1efd336e9bb8df99f1-cff5a6d969d7a5fd-01 outer:exit 2b-8db8813daf722665c6357f1efd336e9bb8df99f1-6057850af41bde29-01
2022-04-20T15:32:47.452Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:32:47.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-55578131030de476184529e3f0bf96d9e36e0fb4-99ff5871d09a62d7-01 outer:exit 2b-55578131030de476184529e3f0bf96d9e36e0fb4-f3232bc01ab5f22e-01
2022-04-20T15:32:47.455Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:32:47.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a3fc1f2e4cb83c396bba27be651ddea5b392bfb-7a8fd896be480132-01 outer:exit 2b-1a3fc1f2e4cb83c396bba27be651ddea5b392bfb-9478714717696e9c-01
2022-04-20T15:32:47.458Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:32:47.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d79088a7393095645face5221331d18163b63ed-ea2012df161d5a65-01 outer:exit 2b-4d79088a7393095645face5221331d18163b63ed-472115d969365ecd-01
2022-04-20T15:32:47.462Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:32:47.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcae58dbdae2785e0557a73f26d621d2be8420ea-33186f3f9b7bba40-01 outer:exit 2b-dcae58dbdae2785e0557a73f26d621d2be8420ea-2227e3f11bbb3285-01
2022-04-20T15:32:47.472Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:32:47.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-86d9f6e40ec5d7ce3a33bfca36f22e5f9a504e93-a7497295d90dc2dd-01 outer:exit 2b-86d9f6e40ec5d7ce3a33bfca36f22e5f9a504e93-4de257b5b94e1006-01
2022-04-20T15:32:47.477Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:32:47.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f6cd052a81e52be9ac0c5aef78f23d34c256f1-53a5b7f0a13b94d8-01 outer:exit 2b-87f6cd052a81e52be9ac0c5aef78f23d34c256f1-1db2fb305114f4b5-01
2022-04-20T15:32:47.488Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:32:47.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-f413fb6c883fde119808c45a0e6b2e26d8bd80b7-9f9c7b84fe2689c4-01 outer:exit 2b-f413fb6c883fde119808c45a0e6b2e26d8bd80b7-9d52cf6db80c5a51-01
2022-04-20T15:32:47.497Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:32:47.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-fde6b6e0749d99f5f3932997fdbf2d41bcb06d12-03f3264605b65d29-01 outer:exit 2b-fde6b6e0749d99f5f3932997fdbf2d41bcb06d12-fbb96c2715998f11-01
2022-04-20T15:32:47.500Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:32:47.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-b060c7e13db0ab73a8bca0564ba42d17d717aa36-c1aab4855cdadb25-01 outer:exit 2b-b060c7e13db0ab73a8bca0564ba42d17d717aa36-abc56dd4fc12cad9-01
2022-04-20T15:32:47.505Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:32:47.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a5c13b5d74cbbbda1312cdd32fd733c8599615e-296e4afccb6f260c-01 outer:exit 2b-9a5c13b5d74cbbbda1312cdd32fd733c8599615e-290c0adc927b0425-01
2022-04-20T15:32:47.513Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:32:47.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-db003fd1844fb37ae5f02e6916056a9396e77c86-27942568257981f9-01 outer:exit 2b-db003fd1844fb37ae5f02e6916056a9396e77c86-8a0b4f53a6b784fb-01
2022-04-20T15:32:47.516Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:32:47.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fb3fe054b2848df6d2724d0709d4c1a157b75f4-e31c0ffdfabac6fd-01 outer:exit 2b-4fb3fe054b2848df6d2724d0709d4c1a157b75f4-7479a0f25fc5bc9b-01
2022-04-20T15:32:47.519Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:32:47.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-f85fdf73e947b114317efc8f2538633adbcf97f4-8972298a6e1859e5-01 outer:exit 2b-f85fdf73e947b114317efc8f2538633adbcf97f4-d2fc7362f3ed1f53-01
2022-04-20T15:32:47.522Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:32:47.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c9a3fc28ac4402289975a44df18389b761c3d30-25f3dedbf6bedecb-01 outer:exit 2b-5c9a3fc28ac4402289975a44df18389b761c3d30-b3c22db5729e4015-01
2022-04-20T15:32:47.525Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:32:47.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-05e7a38361e2170c1a989b25b13346bbf1ce5528-02e38054d229e3ba-01 outer:exit 2b-05e7a38361e2170c1a989b25b13346bbf1ce5528-153f73653e4298ef-01
2022-04-20T15:32:47.527Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:32:47.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-b846c283c62d2479167af8f283614e84a6d199a5-6da0db8a661abcd2-01 outer:exit 2b-b846c283c62d2479167af8f283614e84a6d199a5-1ed94ee5c501a468-01
2022-04-20T15:32:47.541Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:32:47.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-202cbd5e0d39c998b9b45269ad9564d7f503b929-aa1f6c5b4d09b3dc-01 outer:exit 2b-202cbd5e0d39c998b9b45269ad9564d7f503b929-582e68f22fe93db8-01
2022-04-20T15:32:47.551Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:32:47.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd5caa08ba80ac107acdc96b10d4e2db107b3b2b-bcc1789484ef33af-01 outer:exit 2b-cd5caa08ba80ac107acdc96b10d4e2db107b3b2b-300f49fd18e8c4c4-01
2022-04-20T15:32:47.556Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:32:47.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffd8ee2f84029cce62b68056943d4ee780e3f7f9-3f9be038dd622798-01 outer:exit 2b-ffd8ee2f84029cce62b68056943d4ee780e3f7f9-5e50231405c7787f-01
2022-04-20T15:32:47.559Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:32:47.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-b40b27876d3742f58ebcdf989ed8321ae54f84a9-ba71d94a63fdd646-01 outer:exit 2b-b40b27876d3742f58ebcdf989ed8321ae54f84a9-bbfdcda3c41a48da-01
2022-04-20T15:32:47.563Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:32:47.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9d1fae856cefbb99d200d29fc2304883cf3ef66-ab5e84fdc9ebbc89-01 outer:exit 2b-c9d1fae856cefbb99d200d29fc2304883cf3ef66-49add75af66e36df-01
2022-04-20T15:32:47.602Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (410ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.19
updated 1 package and audited 935 packages in 5.591s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:54.479Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:54.480Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:54.480Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:54.481Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:54.562Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:54.793Z appoptics:patching patched crypto 
2022-04-20T15:32:54.821Z appoptics:patching patched https 
2022-04-20T15:32:54.821Z appoptics:patching patched http 
2022-04-20T15:32:54.871Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:54.871Z appoptics:patching patched fs 
2022-04-20T15:32:54.908Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v14.19.1)
2022-04-20T15:32:54.916Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2022-04-20T15:32:54.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-145b3a2b1a9b6b6bf60778484716d7d365217177-d7a8982f2d779759-01 outer:exit 2b-145b3a2b1a9b6b6bf60778484716d7d365217177-450b8bbbfd652635-01
2022-04-20T15:32:54.975Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:32:55.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a29f70a1a4ceda7324c89bea8a5d1c3761bbbe9-673b1bb6b2bcc046-01 outer:exit 2b-5a29f70a1a4ceda7324c89bea8a5d1c3761bbbe9-697e48c57f2be01a-01
2022-04-20T15:32:55.029Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:32:55.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-e10453086754e8eb487141b61e13699fc3f383a3-04ed3aaafd8575be-01 outer:exit 2b-e10453086754e8eb487141b61e13699fc3f383a3-1fd7a09f2578d2a8-01
2022-04-20T15:32:55.034Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:32:55.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-39e77a00dad5734760c0ad7b826c09eb686b6ea3-7dfd920559cd5122-01 outer:exit 2b-39e77a00dad5734760c0ad7b826c09eb686b6ea3-03b2b71e7c5a5a63-01
2022-04-20T15:32:55.038Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:32:55.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ef23f6230aa0a6b4ae5a07c467af186b8ca158b-c0c879eaa307e483-01 outer:exit 2b-8ef23f6230aa0a6b4ae5a07c467af186b8ca158b-3548780fa4b58f60-01
2022-04-20T15:32:55.044Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:32:55.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-13f947816b584d875c6cade14ebdfd392819fff2-c1e7599f373e06df-01 outer:exit 2b-13f947816b584d875c6cade14ebdfd392819fff2-413632f38e665c8e-01
2022-04-20T15:32:55.049Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:32:55.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dbb8825c540dff9a465b74b1ba34f6e870b5ef4-5dca6d1ecf3fc0dd-01 outer:exit 2b-9dbb8825c540dff9a465b74b1ba34f6e870b5ef4-2433cd52b5e843fd-01
2022-04-20T15:32:55.053Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:32:55.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-322fdac3e61525f4f490683b4e5d817199ee8e20-ae9909ccdc79f19f-01 outer:exit 2b-322fdac3e61525f4f490683b4e5d817199ee8e20-091b67faf38cdf6c-01
2022-04-20T15:32:55.056Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:32:55.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-b18783a209b85197b0e9988b188bbad950b7c53d-eac595a27c234edc-01 outer:exit 2b-b18783a209b85197b0e9988b188bbad950b7c53d-f4ac65974d8c3c12-01
2022-04-20T15:32:55.059Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:32:55.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd2cbf228e9fa84c799d88434362998dfb22bb2b-ae01938ad7f00bfb-01 outer:exit 2b-dd2cbf228e9fa84c799d88434362998dfb22bb2b-60ce36a4040ea4a7-01
2022-04-20T15:32:55.063Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:32:55.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-28d28a4c0a65a3274ba497cdef4d8f6a0b8d5689-ed1021608e116397-01 outer:exit 2b-28d28a4c0a65a3274ba497cdef4d8f6a0b8d5689-92229b9d7674e4db-01
2022-04-20T15:32:55.068Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:32:55.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f729e18d105c44f10d2e8c8cdb74bdb87403623-952a6621ce8721e5-01 outer:exit 2b-2f729e18d105c44f10d2e8c8cdb74bdb87403623-13f9ce53e106e7ae-01
2022-04-20T15:32:55.076Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:32:55.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dbf97dd78251a858ec9feb7893e9882b075f45c-38468314d6b1b719-01 outer:exit 2b-4dbf97dd78251a858ec9feb7893e9882b075f45c-1397c19f2b4aa40c-01
2022-04-20T15:32:55.098Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:32:55.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a9d186e1c1631d6f8fd07490e9e2f65c35dd0fc-453b1956e8355cfc-01 outer:exit 2b-5a9d186e1c1631d6f8fd07490e9e2f65c35dd0fc-c8abb6b8d6858842-01
2022-04-20T15:32:55.151Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:32:55.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-7532145ab86772872a4a4e6b15e7d3754d9ed304-8fe69b8f0755eb00-01 outer:exit 2b-7532145ab86772872a4a4e6b15e7d3754d9ed304-31223a981a846b09-01
2022-04-20T15:32:55.158Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:32:55.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6eae2798948d98769c37cd1fc84696af73ec0d3-cca48c88245ae8e1-01 outer:exit 2b-a6eae2798948d98769c37cd1fc84696af73ec0d3-8faf9185de8b4be4-01
2022-04-20T15:32:55.161Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:32:55.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8ab6022f14710d6364e2a6b43ea57a46161d4e6-3dcbb90a8fb3293e-01 outer:exit 2b-f8ab6022f14710d6364e2a6b43ea57a46161d4e6-e3104c5a67a57881-01
2022-04-20T15:32:55.165Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:32:55.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-d06c502f0db2d28668c53edcf57838b0be369e3d-eb723c69593b171b-01 outer:exit 2b-d06c502f0db2d28668c53edcf57838b0be369e3d-5a5479d4bdfa8e88-01
2022-04-20T15:32:55.168Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:32:55.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-170141fd1e168632b9bd67240305cc85bc94c473-70a80684148087c7-01 outer:exit 2b-170141fd1e168632b9bd67240305cc85bc94c473-8424aad292e3c48b-01
2022-04-20T15:32:55.172Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:32:55.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e1d023734f4e4c76d7f7cb4847e818d7c4c09c1-37472a942e46963c-01 outer:exit 2b-9e1d023734f4e4c76d7f7cb4847e818d7c4c09c1-5d47ec5dd051a0bc-01
2022-04-20T15:32:55.174Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:32:55.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-db3e898b62c10e1b63298965cf50c224ae6244f4-00d1084d00f14d09-01 outer:exit 2b-db3e898b62c10e1b63298965cf50c224ae6244f4-8a3372d74b8ff190-01
2022-04-20T15:32:55.177Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:32:55.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-f713d2c7420739316ff4555c1e4ce620276222cd-943a25e4b5542abb-01 outer:exit 2b-f713d2c7420739316ff4555c1e4ce620276222cd-0aadc3968abf3389-01
2022-04-20T15:32:55.180Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:32:55.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-9273ab7f68d82a41563d41b704aa4b0cf8e10a78-7cb1f4f800673a68-01 outer:exit 2b-9273ab7f68d82a41563d41b704aa4b0cf8e10a78-90336c85c3950a65-01
2022-04-20T15:32:55.187Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:32:55.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-13d2517059f03be777aac2b8c33770083044f5d0-e8ffb0882de25ac1-01 outer:exit 2b-13d2517059f03be777aac2b8c33770083044f5d0-374556d8b492c08b-01
2022-04-20T15:32:55.191Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:32:55.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6cda01eed4213eebf9463e2f9bd7288cfdae0c1-7cfb144474fff426-01 outer:exit 2b-b6cda01eed4213eebf9463e2f9bd7288cfdae0c1-54e36d157061696b-01
2022-04-20T15:32:55.194Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:32:55.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fe43c55836cb3d9c40dd17843348d75cecf3166-c9b0e578828a46b1-01 outer:exit 2b-2fe43c55836cb3d9c40dd17843348d75cecf3166-f5abd1481eeb9218-01
2022-04-20T15:32:55.197Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:32:55.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbf79a5b418a5c93c11896ea68972360cb8ff593-2797a55c1487a5bf-01 outer:exit 2b-cbf79a5b418a5c93c11896ea68972360cb8ff593-07aefa31dbbf2524-01
2022-04-20T15:32:55.207Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:32:55.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a20a0d4fdc0a352b8e01c45151fa60c01eacf36-cf365d0d4708c285-01 outer:exit 2b-9a20a0d4fdc0a352b8e01c45151fa60c01eacf36-06519350be5ebfce-01
2022-04-20T15:32:55.215Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:32:55.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-22c0451fadb2431247039f09d89dd4d308df934d-9bb95ff6f9b69fdc-01 outer:exit 2b-22c0451fadb2431247039f09d89dd4d308df934d-dc3b7e59bd2a2e00-01
2022-04-20T15:32:55.230Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:32:55.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c0eb1ae45f49108ef24b6f2f15b7c644ba7250f-13633c20aa578825-01 outer:exit 2b-3c0eb1ae45f49108ef24b6f2f15b7c644ba7250f-775cf00570cc833a-01
2022-04-20T15:32:55.241Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:32:55.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-21a519a3a0c734fd80eb6756086ef7910cc57466-05eb463c462eccb1-01 outer:exit 2b-21a519a3a0c734fd80eb6756086ef7910cc57466-7eb2dbfa97636b53-01
2022-04-20T15:32:55.244Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:32:55.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-b274f371a8a7278489fb7988d47caf21de4db735-8fe5c9283061de88-01 outer:exit 2b-b274f371a8a7278489fb7988d47caf21de4db735-38ef29e7e5b14051-01
2022-04-20T15:32:55.249Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:32:55.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-b81621b516a2f655a88041946069985057562bc3-9ca9bcba6941b125-01 outer:exit 2b-b81621b516a2f655a88041946069985057562bc3-aea587ed185a64b5-01
2022-04-20T15:32:55.260Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:32:55.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3b71140588db2b7d5b531600b40dba3d2be44af-46275908fe4da2b9-01 outer:exit 2b-b3b71140588db2b7d5b531600b40dba3d2be44af-2581171c6b3ee93f-01
2022-04-20T15:32:55.264Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:32:55.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-916934aebec9380c6f259c1aaacd1dfaea83a7f2-34df58041e4b2127-01 outer:exit 2b-916934aebec9380c6f259c1aaacd1dfaea83a7f2-01f52a3999c99771-01
2022-04-20T15:32:55.268Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:32:55.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1faf64d1bb3b9559277158af05d582948a1975e-955dc5341b79e7a3-01 outer:exit 2b-a1faf64d1bb3b9559277158af05d582948a1975e-86bfab442d1f8e3b-01
2022-04-20T15:32:55.271Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:32:55.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5d5d534887a22acd240c6dc8c7aab58f6f371d4-363299cf84ecd637-01 outer:exit 2b-a5d5d534887a22acd240c6dc8c7aab58f6f371d4-127b95156734b997-01
2022-04-20T15:32:55.274Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:32:55.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa562592740fe6cc0329314a1f270b402cc2604c-42fa17e5d3578e51-01 outer:exit 2b-aa562592740fe6cc0329314a1f270b402cc2604c-7265001d6af77ff9-01
2022-04-20T15:32:55.277Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:32:55.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f7a9edd5ead0c79cee5457d4be808d2c688da74-e7c9bd2c2ea9c3e5-01 outer:exit 2b-4f7a9edd5ead0c79cee5457d4be808d2c688da74-122a4dede789886d-01
2022-04-20T15:32:55.292Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:32:55.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd6d124ef39b7cd839ecd4ea2134b47433ce2029-2d732149531bdc8a-01 outer:exit 2b-cd6d124ef39b7cd839ecd4ea2134b47433ce2029-3ef3307e7172d05f-01
2022-04-20T15:32:55.306Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:32:55.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f7f0e8e2ecf1afb38614e7ddfd930857e75f9cd-28e76d48b4087195-01 outer:exit 2b-4f7f0e8e2ecf1afb38614e7ddfd930857e75f9cd-f16893b9ada0a3a0-01
2022-04-20T15:32:55.311Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:32:55.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-a461e8c92596359dee74b1fec0474fecf971247b-a63ef05a63de813a-01 outer:exit 2b-a461e8c92596359dee74b1fec0474fecf971247b-277e05e6ba639e26-01
2022-04-20T15:32:55.316Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:32:55.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-77aad0d54cb5d1a2517ee3556e0bbea655f7899b-fc714c68b81b6c4d-01 outer:exit 2b-77aad0d54cb5d1a2517ee3556e0bbea655f7899b-7bb7a1a69d8f1b53-01
2022-04-20T15:32:55.320Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:32:55.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-19e444ee468ad80116168a6c53b31c664b47d4a7-d9d3532050b060b6-01 outer:exit 2b-19e444ee468ad80116168a6c53b31c664b47d4a7-b8fe624f0e3eddf3-01
2022-04-20T15:32:55.374Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (452ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.20
updated 1 package and audited 935 packages in 7.399s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:04.071Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:04.072Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:04.072Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:04.073Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:04.154Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:04.353Z appoptics:patching patched crypto 
2022-04-20T15:33:04.377Z appoptics:patching patched https 
2022-04-20T15:33:04.378Z appoptics:patching patched http 
2022-04-20T15:33:04.430Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:04.431Z appoptics:patching patched fs 
2022-04-20T15:33:04.466Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v14.19.1)
2022-04-20T15:33:04.474Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2022-04-20T15:33:04.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-1698b38f6c6b176047cd30bc90012e3a6362cef1-0f2becff13330f16-01 outer:exit 2b-1698b38f6c6b176047cd30bc90012e3a6362cef1-c013f50d7e2a775a-01
2022-04-20T15:33:04.533Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:33:04.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-feb3f9c0d441057204f1cf0c8576e51aed81abdc-a45c9576690ef542-01 outer:exit 2b-feb3f9c0d441057204f1cf0c8576e51aed81abdc-138971c28021761c-01
2022-04-20T15:33:04.590Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:33:04.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-778dbae7cc5a138ab065513af4cb93a09d203e87-5cbb3d41ad69bf63-01 outer:exit 2b-778dbae7cc5a138ab065513af4cb93a09d203e87-88e728fd79af1814-01
2022-04-20T15:33:04.595Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:33:04.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-111da0486cb133f62081748d3b2988b93f5886ee-a37772aafb847d4b-01 outer:exit 2b-111da0486cb133f62081748d3b2988b93f5886ee-190d1547fa97f53f-01
2022-04-20T15:33:04.599Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:33:04.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd52559466b60571f830bd0d359e10ea3a5ed12a-c27f75f1ef97187e-01 outer:exit 2b-fd52559466b60571f830bd0d359e10ea3a5ed12a-66910fefd6f8c6ab-01
2022-04-20T15:33:04.605Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:33:04.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-453066742e44033630a931047cbb78e20e3cc1e9-521005e309d56a6e-01 outer:exit 2b-453066742e44033630a931047cbb78e20e3cc1e9-1a5fa5924ce0b5f0-01
2022-04-20T15:33:04.609Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:33:04.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ea9a504ef0ebffabdcbcb16c4a29b76c9fb39b8-51fd7185c823573d-01 outer:exit 2b-6ea9a504ef0ebffabdcbcb16c4a29b76c9fb39b8-02f519773d11ad62-01
2022-04-20T15:33:04.612Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:33:04.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-6aef7fe68f02f90d2567857217fb64287ff1e0b8-5e554cc600848932-01 outer:exit 2b-6aef7fe68f02f90d2567857217fb64287ff1e0b8-35ce1fa77640cd87-01
2022-04-20T15:33:04.615Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:33:04.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-28ff1f654c5fc218f3e8b0dc2d4cd453c57e2a36-7f8ee141156574d0-01 outer:exit 2b-28ff1f654c5fc218f3e8b0dc2d4cd453c57e2a36-06f7f8304fc43b34-01
2022-04-20T15:33:04.619Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:33:04.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad12b2fcc5697245564936b538f7d1b8f7ec1783-62a799abbd8eba89-01 outer:exit 2b-ad12b2fcc5697245564936b538f7d1b8f7ec1783-4793742433fb2adc-01
2022-04-20T15:33:04.623Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:33:04.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-65f532cc5fad957f665c769e8ac43b2605cc39f3-a40fe777c2e581e0-01 outer:exit 2b-65f532cc5fad957f665c769e8ac43b2605cc39f3-647dfb68d8d5a6b0-01
2022-04-20T15:33:04.629Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:33:04.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-c14a53d40b3b890a25a1bc585c36450b37f10ed3-3ee485e40b2dec17-01 outer:exit 2b-c14a53d40b3b890a25a1bc585c36450b37f10ed3-be7507ae9c457119-01
2022-04-20T15:33:04.637Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:33:04.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-752d6bc3767ea05775d0a6baaee118a2cf93f534-4b0d96bf38a15ea0-01 outer:exit 2b-752d6bc3767ea05775d0a6baaee118a2cf93f534-f2168c36929952c9-01
2022-04-20T15:33:04.660Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:33:04.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0efef0fc21fe33c415a96dc62853520beb296b3-9bc367e772183524-01 outer:exit 2b-b0efef0fc21fe33c415a96dc62853520beb296b3-1662691f70614d8f-01
2022-04-20T15:33:04.708Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:33:04.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-b93961c3551fdf366fba9a8070129db673217bd1-914b84366a89557d-01 outer:exit 2b-b93961c3551fdf366fba9a8070129db673217bd1-b03f5e80bea9d6bd-01
2022-04-20T15:33:04.713Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:33:04.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-b94fff1b1e6c4c7b8c521d1ef6da7b3f75d0ebd7-490cc3e021c1c5c6-01 outer:exit 2b-b94fff1b1e6c4c7b8c521d1ef6da7b3f75d0ebd7-c28bb0b3e496a650-01
2022-04-20T15:33:04.716Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:33:04.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-42954942d113da6418ed9d97b2f6af096c7d631d-9c3631b5a3b1cc90-01 outer:exit 2b-42954942d113da6418ed9d97b2f6af096c7d631d-b28a860cb1677871-01
2022-04-20T15:33:04.720Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:33:04.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-91acdb92bcbc7862a26012a618fe7fbd78ecb0ee-339a5af345dc0e1f-01 outer:exit 2b-91acdb92bcbc7862a26012a618fe7fbd78ecb0ee-471d046c29139064-01
2022-04-20T15:33:04.723Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:33:04.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-d84441421679c5610c1cfa755d3c9a693b5a069a-ebce1fa754fa1694-01 outer:exit 2b-d84441421679c5610c1cfa755d3c9a693b5a069a-7169681c66a1e058-01
2022-04-20T15:33:04.725Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:33:04.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffc8b151a2c603b4f1772cbdd20c790b61f8762f-a6b60024367154aa-01 outer:exit 2b-ffc8b151a2c603b4f1772cbdd20c790b61f8762f-c0a99b92f60e62a4-01
2022-04-20T15:33:04.728Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:33:04.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e609d4c70c8eccb0761193530340f0b1f93333c-a94bb48383e89e0e-01 outer:exit 2b-8e609d4c70c8eccb0761193530340f0b1f93333c-a47a764c8c722ea8-01
2022-04-20T15:33:04.731Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:33:04.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d019283cee0cbf47871b51666b4ab6036bd695a-9ace0ede17537fe7-01 outer:exit 2b-0d019283cee0cbf47871b51666b4ab6036bd695a-90794a883c85ffb0-01
2022-04-20T15:33:04.733Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:33:04.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9a9dca62725ffc25840c58e50a3ac0384d346ff-38d93d2a347285e9-01 outer:exit 2b-e9a9dca62725ffc25840c58e50a3ac0384d346ff-f38bc4a73374bc55-01
2022-04-20T15:33:04.737Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:33:04.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-fffcb77c01a00746e21c12aeeba3745af5538b12-80e1d79ad37025ee-01 outer:exit 2b-fffcb77c01a00746e21c12aeeba3745af5538b12-bfa2fc36921042de-01
2022-04-20T15:33:04.741Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:33:04.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-12e6c28c4855d6d1af3c5ea8271bb5746fa8e456-b1d3ab621fe2fad1-01 outer:exit 2b-12e6c28c4855d6d1af3c5ea8271bb5746fa8e456-49af076439339add-01
2022-04-20T15:33:04.744Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:33:04.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-e67242a769ae7671594b0ae5eab09c78552e0854-b5f83ebfe061769e-01 outer:exit 2b-e67242a769ae7671594b0ae5eab09c78552e0854-c692b5ccb30303cc-01
2022-04-20T15:33:04.747Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:33:04.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-92dc2188cb8f8630904daddd75131a2310e4638a-48420e278c46d962-01 outer:exit 2b-92dc2188cb8f8630904daddd75131a2310e4638a-54e6b0cd5cdfbfcf-01
2022-04-20T15:33:04.756Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:33:04.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-89735feda59706b7a5306e2942c0ae49306b8b0c-e012d50bf105bd9b-01 outer:exit 2b-89735feda59706b7a5306e2942c0ae49306b8b0c-0dd8bf47b3b6df99-01
2022-04-20T15:33:04.763Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:33:04.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2fa799d519fbb2f91dda1bc12a72bd8f7d54ef5-f106fdc6bee508db-01 outer:exit 2b-e2fa799d519fbb2f91dda1bc12a72bd8f7d54ef5-c7344357d87ed6ea-01
2022-04-20T15:33:04.773Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:33:04.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f9aedbafb60af195f6a012c847b7f904d442828-a6290936eeaebf16-01 outer:exit 2b-3f9aedbafb60af195f6a012c847b7f904d442828-b53ebc24b17f2d54-01
2022-04-20T15:33:04.782Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:33:04.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b89030cba53142f633f61e0a9db96b7111546ad-8df122ae1c7f618a-01 outer:exit 2b-5b89030cba53142f633f61e0a9db96b7111546ad-cc11a8f9accb4a7a-01
2022-04-20T15:33:04.786Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:33:04.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-aac1699755137d91a2cf9c82d5c854ecdb55cfaa-e124c2ca6c173637-01 outer:exit 2b-aac1699755137d91a2cf9c82d5c854ecdb55cfaa-d5cb96b429785453-01
2022-04-20T15:33:04.790Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:33:04.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dff639cac7fc51778b7830605ae710132042272-d4680a453bef23f0-01 outer:exit 2b-0dff639cac7fc51778b7830605ae710132042272-f680973a8d17d2dc-01
2022-04-20T15:33:04.799Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:33:04.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-acf31c32551cfcb80151117cae2a33b806099998-e0ffe7d1e8cdc916-01 outer:exit 2b-acf31c32551cfcb80151117cae2a33b806099998-ed30012619607ee7-01
2022-04-20T15:33:04.802Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:33:04.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-8722ed59b97210678699c701b657c162190d131b-446f56ff836654e1-01 outer:exit 2b-8722ed59b97210678699c701b657c162190d131b-3b79325edcbf10a5-01
2022-04-20T15:33:04.804Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:33:04.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-cba5eef4a2a745a40027f906090179dde8e59134-446d2a6706d73806-01 outer:exit 2b-cba5eef4a2a745a40027f906090179dde8e59134-ad1fc3e807685b65-01
2022-04-20T15:33:04.807Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:33:04.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-b205cdffa72c31b17df8de4885005137361085ba-7207b13e98c4bc2c-01 outer:exit 2b-b205cdffa72c31b17df8de4885005137361085ba-2fa335657757cf38-01
2022-04-20T15:33:04.810Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:33:04.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ecc5ba772920b689fa6d59ac18d809b03d4bcac-0b49efb01a25e4da-01 outer:exit 2b-3ecc5ba772920b689fa6d59ac18d809b03d4bcac-71fad77fab726d10-01
2022-04-20T15:33:04.812Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:33:04.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8e47eeaa3e31990e58da471febb552ee244aef1-cdd6adf09c0a7a5f-01 outer:exit 2b-a8e47eeaa3e31990e58da471febb552ee244aef1-b5fcd0105c279e2f-01
2022-04-20T15:33:04.824Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:33:04.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-5edc2978a02efb1d15ae475059de6ecade73ad44-6b6ec11e44a0d5c6-01 outer:exit 2b-5edc2978a02efb1d15ae475059de6ecade73ad44-7898041dcaf17ee6-01
2022-04-20T15:33:04.835Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:33:04.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-80580fc5cbf5c7009cdca4ab4b229872d8aa1f0a-3048348ea87d9ad1-01 outer:exit 2b-80580fc5cbf5c7009cdca4ab4b229872d8aa1f0a-238e7a680d330918-01
2022-04-20T15:33:04.839Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:33:04.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce68ea873504b9671b2a39de8476e2944a206220-4ea616fe7aece47e-01 outer:exit 2b-ce68ea873504b9671b2a39de8476e2944a206220-544ab1581fe2cd28-01
2022-04-20T15:33:04.843Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:33:04.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-20e7e74845b91632601f0063ad1fb8537f4dd1cd-5cc77f9375d3c709-01 outer:exit 2b-20e7e74845b91632601f0063ad1fb8537f4dd1cd-a738996bbd7ecc51-01
2022-04-20T15:33:04.848Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:33:04.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c081a7c507fce4773e48403baccc68f04fc95fe-50740c433572e677-01 outer:exit 2b-5c081a7c507fce4773e48403baccc68f04fc95fe-14f647274d87bd7a-01
2022-04-20T15:33:04.884Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (402ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.0
updated 1 package and audited 935 packages in 6.136s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:12.564Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:12.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:12.565Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:12.568Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:12.680Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:12.896Z appoptics:patching patched crypto 
2022-04-20T15:33:12.943Z appoptics:patching patched https 
2022-04-20T15:33:12.947Z appoptics:patching patched http 
2022-04-20T15:33:13.039Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:13.040Z appoptics:patching patched fs 
2022-04-20T15:33:13.069Z appoptics:patching patched zlib 
2022-04-20T15:33:13.101Z appoptics:patching patched mongodb-core 3.0.0
2022-04-20T15:33:13.108Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (54ms)


  33 passing (491ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.1
updated 1 package and audited 935 packages in 5.492s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:20.434Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:20.435Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:20.435Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:20.435Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:20.529Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:20.728Z appoptics:patching patched crypto 
2022-04-20T15:33:20.754Z appoptics:patching patched https 
2022-04-20T15:33:20.755Z appoptics:patching patched http 
2022-04-20T15:33:20.809Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:20.810Z appoptics:patching patched fs 
2022-04-20T15:33:20.824Z appoptics:patching patched zlib 
2022-04-20T15:33:20.855Z appoptics:patching patched mongodb-core 3.0.1
2022-04-20T15:33:20.863Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (374ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.2
updated 1 package and audited 935 packages in 6.43s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:29.007Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:29.007Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:29.007Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:29.008Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:29.095Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:29.330Z appoptics:patching patched crypto 
2022-04-20T15:33:29.364Z appoptics:patching patched https 
2022-04-20T15:33:29.365Z appoptics:patching patched http 
2022-04-20T15:33:29.415Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:29.416Z appoptics:patching patched fs 
2022-04-20T15:33:29.429Z appoptics:patching patched zlib 
2022-04-20T15:33:29.460Z appoptics:patching patched mongodb-core 3.0.2
2022-04-20T15:33:29.467Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (352ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.3
updated 1 package and audited 935 packages in 6.009s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:37.518Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:37.520Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:37.520Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:37.526Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:37.623Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:37.896Z appoptics:patching patched crypto 
2022-04-20T15:33:37.931Z appoptics:patching patched https 
2022-04-20T15:33:37.932Z appoptics:patching patched http 
2022-04-20T15:33:38.094Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:38.094Z appoptics:patching patched fs 
2022-04-20T15:33:38.139Z appoptics:patching patched zlib 
2022-04-20T15:33:38.217Z appoptics:patching patched mongodb-core 3.0.3
2022-04-20T15:33:38.236Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (45ms)


  33 passing (472ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.4
updated 1 package and audited 935 packages in 6.017s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:46.023Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:46.024Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:46.024Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:46.025Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:46.108Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:46.304Z appoptics:patching patched crypto 
2022-04-20T15:33:46.327Z appoptics:patching patched https 
2022-04-20T15:33:46.328Z appoptics:patching patched http 
2022-04-20T15:33:46.379Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:46.379Z appoptics:patching patched fs 
2022-04-20T15:33:46.392Z appoptics:patching patched zlib 
2022-04-20T15:33:46.422Z appoptics:patching patched mongodb-core 3.0.4
2022-04-20T15:33:46.430Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (349ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.5
updated 1 package and audited 935 packages in 6.573s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:54.835Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:54.836Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:54.836Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:54.837Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:54.954Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:55.168Z appoptics:patching patched crypto 
2022-04-20T15:33:55.192Z appoptics:patching patched https 
2022-04-20T15:33:55.193Z appoptics:patching patched http 
2022-04-20T15:33:55.251Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:55.252Z appoptics:patching patched fs 
2022-04-20T15:33:55.265Z appoptics:patching patched zlib 
2022-04-20T15:33:55.297Z appoptics:patching patched mongodb-core 3.0.5
2022-04-20T15:33:55.310Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (39ms)


  33 passing (385ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.6
updated 1 package and audited 935 packages in 5.816s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:02.947Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:02.948Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:02.948Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:02.951Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:03.053Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:03.400Z appoptics:patching patched crypto 
2022-04-20T15:34:03.476Z appoptics:patching patched https 
2022-04-20T15:34:03.489Z appoptics:patching patched http 
2022-04-20T15:34:03.578Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:03.578Z appoptics:patching patched fs 
2022-04-20T15:34:03.600Z appoptics:patching patched zlib 
2022-04-20T15:34:03.679Z appoptics:patching patched mongodb-core 3.0.6
2022-04-20T15:34:03.691Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message (40ms)

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (79ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (53ms)


  33 passing (579ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.7
updated 1 package and audited 935 packages in 5.479s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:11.500Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:11.501Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:11.501Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:11.502Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:11.586Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:11.781Z appoptics:patching patched crypto 
2022-04-20T15:34:11.806Z appoptics:patching patched https 
2022-04-20T15:34:11.807Z appoptics:patching patched http 
2022-04-20T15:34:11.856Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:11.857Z appoptics:patching patched fs 
2022-04-20T15:34:11.869Z appoptics:patching patched zlib 
2022-04-20T15:34:11.901Z appoptics:patching patched mongodb-core 3.0.7
2022-04-20T15:34:11.908Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (334ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.8
updated 1 package and audited 935 packages in 7.309s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:20.813Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:20.814Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:20.814Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:20.815Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:20.897Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:21.125Z appoptics:patching patched crypto 
2022-04-20T15:34:21.150Z appoptics:patching patched https 
2022-04-20T15:34:21.151Z appoptics:patching patched http 
2022-04-20T15:34:21.200Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:21.200Z appoptics:patching patched fs 
2022-04-20T15:34:21.213Z appoptics:patching patched zlib 
2022-04-20T15:34:21.248Z appoptics:patching patched mongodb-core 3.0.8
2022-04-20T15:34:21.255Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (39ms)


  33 passing (342ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.9
updated 1 package and audited 935 packages in 5.903s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:29.016Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:29.018Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:29.018Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:29.020Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:29.135Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:29.366Z appoptics:patching patched crypto 
2022-04-20T15:34:29.414Z appoptics:patching patched https 
2022-04-20T15:34:29.424Z appoptics:patching patched http 
2022-04-20T15:34:29.492Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:29.492Z appoptics:patching patched fs 
2022-04-20T15:34:29.518Z appoptics:patching patched zlib 
2022-04-20T15:34:29.588Z appoptics:patching patched mongodb-core 3.0.9
2022-04-20T15:34:29.604Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (44ms)


  33 passing (425ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.11
updated 1 package and audited 935 packages in 5.627s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:37.091Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:37.092Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:37.092Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:37.093Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:37.174Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:37.366Z appoptics:patching patched crypto 
2022-04-20T15:34:37.390Z appoptics:patching patched https 
2022-04-20T15:34:37.390Z appoptics:patching patched http 
2022-04-20T15:34:37.437Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:37.438Z appoptics:patching patched fs 
2022-04-20T15:34:37.452Z appoptics:patching patched zlib 
2022-04-20T15:34:37.487Z appoptics:patching patched mongodb-core 3.0.11
2022-04-20T15:34:37.495Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (58ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (51ms)


  33 passing (378ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.0
updated 1 package and audited 935 packages in 6.378s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:45.820Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:45.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:45.821Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:45.822Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:45.912Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:46.110Z appoptics:patching patched crypto 
2022-04-20T15:34:46.133Z appoptics:patching patched https 
2022-04-20T15:34:46.133Z appoptics:patching patched http 
2022-04-20T15:34:46.182Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:46.182Z appoptics:patching patched fs 
2022-04-20T15:34:46.194Z appoptics:patching patched zlib 
2022-04-20T15:34:46.230Z appoptics:patching patched mongodb-core 3.1.0
2022-04-20T15:34:46.237Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (352ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.1
updated 1 package and audited 935 packages in 5.752s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:53.610Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:53.611Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:53.611Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:53.612Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:53.719Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:53.957Z appoptics:patching patched crypto 
2022-04-20T15:34:54.018Z appoptics:patching patched https 
2022-04-20T15:34:54.019Z appoptics:patching patched http 
2022-04-20T15:34:54.068Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:54.069Z appoptics:patching patched fs 
2022-04-20T15:34:54.082Z appoptics:patching patched zlib 
2022-04-20T15:34:54.121Z appoptics:patching patched mongodb-core 3.1.1
2022-04-20T15:34:54.129Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group (48ms)
        ✓ should map_reduce (49ms)


  33 passing (486ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.2
updated 2 packages and audited 935 packages in 6.325s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:02.539Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:02.540Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:02.540Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:02.541Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:02.624Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:02.822Z appoptics:patching patched crypto 
2022-04-20T15:35:02.845Z appoptics:patching patched https 
2022-04-20T15:35:02.846Z appoptics:patching patched http 
2022-04-20T15:35:02.895Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:02.895Z appoptics:patching patched fs 
2022-04-20T15:35:02.908Z appoptics:patching patched zlib 
2022-04-20T15:35:02.943Z appoptics:patching patched mongodb-core 3.1.2
2022-04-20T15:35:02.951Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (352ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.3
updated 1 package and audited 935 packages in 6.335s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:10.960Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:10.961Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:10.961Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:10.961Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:11.041Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:11.231Z appoptics:patching patched crypto 
2022-04-20T15:35:11.254Z appoptics:patching patched https 
2022-04-20T15:35:11.255Z appoptics:patching patched http 
2022-04-20T15:35:11.305Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:11.306Z appoptics:patching patched fs 
2022-04-20T15:35:11.321Z appoptics:patching patched zlib 
2022-04-20T15:35:11.362Z appoptics:patching patched mongodb-core 3.1.3
2022-04-20T15:35:11.369Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (60ms)


  33 passing (369ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.4
updated 1 package and audited 935 packages in 5.886s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:19.000Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:19.000Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:19.000Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:19.001Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:19.093Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:19.297Z appoptics:patching patched crypto 
2022-04-20T15:35:19.353Z appoptics:patching patched https 
2022-04-20T15:35:19.354Z appoptics:patching patched http 
2022-04-20T15:35:19.399Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:19.400Z appoptics:patching patched fs 
2022-04-20T15:35:19.413Z appoptics:patching patched zlib 
2022-04-20T15:35:19.449Z appoptics:patching patched mongodb-core 3.1.4
2022-04-20T15:35:19.457Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (57ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (880ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.5
updated 1 package and audited 935 packages in 6.237s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:28.040Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:28.041Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:28.041Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:28.043Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:28.133Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:28.356Z appoptics:patching patched crypto 
2022-04-20T15:35:28.378Z appoptics:patching patched https 
2022-04-20T15:35:28.379Z appoptics:patching patched http 
2022-04-20T15:35:28.425Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:28.426Z appoptics:patching patched fs 
2022-04-20T15:35:28.441Z appoptics:patching patched zlib 
2022-04-20T15:35:28.480Z appoptics:patching patched mongodb-core 3.1.5
2022-04-20T15:35:28.490Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (46ms)


  33 passing (363ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.6
updated 1 package and audited 935 packages in 7.208s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:37.417Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:37.418Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:37.418Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:37.418Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:37.504Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:37.700Z appoptics:patching patched crypto 
2022-04-20T15:35:37.722Z appoptics:patching patched https 
2022-04-20T15:35:37.723Z appoptics:patching patched http 
2022-04-20T15:35:37.769Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:37.769Z appoptics:patching patched fs 
2022-04-20T15:35:37.785Z appoptics:patching patched zlib 
2022-04-20T15:35:37.821Z appoptics:patching patched mongodb-core 3.1.6
2022-04-20T15:35:37.828Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (341ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.7
updated 1 package and audited 935 packages in 5.62s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:45.064Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:45.065Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:45.065Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:45.066Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:45.150Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:45.344Z appoptics:patching patched crypto 
2022-04-20T15:35:45.367Z appoptics:patching patched https 
2022-04-20T15:35:45.368Z appoptics:patching patched http 
2022-04-20T15:35:45.421Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:45.421Z appoptics:patching patched fs 
2022-04-20T15:35:45.442Z appoptics:patching patched zlib 
2022-04-20T15:35:45.489Z appoptics:patching patched mongodb-core 3.1.7
2022-04-20T15:35:45.497Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (49ms)


  33 passing (517ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.8
updated 1 package and audited 935 packages in 6.214s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:54.104Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:54.105Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:54.105Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:54.106Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:54.187Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:54.380Z appoptics:patching patched crypto 
2022-04-20T15:35:54.405Z appoptics:patching patched https 
2022-04-20T15:35:54.405Z appoptics:patching patched http 
2022-04-20T15:35:54.453Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:54.453Z appoptics:patching patched fs 
2022-04-20T15:35:54.468Z appoptics:patching patched zlib 
2022-04-20T15:35:54.507Z appoptics:patching patched mongodb-core 3.1.8
2022-04-20T15:35:54.515Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (69ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (47ms)


  33 passing (395ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.9
updated 1 package and audited 935 packages in 6.508s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:02.820Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:02.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:02.821Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:02.822Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:02.901Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:03.108Z appoptics:patching patched crypto 
2022-04-20T15:36:03.154Z appoptics:patching patched https 
2022-04-20T15:36:03.155Z appoptics:patching patched http 
2022-04-20T15:36:03.194Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:03.195Z appoptics:patching patched fs 
2022-04-20T15:36:03.209Z appoptics:patching patched zlib 
2022-04-20T15:36:03.245Z appoptics:patching patched mongodb-core 3.1.9
2022-04-20T15:36:03.252Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (367ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.10
updated 1 package and audited 935 packages in 5.907s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:10.757Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:10.759Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:10.759Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:10.761Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:10.848Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:11.040Z appoptics:patching patched crypto 
2022-04-20T15:36:11.064Z appoptics:patching patched https 
2022-04-20T15:36:11.064Z appoptics:patching patched http 
2022-04-20T15:36:11.113Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:11.114Z appoptics:patching patched fs 
2022-04-20T15:36:11.128Z appoptics:patching patched zlib 
2022-04-20T15:36:11.162Z appoptics:patching patched mongodb-core 3.1.10
2022-04-20T15:36:11.170Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (42ms)


  33 passing (394ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.11
updated 1 package and audited 935 packages in 6.326s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:19.188Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:19.188Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:19.189Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:19.191Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:19.274Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:19.467Z appoptics:patching patched crypto 
2022-04-20T15:36:19.493Z appoptics:patching patched https 
2022-04-20T15:36:19.493Z appoptics:patching patched http 
2022-04-20T15:36:19.543Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:19.544Z appoptics:patching patched fs 
2022-04-20T15:36:19.559Z appoptics:patching patched zlib 
2022-04-20T15:36:19.598Z appoptics:patching patched mongodb-core 3.1.11
2022-04-20T15:36:19.606Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (59ms)


  33 passing (458ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.0
updated 1 package and audited 935 packages in 6.564s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:28.071Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:28.072Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:28.072Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:28.073Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:28.169Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:28.356Z appoptics:patching patched crypto 
2022-04-20T15:36:28.379Z appoptics:patching patched https 
2022-04-20T15:36:28.379Z appoptics:patching patched http 
2022-04-20T15:36:28.427Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:28.428Z appoptics:patching patched fs 
2022-04-20T15:36:28.443Z appoptics:patching patched zlib 
2022-04-20T15:36:28.501Z appoptics:patching patched mongodb-core 3.2.0
2022-04-20T15:36:28.508Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (359ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.1
updated 1 package and audited 935 packages in 5.921s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:36.029Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:36.030Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:36.030Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:36.031Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:36.116Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:36.315Z appoptics:patching patched crypto 
2022-04-20T15:36:36.341Z appoptics:patching patched https 
2022-04-20T15:36:36.342Z appoptics:patching patched http 
2022-04-20T15:36:36.420Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:36.420Z appoptics:patching patched fs 
2022-04-20T15:36:36.438Z appoptics:patching patched zlib 
2022-04-20T15:36:36.483Z appoptics:patching patched mongodb-core 3.2.1
2022-04-20T15:36:36.490Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (43ms)
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (449ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.2
updated 1 package and audited 935 packages in 6.817s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:45.049Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:45.050Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:45.050Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:45.052Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:45.133Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:45.325Z appoptics:patching patched crypto 
2022-04-20T15:36:45.349Z appoptics:patching patched https 
2022-04-20T15:36:45.349Z appoptics:patching patched http 
2022-04-20T15:36:45.394Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:45.395Z appoptics:patching patched fs 
2022-04-20T15:36:45.411Z appoptics:patching patched zlib 
2022-04-20T15:36:45.456Z appoptics:patching patched mongodb-core 3.2.2
2022-04-20T15:36:45.463Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (350ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.3
updated 1 package and audited 935 packages in 6.983s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:54.225Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:54.226Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:54.226Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:54.226Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:54.311Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:54.501Z appoptics:patching patched crypto 
2022-04-20T15:36:54.523Z appoptics:patching patched https 
2022-04-20T15:36:54.523Z appoptics:patching patched http 
2022-04-20T15:36:54.570Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:54.571Z appoptics:patching patched fs 
2022-04-20T15:36:54.584Z appoptics:patching patched zlib 
2022-04-20T15:36:54.629Z appoptics:patching patched mongodb-core 3.2.3
2022-04-20T15:36:54.636Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (44ms)


  33 passing (352ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.4
updated 1 package and audited 935 packages in 5.884s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:02.247Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:02.247Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:02.247Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:02.248Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:02.334Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:02.534Z appoptics:patching patched crypto 
2022-04-20T15:37:02.591Z appoptics:patching patched https 
2022-04-20T15:37:02.592Z appoptics:patching patched http 
2022-04-20T15:37:02.649Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:02.650Z appoptics:patching patched fs 
2022-04-20T15:37:02.666Z appoptics:patching patched zlib 
2022-04-20T15:37:02.719Z appoptics:patching patched mongodb-core 3.2.4
2022-04-20T15:37:02.726Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (75ms)


  33 passing (377ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.5
updated 1 package and audited 935 packages in 6.933s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:11.516Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:11.517Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:11.517Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:11.517Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:11.603Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:11.797Z appoptics:patching patched crypto 
2022-04-20T15:37:11.821Z appoptics:patching patched https 
2022-04-20T15:37:11.821Z appoptics:patching patched http 
2022-04-20T15:37:11.870Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:11.871Z appoptics:patching patched fs 
2022-04-20T15:37:11.886Z appoptics:patching patched zlib 
2022-04-20T15:37:11.931Z appoptics:patching patched mongodb-core 3.2.5
2022-04-20T15:37:11.939Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (372ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.6
updated 1 package and audited 935 packages in 6.67s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:20.395Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:20.396Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:20.396Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:20.397Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:20.487Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:20.689Z appoptics:patching patched crypto 
2022-04-20T15:37:20.712Z appoptics:patching patched https 
2022-04-20T15:37:20.713Z appoptics:patching patched http 
2022-04-20T15:37:20.759Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:20.760Z appoptics:patching patched fs 
2022-04-20T15:37:20.775Z appoptics:patching patched zlib 
2022-04-20T15:37:20.821Z appoptics:patching patched mongodb-core 3.2.6
2022-04-20T15:37:20.830Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (63ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (399ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 935 packages in 6.091s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:37:28.658Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:28.659Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:28.659Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:28.660Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:28.744Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:28.942Z appoptics:patching patched crypto 
2022-04-20T15:37:28.965Z appoptics:patching patched https 
2022-04-20T15:37:28.965Z appoptics:patching patched http 
2022-04-20T15:37:29.015Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:29.015Z appoptics:patching patched fs 
2022-04-20T15:37:29.031Z appoptics:patching patched zlib 
2022-04-20T15:37:29.081Z appoptics:patching patched mongodb-core 3.2.7
2022-04-20T15:37:29.089Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (59ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (41ms)


  33 passing (447ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 935 packages in 6.19s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
