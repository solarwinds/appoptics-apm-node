npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:24.901Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:24.902Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:24.902Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:24.903Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:24.970Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:25.022Z appoptics:patching patched crypto 
2021-08-24T05:11:25.047Z appoptics:patching patched https 
2021-08-24T05:11:25.048Z appoptics:patching patched http 
2021-08-24T05:11:25.111Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:25.112Z appoptics:patching patched fs 
2021-08-24T05:11:25.130Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v16.7.0)
2021-08-24T05:11:25.138Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2021-08-24T05:11:25.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3ff8436e660c3cc8af782b892a996dd7b75e2ba-1515508b0ef6e975-01 outer:exit 2b-f3ff8436e660c3cc8af782b892a996dd7b75e2ba-8d43bffe252562a6-01
2021-08-24T05:11:25.286Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:11:25.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4485b9d8d7dadfc406aff5e4aac476ae143cbb7-5b3ae59f910c805d-01 outer:exit 2b-d4485b9d8d7dadfc406aff5e4aac476ae143cbb7-2b85baf32272ffbb-01
2021-08-24T05:11:25.333Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:11:25.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-0357d1b50f7908b401d0ee0b971e57d9bfad93b1-b3c9041bc0d11cac-01 outer:exit 2b-0357d1b50f7908b401d0ee0b971e57d9bfad93b1-12c0ce7b2f0b9697-01
2021-08-24T05:11:25.337Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:11:25.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-458eb177357e27f3350847c5c7e7940f835bc4f4-9f496b8ad409631e-01 outer:exit 2b-458eb177357e27f3350847c5c7e7940f835bc4f4-c54defb56c0d8c7d-01
2021-08-24T05:11:25.340Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:11:25.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-207c5728b71961ce6674beb36f8d860a81a7b494-26d47c8dc6a159ab-01 outer:exit 2b-207c5728b71961ce6674beb36f8d860a81a7b494-85d179c7dfe6fb64-01
2021-08-24T05:11:25.345Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:11:25.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-22157e76c2a3c5d079a95650e91341df3e69b3bc-b052a2f2e1ce0a27-01 outer:exit 2b-22157e76c2a3c5d079a95650e91341df3e69b3bc-65053b88e93e14dc-01
2021-08-24T05:11:25.349Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:11:25.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-9edfe4c0a40765c6162747f68504d95e67dcf32f-db701fd14c76e00b-01 outer:exit 2b-9edfe4c0a40765c6162747f68504d95e67dcf32f-1606dc2a3b14b12a-01
2021-08-24T05:11:25.352Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:11:25.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-d81495ce14bbdb99cb035732186951c63b6bf5cf-5f7ca1973eccc2da-01 outer:exit 2b-d81495ce14bbdb99cb035732186951c63b6bf5cf-81e26039c034c50c-01
2021-08-24T05:11:25.357Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:11:25.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb257f513b0a40d94f3d6dc73b64823dd2aa7dcb-ce111ec514366420-01 outer:exit 2b-eb257f513b0a40d94f3d6dc73b64823dd2aa7dcb-01f505a8f23b0f80-01
2021-08-24T05:11:25.360Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:11:25.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-c667148c004d294ffb776c37a964d8cddefbf461-6338ec5b94455d9a-01 outer:exit 2b-c667148c004d294ffb776c37a964d8cddefbf461-dbb1951385bfaba1-01
2021-08-24T05:11:25.363Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:11:25.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-174d28589a431517d6b059b8bd95d65fb345d300-b24cd080057a9177-01 outer:exit 2b-174d28589a431517d6b059b8bd95d65fb345d300-60ac4f4f9bc69615-01
2021-08-24T05:11:25.368Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:11:25.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d62d7ca5174187fd7102bf0ba0deb46a93e0e27-58e445e255a262bd-01 outer:exit 2b-1d62d7ca5174187fd7102bf0ba0deb46a93e0e27-8adc1deceb7decb7-01
2021-08-24T05:11:25.411Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:11:25.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-4451aa8e4369140fa954f81b7943f69b08bc1083-008afa7382c1ecca-01 outer:exit 2b-4451aa8e4369140fa954f81b7943f69b08bc1083-e6be097da812592d-01
2021-08-24T05:11:25.422Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:11:25.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff611d4f677d62ad538d24bffbff020576e6a78c-db430bcd2d2d63b8-01 outer:exit 2b-ff611d4f677d62ad538d24bffbff020576e6a78c-c67f496f186379e4-01
2021-08-24T05:11:25.537Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:11:25.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-5855efad034ebeed601bd267fc8cbc45f2892d0b-4108786b3c0309e9-01 outer:exit 2b-5855efad034ebeed601bd267fc8cbc45f2892d0b-b38c095e2e4bb68e-01
2021-08-24T05:11:25.541Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:11:25.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-33516244f11b4a46326c8b91d0b7df728b5c1c34-056dc340e78153fb-01 outer:exit 2b-33516244f11b4a46326c8b91d0b7df728b5c1c34-5db86e72d6d4e9a8-01
2021-08-24T05:11:25.547Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:11:25.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-58ac5280692ff76b036e365f89fc1c5afb21d65d-178d9fedc22c3d8e-01 outer:exit 2b-58ac5280692ff76b036e365f89fc1c5afb21d65d-8e10f8b84c833ee2-01
2021-08-24T05:11:25.550Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:11:25.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a570c124f4676ec6f08ebb6edf0ea9445999084-9cce1a59864a387d-01 outer:exit 2b-0a570c124f4676ec6f08ebb6edf0ea9445999084-67c8ff35b6327c39-01
2021-08-24T05:11:25.555Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:11:25.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-7356a164a2f0919efb2a1c1381fad9376d43d2ad-5ca8d53c5f42c5dc-01 outer:exit 2b-7356a164a2f0919efb2a1c1381fad9376d43d2ad-0494217253280ad7-01
2021-08-24T05:11:25.557Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:11:25.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ef766196bc153e295edc4d3c8032b0f359d05fa-a8f07395ae0f718c-01 outer:exit 2b-7ef766196bc153e295edc4d3c8032b0f359d05fa-581d47159e9e33d2-01
2021-08-24T05:11:25.560Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:11:25.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1c9afd80c645e1438d5c512c3e082ea41910103-445a0263810baf38-01 outer:exit 2b-c1c9afd80c645e1438d5c512c3e082ea41910103-9deeb95892b5bbd2-01
2021-08-24T05:11:25.564Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:11:25.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c1619bd7697f8f15afd67a307a90021a07ad7c1-ac84b5d0411e2905-01 outer:exit 2b-4c1619bd7697f8f15afd67a307a90021a07ad7c1-6f6e3f56b2cbb06c-01
2021-08-24T05:11:25.566Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:11:25.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-61362ca00f97851ce8e38ef2f0bb01f1a47468b9-7d18e3efdb9f8431-01 outer:exit 2b-61362ca00f97851ce8e38ef2f0bb01f1a47468b9-9fa54386a9d387df-01
2021-08-24T05:11:25.570Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:11:25.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-526c2f56fe33fb26f677d416a8960d804c61d4e8-d5c48a492ed7c10d-01 outer:exit 2b-526c2f56fe33fb26f677d416a8960d804c61d4e8-9fd0022b3f2adf41-01
2021-08-24T05:11:25.575Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:11:25.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-9952a75e6117933cda3c11bc22ccdc6a73f5bb49-9d56f812d4df75f5-01 outer:exit 2b-9952a75e6117933cda3c11bc22ccdc6a73f5bb49-c5321957fbdb118b-01
2021-08-24T05:11:25.577Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:11:25.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0047a1950dedf13e49db3e37af05655b6eb224d-22f23e0eac5018b1-01 outer:exit 2b-a0047a1950dedf13e49db3e37af05655b6eb224d-ff933e1dfe09f3be-01
2021-08-24T05:11:25.581Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:11:25.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-caf8e58c14f2b43f21b6acb1d73f227f4f9e0e22-32010eae03f863c5-01 outer:exit 2b-caf8e58c14f2b43f21b6acb1d73f227f4f9e0e22-869668d6905f9c7e-01
2021-08-24T05:11:25.621Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:11:25.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-42917d26eaba1714b42b643beb45ac6e92e85731-7174108bd30209c3-01 outer:exit 2b-42917d26eaba1714b42b643beb45ac6e92e85731-210df6e0494322e1-01
2021-08-24T05:11:25.648Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:11:25.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb92ee92b703f128a435f1230a2312694ab06ab4-1222f1d4ba1707e3-01 outer:exit 2b-cb92ee92b703f128a435f1230a2312694ab06ab4-06e64f85662ae461-01
2021-08-24T05:11:25.656Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:11:25.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5fd844511c99850057f935d236afbe7e1e00776-ebd326108192b5f6-01 outer:exit 2b-b5fd844511c99850057f935d236afbe7e1e00776-29f64d0fbc6a0fdc-01
2021-08-24T05:11:25.666Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:11:25.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc783b1c1c5bd469614fb6c481c5194efacdd8d9-631e86ca7e26539b-01 outer:exit 2b-fc783b1c1c5bd469614fb6c481c5194efacdd8d9-405aa0db3ff5a12e-01
2021-08-24T05:11:25.669Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:11:25.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ab3dc3dd360ab7019e0c1b5a47843cdd1e26d2d-7bb915d43e0de4ff-01 outer:exit 2b-3ab3dc3dd360ab7019e0c1b5a47843cdd1e26d2d-10672c67dd061513-01
2021-08-24T05:11:25.672Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:11:25.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-236f2ab39d186d95653c84576e341157b97fbff0-4f3d7e8e346b7839-01 outer:exit 2b-236f2ab39d186d95653c84576e341157b97fbff0-d5cd207fa81d400d-01
2021-08-24T05:11:25.681Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:11:25.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-7242935d6fee8d9048259f98d357ed305cebea82-875681020df9e77f-01 outer:exit 2b-7242935d6fee8d9048259f98d357ed305cebea82-38390c0f8efecfd0-01
2021-08-24T05:11:25.685Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:11:25.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-08c35bd5c5752edeac99ee652a5453fa1934ac70-71b0cbdcd9f15028-01 outer:exit 2b-08c35bd5c5752edeac99ee652a5453fa1934ac70-aac0f0ebad5c9583-01
2021-08-24T05:11:25.688Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:11:25.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-e124f8231b126667a0a878242fc7f8852b62881d-ca35e967894ff7d0-01 outer:exit 2b-e124f8231b126667a0a878242fc7f8852b62881d-ae56ccf99d0a4560-01
2021-08-24T05:11:25.694Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:11:25.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-89ca8a956e47a615783bfdbaa1bc830b60a1efda-ba5bf1cdcf9304ce-01 outer:exit 2b-89ca8a956e47a615783bfdbaa1bc830b60a1efda-5ed0d46c5bb4e570-01
2021-08-24T05:11:25.697Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:11:25.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-a595e755cb3c52ffdec24b590cfc6e96e2d9bb06-cbc2779875823b63-01 outer:exit 2b-a595e755cb3c52ffdec24b590cfc6e96e2d9bb06-fb6f1461e7033860-01
2021-08-24T05:11:25.699Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:11:25.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a3335f446ba945b6069ddba6b2c31a5bf481e7a-c75f3645152176ad-01 outer:exit 2b-7a3335f446ba945b6069ddba6b2c31a5bf481e7a-cd38e43ed7a04435-01
2021-08-24T05:11:25.709Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:11:25.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3f819ab663dd8bc0860db5fec51405b23f79396-07c8f3823a6a2c13-01 outer:exit 2b-c3f819ab663dd8bc0860db5fec51405b23f79396-5d4c4045a646e4ae-01
2021-08-24T05:11:25.718Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:11:25.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-26337005aea6abbd1a9cb86edeb97f123c52157c-182f10512411a7f9-01 outer:exit 2b-26337005aea6abbd1a9cb86edeb97f123c52157c-418b43c6a77dcd8f-01
2021-08-24T05:11:25.724Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:11:25.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e0fd7408eb11fe93e0b8e023e062e40d4068872-8020a7ac0b5912c1-01 outer:exit 2b-5e0fd7408eb11fe93e0b8e023e062e40d4068872-7130f1809e5f8de7-01
2021-08-24T05:11:25.727Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:11:25.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-087cfcee0863c201f66b2d7c0cd578d5d89572aa-a5df42584a144692-01 outer:exit 2b-087cfcee0863c201f66b2d7c0cd578d5d89572aa-ada9d5b8c2c22c79-01
2021-08-24T05:11:25.778Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:11:25.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae9cc67cbddaec71155ca474c93759d26c9e4247-f64f0d7acb8a6bb7-01 outer:exit 2b-ae9cc67cbddaec71155ca474c93759d26c9e4247-4762c739cca2a271-01
2021-08-24T05:11:25.817Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (573ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:32.580Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:32.581Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:32.581Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:32.582Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:32.659Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:32.706Z appoptics:patching patched crypto 
2021-08-24T05:11:32.731Z appoptics:patching patched https 
2021-08-24T05:11:32.731Z appoptics:patching patched http 
2021-08-24T05:11:32.790Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:32.791Z appoptics:patching patched fs 
2021-08-24T05:11:32.811Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v16.7.0)
2021-08-24T05:11:32.819Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2021-08-24T05:11:32.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-628e992d4e016a1b7ff34fad087646893039f822-bc82874b144ef8c2-01 outer:exit 2b-628e992d4e016a1b7ff34fad087646893039f822-f1b85fdef390293f-01
2021-08-24T05:11:32.963Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:11:32.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-474d616357a9d2e9bf0579bf771268491565feb0-912df42d976eea7f-01 outer:exit 2b-474d616357a9d2e9bf0579bf771268491565feb0-63264d13f8893c59-01
2021-08-24T05:11:32.992Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:11:32.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-056ba0212a65121505fb758fc8a311ba30aee6c2-9ad7f5141e0be800-01 outer:exit 2b-056ba0212a65121505fb758fc8a311ba30aee6c2-21ab42c5db379a43-01
2021-08-24T05:11:32.995Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:11:32.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f1df6cd64fe34feb180d84e1829abf77b899de1-dcdef7a5e0b3fa2c-01 outer:exit 2b-9f1df6cd64fe34feb180d84e1829abf77b899de1-c2cf753b2ca8a78c-01
2021-08-24T05:11:32.998Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:11:33.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-54183cc8e0019afb25f96ef027139092e2bb9405-67e661cc742d38a5-01 outer:exit 2b-54183cc8e0019afb25f96ef027139092e2bb9405-a067dad47a4b3336-01
2021-08-24T05:11:33.005Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:11:33.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-aecd088f22d5c326fabe439b48c58c8171d3e881-37322801d9f5f8d3-01 outer:exit 2b-aecd088f22d5c326fabe439b48c58c8171d3e881-4cf1e3e3c0ddbeff-01
2021-08-24T05:11:33.008Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:11:33.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-327a86a7c03fec8e563a26fb282c28e76a1f5bef-f27185f4a4a989b9-01 outer:exit 2b-327a86a7c03fec8e563a26fb282c28e76a1f5bef-7c69c41d0ea2ae3a-01
2021-08-24T05:11:33.011Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:11:33.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-6476cfdd55bbcdf7a9be4e9aa672a0dbe78c6e5c-eeedfcf4b1f3c914-01 outer:exit 2b-6476cfdd55bbcdf7a9be4e9aa672a0dbe78c6e5c-5af7235da2c88d38-01
2021-08-24T05:11:33.014Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:11:33.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-9860be56b383c58f8bbc2a2fd848c27d4ff39ab7-bb702961beade000-01 outer:exit 2b-9860be56b383c58f8bbc2a2fd848c27d4ff39ab7-a1e8ff03b63119f4-01
2021-08-24T05:11:33.016Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:11:33.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-5480f817c8bc0c2014700865879fe5f6500b9668-3dd129c87993793e-01 outer:exit 2b-5480f817c8bc0c2014700865879fe5f6500b9668-9549c9417efb7fb3-01
2021-08-24T05:11:33.019Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:11:33.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-06f64d7af7676e936543b62a83336ea91d22972b-f106cd21c43b0aca-01 outer:exit 2b-06f64d7af7676e936543b62a83336ea91d22972b-6fab910df72c2111-01
2021-08-24T05:11:33.024Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:11:33.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc617534fea9be7cf4077bf4de069aec36b69b9f-40e7b240a0700e54-01 outer:exit 2b-fc617534fea9be7cf4077bf4de069aec36b69b9f-d91c42941f197bca-01
2021-08-24T05:11:33.033Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:11:33.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-8897c400079ae81fbef6934222cd27995db850a0-09d5278900c5fa7c-01 outer:exit 2b-8897c400079ae81fbef6934222cd27995db850a0-348c3bd9f0f6c1eb-01
2021-08-24T05:11:33.050Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:11:33.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-9752374161e080049e208ccf7e851fd51eb5e8c7-841add388c84c70a-01 outer:exit 2b-9752374161e080049e208ccf7e851fd51eb5e8c7-2da9bf66e252aedb-01
2021-08-24T05:11:33.093Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:11:33.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-a89307f71802831cb31cac5f88a2f4bc64dc8727-127eb8ea2b9c80dc-01 outer:exit 2b-a89307f71802831cb31cac5f88a2f4bc64dc8727-d0deca8acb2453ad-01
2021-08-24T05:11:33.096Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:11:33.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dac46b5184a5d6f94bb3190ed876787eb2fd227-20ed0927b4b41878-01 outer:exit 2b-5dac46b5184a5d6f94bb3190ed876787eb2fd227-a18144a126a6a0c8-01
2021-08-24T05:11:33.099Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:11:33.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-2933af202c1b60553c702c12a72e472328a4783e-8eba363f56dc1d8a-01 outer:exit 2b-2933af202c1b60553c702c12a72e472328a4783e-b9aaeb21af2c9c62-01
2021-08-24T05:11:33.101Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:11:33.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbcce09f66df96ce8bc15b5bd14482a967f94ff3-17672c52a8404986-01 outer:exit 2b-cbcce09f66df96ce8bc15b5bd14482a967f94ff3-49565d30cb3a8054-01
2021-08-24T05:11:33.104Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:11:33.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-50d12e3ff38d0a4484679541163118626220757d-0d4f718964a7e5e4-01 outer:exit 2b-50d12e3ff38d0a4484679541163118626220757d-871d8645fc0d312d-01
2021-08-24T05:11:33.106Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:11:33.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-41dd81129b0ad65a40fc0a49212b50a5bf7c14d8-151889234649acb3-01 outer:exit 2b-41dd81129b0ad65a40fc0a49212b50a5bf7c14d8-407fa03be455ca34-01
2021-08-24T05:11:33.108Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:11:33.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4cf5c68f8c5bc2eccd433fffd15bd32a925de84-adb76f2f7941c8d6-01 outer:exit 2b-f4cf5c68f8c5bc2eccd433fffd15bd32a925de84-ace1d2342ef921fa-01
2021-08-24T05:11:33.111Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:11:33.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-e43575278c71424cc1e9022c43fd7cf22075fb33-ae6f4efb123f14f4-01 outer:exit 2b-e43575278c71424cc1e9022c43fd7cf22075fb33-398e26d7c4cf568f-01
2021-08-24T05:11:33.113Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:11:33.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-d886035f158f1c0ab723347d51b985cfd22d741a-262971cf1c8de6a1-01 outer:exit 2b-d886035f158f1c0ab723347d51b985cfd22d741a-b05086454f2b2857-01
2021-08-24T05:11:33.116Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:11:33.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-6405f790d197a5e313e34df499078ec603b2ae2f-aa0d6158c8712f92-01 outer:exit 2b-6405f790d197a5e313e34df499078ec603b2ae2f-662e760c14cbd563-01
2021-08-24T05:11:33.119Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:11:33.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf48a12ac65753f321915202620ce1edfb36a754-e8d1acb3c45e2f01-01 outer:exit 2b-cf48a12ac65753f321915202620ce1edfb36a754-b5e35188f7481812-01
2021-08-24T05:11:33.121Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:11:33.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-63074585a348bd0af7c8ae0c38f897eecfb65037-893888c130cd0702-01 outer:exit 2b-63074585a348bd0af7c8ae0c38f897eecfb65037-f98facfc1f343eb0-01
2021-08-24T05:11:33.124Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:11:33.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f7fde1ac82fd3d249f6061a86512e50ae5d1f01-c9d751a5e93d81f7-01 outer:exit 2b-5f7fde1ac82fd3d249f6061a86512e50ae5d1f01-ccb510819087b5af-01
2021-08-24T05:11:33.131Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:11:33.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f00d86f629978ef577c3a0bb5519b5b57902f82-1aad62e2fc875f71-01 outer:exit 2b-4f00d86f629978ef577c3a0bb5519b5b57902f82-12e25487d1d1f0e2-01
2021-08-24T05:11:33.135Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:11:33.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-16c614376fa3eda352da510a3c0e255cd7c36f1a-45d661267f19b82e-01 outer:exit 2b-16c614376fa3eda352da510a3c0e255cd7c36f1a-62d90c948597c336-01
2021-08-24T05:11:33.146Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:11:33.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-cda26572b609e3d5f2079b61a85bbb696bf8538c-8b5487e7cc61a421-01 outer:exit 2b-cda26572b609e3d5f2079b61a85bbb696bf8538c-1c5cbe0dd95fc886-01
2021-08-24T05:11:33.153Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:11:33.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffda8ceb1b845afb66ec1047eb428583a783bca5-486814e070095af0-01 outer:exit 2b-ffda8ceb1b845afb66ec1047eb428583a783bca5-8810545fe3de8dc6-01
2021-08-24T05:11:33.156Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:11:33.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-176e7cb0f5914576bb59d97cb600bcb715edf4ee-976a79d55409c7c4-01 outer:exit 2b-176e7cb0f5914576bb59d97cb600bcb715edf4ee-d1cacb76e98839de-01
2021-08-24T05:11:33.159Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:11:33.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-53f65b71087e4df8ca6563e61771b266b45b3865-91731c7ec1d78690-01 outer:exit 2b-53f65b71087e4df8ca6563e61771b266b45b3865-d2e1686994d51420-01
2021-08-24T05:11:33.167Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:11:33.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-99aa77adb1d3fbf4ba3d0ffb11f38df0969f0868-4d5b1022f2efd9c5-01 outer:exit 2b-99aa77adb1d3fbf4ba3d0ffb11f38df0969f0868-ea0067782466993f-01
2021-08-24T05:11:33.171Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:11:33.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-65a07a95d53ffa8a424a5c14da23da30ea4148da-a7b22f78e16dbc5c-01 outer:exit 2b-65a07a95d53ffa8a424a5c14da23da30ea4148da-698a9e54ea25b9b1-01
2021-08-24T05:11:33.173Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:11:33.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-65407b7d6bcb563aa8e38f4759a0f8fd9e4d2008-9fbee833736e360c-01 outer:exit 2b-65407b7d6bcb563aa8e38f4759a0f8fd9e4d2008-b46e6dd68d044fe4-01
2021-08-24T05:11:33.175Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:11:33.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-01a460b43d3df8d28cf839801acf5ecea1166c4f-068d2f7b67e4856c-01 outer:exit 2b-01a460b43d3df8d28cf839801acf5ecea1166c4f-16f4a059d22caafa-01
2021-08-24T05:11:33.177Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:11:33.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-43142688e5c1b959eda80400c33f566d31e58f42-98fd8329f7790943-01 outer:exit 2b-43142688e5c1b959eda80400c33f566d31e58f42-e410c4ca8160ae46-01
2021-08-24T05:11:33.179Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:11:33.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-a643fd233aa6e25d365dc1c66f86b191aca61d48-2b59d132b766ac72-01 outer:exit 2b-a643fd233aa6e25d365dc1c66f86b191aca61d48-632d7eee04da0695-01
2021-08-24T05:11:33.190Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:11:33.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b549189eb3e53a2fe0c52bbc26aabf12f55c8fa-0546a63cd7b93a1f-01 outer:exit 2b-4b549189eb3e53a2fe0c52bbc26aabf12f55c8fa-fa3128573ad58eaa-01
2021-08-24T05:11:33.200Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:11:33.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-842f6ff6ed591c5af742245e04c7cef431c65700-7af5ecda40feccde-01 outer:exit 2b-842f6ff6ed591c5af742245e04c7cef431c65700-1d35cd3edb165fd9-01
2021-08-24T05:11:33.203Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:11:33.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc35ade5e9bed776d2c3eb0ae33e12516068cdd5-4405c3a7686058b4-01 outer:exit 2b-dc35ade5e9bed776d2c3eb0ae33e12516068cdd5-8bbe809204a16943-01
2021-08-24T05:11:33.206Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:11:33.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-4963b7b3ee6fced4b4c136ebb2d4d2c062706124-a9313587a1a6af60-01 outer:exit 2b-4963b7b3ee6fced4b4c136ebb2d4d2c062706124-9c20d01bf0b9adee-01
2021-08-24T05:11:33.210Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:11:33.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-5253e5610b8dcc1a6e2a3c94791e8e8fc09384f8-ea9f3fd18310ee19-01 outer:exit 2b-5253e5610b8dcc1a6e2a3c94791e8e8fc09384f8-53dd11ed736f373f-01
2021-08-24T05:11:33.243Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (321ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:38.927Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:38.928Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:38.928Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:38.929Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:39.009Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:39.061Z appoptics:patching patched crypto 
2021-08-24T05:11:39.087Z appoptics:patching patched https 
2021-08-24T05:11:39.087Z appoptics:patching patched http 
2021-08-24T05:11:39.152Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:39.152Z appoptics:patching patched fs 
2021-08-24T05:11:39.170Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v16.7.0)
2021-08-24T05:11:39.178Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2021-08-24T05:11:39.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cafd27cf9c2322e68398ca739fa81a91cc2a5e3-a6ac518e539baf4a-01 outer:exit 2b-4cafd27cf9c2322e68398ca739fa81a91cc2a5e3-eefb182029f8836b-01
2021-08-24T05:11:39.345Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:11:39.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-94b66dc881a336c15a83dcc5450ccb60ad1616bb-4bdf844cd63bb7e0-01 outer:exit 2b-94b66dc881a336c15a83dcc5450ccb60ad1616bb-9b935c55fcf916db-01
2021-08-24T05:11:39.410Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:11:39.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ba6ae0c801627de83e10dbc767f2f3ea1df0456-42108161774b407d-01 outer:exit 2b-8ba6ae0c801627de83e10dbc767f2f3ea1df0456-76f7d21f694c1c27-01
2021-08-24T05:11:39.414Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:11:39.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-82a848dcb4fee4fd22df2b0e3496972fdb74d879-62896d803c533c5e-01 outer:exit 2b-82a848dcb4fee4fd22df2b0e3496972fdb74d879-7a6ba5ff775b8f6a-01
2021-08-24T05:11:39.417Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:11:39.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba827b92a5ea600c628a4fa1336dc394cd5079f1-0619d486b3134360-01 outer:exit 2b-ba827b92a5ea600c628a4fa1336dc394cd5079f1-d5d4a301a6a7ee88-01
2021-08-24T05:11:39.422Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:11:39.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3aa2cedf0fd1e7fa01e524cf920534bcce9c0a6-f19cad9e99bcca0d-01 outer:exit 2b-c3aa2cedf0fd1e7fa01e524cf920534bcce9c0a6-5f93b9e29c5e7cbe-01
2021-08-24T05:11:39.425Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:11:39.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a2f25f43b68f7ff8bbc05e3e7f9b14056a4d13f-dc62659786ecacfb-01 outer:exit 2b-7a2f25f43b68f7ff8bbc05e3e7f9b14056a4d13f-86ce1ddf0ede7bda-01
2021-08-24T05:11:39.428Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:11:39.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-a28fa023a2cb89a54713c6239b576fed61c44efb-233a2a7bf9035159-01 outer:exit 2b-a28fa023a2cb89a54713c6239b576fed61c44efb-5d855d6cd0cc6a6e-01
2021-08-24T05:11:39.431Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:11:39.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-1eec6a539d2e81b404e9d505170972601a8ae433-a2f85b8dc02a42b4-01 outer:exit 2b-1eec6a539d2e81b404e9d505170972601a8ae433-09afc4cfa319d5d7-01
2021-08-24T05:11:39.433Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:11:39.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcf4c509de71fbe6f9673b3ff5a1f3ce54cce3c2-4e0a7eca3aabee68-01 outer:exit 2b-bcf4c509de71fbe6f9673b3ff5a1f3ce54cce3c2-97f26836566286d4-01
2021-08-24T05:11:39.437Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:11:39.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6596da1bd54790b3fab1fd17f9a9f8eef2b013f-4ef04380501f788e-01 outer:exit 2b-d6596da1bd54790b3fab1fd17f9a9f8eef2b013f-2e5013e164621553-01
2021-08-24T05:11:39.441Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:11:39.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-edb4175610ba6b8649300493a6674d15df270cf7-a7ef19ed5334abb5-01 outer:exit 2b-edb4175610ba6b8649300493a6674d15df270cf7-697db1e1beab4a76-01
2021-08-24T05:11:39.451Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:11:39.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-975cdcf793d5fc2829b528a9527884ed64342060-16837131ad1920e8-01 outer:exit 2b-975cdcf793d5fc2829b528a9527884ed64342060-ffe48f8ac30ca390-01
2021-08-24T05:11:39.471Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:11:39.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-abb8f6f799300dac3b9177f6c8059103b52942b9-14e298d9be6d2405-01 outer:exit 2b-abb8f6f799300dac3b9177f6c8059103b52942b9-5809c34561fb2e63-01
2021-08-24T05:11:39.500Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:11:39.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-c993dc8e6f3b28e55eea304a4f4418fa5f7fc01a-1bdcb68207a6aa05-01 outer:exit 2b-c993dc8e6f3b28e55eea304a4f4418fa5f7fc01a-2631d305cf7935ad-01
2021-08-24T05:11:39.506Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:11:39.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-adf9df4b474dab9723b672d629c7b93189f790e9-4919fa9d34b72092-01 outer:exit 2b-adf9df4b474dab9723b672d629c7b93189f790e9-614e0e9ead3e330a-01
2021-08-24T05:11:39.509Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:11:39.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-f36ff19a56590de7fd706d35fee1e6708f419b13-5e9cf77b8dc057be-01 outer:exit 2b-f36ff19a56590de7fd706d35fee1e6708f419b13-6b2b55a8e4e3339e-01
2021-08-24T05:11:39.513Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:11:39.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-2183bd4800474b96a96b8231264873b692c89fa2-69195400247b0a5f-01 outer:exit 2b-2183bd4800474b96a96b8231264873b692c89fa2-68605fbac092eb78-01
2021-08-24T05:11:39.516Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:11:39.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-70922400b1b19ae7ad51f689e04654c89dfafdca-0473dc7c00fbd100-01 outer:exit 2b-70922400b1b19ae7ad51f689e04654c89dfafdca-9402bb1be8c3f2da-01
2021-08-24T05:11:39.520Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:11:39.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-da15ef50ae8c3d7709167704e2f62ff12cbc882c-25c69fea9fb7af22-01 outer:exit 2b-da15ef50ae8c3d7709167704e2f62ff12cbc882c-ae86e9676ec7df6e-01
2021-08-24T05:11:39.524Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:11:39.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-56534c7593c78eb8fbf9388386dda45503eb27fb-d50b11800f7ca2d9-01 outer:exit 2b-56534c7593c78eb8fbf9388386dda45503eb27fb-4f682b729b1dcaed-01
2021-08-24T05:11:39.526Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:11:39.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9e5df97f5b057d46cbeecc602b1f5e56e627ef6-ac678564a8e71bac-01 outer:exit 2b-a9e5df97f5b057d46cbeecc602b1f5e56e627ef6-a0901ab1d4496e5a-01
2021-08-24T05:11:39.529Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:11:39.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-145205860f8fb7c866b266167cae364b5bf57bed-7bb490e740a81ceb-01 outer:exit 2b-145205860f8fb7c866b266167cae364b5bf57bed-983d1a69b9ac4fe4-01
2021-08-24T05:11:39.537Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:11:39.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9e9d2990edd289e92e669e958172e2bb02cf720-936f58c5a2654dae-01 outer:exit 2b-a9e9d2990edd289e92e669e958172e2bb02cf720-af6243a8fb6ede94-01
2021-08-24T05:11:39.540Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:11:39.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aec74efef2eb6a6277a1559a664d67c435f6335-d15eca649000ce63-01 outer:exit 2b-2aec74efef2eb6a6277a1559a664d67c435f6335-f83a247146ca1cdb-01
2021-08-24T05:11:39.542Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:11:39.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-21c7855617cf4a424cc8eee40c28cb7ed381b39c-cfdafed84d6d0cb3-01 outer:exit 2b-21c7855617cf4a424cc8eee40c28cb7ed381b39c-2a57640fa154dbc8-01
2021-08-24T05:11:39.548Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:11:39.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-98250059058c1f48c73ca42ec533f1ca5548d8b0-cffde12162f5e97c-01 outer:exit 2b-98250059058c1f48c73ca42ec533f1ca5548d8b0-f2db6b75837c59f5-01
2021-08-24T05:11:39.555Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:11:39.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbe113205fe25b3cbe6989c8121298e1c448901c-8b2251d604c32fe6-01 outer:exit 2b-fbe113205fe25b3cbe6989c8121298e1c448901c-99df2791ea2d74ab-01
2021-08-24T05:11:39.559Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:11:39.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-857c969206524325b25ee89c1f428cd501fd0cb4-4ecc121e1219e2d4-01 outer:exit 2b-857c969206524325b25ee89c1f428cd501fd0cb4-5f65bd4116d6a8bc-01
2021-08-24T05:11:39.571Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:11:39.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-faa97e71bb192f103e44853899f68c2d996f3365-8e09b6fa4271de57-01 outer:exit 2b-faa97e71bb192f103e44853899f68c2d996f3365-ed5368af16df3c54-01
2021-08-24T05:11:39.579Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:11:39.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-528641b892a8db40e0b814ed9ab732bdf764e2f1-7da8f95a4b75afad-01 outer:exit 2b-528641b892a8db40e0b814ed9ab732bdf764e2f1-65181ba86f194ae6-01
2021-08-24T05:11:39.581Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:11:39.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc45395fad31a51437dd697e0ff02fb21ea767eb-a713e4e9316334db-01 outer:exit 2b-cc45395fad31a51437dd697e0ff02fb21ea767eb-09a488f6ae5d14f1-01
2021-08-24T05:11:39.584Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:11:39.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a5bd8dd3bca9e3b5dd5f57033d41f724c1da99b-1fe698f13f6872bf-01 outer:exit 2b-7a5bd8dd3bca9e3b5dd5f57033d41f724c1da99b-ba5b96722409f644-01
2021-08-24T05:11:39.593Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:11:39.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-3294fed8dc1dadbf804754009e7ab4aeed0a43c7-4e5e0bbdccad051d-01 outer:exit 2b-3294fed8dc1dadbf804754009e7ab4aeed0a43c7-53f9c19582dc73ac-01
2021-08-24T05:11:39.595Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:11:39.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-791ed76f881258ced816f44365b75bffd1409f36-9baa1cc50c4ee70e-01 outer:exit 2b-791ed76f881258ced816f44365b75bffd1409f36-614b2eb981dcef91-01
2021-08-24T05:11:39.597Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:11:39.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-d10f1b855308d7ec57c37c971a08ee1f164f2463-5cfdba6c0845e37d-01 outer:exit 2b-d10f1b855308d7ec57c37c971a08ee1f164f2463-76e5544e306bccf5-01
2021-08-24T05:11:39.603Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:11:39.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-d28a436b65fae730b532acadadd6fb36a8aa085f-341fab5ebc8ab4d6-01 outer:exit 2b-d28a436b65fae730b532acadadd6fb36a8aa085f-af7c8cb6233973d5-01
2021-08-24T05:11:39.605Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:11:39.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-04e749e8be36a415ae56bcc8d577ce0a7cb2b609-e2bfb691d1320421-01 outer:exit 2b-04e749e8be36a415ae56bcc8d577ce0a7cb2b609-8783e9c69cc7db95-01
2021-08-24T05:11:39.608Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:11:39.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bf58e0bae4fe3b63be8bd9b010f68cf1bdaa27e-fd20b9237de69711-01 outer:exit 2b-7bf58e0bae4fe3b63be8bd9b010f68cf1bdaa27e-8f8ccb0fe7b5dc44-01
2021-08-24T05:11:39.618Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:11:39.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d56944ce88e10d57418d337826f2767cdf5236b-8f99f878a8405c62-01 outer:exit 2b-4d56944ce88e10d57418d337826f2767cdf5236b-8e047856096c044b-01
2021-08-24T05:11:39.628Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:11:39.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-278353a352bafe707059c1d0bb8c5ad971a50eb4-4f3a9b9395f0f7f3-01 outer:exit 2b-278353a352bafe707059c1d0bb8c5ad971a50eb4-6482bd7a4c3bb36d-01
2021-08-24T05:11:39.632Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:11:39.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-0390642769fc55b6fc8bb24a32aff589d9974bb1-93928d62ec7dcf41-01 outer:exit 2b-0390642769fc55b6fc8bb24a32aff589d9974bb1-804b43524eacdc9a-01
2021-08-24T05:11:39.635Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:11:39.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8c617ab98f2ecc030c3061e86adcf150caff80b-1d634522b0b44905-01 outer:exit 2b-c8c617ab98f2ecc030c3061e86adcf150caff80b-2cd40b77cbdd27b5-01
2021-08-24T05:11:39.639Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:11:39.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-c166b0702fbf29e922e0b8b089b9d76665f4b5b2-abda777058d6b623-01 outer:exit 2b-c166b0702fbf29e922e0b8b089b9d76665f4b5b2-81e248630adeb022-01
2021-08-24T05:11:39.679Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (377ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:45.374Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:45.375Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:45.375Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:45.375Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:45.442Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:45.493Z appoptics:patching patched crypto 
2021-08-24T05:11:45.525Z appoptics:patching patched https 
2021-08-24T05:11:45.526Z appoptics:patching patched http 
2021-08-24T05:11:45.593Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:45.593Z appoptics:patching patched fs 
2021-08-24T05:11:45.616Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v16.7.0)
2021-08-24T05:11:45.628Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2021-08-24T05:11:45.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-a31b8d87f2bbc2f5a696d6e8efa1fe9bf3f43e35-1dc7b53174c3895d-01 outer:exit 2b-a31b8d87f2bbc2f5a696d6e8efa1fe9bf3f43e35-6c3ec38bd2a8e21c-01
2021-08-24T05:11:45.822Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:11:45.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4ca88f3d44ac35b63b570b4e25b3d7681888d0e-bd9c3b58a26b8817-01 outer:exit 2b-d4ca88f3d44ac35b63b570b4e25b3d7681888d0e-1310013cdc4294ee-01
2021-08-24T05:11:45.888Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:11:45.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b6113ff036868a7798c2ffff9e650ad5e8ba35e-84152a6001bcca8f-01 outer:exit 2b-4b6113ff036868a7798c2ffff9e650ad5e8ba35e-cd3d387f4787c1a4-01
2021-08-24T05:11:45.892Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:11:45.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf3e423be51ffc06443ac2754f6df30216442266-1938a46a073ca528-01 outer:exit 2b-cf3e423be51ffc06443ac2754f6df30216442266-92ea1b1314707799-01
2021-08-24T05:11:45.895Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:11:45.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec3299348435c0101c84652e3435f93aa6fff601-a7019f0a2be021eb-01 outer:exit 2b-ec3299348435c0101c84652e3435f93aa6fff601-f8d80c5888d304c9-01
2021-08-24T05:11:45.899Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:11:45.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-e223bb8366d0c63e9353fb44edc6451e4b789cb6-aee7c81be433c871-01 outer:exit 2b-e223bb8366d0c63e9353fb44edc6451e4b789cb6-1913964e88da9efe-01
2021-08-24T05:11:45.903Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:11:45.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec87c89da0e2265b103b1772fc251ac0e28ab417-82ee0c0e8b50eb3e-01 outer:exit 2b-ec87c89da0e2265b103b1772fc251ac0e28ab417-d1c6ac966549d65e-01
2021-08-24T05:11:45.906Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:11:45.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-21c834124fdc8258684b83f726eb77211ab1b0f5-9377eadc4ad62bda-01 outer:exit 2b-21c834124fdc8258684b83f726eb77211ab1b0f5-dfdaf7cde5ea2b6a-01
2021-08-24T05:11:45.909Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:11:45.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c94ae1193677a57285d58d8a46b1e1cd39e451d-2409b1a11c7bd909-01 outer:exit 2b-1c94ae1193677a57285d58d8a46b1e1cd39e451d-a02f0478aea05827-01
2021-08-24T05:11:45.911Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:11:45.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-673022e32011700bd5107ab8fbe872f432449c5d-fe793d084ace6b0e-01 outer:exit 2b-673022e32011700bd5107ab8fbe872f432449c5d-a60a0b0bc07bd6f8-01
2021-08-24T05:11:45.915Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:11:45.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-1db16f37fde447021b4a09427b85751934185550-4cf12bcc0d799ee6-01 outer:exit 2b-1db16f37fde447021b4a09427b85751934185550-4ea236d71d5994cb-01
2021-08-24T05:11:45.919Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:11:45.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-06ff25f3b541c45d7262f3a722133ef80490b0fa-faaaa59f61de0ba7-01 outer:exit 2b-06ff25f3b541c45d7262f3a722133ef80490b0fa-df0ec84487591412-01
2021-08-24T05:11:45.932Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:11:45.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f2f4c957fa161b987b35ae154d6f13bb99598ac-339db13552ef5411-01 outer:exit 2b-0f2f4c957fa161b987b35ae154d6f13bb99598ac-7045fe24404fca91-01
2021-08-24T05:11:45.951Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:11:45.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dc74f92c9b341024d8be61d01c4514502064fe0-8be08449eebabb87-01 outer:exit 2b-5dc74f92c9b341024d8be61d01c4514502064fe0-403908a2c79dfe52-01
2021-08-24T05:11:45.989Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:11:45.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-2edad81cce1e7a1db08c6181d8a42a9c71e7dcd1-af216981bf2388d2-01 outer:exit 2b-2edad81cce1e7a1db08c6181d8a42a9c71e7dcd1-82110146e0f32aa9-01
2021-08-24T05:11:45.992Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:11:45.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-8edee50a73c2764384d1bce1c59c165371b569bc-6d591fa0e537b2f0-01 outer:exit 2b-8edee50a73c2764384d1bce1c59c165371b569bc-136f6dee3c80b8c9-01
2021-08-24T05:11:45.995Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:11:45.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-637c11caf67bd276981bc2f8a9c91e8e48192e80-e45d125ad461bf81-01 outer:exit 2b-637c11caf67bd276981bc2f8a9c91e8e48192e80-3441b5376bc7450f-01
2021-08-24T05:11:45.997Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:11:46.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b457618e7cb11dd9687c8132ac0c0cfeaa0a8f9-d2cdaae04f901105-01 outer:exit 2b-8b457618e7cb11dd9687c8132ac0c0cfeaa0a8f9-247ffc20b2753591-01
2021-08-24T05:11:46.000Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:11:46.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-164643ac46794746f088ce0720e45b2f9eb2d410-00123014cac093a5-01 outer:exit 2b-164643ac46794746f088ce0720e45b2f9eb2d410-4136acf9de28f641-01
2021-08-24T05:11:46.002Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:11:46.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-075abce67108fd6e55c636d4a52117c594db6850-614d7a47ea674f49-01 outer:exit 2b-075abce67108fd6e55c636d4a52117c594db6850-51f6f9b40dc96ef8-01
2021-08-24T05:11:46.004Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:11:46.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fb392748dbcc2c229cc8a2eff8d00345706e315-86953e2db839e684-01 outer:exit 2b-1fb392748dbcc2c229cc8a2eff8d00345706e315-bf1f280a165716fc-01
2021-08-24T05:11:46.006Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:11:46.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fe9d23f15458d02874a3931831a04f719915d28-34ae4821b0552749-01 outer:exit 2b-4fe9d23f15458d02874a3931831a04f719915d28-51d482c217412794-01
2021-08-24T05:11:46.008Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:11:46.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ccf906939692fc4fc56a3dac445a1cf0d0be5a0-0d6091f79e24701f-01 outer:exit 2b-3ccf906939692fc4fc56a3dac445a1cf0d0be5a0-1eaf77ba005141db-01
2021-08-24T05:11:46.011Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:11:46.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c45e088860965b98112334bd6663ade97af7a32-e51b627b9211fcc7-01 outer:exit 2b-6c45e088860965b98112334bd6663ade97af7a32-8160a381308b8fc3-01
2021-08-24T05:11:46.014Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:11:46.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d971f469a2417bb036e312311647fa51a584eb4-be17e56ced263e14-01 outer:exit 2b-6d971f469a2417bb036e312311647fa51a584eb4-6c08f9ef8e703b48-01
2021-08-24T05:11:46.016Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:11:46.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0ba4393fed079f6e405e144d87f9f039f7c765d-3b86ef2139e97a47-01 outer:exit 2b-d0ba4393fed079f6e405e144d87f9f039f7c765d-e2491c31922c08a8-01
2021-08-24T05:11:46.019Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:11:46.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-f88fa835d557aa6f5a69bb4899319bdcb9ceb804-f6271bab4c3b5d96-01 outer:exit 2b-f88fa835d557aa6f5a69bb4899319bdcb9ceb804-520b648bd68901b4-01
2021-08-24T05:11:46.025Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:11:46.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6dc3ae99faf815c708046383f2440e6bfb4bb47-553c09bc13c6825e-01 outer:exit 2b-f6dc3ae99faf815c708046383f2440e6bfb4bb47-c6eaf061289c7c2b-01
2021-08-24T05:11:46.030Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:11:46.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb750019c469811601265f9353c1fc700c2b1609-0fadb57e7dc6c33d-01 outer:exit 2b-cb750019c469811601265f9353c1fc700c2b1609-960ed8b49a697e96-01
2021-08-24T05:11:46.041Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:11:46.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ff12717d458fc73e0e09d2c81ce2e1bd4e7e470-1a287450666015cb-01 outer:exit 2b-0ff12717d458fc73e0e09d2c81ce2e1bd4e7e470-9e8f909a354f0533-01
2021-08-24T05:11:46.049Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:11:46.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-64b0824381c580518088fce0377b62b127417bd4-a64b3fd0feb2750e-01 outer:exit 2b-64b0824381c580518088fce0377b62b127417bd4-eecba92de5196382-01
2021-08-24T05:11:46.051Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:11:46.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca23bd8774bed8e8dc1393f99fee7c3bc04fd9f1-dba0258c88aac6c6-01 outer:exit 2b-ca23bd8774bed8e8dc1393f99fee7c3bc04fd9f1-4d08baaf52b9db94-01
2021-08-24T05:11:46.057Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:11:46.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-44a8b2f7c1d1b5293c6a86ae50494c7a92f86602-12da9202c4c5650c-01 outer:exit 2b-44a8b2f7c1d1b5293c6a86ae50494c7a92f86602-7c1bb0ca22e8a2fe-01
2021-08-24T05:11:46.066Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:11:46.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-91baba8e69ddab23d509d594406988be12315169-6d6c7a245355e87f-01 outer:exit 2b-91baba8e69ddab23d509d594406988be12315169-8d76ab5a22e683de-01
2021-08-24T05:11:46.068Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:11:46.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d37547e0a5d32bb725bb2e0b6f7a518d3873625-63c4196f997bd106-01 outer:exit 2b-1d37547e0a5d32bb725bb2e0b6f7a518d3873625-b8e373a02a2e68c6-01
2021-08-24T05:11:46.070Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:11:46.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-9251b35a50155100652f5df985d9fe37c83a3d10-ba09ed1b8d234c66-01 outer:exit 2b-9251b35a50155100652f5df985d9fe37c83a3d10-7c7ae4609e44dfbb-01
2021-08-24T05:11:46.072Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:11:46.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-1baf9732f984b9444b692a5de638c1e6c3fe2e7a-df6c00744bd1977e-01 outer:exit 2b-1baf9732f984b9444b692a5de638c1e6c3fe2e7a-65320adbc21edc3b-01
2021-08-24T05:11:46.075Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:11:46.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfe4e3f9c2ee28cf9cbf4bbc40b2d767f71502ff-41033ecc8ece3708-01 outer:exit 2b-cfe4e3f9c2ee28cf9cbf4bbc40b2d767f71502ff-906de05ea3275ec0-01
2021-08-24T05:11:46.077Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:11:46.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bc06427f6031ae64b9e0d9ae38be502286f44ee-d64a7600d89e433d-01 outer:exit 2b-8bc06427f6031ae64b9e0d9ae38be502286f44ee-cb0ac4b9bd650735-01
2021-08-24T05:11:46.090Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:11:46.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-07ccc29bec484c5c1e7b3381a360371d6417c3ea-e2352d33c2874ec4-01 outer:exit 2b-07ccc29bec484c5c1e7b3381a360371d6417c3ea-fd18ee20b26be511-01
2021-08-24T05:11:46.100Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:11:46.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b4ad6c30ff323b5cafcfe21cfc70e8ef5fb185b-dfb0d478f203e3f7-01 outer:exit 2b-4b4ad6c30ff323b5cafcfe21cfc70e8ef5fb185b-db7c6b11f3d591e5-01
2021-08-24T05:11:46.104Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:11:46.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-40479f5d5c8be1db84e994759043fe0e1fd9afd7-ba99eab4a86e030f-01 outer:exit 2b-40479f5d5c8be1db84e994759043fe0e1fd9afd7-011837f07149aabb-01
2021-08-24T05:11:46.107Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:11:46.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-49cc3f136a9adcd59f0f1526865f006e87192555-669c3f1d3c819329-01 outer:exit 2b-49cc3f136a9adcd59f0f1526865f006e87192555-e9417f81ead4d08d-01
2021-08-24T05:11:46.110Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:11:46.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-95a0750b3efc11e28ea9ec014fad52818532c05d-ee7ed92efb30d0ae-01 outer:exit 2b-95a0750b3efc11e28ea9ec014fad52818532c05d-2989694919d21c2a-01
2021-08-24T05:11:46.143Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (372ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:51.977Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:51.978Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:51.978Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:51.979Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:52.068Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:52.145Z appoptics:patching patched crypto 
2021-08-24T05:11:52.173Z appoptics:patching patched https 
2021-08-24T05:11:52.174Z appoptics:patching patched http 
2021-08-24T05:11:52.245Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:52.245Z appoptics:patching patched fs 
2021-08-24T05:11:52.263Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v16.7.0)
2021-08-24T05:11:52.271Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2021-08-24T05:11:52.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1631f50c29868ca1a58b2c1f8acf96fc8a18e3f-11034e605a3e8467-01 outer:exit 2b-e1631f50c29868ca1a58b2c1f8acf96fc8a18e3f-0cd63eeaa24c0940-01
2021-08-24T05:11:52.451Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:11:52.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c5d677ee028677cb401165a6ad0ab58c96170e4-a1b95b4a1f0e3b5d-01 outer:exit 2b-0c5d677ee028677cb401165a6ad0ab58c96170e4-17691b44bfc00cc6-01
2021-08-24T05:11:52.495Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:11:52.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b3a1e6676ad69ab7e8a51b4d0df324a0021e7c2-c582b31770979b39-01 outer:exit 2b-4b3a1e6676ad69ab7e8a51b4d0df324a0021e7c2-622e0617b11a5d43-01
2021-08-24T05:11:52.500Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:11:52.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-2605194a359197d2285ab1c08c472c5e7f245e5b-f8e979b94eef6d52-01 outer:exit 2b-2605194a359197d2285ab1c08c472c5e7f245e5b-d67fd9bf4039ae1e-01
2021-08-24T05:11:52.503Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:11:52.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-d96ad37f3de1ea5d6579c5fefe799f7c7b007417-7b5e881c1ddfb6fb-01 outer:exit 2b-d96ad37f3de1ea5d6579c5fefe799f7c7b007417-bd681e3751faafad-01
2021-08-24T05:11:52.511Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:11:52.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ecbf6bda89e7c04dff0d9dc80b5cf5952ac81e3-1eac79208a0ea685-01 outer:exit 2b-6ecbf6bda89e7c04dff0d9dc80b5cf5952ac81e3-2e62bea091109900-01
2021-08-24T05:11:52.519Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:11:52.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-85ccfbce6e63060fd41ce14cd427f745d8eed3bd-c32d8e831ee1bdcf-01 outer:exit 2b-85ccfbce6e63060fd41ce14cd427f745d8eed3bd-a9a67478066e01ae-01
2021-08-24T05:11:52.522Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:11:52.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-66e51eaec6ef7cdce4306d623820a2e30dbcfb7b-c3c99e8940c5d5c5-01 outer:exit 2b-66e51eaec6ef7cdce4306d623820a2e30dbcfb7b-03913eeb9264dc52-01
2021-08-24T05:11:52.527Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:11:52.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aeb32bd679afbff0a432cafb84d315508f7eba3-abc14932912ebfd0-01 outer:exit 2b-0aeb32bd679afbff0a432cafb84d315508f7eba3-26882ce033a6c14f-01
2021-08-24T05:11:52.530Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:11:52.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcbb51568d4e6ccc63f71e739958d94d1051e243-e28bc2a79a140292-01 outer:exit 2b-bcbb51568d4e6ccc63f71e739958d94d1051e243-9180dc6b1da08b7d-01
2021-08-24T05:11:52.533Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:11:52.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-387fe1a65458aa4e815000b921c463b5bf5ea7bb-e22e2429abeccdca-01 outer:exit 2b-387fe1a65458aa4e815000b921c463b5bf5ea7bb-df13e9f714957bf0-01
2021-08-24T05:11:52.538Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:11:52.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-41c3dc3b49a4b8166e5ac9c21b0af28b03c09c0f-560573a48266ca3c-01 outer:exit 2b-41c3dc3b49a4b8166e5ac9c21b0af28b03c09c0f-acc47e48297f4e11-01
2021-08-24T05:11:52.555Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:11:52.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-5826ea98ac697f25197f08d3f7c1c07753c05270-9cc743dac925210f-01 outer:exit 2b-5826ea98ac697f25197f08d3f7c1c07753c05270-d296c2f5425c475e-01
2021-08-24T05:11:52.572Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:11:52.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f6419f92712b72b990bdb0fd33b171836ae57db-128ba916ed862bed-01 outer:exit 2b-5f6419f92712b72b990bdb0fd33b171836ae57db-3256a8ba6d25cabe-01
2021-08-24T05:11:52.644Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:11:52.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9b190a7881cc005551f6a41e06b0d2a5a21f8c2-80e182849ceadf5c-01 outer:exit 2b-d9b190a7881cc005551f6a41e06b0d2a5a21f8c2-4a8183f62cf6caa7-01
2021-08-24T05:11:52.647Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:11:52.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-69db9611ece7c79a44c294b7e6dfa174a9590fc7-97cb05e180c748c9-01 outer:exit 2b-69db9611ece7c79a44c294b7e6dfa174a9590fc7-b72bfe8694f1e698-01
2021-08-24T05:11:52.649Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:11:52.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-76050facea48e82010400f9da1922633402298e3-b06dd73b84faaa30-01 outer:exit 2b-76050facea48e82010400f9da1922633402298e3-8a40d7a515563d4b-01
2021-08-24T05:11:52.654Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:11:52.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-2080ed419198262f8780ae6e066f805183f1f90b-decb940f57b26843-01 outer:exit 2b-2080ed419198262f8780ae6e066f805183f1f90b-426a91ff006082b4-01
2021-08-24T05:11:52.656Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:11:52.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a56348d154aa1a2cfddc6414f25dbcf4f42bb70-32d7b67b3fccb7ef-01 outer:exit 2b-4a56348d154aa1a2cfddc6414f25dbcf4f42bb70-3bf17649d2c2bf49-01
2021-08-24T05:11:52.658Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:11:52.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-df9a93cb4ae2563f4a53cc5703c60cf4c3bc8171-6abc51362c5cc14e-01 outer:exit 2b-df9a93cb4ae2563f4a53cc5703c60cf4c3bc8171-928b2d14253dabb7-01
2021-08-24T05:11:52.661Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:11:52.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-65e49b0f2836b4de00f455995d285ef5e5110305-23a8bf9a1f882793-01 outer:exit 2b-65e49b0f2836b4de00f455995d285ef5e5110305-a4e3c441b632cb92-01
2021-08-24T05:11:52.663Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:11:52.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b28469916edba1b01c5de60c4c8c67f8efcbcd6-b96b1cff06c61aec-01 outer:exit 2b-2b28469916edba1b01c5de60c4c8c67f8efcbcd6-90550bdb5cfd23ef-01
2021-08-24T05:11:52.665Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:11:52.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-087e35389f7c73da567f14f345b466f24fc230ae-aa491e1c349b2021-01 outer:exit 2b-087e35389f7c73da567f14f345b466f24fc230ae-75017116fdac3ea9-01
2021-08-24T05:11:52.668Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:11:52.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5ee588121fb75314f1f6f3ea18312753bf7859d-310954bff60d150e-01 outer:exit 2b-f5ee588121fb75314f1f6f3ea18312753bf7859d-96bfbb79e2ff10a3-01
2021-08-24T05:11:52.671Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:11:52.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e78606485798293d7f4ce5b378bcfa83a85f1d7-7f41b5bf4d2da779-01 outer:exit 2b-7e78606485798293d7f4ce5b378bcfa83a85f1d7-f9ce02147f0a0960-01
2021-08-24T05:11:52.674Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:11:52.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-c01e3a7b70cd4df19656dfe442b9bbe36c179805-06d2970f2152ffea-01 outer:exit 2b-c01e3a7b70cd4df19656dfe442b9bbe36c179805-0e3802353e453eac-01
2021-08-24T05:11:52.676Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:11:52.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-936ed0820ab337b517a25236812e614a71585a7c-93567c44dc97a2bd-01 outer:exit 2b-936ed0820ab337b517a25236812e614a71585a7c-63d30f3904763dc5-01
2021-08-24T05:11:52.683Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:11:52.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-061534d4341ce3ae8d508ea32e2920af2c04bd8e-1f74c810d024034e-01 outer:exit 2b-061534d4341ce3ae8d508ea32e2920af2c04bd8e-35f4afed78bea9c4-01
2021-08-24T05:11:52.689Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:11:52.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-211ce3b7ac3a1f6cf45c3cd47ace82a3318881fd-9372d8158771820e-01 outer:exit 2b-211ce3b7ac3a1f6cf45c3cd47ace82a3318881fd-4a33003405835501-01
2021-08-24T05:11:52.705Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:11:52.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-5615f39a41e25a5487afc017ecf3db18c14cb044-07a968568ac4034f-01 outer:exit 2b-5615f39a41e25a5487afc017ecf3db18c14cb044-f509eb75c8b05ec3-01
2021-08-24T05:11:52.717Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:11:52.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-f894a3e25e4cc377d072cee0145539d2b45315dc-5ec77385e817939f-01 outer:exit 2b-f894a3e25e4cc377d072cee0145539d2b45315dc-49dffa35b71a20eb-01
2021-08-24T05:11:52.720Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:11:52.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-5aa0da6c38885fa12d135982afa3a921b32865f1-11b08c5a024624cd-01 outer:exit 2b-5aa0da6c38885fa12d135982afa3a921b32865f1-0f117fb9e91c1d41-01
2021-08-24T05:11:52.725Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:11:52.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-3482d84a60a88d364bc833f52b7ad9dff8ff1407-8a6586b0652641ad-01 outer:exit 2b-3482d84a60a88d364bc833f52b7ad9dff8ff1407-6c66187627e99226-01
2021-08-24T05:11:52.732Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:11:52.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4dba579427d08b999746ec4353ef3de9c26bd22-3a1320c48a2c1a8e-01 outer:exit 2b-c4dba579427d08b999746ec4353ef3de9c26bd22-737e6f61ac0524c2-01
2021-08-24T05:11:52.735Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:11:52.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c32e1af0a4bb4d77395cabcc85af693b7022c82-cb4f1beaf97d8bb0-01 outer:exit 2b-6c32e1af0a4bb4d77395cabcc85af693b7022c82-babc238fe54e253b-01
2021-08-24T05:11:52.738Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:11:52.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-091772b1cf9a8cea587c13000a6995eb66e5aa06-60dac063bc15f7da-01 outer:exit 2b-091772b1cf9a8cea587c13000a6995eb66e5aa06-f84bc33ea23b136f-01
2021-08-24T05:11:52.742Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:11:52.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c998b5849ee49f13cd11a558b19fee99037282a-1b70896611e2e8b4-01 outer:exit 2b-7c998b5849ee49f13cd11a558b19fee99037282a-a79cc2b22f96650f-01
2021-08-24T05:11:52.746Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:11:52.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-28501769dee1dff93fbe06474a706fb1f44368f3-d422cffe8ffa6083-01 outer:exit 2b-28501769dee1dff93fbe06474a706fb1f44368f3-6874b527c2b278f8-01
2021-08-24T05:11:52.750Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:11:52.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-c54a17f4316afb4017f9bddddb47746eb95dd453-9bc1fd934b0529f4-01 outer:exit 2b-c54a17f4316afb4017f9bddddb47746eb95dd453-251268b31c5417bc-01
2021-08-24T05:11:52.765Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:11:52.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbc7b43bcab706f0ed1fcce62fdaf2f7834ba88a-dc822a9c17720f21-01 outer:exit 2b-dbc7b43bcab706f0ed1fcce62fdaf2f7834ba88a-42943d5b949f3bb8-01
2021-08-24T05:11:52.778Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:11:52.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-647fceeed2fa4db54d53e97f0b7860a288c472de-3c8726ced93f4872-01 outer:exit 2b-647fceeed2fa4db54d53e97f0b7860a288c472de-da5960f13e8e4caa-01
2021-08-24T05:11:52.781Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:11:52.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0e482f89203f701256ded674f3ac17782d80415-2213b1edcbb9403c-01 outer:exit 2b-b0e482f89203f701256ded674f3ac17782d80415-a5f5346e31d67a48-01
2021-08-24T05:11:52.785Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:11:52.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-f08ce49c11452405b92afa6e4c775295194abdb3-ccf4bc360020e6cb-01 outer:exit 2b-f08ce49c11452405b92afa6e4c775295194abdb3-efe1afa32ad1e01e-01
2021-08-24T05:11:52.788Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:11:52.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a9c204e6c0604ef26b6446dd45f32919fb3d55a-a7a2f7f45e343b7b-01 outer:exit 2b-4a9c204e6c0604ef26b6446dd45f32919fb3d55a-29947b0fd379eae5-01
2021-08-24T05:11:52.831Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (424ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:11:58.238Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:11:58.239Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:11:58.239Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:11:58.240Z appoptics:debug using context provider: ace-context
2021-08-24T05:11:58.306Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:11:58.352Z appoptics:patching patched crypto 
2021-08-24T05:11:58.375Z appoptics:patching patched https 
2021-08-24T05:11:58.376Z appoptics:patching patched http 
2021-08-24T05:11:58.433Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:11:58.434Z appoptics:patching patched fs 
2021-08-24T05:11:58.452Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v16.7.0)
2021-08-24T05:11:58.460Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2021-08-24T05:11:58.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-3666a1082f427b9b2904db9e4464456c993f8602-3ac05c5a27855aa9-01 outer:exit 2b-3666a1082f427b9b2904db9e4464456c993f8602-e2b6e02cf2c98b8e-01
2021-08-24T05:11:58.612Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:11:58.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-a21c893bd33ecb924112c55fc1897e1bf85f799b-72a13472a9de886c-01 outer:exit 2b-a21c893bd33ecb924112c55fc1897e1bf85f799b-5d97dd6aaa6a15bc-01
2021-08-24T05:11:58.644Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:11:58.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-85910dee57a23af59fe016f8066c7f8e563251da-9dd5772701c540d9-01 outer:exit 2b-85910dee57a23af59fe016f8066c7f8e563251da-e4834fda49219fed-01
2021-08-24T05:11:58.647Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:11:58.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f15964d3515bb415febb135946d896e966fb936-85c18fe293fb6aa0-01 outer:exit 2b-3f15964d3515bb415febb135946d896e966fb936-2f3f952633d56d18-01
2021-08-24T05:11:58.650Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:11:58.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-30e28c3ec0bceb960b5e85e5409157b861acb915-78c4105327d6ed90-01 outer:exit 2b-30e28c3ec0bceb960b5e85e5409157b861acb915-81fc19d810794890-01
2021-08-24T05:11:58.654Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:11:58.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-adf565bbbefc1d216422b1bf7f8cfd326ae32efd-ad36f2cbd7e0b827-01 outer:exit 2b-adf565bbbefc1d216422b1bf7f8cfd326ae32efd-7db4755f81f555b9-01
2021-08-24T05:11:58.658Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:11:58.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d14335a11c21ee748657400b1206f9b614372e3-c23fc369d91b0bcb-01 outer:exit 2b-2d14335a11c21ee748657400b1206f9b614372e3-43e543c4495fd0e1-01
2021-08-24T05:11:58.660Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:11:58.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cfbbb96ac1b1962aaa6480a1728721d59e4c5fd-752bd19ce45cc40c-01 outer:exit 2b-8cfbbb96ac1b1962aaa6480a1728721d59e4c5fd-08415c930c7078d6-01
2021-08-24T05:11:58.663Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:11:58.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-d21cea04aaad4a43387fa7678bdeb83d665cf19f-5e1a4235a8038b6c-01 outer:exit 2b-d21cea04aaad4a43387fa7678bdeb83d665cf19f-94d0fdeec1dde0b6-01
2021-08-24T05:11:58.666Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:11:58.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-572d551b3fb6544127260f60f4d1095d0e33fa96-2e5a694e30582a55-01 outer:exit 2b-572d551b3fb6544127260f60f4d1095d0e33fa96-4f4b3fc1fba06f60-01
2021-08-24T05:11:58.669Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:11:58.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ad6ec5c13545933d836d94e0f227598fa9ed2af-77ae109b50f32ee8-01 outer:exit 2b-4ad6ec5c13545933d836d94e0f227598fa9ed2af-d6aed512e4515ee1-01
2021-08-24T05:11:58.673Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:11:58.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bbae2b06f830b0708625d20295c07d49d3e5553-7bc8c440dfdfc8f7-01 outer:exit 2b-5bbae2b06f830b0708625d20295c07d49d3e5553-80ffd7b42ed29340-01
2021-08-24T05:11:58.683Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:11:58.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-86eeb78129a3b916de2051227a7c80b424aa9002-963d3da4f2935d67-01 outer:exit 2b-86eeb78129a3b916de2051227a7c80b424aa9002-138c6c3b314d434a-01
2021-08-24T05:11:58.700Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:11:58.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-c608a89f8d23b8c9f037ba21a44f3007c91a5c26-6c3b97fdfa235dee-01 outer:exit 2b-c608a89f8d23b8c9f037ba21a44f3007c91a5c26-4ef8890cdd8304a3-01
2021-08-24T05:11:58.744Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:11:58.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-12af54136c3868a9de0b8b66657642774ec1440c-d0a17ae1d1b88eb0-01 outer:exit 2b-12af54136c3868a9de0b8b66657642774ec1440c-15bdb2b851e27b74-01
2021-08-24T05:11:58.746Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:11:58.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-5547d224e0075a95c633f573b75b44447c8e36cc-ee2e7d3fac0526f5-01 outer:exit 2b-5547d224e0075a95c633f573b75b44447c8e36cc-ebd881c48462889c-01
2021-08-24T05:11:58.749Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:11:58.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-177613c23874cc290b25f9c8a31c18d47ee6b2ba-a016dddf77251809-01 outer:exit 2b-177613c23874cc290b25f9c8a31c18d47ee6b2ba-06820f76beeb33ff-01
2021-08-24T05:11:58.752Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:11:58.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9abf484d9fddde1139e633ef87560b87940c29b-0ec5e0c8c28bac23-01 outer:exit 2b-b9abf484d9fddde1139e633ef87560b87940c29b-20d0bf4ba55c6f77-01
2021-08-24T05:11:58.754Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:11:58.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-b059891c6840aa00e5a4f40bad6410cb014040a7-6f841c520f93ab65-01 outer:exit 2b-b059891c6840aa00e5a4f40bad6410cb014040a7-ab4b1a02697601b1-01
2021-08-24T05:11:58.756Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:11:58.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e2b49da387a96cdd5eddba14b131a64c9a6cfc8-527541caef51694e-01 outer:exit 2b-5e2b49da387a96cdd5eddba14b131a64c9a6cfc8-8515cdf4efb1b7d8-01
2021-08-24T05:11:58.759Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:11:58.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d5d7daa84612585e611d974fed8736c5b25b7f9-48cc9060d909296e-01 outer:exit 2b-6d5d7daa84612585e611d974fed8736c5b25b7f9-b5f7c7ed03fd6979-01
2021-08-24T05:11:58.761Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:11:58.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-698905f6116d05cb5e9bc16afd922d7084bc55be-b0cd59981a52574c-01 outer:exit 2b-698905f6116d05cb5e9bc16afd922d7084bc55be-feb4ef23c4a1069a-01
2021-08-24T05:11:58.763Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:11:58.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-0db48af3d07d7d758ad7ded4b12956bb729529e5-b5b25253bc37d429-01 outer:exit 2b-0db48af3d07d7d758ad7ded4b12956bb729529e5-7904bedaa0f56c42-01
2021-08-24T05:11:58.767Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:11:58.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-61c0473377329bb2856bf21a36e1de887b5d5911-dab1f6063c312263-01 outer:exit 2b-61c0473377329bb2856bf21a36e1de887b5d5911-6c5896310b76d193-01
2021-08-24T05:11:58.770Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:11:58.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fbe25bd58ac585365418cb53b74bb068b2781e3-9747b5547ceed7ae-01 outer:exit 2b-4fbe25bd58ac585365418cb53b74bb068b2781e3-2a77216874210f46-01
2021-08-24T05:11:58.772Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:11:58.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-80d2a6e4cb74c91cd633d153a1ad99afbd4762f6-a2689f1ce7b6d565-01 outer:exit 2b-80d2a6e4cb74c91cd633d153a1ad99afbd4762f6-8b2b3e38cb08c467-01
2021-08-24T05:11:58.775Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:11:58.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec815bb38c7f9167ef28ff657eb56a26283f772e-8ec1d43923f88474-01 outer:exit 2b-ec815bb38c7f9167ef28ff657eb56a26283f772e-106ebc68cb19cba6-01
2021-08-24T05:11:58.782Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:11:58.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-72234a0ec3e7168096c79108565b6f7a2405e971-eab2e9697aacce10-01 outer:exit 2b-72234a0ec3e7168096c79108565b6f7a2405e971-a84263698029ceb7-01
2021-08-24T05:11:58.786Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:11:58.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-af862f7af36b121b476b48b8ce4e955784102a74-a91c53a4f4e77ee0-01 outer:exit 2b-af862f7af36b121b476b48b8ce4e955784102a74-55a12141b7a81ba1-01
2021-08-24T05:11:58.796Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:11:58.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4a6833961448c55b4be9f1e082f53566216ddba-e69af76475d73c14-01 outer:exit 2b-d4a6833961448c55b4be9f1e082f53566216ddba-2efc01445b3b8af8-01
2021-08-24T05:11:58.803Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:11:58.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-256c1546ec3a938baed4170695323b38feee5ac7-d0ad928df63b16bb-01 outer:exit 2b-256c1546ec3a938baed4170695323b38feee5ac7-a5ccd26ec9ce179c-01
2021-08-24T05:11:58.805Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:11:58.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f84a0c2b33d65920f0fe336f7726701f1d0d9be-e6458a94cec611bc-01 outer:exit 2b-1f84a0c2b33d65920f0fe336f7726701f1d0d9be-0d96ecdde7577c45-01
2021-08-24T05:11:58.808Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:11:58.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ff2d22e853db12739a2b1e98576f1ef491963da-de296ae80fe82a48-01 outer:exit 2b-4ff2d22e853db12739a2b1e98576f1ef491963da-74feb1a71bb0537f-01
2021-08-24T05:11:58.817Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:11:58.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dc811e611717d65d875ab74211e23d55b71b1d9-5e96cad6c935ed7e-01 outer:exit 2b-0dc811e611717d65d875ab74211e23d55b71b1d9-8c82c257d5577459-01
2021-08-24T05:11:58.819Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:11:58.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e7c95d6ce2e690ed2c6e6669e8cd6acf4c2eb83-0ad6648439dcd0f6-01 outer:exit 2b-2e7c95d6ce2e690ed2c6e6669e8cd6acf4c2eb83-e873ea18eb4fedd6-01
2021-08-24T05:11:58.821Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:11:58.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-403f99e739e6d02dfc17acd3b903cc6fa5e63e2c-01ee5e71ed4bf0dd-01 outer:exit 2b-403f99e739e6d02dfc17acd3b903cc6fa5e63e2c-63cc48ce445232a5-01
2021-08-24T05:11:58.824Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:11:58.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-b30f18a2848b95e4248a731e69b6494c70c08030-5827b8bc0a99edda-01 outer:exit 2b-b30f18a2848b95e4248a731e69b6494c70c08030-ec2b9f3301253bf9-01
2021-08-24T05:11:58.825Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:11:58.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-447849d89da3e628dfe9e1a7c3f0d539a2c6a691-1813fdb8bff3a537-01 outer:exit 2b-447849d89da3e628dfe9e1a7c3f0d539a2c6a691-3150b2b06643af5a-01
2021-08-24T05:11:58.828Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:11:58.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dee95b38a4e6d0f5a5c8b1973fa99e5c8e4950c-1d3dcbf37e75b7be-01 outer:exit 2b-8dee95b38a4e6d0f5a5c8b1973fa99e5c8e4950c-9e133d8bdc057969-01
2021-08-24T05:11:58.840Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:11:58.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-9898ffb5d2c2112941699e589d46e5ebef6dbe24-efbcc47dff217a39-01 outer:exit 2b-9898ffb5d2c2112941699e589d46e5ebef6dbe24-0f07e3b4db9ae69d-01
2021-08-24T05:11:58.851Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:11:58.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-c207ce2269c5ef774ab4ee0606694a53926ee71d-ca75a1999f57f0b0-01 outer:exit 2b-c207ce2269c5ef774ab4ee0606694a53926ee71d-031468fe11cd3a91-01
2021-08-24T05:11:58.854Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:11:58.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1eb0f777b9ca5fa93e072eabed6bbd5f8d6574e-b5bbdddcb332286c-01 outer:exit 2b-c1eb0f777b9ca5fa93e072eabed6bbd5f8d6574e-b7e7efeaef2172bc-01
2021-08-24T05:11:58.857Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:11:58.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cb1505afc1cc38277798e2d76d6f135965b26fe-e83bebe7cbb1df6f-01 outer:exit 2b-3cb1505afc1cc38277798e2d76d6f135965b26fe-156627bb53fb2f52-01
2021-08-24T05:11:58.860Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:11:58.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3af3da2562c855b41f52ad053a688498c6c1c89-08ccbafa6c9080dd-01 outer:exit 2b-b3af3da2562c855b41f52ad053a688498c6c1c89-364edc25c877c197-01
2021-08-24T05:11:58.891Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (323ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:04.939Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:04.940Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:04.940Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:04.941Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:05.038Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:05.099Z appoptics:patching patched crypto 
2021-08-24T05:12:05.127Z appoptics:patching patched https 
2021-08-24T05:12:05.127Z appoptics:patching patched http 
2021-08-24T05:12:05.188Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:05.189Z appoptics:patching patched fs 
2021-08-24T05:12:05.207Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v16.7.0)
2021-08-24T05:12:05.215Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2021-08-24T05:12:05.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5183606d1349a7370a7c74b5249d1335205c4b5-7d2a570f835747e5-01 outer:exit 2b-b5183606d1349a7370a7c74b5249d1335205c4b5-b0bd16d23d2dbbde-01
2021-08-24T05:12:05.362Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:12:05.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-49e8d05127d9f97ce427c1a1a7004457e90a3c2f-2999a3f6b3a72b18-01 outer:exit 2b-49e8d05127d9f97ce427c1a1a7004457e90a3c2f-a86af6b1267e4375-01
2021-08-24T05:12:05.407Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:12:05.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-7967d1fd328db905e4225233425d4411773e6be2-83bba1865b888abe-01 outer:exit 2b-7967d1fd328db905e4225233425d4411773e6be2-687eeee1f0b635bf-01
2021-08-24T05:12:05.410Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:12:05.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-60c1d7bc36b248bfa76bf862946014535fc19393-51b75a468ec056ef-01 outer:exit 2b-60c1d7bc36b248bfa76bf862946014535fc19393-24f0239dcb7ea090-01
2021-08-24T05:12:05.413Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:12:05.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ede9641245067ea0d9e60c8ae9b4610bd7a82f0-500f0d0bdabb6c23-01 outer:exit 2b-1ede9641245067ea0d9e60c8ae9b4610bd7a82f0-b5915d2635c2065b-01
2021-08-24T05:12:05.418Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:12:05.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-42202eed1bb51b246d795d8d3e4dee4452720716-bb5fc056adda8f86-01 outer:exit 2b-42202eed1bb51b246d795d8d3e4dee4452720716-430c82fed242440e-01
2021-08-24T05:12:05.421Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:12:05.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-e37a44a696dbca94a99966b92c3760fd1569c00f-82d57f52146f7ebc-01 outer:exit 2b-e37a44a696dbca94a99966b92c3760fd1569c00f-22d57fa4103c0726-01
2021-08-24T05:12:05.424Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:12:05.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e90a0e24e12a4584712b3dad3eb6234232b6e22-3215d7ee6dd6734c-01 outer:exit 2b-9e90a0e24e12a4584712b3dad3eb6234232b6e22-893d350ffe230f9c-01
2021-08-24T05:12:05.427Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:12:05.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6a8edc4df8afcbfeecde47998982023d6d0cdb2-8e0aed0517c2adc5-01 outer:exit 2b-e6a8edc4df8afcbfeecde47998982023d6d0cdb2-c514767fd03221ce-01
2021-08-24T05:12:05.429Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:12:05.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5f4a11a74e8cc265fcd8e0fc430ad302ce9d86e-0925ef8758066d0a-01 outer:exit 2b-c5f4a11a74e8cc265fcd8e0fc430ad302ce9d86e-9fd4bf5f8187c41c-01
2021-08-24T05:12:05.433Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:12:05.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-65a6299820ed7e827f2f607fd5775b4c9ef69b56-02c74c89c75d8e5d-01 outer:exit 2b-65a6299820ed7e827f2f607fd5775b4c9ef69b56-5a4c119b49ab5f65-01
2021-08-24T05:12:05.438Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:12:05.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c5562e1778874228f3c55fe11a45f7c781d75d2-adc41b0efabf96e1-01 outer:exit 2b-4c5562e1778874228f3c55fe11a45f7c781d75d2-c19d69c94f062df1-01
2021-08-24T05:12:05.447Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:12:05.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1e7ad36035104a19985fb242b7928db7f90ccb1-f92fb571dd8bfc54-01 outer:exit 2b-a1e7ad36035104a19985fb242b7928db7f90ccb1-93844504ed88ea24-01
2021-08-24T05:12:05.464Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:12:05.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-c51a30bdd888ff441aff46121910a34d7073a02a-a85a65fc7efaf1d2-01 outer:exit 2b-c51a30bdd888ff441aff46121910a34d7073a02a-f32e2ddfafe77dcd-01
2021-08-24T05:12:05.504Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:12:05.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d279768a15575f7eca96b12c13ea87a7d5c0cf6-143a7039c086251c-01 outer:exit 2b-7d279768a15575f7eca96b12c13ea87a7d5c0cf6-522cc1b019770130-01
2021-08-24T05:12:05.507Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:12:05.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-b887e92b2d50cfd7d61c5338f26ad31777b6e7fa-f3b06f1888a08904-01 outer:exit 2b-b887e92b2d50cfd7d61c5338f26ad31777b6e7fa-bdf6dacc06dde5d9-01
2021-08-24T05:12:05.509Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:12:05.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-741751d337fd86182d48ae32c1fb7d47b71013f9-6a9e84a21d9d5f43-01 outer:exit 2b-741751d337fd86182d48ae32c1fb7d47b71013f9-6ac4454fc08afec6-01
2021-08-24T05:12:05.512Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:12:05.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-99c49c2051350b1e461f4fbb7128d212b8aafcab-1e2146794cbc10af-01 outer:exit 2b-99c49c2051350b1e461f4fbb7128d212b8aafcab-b93c24636122fb2f-01
2021-08-24T05:12:05.514Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:12:05.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-b21bb57f460661401594edd63db800f7194d010d-b2b82981239a0803-01 outer:exit 2b-b21bb57f460661401594edd63db800f7194d010d-62989f65cf522acb-01
2021-08-24T05:12:05.517Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:12:05.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5a51413681c468ce4d130953be81d6cab410ebc-b23f2d1eda8849ae-01 outer:exit 2b-c5a51413681c468ce4d130953be81d6cab410ebc-77303f4ab3432af0-01
2021-08-24T05:12:05.519Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:12:05.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-c782abddb9e9da88dbdac98032c59dd76b876208-c81fc028d29f2155-01 outer:exit 2b-c782abddb9e9da88dbdac98032c59dd76b876208-807d798ebecdc836-01
2021-08-24T05:12:05.521Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:12:05.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0b2b8b477f32681ad0761b042372a3dcc26fa37-89f9541e2838a230-01 outer:exit 2b-f0b2b8b477f32681ad0761b042372a3dcc26fa37-ae1032433cd35011-01
2021-08-24T05:12:05.523Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:12:05.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-36c0b665dbf0891de4228df92d8275b921f5fdef-fdb337071765c944-01 outer:exit 2b-36c0b665dbf0891de4228df92d8275b921f5fdef-3b2b5e1c8110bd42-01
2021-08-24T05:12:05.526Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:12:05.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-939f67ac328e1feba3193884a257d2dc481328dc-4d4c6cff6be3f66f-01 outer:exit 2b-939f67ac328e1feba3193884a257d2dc481328dc-5f7ea4f5cf3ea51f-01
2021-08-24T05:12:05.530Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:12:05.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-4784e92b0177609f49a10075ccc7190049057d6e-f518308e8be687d4-01 outer:exit 2b-4784e92b0177609f49a10075ccc7190049057d6e-e17b807bd90daf86-01
2021-08-24T05:12:05.532Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:12:05.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-69d0452093b67523eff0dd330695c15a7f97a140-06951568c9444dbd-01 outer:exit 2b-69d0452093b67523eff0dd330695c15a7f97a140-cfa38880fe83f9ae-01
2021-08-24T05:12:05.535Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:12:05.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a7b268e555acaa6bba120e25d41bedf074fbd73-e582ae9bebb84b6f-01 outer:exit 2b-2a7b268e555acaa6bba120e25d41bedf074fbd73-55e7c8f93b920375-01
2021-08-24T05:12:05.542Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:12:05.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-869eff79e288db051803264ca3220e6b70a0f75e-5e4988b11c020ee2-01 outer:exit 2b-869eff79e288db051803264ca3220e6b70a0f75e-428734cabb125bb6-01
2021-08-24T05:12:05.546Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:12:05.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0368a85b6582576af3cc090bfad45e4573c6267-c8f0e37718e1d159-01 outer:exit 2b-c0368a85b6582576af3cc090bfad45e4573c6267-d6cad1d502ef5b20-01
2021-08-24T05:12:05.555Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:12:05.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-24df9e5e2af3afbfc6fc863251086ee3b3152d9f-c30d6bde99ea8be7-01 outer:exit 2b-24df9e5e2af3afbfc6fc863251086ee3b3152d9f-e73b10d05b6bbdd8-01
2021-08-24T05:12:05.562Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:12:05.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-2485d8bf160c77fb5a85ff2afd0bc60f78189011-0d381985c898430c-01 outer:exit 2b-2485d8bf160c77fb5a85ff2afd0bc60f78189011-882767d8b75b8cad-01
2021-08-24T05:12:05.564Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:12:05.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-e927500ec5f1280df01d9ec303f3b77b8b66099f-afef62e0284edab2-01 outer:exit 2b-e927500ec5f1280df01d9ec303f3b77b8b66099f-9f046c1843a54724-01
2021-08-24T05:12:05.567Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:12:05.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-72e352adc4a12bbf4209a2fbf5d111c02b0ee369-7b0840581cedadfd-01 outer:exit 2b-72e352adc4a12bbf4209a2fbf5d111c02b0ee369-ba15d4387b163b02-01
2021-08-24T05:12:05.575Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:12:05.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-af62de626f93e92424c1b46db3e84ae5b1336dc4-6e40b9d999e8ecfd-01 outer:exit 2b-af62de626f93e92424c1b46db3e84ae5b1336dc4-fabe2d1ede993a83-01
2021-08-24T05:12:05.578Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:12:05.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-36ed1a0e6f91a3db2f220b56c0147351b530d4b2-e96a2d9e96ec6006-01 outer:exit 2b-36ed1a0e6f91a3db2f220b56c0147351b530d4b2-7a1a65b7a62160d7-01
2021-08-24T05:12:05.580Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:12:05.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffea125d933310fe058a94002c27093ac125ca76-e6d925590b501654-01 outer:exit 2b-ffea125d933310fe058a94002c27093ac125ca76-bb7ad59311f8c7fb-01
2021-08-24T05:12:05.583Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:12:05.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d45dbc8d504f5ce6690acb7427e1e1ce12a1864-852e1d30273c781f-01 outer:exit 2b-1d45dbc8d504f5ce6690acb7427e1e1ce12a1864-5b9cb99bb210b2e2-01
2021-08-24T05:12:05.585Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:12:05.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-71d6bcd3375e5ee9a1192e53668e2d57189e7a42-90ed0116c2a23e5f-01 outer:exit 2b-71d6bcd3375e5ee9a1192e53668e2d57189e7a42-8c952c6098a2c080-01
2021-08-24T05:12:05.587Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:12:05.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2692407654c59adca973f5b388050f3c0b56042-f7d4aaf31179d6ae-01 outer:exit 2b-f2692407654c59adca973f5b388050f3c0b56042-c892c860431e981e-01
2021-08-24T05:12:05.597Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:12:05.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-48f68cf7cd35f07285b2a2f0637aa7ac2114fd1c-4bd318c2a3895263-01 outer:exit 2b-48f68cf7cd35f07285b2a2f0637aa7ac2114fd1c-854dcb08017411a6-01
2021-08-24T05:12:05.607Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:12:05.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-82a95d713224ce49f610639b3575303ca90c41f2-fae0cc35286e99a7-01 outer:exit 2b-82a95d713224ce49f610639b3575303ca90c41f2-29a3c9a0408c8a39-01
2021-08-24T05:12:05.610Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:12:05.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-97b52bde3cd73ee984f35ba33b8d61ffd0ede335-81e7059ca90b99ee-01 outer:exit 2b-97b52bde3cd73ee984f35ba33b8d61ffd0ede335-6add5e9b8ff9ab0a-01
2021-08-24T05:12:05.613Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:12:05.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-e329b3258653e52e120bc7dcabbf541cb7434c3f-41e4490449e478ce-01 outer:exit 2b-e329b3258653e52e120bc7dcabbf541cb7434c3f-e50b293a22dc77ce-01
2021-08-24T05:12:05.616Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:12:05.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-81365d5877d7a25aab0883beab0dfec3958ed88f-2df5ec6f8f4df8cb-01 outer:exit 2b-81365d5877d7a25aab0883beab0dfec3958ed88f-8e66352636de87f8-01
2021-08-24T05:12:05.648Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (327ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:11.894Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:11.895Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:11.895Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:11.896Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:11.962Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:12.011Z appoptics:patching patched crypto 
2021-08-24T05:12:12.035Z appoptics:patching patched https 
2021-08-24T05:12:12.035Z appoptics:patching patched http 
2021-08-24T05:12:12.093Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:12.094Z appoptics:patching patched fs 
2021-08-24T05:12:12.112Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v16.7.0)
2021-08-24T05:12:12.121Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2021-08-24T05:12:12.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-b811dd1fb6e7ebbf8d802b5b871d75e1d6207115-4158f91c3432bc94-01 outer:exit 2b-b811dd1fb6e7ebbf8d802b5b871d75e1d6207115-f5218a19eecb185e-01
2021-08-24T05:12:12.263Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:12:12.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-a63f3c625ad3fcbbe9c93f5dbb2cd6c67349f29f-c591836261f5c117-01 outer:exit 2b-a63f3c625ad3fcbbe9c93f5dbb2cd6c67349f29f-115a472cb47ef469-01
2021-08-24T05:12:12.307Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:12:12.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-3503166acdbeb64387798d6cc4fc1c5ac52908d4-1a1f205138dfd6a9-01 outer:exit 2b-3503166acdbeb64387798d6cc4fc1c5ac52908d4-155d4c16a61a0325-01
2021-08-24T05:12:12.312Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:12:12.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9f663662eeb72c0675aad999aec4e8022eca434-18e4cd4c39a8869c-01 outer:exit 2b-e9f663662eeb72c0675aad999aec4e8022eca434-850448c1bb199e87-01
2021-08-24T05:12:12.315Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:12:12.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a16336111abb168179507f1782e6cfb240286d7-85644e0b7e5b7e26-01 outer:exit 2b-7a16336111abb168179507f1782e6cfb240286d7-3a62b4541dacedb2-01
2021-08-24T05:12:12.320Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:12:12.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-582e7961ef98226ac628e669030d37855a48e150-fd5854a5f4379f23-01 outer:exit 2b-582e7961ef98226ac628e669030d37855a48e150-bc11a67be6321616-01
2021-08-24T05:12:12.323Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:12:12.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b677e18ad4b0c3181646ffa2b84bdaf3632f6b2-58a1939b9169677f-01 outer:exit 2b-1b677e18ad4b0c3181646ffa2b84bdaf3632f6b2-d632547fdeebfe8a-01
2021-08-24T05:12:12.326Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:12:12.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-4570d43b4749dbb85fab1cd485452eb17b40fcd5-b02f6f6359931940-01 outer:exit 2b-4570d43b4749dbb85fab1cd485452eb17b40fcd5-d5aab1aa127fe14c-01
2021-08-24T05:12:12.329Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:12:12.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-87e6f107e27a574117893dcec9b622b1e186c090-a38e88daa0827856-01 outer:exit 2b-87e6f107e27a574117893dcec9b622b1e186c090-12f31f04db4b6b15-01
2021-08-24T05:12:12.332Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:12:12.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5e93961c987fbff0e5224ae888679f08d1f8cb0-4a0252c7d187e569-01 outer:exit 2b-f5e93961c987fbff0e5224ae888679f08d1f8cb0-ed9042ba9b999464-01
2021-08-24T05:12:12.335Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:12:12.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-2595aaa2b34264cf3574a193e04817342a74ff09-97fcdac13781be83-01 outer:exit 2b-2595aaa2b34264cf3574a193e04817342a74ff09-0ada52fd039f0445-01
2021-08-24T05:12:12.339Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:12:12.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e739e577d8d54074d57c2aa79fe0ed0e82f8fca-32776376f8b6474a-01 outer:exit 2b-3e739e577d8d54074d57c2aa79fe0ed0e82f8fca-2929d8295af17426-01
2021-08-24T05:12:12.349Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:12:12.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecda0ca2089992e9becf17d6ea6d5393a722e127-501e2b664469d344-01 outer:exit 2b-ecda0ca2089992e9becf17d6ea6d5393a722e127-d00fa346cbeaf935-01
2021-08-24T05:12:12.366Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:12:12.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-24ce7961944780bef32a8a5ace49377d3880ac2a-86aecb66dbd5f55f-01 outer:exit 2b-24ce7961944780bef32a8a5ace49377d3880ac2a-5266c87e79db3fb3-01
2021-08-24T05:12:12.448Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:12:12.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-60a905ff82ba4191723254b400930efce9380853-467943cdc440eddf-01 outer:exit 2b-60a905ff82ba4191723254b400930efce9380853-eb6268d393c1bad7-01
2021-08-24T05:12:12.452Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:12:12.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2a5ae4362ffc423d86dec0fb0a574e9461aa814-32cf567d370d0ec4-01 outer:exit 2b-d2a5ae4362ffc423d86dec0fb0a574e9461aa814-f32c65af30337c15-01
2021-08-24T05:12:12.454Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:12:12.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffd8ebb7994af8c0682b5c7552a39fd2c94a5fce-f24f1e9d20bf53a4-01 outer:exit 2b-ffd8ebb7994af8c0682b5c7552a39fd2c94a5fce-ba543c148320bdf5-01
2021-08-24T05:12:12.458Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:12:12.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-215df432c02179b9c63ca267e0fdf224fd7d62cf-61e1c9454b5241d1-01 outer:exit 2b-215df432c02179b9c63ca267e0fdf224fd7d62cf-6e8b67be3ec78b9c-01
2021-08-24T05:12:12.460Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:12:12.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-497ed415648903546f5ade540915c44b8563af8f-a99a053466fb1781-01 outer:exit 2b-497ed415648903546f5ade540915c44b8563af8f-e57523bd687d3f8d-01
2021-08-24T05:12:12.463Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:12:12.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5885b661a66e384b423f63239e73baa258a13fb-411a5c863acf3d24-01 outer:exit 2b-a5885b661a66e384b423f63239e73baa258a13fb-e3fec8d5c18b5945-01
2021-08-24T05:12:12.465Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:12:12.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-006e1446120d7bf2881541b6d8ce89ed3eb712ff-35eb033f574dd28e-01 outer:exit 2b-006e1446120d7bf2881541b6d8ce89ed3eb712ff-5c9ad13fe0abba64-01
2021-08-24T05:12:12.467Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:12:12.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-d675f97698fd91ead168e8b6685d1c003c9c5e76-e8e64c975a6fc89e-01 outer:exit 2b-d675f97698fd91ead168e8b6685d1c003c9c5e76-d0b1c0d53397f8c6-01
2021-08-24T05:12:12.470Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:12:12.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cc7c865ce4b48bef0c9c516f2c51666f15f926b-443504718590fcc8-01 outer:exit 2b-1cc7c865ce4b48bef0c9c516f2c51666f15f926b-a18b73916d9ace60-01
2021-08-24T05:12:12.473Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:12:12.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf66588bb1fdb7034210ce8b8c45e5bbf567dc63-c265e588d92ba530-01 outer:exit 2b-bf66588bb1fdb7034210ce8b8c45e5bbf567dc63-f3a5663cb6349b30-01
2021-08-24T05:12:12.476Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:12:12.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f818de14067d1ad22267a8cad6a3678de781170-5ac6e88cadfaf81a-01 outer:exit 2b-6f818de14067d1ad22267a8cad6a3678de781170-61dbcead306dea67-01
2021-08-24T05:12:12.479Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:12:12.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4e85030181f63452a8da3b30144f9bcabd862fb-2d7a6f98c3d7293a-01 outer:exit 2b-a4e85030181f63452a8da3b30144f9bcabd862fb-dbb79ace51ef5c1a-01
2021-08-24T05:12:12.481Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:12:12.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c4603e2a73a484be8dcc2f8294fbd4c3c01c95c-ba43cf7be13c8c30-01 outer:exit 2b-6c4603e2a73a484be8dcc2f8294fbd4c3c01c95c-0f20337f3a8ed710-01
2021-08-24T05:12:12.488Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:12:12.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f3f984fcd863751db673355268085c2b331d614-282f9be8335cc7d4-01 outer:exit 2b-6f3f984fcd863751db673355268085c2b331d614-a54fbcf4945207c7-01
2021-08-24T05:12:12.492Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:12:12.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4d0690c80b601c1ca1fd3217697d7fb28528780-8fc8e8415c90e8cc-01 outer:exit 2b-d4d0690c80b601c1ca1fd3217697d7fb28528780-a0f7f428d1407101-01
2021-08-24T05:12:12.502Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:12:12.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-36f27184cb9df34d967403a81e2e1325b58dc47c-8ed9a1208e6374f6-01 outer:exit 2b-36f27184cb9df34d967403a81e2e1325b58dc47c-f80023cce7fb15d5-01
2021-08-24T05:12:12.515Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:12:12.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-f231cae73ad2eb78aa5bea77ccaef1d31d56cb75-55287c46f0450e28-01 outer:exit 2b-f231cae73ad2eb78aa5bea77ccaef1d31d56cb75-b92e1e8ee943bd9a-01
2021-08-24T05:12:12.517Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:12:12.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dde529d38b6f29e8b9777b284c7f5f152855423-302dbfc2e0a4c90a-01 outer:exit 2b-5dde529d38b6f29e8b9777b284c7f5f152855423-4dd28b7846af59df-01
2021-08-24T05:12:12.520Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:12:12.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bbe81871e09c04f729e307167b510dcbca71df4-eae74c6d8bf8b45a-01 outer:exit 2b-0bbe81871e09c04f729e307167b510dcbca71df4-2205b3cbb0abf49a-01
2021-08-24T05:12:12.528Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:12:12.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ff08f90e14d1f0493c9cad3a821c7f534e7c749-c079671ad2201b96-01 outer:exit 2b-3ff08f90e14d1f0493c9cad3a821c7f534e7c749-35e1afee5fd414e4-01
2021-08-24T05:12:12.530Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:12:12.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-99441d0e21e1eaaa8d9d7e6fdb1eafe3f00e2ccb-c174760d8758282c-01 outer:exit 2b-99441d0e21e1eaaa8d9d7e6fdb1eafe3f00e2ccb-2e8978838635be10-01
2021-08-24T05:12:12.532Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:12:12.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-84272a25fc6fcdb5999162a54660decbc1cfb387-fc2fa4a11f9a87e9-01 outer:exit 2b-84272a25fc6fcdb5999162a54660decbc1cfb387-db4906e04cec27d3-01
2021-08-24T05:12:12.534Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:12:12.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-3068cc85a249ed53d30a59c532969c622609cf78-e3dcce360377bb40-01 outer:exit 2b-3068cc85a249ed53d30a59c532969c622609cf78-c8d137df0a77f384-01
2021-08-24T05:12:12.536Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:12:12.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1ac1a9d99e78782118e36c45534ffbc20326744-927503a058a6d3aa-01 outer:exit 2b-d1ac1a9d99e78782118e36c45534ffbc20326744-3af644ab8d979b2d-01
2021-08-24T05:12:12.539Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:12:12.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-76aa38cd44630400c80fc6e5ce0737f4d3990243-3d264eab734d0d60-01 outer:exit 2b-76aa38cd44630400c80fc6e5ce0737f4d3990243-f15d63ca23470312-01
2021-08-24T05:12:12.548Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:12:12.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b5a9fd2b87a55cb227a114c5d87f3c87f2b1141-9426110d23d28ac0-01 outer:exit 2b-9b5a9fd2b87a55cb227a114c5d87f3c87f2b1141-b6bfb1b94399ee49-01
2021-08-24T05:12:12.560Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:12:12.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d82821bf1f088f2dd21609182662d1ecfed621f-65c967c418ea8031-01 outer:exit 2b-0d82821bf1f088f2dd21609182662d1ecfed621f-746ccc02dc8ef0db-01
2021-08-24T05:12:12.563Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:12:12.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb8515e81e29349fa1ac9aa5ccafedca2432710e-07a444f14799c28f-01 outer:exit 2b-eb8515e81e29349fa1ac9aa5ccafedca2432710e-511902e34e242773-01
2021-08-24T05:12:12.566Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:12:12.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-98502da64f7f77b54593412e7f21e7214727e6e9-f3a3704e358b422c-01 outer:exit 2b-98502da64f7f77b54593412e7f21e7214727e6e9-c829edc7066adb70-01
2021-08-24T05:12:12.569Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:12:12.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c08c75d005c736f8a1d01d09fc5ec644d8cd19f-2854950e48ecfb67-01 outer:exit 2b-2c08c75d005c736f8a1d01d09fc5ec644d8cd19f-a3cccb4bf9aa49b3-01
2021-08-24T05:12:12.601Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (378ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:18.710Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:18.711Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:18.711Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:18.712Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:18.792Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:18.856Z appoptics:patching patched crypto 
2021-08-24T05:12:18.881Z appoptics:patching patched https 
2021-08-24T05:12:18.881Z appoptics:patching patched http 
2021-08-24T05:12:18.944Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:18.945Z appoptics:patching patched fs 
2021-08-24T05:12:18.963Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v16.7.0)
2021-08-24T05:12:18.972Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2021-08-24T05:12:19.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-4379daf1174a6c1e51725dec3ac87e932d05d19a-234e5e0bbc8504a6-01 outer:exit 2b-4379daf1174a6c1e51725dec3ac87e932d05d19a-4a417dff70a6f25c-01
2021-08-24T05:12:19.117Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:12:19.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-52c5eb7aaa5a8a7900f26545573bd0cd084fb36c-7587834699f1f0ed-01 outer:exit 2b-52c5eb7aaa5a8a7900f26545573bd0cd084fb36c-13e1c79f484916e9-01
2021-08-24T05:12:19.152Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:12:19.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-01914ba44ada235d8268b702ee58bc475f340881-012a43f463f262cb-01 outer:exit 2b-01914ba44ada235d8268b702ee58bc475f340881-9acee04ab528acaf-01
2021-08-24T05:12:19.155Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:12:19.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-e41b981c44b9da8c64ac932f6f5a26fa71985321-be7a60a0d29cd971-01 outer:exit 2b-e41b981c44b9da8c64ac932f6f5a26fa71985321-5cab1674354eafce-01
2021-08-24T05:12:19.158Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:12:19.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c450ee9a0cfd6803987003edbb3042a0ce8bdc2-b388305779723a95-01 outer:exit 2b-4c450ee9a0cfd6803987003edbb3042a0ce8bdc2-ac797960371f6be3-01
2021-08-24T05:12:19.163Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:12:19.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5caf538244756d130a7ed79a30ec3b146c7a4ab-4594ab77a6799abe-01 outer:exit 2b-a5caf538244756d130a7ed79a30ec3b146c7a4ab-f9f0f8a832bb2d81-01
2021-08-24T05:12:19.167Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:12:19.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccc5f6b298bcc3200c58cc4b9a60b471b73bdeee-6bad7a1d8d50c23f-01 outer:exit 2b-ccc5f6b298bcc3200c58cc4b9a60b471b73bdeee-7d9cab4e7e70e63f-01
2021-08-24T05:12:19.170Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:12:19.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fa9ee6b6332bf81234a3c0565d27f447b63dded-8154a7fcc8c78b93-01 outer:exit 2b-2fa9ee6b6332bf81234a3c0565d27f447b63dded-739f1a5086893758-01
2021-08-24T05:12:19.172Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:12:19.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb31ea8fdb97ea14bc8b937f44fc560550dc6c5b-ab0f592f3c3b7193-01 outer:exit 2b-cb31ea8fdb97ea14bc8b937f44fc560550dc6c5b-aac0a38fc95832dc-01
2021-08-24T05:12:19.175Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:12:19.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a4245ce2e7258ee90001fe939e2466a9a7a2622-b10e4aab95193817-01 outer:exit 2b-6a4245ce2e7258ee90001fe939e2466a9a7a2622-9f8bbb4f052b23a3-01
2021-08-24T05:12:19.178Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:12:19.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5c6dd143eba3a6061dab82299b0a2e9bb4511a6-e17a10a5f6c60ebf-01 outer:exit 2b-e5c6dd143eba3a6061dab82299b0a2e9bb4511a6-8ed1e52af371ab23-01
2021-08-24T05:12:19.182Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:12:19.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3ef32ba5dc9c524af9a35cc6d647de9adeb08c7-c644b145e8b6bd45-01 outer:exit 2b-a3ef32ba5dc9c524af9a35cc6d647de9adeb08c7-c7dbeb83eb7750c1-01
2021-08-24T05:12:19.192Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:12:19.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a2ae27545bcef18706a81cc337a95c75323afd7-495d8b836fa5cc33-01 outer:exit 2b-5a2ae27545bcef18706a81cc337a95c75323afd7-bfaf9d20b02720c7-01
2021-08-24T05:12:19.208Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:12:19.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e8504b47d69403933d785d0e389943b115ef9f6-53e4bfae5d9814e9-01 outer:exit 2b-0e8504b47d69403933d785d0e389943b115ef9f6-d2ca8f5e1a99876c-01
2021-08-24T05:12:19.253Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:12:19.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-faf847f7185ab078409983114243685982c1b101-2367d330cc7f0e25-01 outer:exit 2b-faf847f7185ab078409983114243685982c1b101-9b1197a8b5375ecc-01
2021-08-24T05:12:19.256Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:12:19.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ad4cef986a21aff0eca29bed250745a41812453-16e2ab6d20e153ad-01 outer:exit 2b-3ad4cef986a21aff0eca29bed250745a41812453-09626d6a9c2e5826-01
2021-08-24T05:12:19.258Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:12:19.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b5cbeafb67cb456469f02dde7bbdb1f69be5758-cd14f4705a67a089-01 outer:exit 2b-9b5cbeafb67cb456469f02dde7bbdb1f69be5758-e88011f561b1658d-01
2021-08-24T05:12:19.261Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:12:19.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b88b1961f126749fef5e610c73cb434a367ba80-4c2aad1734491055-01 outer:exit 2b-0b88b1961f126749fef5e610c73cb434a367ba80-b39bab3c211a07cb-01
2021-08-24T05:12:19.264Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:12:19.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-30002587b566758c7e7ed003720c1415a291d92e-96238663177c7d10-01 outer:exit 2b-30002587b566758c7e7ed003720c1415a291d92e-1b95ea2acacd949d-01
2021-08-24T05:12:19.266Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:12:19.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-68a06cecd9c4e1dd52fa877da5de76c1d9213b19-9af4f02d6a53666c-01 outer:exit 2b-68a06cecd9c4e1dd52fa877da5de76c1d9213b19-326d0bf550e1ff6c-01
2021-08-24T05:12:19.269Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:12:19.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b2819689180ac0be354d0b5bf7034390878d9fe-bf94cb162934d826-01 outer:exit 2b-3b2819689180ac0be354d0b5bf7034390878d9fe-01a446f53203f694-01
2021-08-24T05:12:19.271Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:12:19.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2f357a28099cdaed0f1879b161c71f40459603d-c57e1cd8111b80ee-01 outer:exit 2b-b2f357a28099cdaed0f1879b161c71f40459603d-b18c51443ac37a03-01
2021-08-24T05:12:19.273Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:12:19.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-615d86c5b1f8c5be6cdec54b447a59ea33b175d9-fdd6afcc7d278573-01 outer:exit 2b-615d86c5b1f8c5be6cdec54b447a59ea33b175d9-be0727d3bd795bc9-01
2021-08-24T05:12:19.276Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:12:19.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cd270fe5ed04e74deee9d2bf37ae4901ad2a077-f3d2f8a1fa682e96-01 outer:exit 2b-2cd270fe5ed04e74deee9d2bf37ae4901ad2a077-e837d475e083dcd8-01
2021-08-24T05:12:19.280Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:12:19.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfeb656fa0ca77fe89e7ab4f3fc882068c435859-f4a02c613975f895-01 outer:exit 2b-bfeb656fa0ca77fe89e7ab4f3fc882068c435859-afe9911dee8a80bc-01
2021-08-24T05:12:19.282Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:12:19.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-001298fac38a2fa24473c5f6f4a78ad361422768-4f75d598ee66cd3e-01 outer:exit 2b-001298fac38a2fa24473c5f6f4a78ad361422768-64694771b222b3cc-01
2021-08-24T05:12:19.285Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:12:19.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-0abddae76ef0e41da7a9eee61d820c5548ee6ab3-8a1630fc542add79-01 outer:exit 2b-0abddae76ef0e41da7a9eee61d820c5548ee6ab3-ef6ca7221df7a9c6-01
2021-08-24T05:12:19.291Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:12:19.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-6922ea88c3e36efaa1c97201e8a893985e74a699-777b699bce6b6977-01 outer:exit 2b-6922ea88c3e36efaa1c97201e8a893985e74a699-2aa3a85873c4f1d3-01
2021-08-24T05:12:19.296Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:12:19.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-5951d3573b30eab0dbc761673ac39b9c772aac87-17ac2ef3656746be-01 outer:exit 2b-5951d3573b30eab0dbc761673ac39b9c772aac87-c6d7c39c3e7a675f-01
2021-08-24T05:12:19.306Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:12:19.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-af7f09d935ec82e3b3eefdb3ba4ed71239312936-2a6efdc9430a4b9a-01 outer:exit 2b-af7f09d935ec82e3b3eefdb3ba4ed71239312936-7349cf12e4fe0a9e-01
2021-08-24T05:12:19.313Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:12:19.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-7156c31a0813c504bbee2d444016559d0437a3bc-61cba26434a5ab11-01 outer:exit 2b-7156c31a0813c504bbee2d444016559d0437a3bc-726fe269047d2d37-01
2021-08-24T05:12:19.315Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:12:19.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3e03557318aec4c8cefc0f324a67ca7b457b125-cd0179e68f3711ff-01 outer:exit 2b-d3e03557318aec4c8cefc0f324a67ca7b457b125-012f0861bb9d1d9f-01
2021-08-24T05:12:19.318Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:12:19.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-998d3d6195c6e8d46e272af1716961600d408b96-4b9b7cb3c8fafa5b-01 outer:exit 2b-998d3d6195c6e8d46e272af1716961600d408b96-9cb5e78fc4f6b6c0-01
2021-08-24T05:12:19.326Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:12:19.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f6dace93f33391f39388abc1d840680db768977-f1b68d2f8698f1a5-01 outer:exit 2b-8f6dace93f33391f39388abc1d840680db768977-c8a5465717ff4b67-01
2021-08-24T05:12:19.328Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:12:19.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-35ef1a2c032f32d3a1c9c8f9ba2032ce5aaf0937-96b383729252ed9b-01 outer:exit 2b-35ef1a2c032f32d3a1c9c8f9ba2032ce5aaf0937-6a65678e1fa024cc-01
2021-08-24T05:12:19.331Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:12:19.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7412654eb57d9d085a59e166b86e96a6ae8aa4b-69e8bc8986d988ee-01 outer:exit 2b-d7412654eb57d9d085a59e166b86e96a6ae8aa4b-91ea3c872a0b26b4-01
2021-08-24T05:12:19.333Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:12:19.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-17add63d15156f989e9f6adf9c580587f66e5192-fb8e224eb1098431-01 outer:exit 2b-17add63d15156f989e9f6adf9c580587f66e5192-bf743bd31c1153c3-01
2021-08-24T05:12:19.335Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:12:19.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9c924e2697f241bbd772b0728382b8b07061d22-f62485d28d7ac8b4-01 outer:exit 2b-d9c924e2697f241bbd772b0728382b8b07061d22-204114f84025962f-01
2021-08-24T05:12:19.337Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:12:19.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-a213c58fabce69c5689199c61587dd33e00e6da9-e7054711bd67a4da-01 outer:exit 2b-a213c58fabce69c5689199c61587dd33e00e6da9-5e3b2aa9f5509dfd-01
2021-08-24T05:12:19.349Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:12:19.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ded96c1cb2e796d971eae0f8bdf43b242b41ef7-733ffc43eaa23d92-01 outer:exit 2b-1ded96c1cb2e796d971eae0f8bdf43b242b41ef7-c59d7105994c8e80-01
2021-08-24T05:12:19.358Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:12:19.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-335383b5c7e5a958e0d31044be084ecffb4adb6f-3065e16e32da1766-01 outer:exit 2b-335383b5c7e5a958e0d31044be084ecffb4adb6f-cf4d0ca3b214e8a5-01
2021-08-24T05:12:19.362Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:12:19.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-61702f5be1700b34aea6d9edb3e897d4e6e682f6-ba1b977eb0bb2448-01 outer:exit 2b-61702f5be1700b34aea6d9edb3e897d4e6e682f6-8023e0acf8cb51e4-01
2021-08-24T05:12:19.365Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:12:19.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-238519486cbed957f4982d74feff0338acc4a62b-5db24b8be79f410b-01 outer:exit 2b-238519486cbed957f4982d74feff0338acc4a62b-2606b35022ed7623-01
2021-08-24T05:12:19.368Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:12:19.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fe1a4616b210d3a1d1b3eddfdbf04d898ae30fe-0d872cf84fa05918-01 outer:exit 2b-2fe1a4616b210d3a1d1b3eddfdbf04d898ae30fe-7d0f0f9abb444547-01
2021-08-24T05:12:19.398Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (320ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:25.125Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:25.126Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:25.126Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:25.127Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:25.192Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:25.239Z appoptics:patching patched crypto 
2021-08-24T05:12:25.262Z appoptics:patching patched https 
2021-08-24T05:12:25.262Z appoptics:patching patched http 
2021-08-24T05:12:25.321Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:25.321Z appoptics:patching patched fs 
2021-08-24T05:12:25.339Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v16.7.0)
2021-08-24T05:12:25.346Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2021-08-24T05:12:25.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-86be972b3ac9e3ebc331253db717185ec1bd6a2f-45ed305cabe6bd82-01 outer:exit 2b-86be972b3ac9e3ebc331253db717185ec1bd6a2f-ae472eff559875c1-01
2021-08-24T05:12:25.487Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:12:25.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-c78f44dbca3cdab12e6592afae1f222990210cc2-4fb5fe421571cf73-01 outer:exit 2b-c78f44dbca3cdab12e6592afae1f222990210cc2-1a9b7a375e2b5584-01
2021-08-24T05:12:25.548Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:12:25.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-42a5ad89622368fbae3da2b5608c334f453588f7-9e59b191220ad1d4-01 outer:exit 2b-42a5ad89622368fbae3da2b5608c334f453588f7-5da67c141e64f4ad-01
2021-08-24T05:12:25.551Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:12:25.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cdd81e61e5438d48c98fc6aa63dde3096c90089-bfff4a35c0eb0ad5-01 outer:exit 2b-8cdd81e61e5438d48c98fc6aa63dde3096c90089-21447ae857c2573c-01
2021-08-24T05:12:25.554Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:12:25.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-169bc4ea2a71735c0e016801f4c7c8c07f766ee4-9e01f85cc77da43a-01 outer:exit 2b-169bc4ea2a71735c0e016801f4c7c8c07f766ee4-62537a60b2be39a0-01
2021-08-24T05:12:25.560Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:12:25.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-872c16944e41b233d9bfe600d7eecc009f2cc69e-7137187c45130966-01 outer:exit 2b-872c16944e41b233d9bfe600d7eecc009f2cc69e-73ddc1e94ba4a17d-01
2021-08-24T05:12:25.563Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:12:25.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-77f86bd3cdfa6979d663d4c9ba669c0b4c5ac3ea-087f0af7498b921f-01 outer:exit 2b-77f86bd3cdfa6979d663d4c9ba669c0b4c5ac3ea-f31d5d38bdf6ff27-01
2021-08-24T05:12:25.566Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:12:25.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-937e5e4500c37f7d0dece38a39b03358a80f6fb2-40e1e7efbe8d7a97-01 outer:exit 2b-937e5e4500c37f7d0dece38a39b03358a80f6fb2-4fdc2862fbcab28c-01
2021-08-24T05:12:25.569Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:12:25.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4fab8c613a14412a42c28cd9e8097fa5019e07d-d7224f6ff7de5bdb-01 outer:exit 2b-f4fab8c613a14412a42c28cd9e8097fa5019e07d-7760195cad1b3af7-01
2021-08-24T05:12:25.571Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:12:25.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-94b88900ca5b8ea8eb4cf7fb77431c38c844422c-e5e7a85b4d1f4a2b-01 outer:exit 2b-94b88900ca5b8ea8eb4cf7fb77431c38c844422c-c243e3326fee74dc-01
2021-08-24T05:12:25.575Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:12:25.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-dccb3311fa9fe472abd4b00ce40d48f67262a8b1-b0911dea65651ee2-01 outer:exit 2b-dccb3311fa9fe472abd4b00ce40d48f67262a8b1-f0c2d1b31b22d655-01
2021-08-24T05:12:25.579Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:12:25.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-7431495b61a298460870cd41005b540688c9f08d-f52aca82264c9ee4-01 outer:exit 2b-7431495b61a298460870cd41005b540688c9f08d-00f89046f597f6f4-01
2021-08-24T05:12:25.588Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:12:25.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb97d4404d0f16aaf3ba3ba6372d18ae6711a6c0-f4c804ca8d4318cd-01 outer:exit 2b-bb97d4404d0f16aaf3ba3ba6372d18ae6711a6c0-a3dc1f423bd554da-01
2021-08-24T05:12:25.602Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:12:25.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e2d8788a8e5b3265300faf63a5fab5a2d7ab66b-ad2cf246bac63598-01 outer:exit 2b-0e2d8788a8e5b3265300faf63a5fab5a2d7ab66b-3a34b029ebff0682-01
2021-08-24T05:12:25.647Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:12:25.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f62f1b5f254b4f7de0aa6776961aed60cec9e21-6a927791729ebf0c-01 outer:exit 2b-6f62f1b5f254b4f7de0aa6776961aed60cec9e21-096bc59c040d073d-01
2021-08-24T05:12:25.650Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:12:25.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f5ba306663f97b4994994c4af15caba01242f36-9331304c8d3aa242-01 outer:exit 2b-9f5ba306663f97b4994994c4af15caba01242f36-d37bed8391e4a789-01
2021-08-24T05:12:25.653Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:12:25.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-da3040c5441a2dccdf9f9b5eb9a01631f71a5bc5-6083ad04ef3df8ec-01 outer:exit 2b-da3040c5441a2dccdf9f9b5eb9a01631f71a5bc5-8264a6508024cbab-01
2021-08-24T05:12:25.656Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:12:25.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-2175a2a54c91e5207ed3738e0d5ebd5a60616f23-73f15cc4d7abadac-01 outer:exit 2b-2175a2a54c91e5207ed3738e0d5ebd5a60616f23-d14a399423efae69-01
2021-08-24T05:12:25.658Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:12:25.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-324a646a950a5295b681af63b474a97438b34070-0b63aa8be83c916a-01 outer:exit 2b-324a646a950a5295b681af63b474a97438b34070-0a73d75ea18cf7c2-01
2021-08-24T05:12:25.660Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:12:25.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bc99b56d21716f6eb6eb43b2466785eb4debc8f-4ddb69c974459845-01 outer:exit 2b-6bc99b56d21716f6eb6eb43b2466785eb4debc8f-fa1490acacbdebac-01
2021-08-24T05:12:25.663Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:12:25.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a3ed04a0dc856bc7732391ffe0f24f48075c8ea-3af20d9308fdd7af-01 outer:exit 2b-8a3ed04a0dc856bc7732391ffe0f24f48075c8ea-f91300ab121ceaf2-01
2021-08-24T05:12:25.665Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:12:25.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-92cce0f68fec44b09c77b3bea0fe50ed5c7acc2c-8d401a2383f9b91b-01 outer:exit 2b-92cce0f68fec44b09c77b3bea0fe50ed5c7acc2c-921dc1dfa83e75ff-01
2021-08-24T05:12:25.667Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:12:25.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6ed600799b25a834ad91e7d5cb879e2cf4a57e5-f231cdc1556a296e-01 outer:exit 2b-a6ed600799b25a834ad91e7d5cb879e2cf4a57e5-19708eca5d2b412a-01
2021-08-24T05:12:25.670Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:12:25.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-16dfc34461c1935af6487f9b03a2779acfad81a1-f607a34213a63613-01 outer:exit 2b-16dfc34461c1935af6487f9b03a2779acfad81a1-4264a3f3dd77316e-01
2021-08-24T05:12:25.673Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:12:25.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-79295e01ebb2796baf3e5be4a9cb572ef1a85499-7bf2b8c0d164b2b9-01 outer:exit 2b-79295e01ebb2796baf3e5be4a9cb572ef1a85499-ed669ed025fb745a-01
2021-08-24T05:12:25.675Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:12:25.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7abd666d81f4b214f0dcce42a285dc62343c2b5-8cca55baa82e441a-01 outer:exit 2b-c7abd666d81f4b214f0dcce42a285dc62343c2b5-aeb594304104fbe3-01
2021-08-24T05:12:25.678Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:12:25.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b8cc6eb9b48f67e48f77aeebffcd9dfb1fad114-cf20f409e8e3e2e4-01 outer:exit 2b-2b8cc6eb9b48f67e48f77aeebffcd9dfb1fad114-b9336855b54a858f-01
2021-08-24T05:12:25.685Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:12:25.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f6f6b6e67133670255e580b1ea6b5f34c606cc6-a6507763b925b80e-01 outer:exit 2b-8f6f6b6e67133670255e580b1ea6b5f34c606cc6-71994ab7fd084131-01
2021-08-24T05:12:25.689Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:12:25.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e0e0ca93b446deb15a8f9709738ea31175151af-76713406a5db486c-01 outer:exit 2b-7e0e0ca93b446deb15a8f9709738ea31175151af-8c54e4ab8740e154-01
2021-08-24T05:12:25.697Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:12:25.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-c27d5c9d8ef120a91d4eadf59e22227de2c52e6e-495346475b929c9f-01 outer:exit 2b-c27d5c9d8ef120a91d4eadf59e22227de2c52e6e-00b8192a22c53255-01
2021-08-24T05:12:25.704Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:12:25.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d9cf9241f718cb9dae66ff19f5e45c06656f65d-f4442311ae3b9b88-01 outer:exit 2b-9d9cf9241f718cb9dae66ff19f5e45c06656f65d-b2be57207ed78682-01
2021-08-24T05:12:25.706Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:12:25.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-d652be60eca7439b01ede4b2b55e91026ee010b6-477c12de4bc732ee-01 outer:exit 2b-d652be60eca7439b01ede4b2b55e91026ee010b6-dd207ac6996ab43a-01
2021-08-24T05:12:25.710Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:12:25.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-313b542ff395dc84802b2b2bd7273b4186f52389-4af91d25ec73fe00-01 outer:exit 2b-313b542ff395dc84802b2b2bd7273b4186f52389-d8e0d6bd8603b3ae-01
2021-08-24T05:12:25.716Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:12:25.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-03714b730d85ac070fae9b1c3de09ad287b12575-b5d6b120cce12747-01 outer:exit 2b-03714b730d85ac070fae9b1c3de09ad287b12575-f1ec3c26975b5c19-01
2021-08-24T05:12:25.718Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:12:25.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-3106910608c6f13d181dd4ed467e8fe159bf972f-19684548d4865873-01 outer:exit 2b-3106910608c6f13d181dd4ed467e8fe159bf972f-e59cac62f9734063-01
2021-08-24T05:12:25.721Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:12:25.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-131d13e4aee97dc5980779e980bb7205067eabb2-f37c99a90b90f80c-01 outer:exit 2b-131d13e4aee97dc5980779e980bb7205067eabb2-d1c9245eed1d94e5-01
2021-08-24T05:12:25.723Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:12:25.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7597923c72008b4e8b697fc9a657a36849391ed-ca06d76d17c458fa-01 outer:exit 2b-f7597923c72008b4e8b697fc9a657a36849391ed-09fb1098f0aca64e-01
2021-08-24T05:12:25.725Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:12:25.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-918cc9dfda97076aa42abaf63ec8d4953fa18698-c22a95bce02f2b78-01 outer:exit 2b-918cc9dfda97076aa42abaf63ec8d4953fa18698-92bad4b3796442c0-01
2021-08-24T05:12:25.727Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:12:25.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d553d2ff3147e855989deb91a2fa978a72beec4-c14d7e3ba6fc8b24-01 outer:exit 2b-0d553d2ff3147e855989deb91a2fa978a72beec4-ff68016b87debd70-01
2021-08-24T05:12:25.737Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:12:25.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-18a4f2d23728eaa809ca3dcecbf9743fdd97a559-d0c36fb3de6b11a6-01 outer:exit 2b-18a4f2d23728eaa809ca3dcecbf9743fdd97a559-7a235ba7ffcb38e9-01
2021-08-24T05:12:25.746Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:12:25.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-296696533519b3adabb05fc4e1f74f45bd27ff9f-15af3ea83f0947ef-01 outer:exit 2b-296696533519b3adabb05fc4e1f74f45bd27ff9f-97780a9c09fd726d-01
2021-08-24T05:12:25.749Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:12:25.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fd626f3ec3b46e5bd0ddbabd41469c9eb3da653-6e31042e0793a4c8-01 outer:exit 2b-2fd626f3ec3b46e5bd0ddbabd41469c9eb3da653-7cf8ece5a1dbae66-01
2021-08-24T05:12:25.752Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:12:25.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-4da1520f1691c15b57fa4f08a8d4d081462ff072-fb66eea1a4a0be42-01 outer:exit 2b-4da1520f1691c15b57fa4f08a8d4d081462ff072-e8e81a3d5a6379ea-01
2021-08-24T05:12:25.755Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:12:25.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-edc094be7ea10892fd9fecbc91f62250265e61ab-75ffcbcfd98873f1-01 outer:exit 2b-edc094be7ea10892fd9fecbc91f62250265e61ab-e1d8b7a631d11cac-01
2021-08-24T05:12:25.787Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (341ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:32.310Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:32.311Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:32.311Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:32.312Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:32.390Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:32.437Z appoptics:patching patched crypto 
2021-08-24T05:12:32.461Z appoptics:patching patched https 
2021-08-24T05:12:32.462Z appoptics:patching patched http 
2021-08-24T05:12:32.521Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:32.521Z appoptics:patching patched fs 
2021-08-24T05:12:32.539Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v16.7.0)
2021-08-24T05:12:32.547Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2021-08-24T05:12:32.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-3679199b3f90085e0a6833e6352539226b462dcb-5f0965b273341bb8-01 outer:exit 2b-3679199b3f90085e0a6833e6352539226b462dcb-3265a9082985151e-01
2021-08-24T05:12:32.696Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:12:32.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-c37b15b784276b5084b7578679aab57ebc61cb3a-669b09c62c73b5fd-01 outer:exit 2b-c37b15b784276b5084b7578679aab57ebc61cb3a-61f8f2248b8e920d-01
2021-08-24T05:12:32.747Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:12:32.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d665bdf497a6c0b99002e4cf841713a757444c3-7cc088f9de3d3232-01 outer:exit 2b-0d665bdf497a6c0b99002e4cf841713a757444c3-ad7c715af22a3d1e-01
2021-08-24T05:12:32.750Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:12:32.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-92bdafaf28a44ec9a4aea7a1007fcbfe2cdf3700-c2a558e069531d59-01 outer:exit 2b-92bdafaf28a44ec9a4aea7a1007fcbfe2cdf3700-bd5d8e1ae247dd92-01
2021-08-24T05:12:32.753Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:12:32.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d058a1a90e443f96caf066605239c86bbc5ea8c-eb89131ab87c147d-01 outer:exit 2b-8d058a1a90e443f96caf066605239c86bbc5ea8c-ffc4c776b37e90bc-01
2021-08-24T05:12:32.758Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:12:32.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-de08a95053340acbb2c112cc4a53a50bc59b68f4-5c94a0ec5e0b2cca-01 outer:exit 2b-de08a95053340acbb2c112cc4a53a50bc59b68f4-55d3c465e96d86f6-01
2021-08-24T05:12:32.761Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:12:32.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c4ba47c1a126f21ba851b3be49e2ab3f13ea91b-b35af84d05543b4a-01 outer:exit 2b-4c4ba47c1a126f21ba851b3be49e2ab3f13ea91b-802ed4a99630eee2-01
2021-08-24T05:12:32.764Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:12:32.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bf78b29bd17810a19f560333db6357131adda1b-6b0f1a2cb742c4b8-01 outer:exit 2b-9bf78b29bd17810a19f560333db6357131adda1b-206d315896234e1e-01
2021-08-24T05:12:32.772Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:12:32.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b812bfd968aea3101f0058f43a8b9c24b1410f4-ed5989d2e808f8e4-01 outer:exit 2b-1b812bfd968aea3101f0058f43a8b9c24b1410f4-50ce0efd05d1fdbf-01
2021-08-24T05:12:32.776Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:12:32.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-8447be547af5a037a1bbbaf2b2da2f97d26f7973-4a6c7d0c10443861-01 outer:exit 2b-8447be547af5a037a1bbbaf2b2da2f97d26f7973-5b2edeb5ff755226-01
2021-08-24T05:12:32.779Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:12:32.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2d99315035befc78e2ad95f49b89f76dd96a5e4-789ec3c172faf421-01 outer:exit 2b-c2d99315035befc78e2ad95f49b89f76dd96a5e4-1998406d70b3b34a-01
2021-08-24T05:12:32.784Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:12:32.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-418bc56b4772f16944ab730115c36814f2adfe9a-6f0aaa030de904c6-01 outer:exit 2b-418bc56b4772f16944ab730115c36814f2adfe9a-e496ce622c39e6a6-01
2021-08-24T05:12:32.793Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:12:32.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-d645ac8e04f44ef33589fda9f3e8bbc0c65df4f6-ba4fead8318eccdb-01 outer:exit 2b-d645ac8e04f44ef33589fda9f3e8bbc0c65df4f6-c977748a72f89280-01
2021-08-24T05:12:32.810Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:12:32.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd9e668125ebdc8e62ac1e5fea72d177c084104b-7ce872772fca9035-01 outer:exit 2b-bd9e668125ebdc8e62ac1e5fea72d177c084104b-ac560000d20ba707-01
2021-08-24T05:12:32.851Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:12:32.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a1a10694e8c8e96fcec02b2bcede9851b81bad8-17c9e3ebb0f70022-01 outer:exit 2b-2a1a10694e8c8e96fcec02b2bcede9851b81bad8-dd7105656d6bb672-01
2021-08-24T05:12:32.855Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:12:32.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8519438b8c5d12e3be7142b3cb7cc397a27f1b1-d9d2bebc0147fab8-01 outer:exit 2b-c8519438b8c5d12e3be7142b3cb7cc397a27f1b1-f41c8db11e276fbb-01
2021-08-24T05:12:32.858Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:12:32.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-ced3a0c5ea2c380b15fd8b33b49f59f969d7430f-a82f120c1951a95d-01 outer:exit 2b-ced3a0c5ea2c380b15fd8b33b49f59f969d7430f-9a66b2e55a8bafb9-01
2021-08-24T05:12:32.861Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:12:32.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-27fdf4b193fe603e4eb928478a00c6d2fdf86679-0a0ae8f70d766f3f-01 outer:exit 2b-27fdf4b193fe603e4eb928478a00c6d2fdf86679-ef61d1fc8bd1ce69-01
2021-08-24T05:12:32.863Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:12:32.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-030387be549f31cedb9b47b471be177ce1685c7d-8dfac0656f201282-01 outer:exit 2b-030387be549f31cedb9b47b471be177ce1685c7d-849c340106f2d406-01
2021-08-24T05:12:32.865Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:12:32.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-909c3f92d52f5788b8d692cec95ea5235d445949-5b6488c3a2d2792c-01 outer:exit 2b-909c3f92d52f5788b8d692cec95ea5235d445949-c39732282311d50e-01
2021-08-24T05:12:32.868Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:12:32.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-d05ce0c495d8abcce4e7ea788022a7c335505960-d32c4a01f98569a8-01 outer:exit 2b-d05ce0c495d8abcce4e7ea788022a7c335505960-a3f8d3246c605f70-01
2021-08-24T05:12:32.873Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:12:32.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad164852139cb04b69d500d438da82be33815b19-355a558da714c11b-01 outer:exit 2b-ad164852139cb04b69d500d438da82be33815b19-307282eaea9fb3c2-01
2021-08-24T05:12:32.875Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:12:32.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c77cf0eb6af3f0ed65602a752810b419e6e7da2-3b63969f31137b38-01 outer:exit 2b-9c77cf0eb6af3f0ed65602a752810b419e6e7da2-019972074db7dda6-01
2021-08-24T05:12:32.878Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:12:32.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-769bf13aa16a01347f0d78e0a2c3de670a9ab534-a0deb899a73e8ef0-01 outer:exit 2b-769bf13aa16a01347f0d78e0a2c3de670a9ab534-797c34cf8cd12b4c-01
2021-08-24T05:12:32.881Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:12:32.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-651f48b1c7623c76b78dd37761214f7cc72f63b9-e7c42e830c3bdf0f-01 outer:exit 2b-651f48b1c7623c76b78dd37761214f7cc72f63b9-7a165804abf38bbf-01
2021-08-24T05:12:32.883Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:12:32.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c06fb695ea9b223bd530f16cf0feba19c4dfb5a-68a191c8f9a3014c-01 outer:exit 2b-3c06fb695ea9b223bd530f16cf0feba19c4dfb5a-d8ed816763b537b5-01
2021-08-24T05:12:32.886Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:12:32.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-9df9da03adccf437b84d0f90cc490e0d4c836092-2ff24a100b285b87-01 outer:exit 2b-9df9da03adccf437b84d0f90cc490e0d4c836092-21480c0b0e0e5541-01
2021-08-24T05:12:32.892Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:12:32.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-03b5b7cca655ce55531ee08ea089cc39fe1efbff-281d16699e02c108-01 outer:exit 2b-03b5b7cca655ce55531ee08ea089cc39fe1efbff-7cde475c916341b3-01
2021-08-24T05:12:32.897Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:12:32.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-279342386ff64f60cf1af455250da27c2641852f-fbf69156005bb354-01 outer:exit 2b-279342386ff64f60cf1af455250da27c2641852f-ffc65db5a93544ff-01
2021-08-24T05:12:32.907Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:12:32.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-e23f263cd1878451dde57e9b2542afca2b5d11f1-f6d9d4a85d049705-01 outer:exit 2b-e23f263cd1878451dde57e9b2542afca2b5d11f1-f38f3896b8152e48-01
2021-08-24T05:12:32.914Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:12:32.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-a97669749f75f58df775c7ee2e6f8bd40b01b24d-6d6e47435f556331-01 outer:exit 2b-a97669749f75f58df775c7ee2e6f8bd40b01b24d-54f602b0e921b22b-01
2021-08-24T05:12:32.916Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:12:32.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-585b8e3aebf5f6ddfb71763636a35d3745548b92-fdd24dec49787632-01 outer:exit 2b-585b8e3aebf5f6ddfb71763636a35d3745548b92-193d76ef442f6a62-01
2021-08-24T05:12:32.920Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:12:32.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-a582cca7c00f8b518a1096c12226eb6a0c275a51-060bf366238f9c14-01 outer:exit 2b-a582cca7c00f8b518a1096c12226eb6a0c275a51-db44e94344250529-01
2021-08-24T05:12:32.928Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:12:32.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ce69933852e84bd0934446a808c30a86bff9913-c1dd4b561982b4ed-01 outer:exit 2b-3ce69933852e84bd0934446a808c30a86bff9913-43be9690c9b51b6d-01
2021-08-24T05:12:32.930Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:12:32.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c7846dcba1c5ce44f4c8e992c2aefc9984e6f1a-c8bd427095e26780-01 outer:exit 2b-6c7846dcba1c5ce44f4c8e992c2aefc9984e6f1a-f7c3f72091f6529a-01
2021-08-24T05:12:32.932Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:12:32.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-3834a558b48d59be0f45653253440ecd7591f049-dc82135360644e6f-01 outer:exit 2b-3834a558b48d59be0f45653253440ecd7591f049-f3be156d96ccf3a3-01
2021-08-24T05:12:32.934Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:12:32.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb34c5342d0b3a3a7bd7765d610d1b71219090b5-9053ca7586c8f24f-01 outer:exit 2b-eb34c5342d0b3a3a7bd7765d610d1b71219090b5-bb5ee976f324125c-01
2021-08-24T05:12:32.936Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:12:32.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-f73e8c9c808482880ded8684690c549b524e989f-4d4386437bca31f5-01 outer:exit 2b-f73e8c9c808482880ded8684690c549b524e989f-1098699cb88604f6-01
2021-08-24T05:12:32.939Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:12:32.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-b361d78af6eb2a08cb7e870a19d0e10b04e03730-24c5be5d6dd795cc-01 outer:exit 2b-b361d78af6eb2a08cb7e870a19d0e10b04e03730-06e20655ae44c2ff-01
2021-08-24T05:12:32.949Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:12:32.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-7896ab19c79e311ba3a19e6b23fbd502e85786c4-29e70ffd4bcc82ec-01 outer:exit 2b-7896ab19c79e311ba3a19e6b23fbd502e85786c4-2a2be554a122ddac-01
2021-08-24T05:12:32.958Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:12:32.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-b06dd74fad8891b2afa814a9eb161863c503b839-867f4fb5a516fbc3-01 outer:exit 2b-b06dd74fad8891b2afa814a9eb161863c503b839-d2003956ff1c1c8e-01
2021-08-24T05:12:32.961Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:12:32.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd757f16c9e1af6e472d3e4d70e520642c372f81-57924f273349629e-01 outer:exit 2b-dd757f16c9e1af6e472d3e4d70e520642c372f81-4a479121bde6a4c8-01
2021-08-24T05:12:32.964Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:12:32.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7dd6287d6adc0d8685269904cf0a2e9770d10fd-a180576841bcf6d7-01 outer:exit 2b-a7dd6287d6adc0d8685269904cf0a2e9770d10fd-3a30dad1fe6174b6-01
2021-08-24T05:12:32.967Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:12:32.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-e72fab1434d492a293928996783ad1903f3a5990-cc396195f51d5e9e-01 outer:exit 2b-e72fab1434d492a293928996783ad1903f3a5990-43a97484165e5e1a-01
2021-08-24T05:12:32.997Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (348ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:38.344Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:38.345Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:38.345Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:38.346Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:38.413Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:38.460Z appoptics:patching patched crypto 
2021-08-24T05:12:38.483Z appoptics:patching patched https 
2021-08-24T05:12:38.484Z appoptics:patching patched http 
2021-08-24T05:12:38.543Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:38.543Z appoptics:patching patched fs 
2021-08-24T05:12:38.562Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v16.7.0)
2021-08-24T05:12:38.570Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2021-08-24T05:12:38.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dcf3d6a89ddd2ec0a35327b01d5acb55de4ec02-77944ab913cfad12-01 outer:exit 2b-1dcf3d6a89ddd2ec0a35327b01d5acb55de4ec02-3bbb6263de0b8780-01
2021-08-24T05:12:38.714Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:12:38.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6d9708a5b503ea8d2b274a62a3c0a2ce0d8f548-068d93c9bb708903-01 outer:exit 2b-e6d9708a5b503ea8d2b274a62a3c0a2ce0d8f548-7c17d0e5c57b3e0e-01
2021-08-24T05:12:38.803Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:12:38.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a63c6598edc3c5a51a2ea1b6e73101b830fba4a-aa138b01903cfef9-01 outer:exit 2b-3a63c6598edc3c5a51a2ea1b6e73101b830fba4a-adb7b97a03c3018b-01
2021-08-24T05:12:38.807Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:12:38.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e606eab6c05302f086899c50b5bb6ff1b95d4ee-c065ab3e5fc77723-01 outer:exit 2b-8e606eab6c05302f086899c50b5bb6ff1b95d4ee-99c8f0360c932adb-01
2021-08-24T05:12:38.810Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:12:38.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-51bd5275e529f7e1e54130dbc1629ead65be268d-f2d52fa556e4c0e3-01 outer:exit 2b-51bd5275e529f7e1e54130dbc1629ead65be268d-f5cb5fae5799c0db-01
2021-08-24T05:12:38.815Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:12:38.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d49874df4371663c30ae45b8892f86f4fde9045-213fed87c47a835f-01 outer:exit 2b-8d49874df4371663c30ae45b8892f86f4fde9045-5f792b681033f288-01
2021-08-24T05:12:38.819Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:12:38.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-da9e5c19d274967101ea4a6de362b2a20ac1915a-c5dd9e74984a7b12-01 outer:exit 2b-da9e5c19d274967101ea4a6de362b2a20ac1915a-1c4ea8b97e987100-01
2021-08-24T05:12:38.822Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:12:38.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-32b2894e7e7ecc34fd8c5561375ac8721f306a68-56a25c8db184a03d-01 outer:exit 2b-32b2894e7e7ecc34fd8c5561375ac8721f306a68-98f672c712e4a22b-01
2021-08-24T05:12:38.825Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:12:38.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ba3955de8cd3e7a71c7bcfa74beb5b456742acb-9877dbe0c7317dc5-01 outer:exit 2b-3ba3955de8cd3e7a71c7bcfa74beb5b456742acb-2127ae9067d43ade-01
2021-08-24T05:12:38.827Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:12:38.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e6fee1aec6c194cd9b53634f91f1481fb907e01-a5aa1c8f2221edb6-01 outer:exit 2b-4e6fee1aec6c194cd9b53634f91f1481fb907e01-2f5048f5dfc27973-01
2021-08-24T05:12:38.830Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:12:38.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c2456bf06a6cebf2b0f21738cedb117c263a281-2328d856f3b795ad-01 outer:exit 2b-4c2456bf06a6cebf2b0f21738cedb117c263a281-431389d2a18bd349-01
2021-08-24T05:12:38.835Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:12:38.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-48d8d0f27cbe914b6c0eb3d35e4854af696ecf1e-3bc2e43cea186b03-01 outer:exit 2b-48d8d0f27cbe914b6c0eb3d35e4854af696ecf1e-df5477f08df75e8b-01
2021-08-24T05:12:38.845Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:12:38.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed0aa228801389031d1bbf9c1605b7f02c99c46f-f65b9dc549f63dfb-01 outer:exit 2b-ed0aa228801389031d1bbf9c1605b7f02c99c46f-1a5ef76808d3428d-01
2021-08-24T05:12:38.863Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:12:38.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-8640312f5fef5c3adc94d125f793eed94b0feb74-ad045e11ab3dd356-01 outer:exit 2b-8640312f5fef5c3adc94d125f793eed94b0feb74-f44aa6ad727d9fc0-01
2021-08-24T05:12:38.902Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:12:38.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-d352a121fb7ad6d61eb9eca19066f64173b52e3d-e432e4dd460adc18-01 outer:exit 2b-d352a121fb7ad6d61eb9eca19066f64173b52e3d-4f470653645a6511-01
2021-08-24T05:12:38.905Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:12:38.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-30d6aba126eec0bedbb755697f2821d84b4faca2-a1133ca665bebe2f-01 outer:exit 2b-30d6aba126eec0bedbb755697f2821d84b4faca2-d6f5373f7cd7a6f5-01
2021-08-24T05:12:38.908Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:12:38.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-41199967eb92a10bf6c6c983319718eeec9859de-cbcfdf9a36ec0918-01 outer:exit 2b-41199967eb92a10bf6c6c983319718eeec9859de-12507c613175bcb4-01
2021-08-24T05:12:38.911Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:12:38.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c7268354448d6c4faf6b21c0d23adb3911406dc-978812b52b8f4276-01 outer:exit 2b-4c7268354448d6c4faf6b21c0d23adb3911406dc-411a5316a3f402a0-01
2021-08-24T05:12:38.913Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:12:38.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-e178b765faa2db27508d27bd3281114fc053f0ef-d4987def92194fd8-01 outer:exit 2b-e178b765faa2db27508d27bd3281114fc053f0ef-f3e881c4ed36443a-01
2021-08-24T05:12:38.915Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:12:38.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-04f655fae64d88d8a8d575c4711122fe53a81f41-a35c532690b39529-01 outer:exit 2b-04f655fae64d88d8a8d575c4711122fe53a81f41-7906a9a7a72411a1-01
2021-08-24T05:12:38.918Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:12:38.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-2716129ecaa133cd7f3ef7a6f65c2b3a005bd5bb-86a044289d95434a-01 outer:exit 2b-2716129ecaa133cd7f3ef7a6f65c2b3a005bd5bb-e5af6c3774ae49d9-01
2021-08-24T05:12:38.920Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:12:38.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed9c148a5131aad4092ebb4f28bd4ca9d7d32dfe-2459aaf8a7c0520e-01 outer:exit 2b-ed9c148a5131aad4092ebb4f28bd4ca9d7d32dfe-72e35a68c4a0bd7e-01
2021-08-24T05:12:38.922Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:12:38.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf543412209c2a19846d7572c706414395b85c9f-83bf23d0ee78ced4-01 outer:exit 2b-cf543412209c2a19846d7572c706414395b85c9f-6dc14929c73dda94-01
2021-08-24T05:12:38.925Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:12:38.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f0f63e79e5c69649993a17e6a7129ad59a61eda-a2eca32efa5d4631-01 outer:exit 2b-3f0f63e79e5c69649993a17e6a7129ad59a61eda-43d10d72b9f8f8b7-01
2021-08-24T05:12:38.928Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:12:38.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-25cbd3182f8c78947790c7515fe292669871a888-ba4f4e0848b465d0-01 outer:exit 2b-25cbd3182f8c78947790c7515fe292669871a888-617c3412d9c9856b-01
2021-08-24T05:12:38.930Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:12:38.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4b4a65d851aa79fdd86d83a8c3d4acc1f746353-c4bddd0b734ee4fc-01 outer:exit 2b-e4b4a65d851aa79fdd86d83a8c3d4acc1f746353-965463b7f81d8e6e-01
2021-08-24T05:12:38.933Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:12:38.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce50d5f03014f11c2062d694a526fa9990c48ae7-8e8bfbb2baac3c39-01 outer:exit 2b-ce50d5f03014f11c2062d694a526fa9990c48ae7-52a296c0045aca56-01
2021-08-24T05:12:38.940Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:12:38.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-83c113c43c526415f089c7f45b94ee4f4d375a55-22ef808c0c3f9bda-01 outer:exit 2b-83c113c43c526415f089c7f45b94ee4f4d375a55-7818acae780b9ae2-01
2021-08-24T05:12:38.944Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:12:38.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-be399b92a0e8c0a56013af52948bfc07a135227c-9cc81908f259b5c2-01 outer:exit 2b-be399b92a0e8c0a56013af52948bfc07a135227c-76ea507a163da08c-01
2021-08-24T05:12:38.954Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:12:38.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-38a72d79b4f66693b2a95fb724286fbbcc7a35f8-ae01d93daa925ab2-01 outer:exit 2b-38a72d79b4f66693b2a95fb724286fbbcc7a35f8-93e45c12bb4e318f-01
2021-08-24T05:12:38.961Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:12:38.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1334ab3171e2fa5632c8f4df40887bdddb58295-1abeee8cdb547e0d-01 outer:exit 2b-a1334ab3171e2fa5632c8f4df40887bdddb58295-f95c4d6d612e4a50-01
2021-08-24T05:12:38.963Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:12:38.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-8eafb4ebc734fd75051b45a8f6d5637b9c85332f-1f4fabf0e365583f-01 outer:exit 2b-8eafb4ebc734fd75051b45a8f6d5637b9c85332f-a26284c7e37e302d-01
2021-08-24T05:12:38.967Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:12:38.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-327943febe6d6545a18487596070d443e239b7a1-63dd939ddfa82dba-01 outer:exit 2b-327943febe6d6545a18487596070d443e239b7a1-c0f9e64847d27b44-01
2021-08-24T05:12:38.975Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:12:38.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-a014c2fe50957f9048ba601a4d024439564feac8-f7fdf2c39bcb6559-01 outer:exit 2b-a014c2fe50957f9048ba601a4d024439564feac8-19eb101aa121227a-01
2021-08-24T05:12:38.977Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:12:38.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a747c3649ea67e097225e7a520a540196cdb27d-8be7e61129a8e059-01 outer:exit 2b-9a747c3649ea67e097225e7a520a540196cdb27d-f506983905874e8a-01
2021-08-24T05:12:38.980Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:12:38.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-38385c213e77765f5bdb0cc332ede97cd92b3bc1-2a2e7ee4eeb96cdf-01 outer:exit 2b-38385c213e77765f5bdb0cc332ede97cd92b3bc1-41413497e4097a7d-01
2021-08-24T05:12:38.982Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:12:38.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-7289a72e04a8b61fbacf92371547f371fac25688-0485cef723f662f1-01 outer:exit 2b-7289a72e04a8b61fbacf92371547f371fac25688-68df2dcf53d1e849-01
2021-08-24T05:12:38.984Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:12:38.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0ea7de8992831ab56c3eb3475c023e0b294a7ce-93dc92d14aee4fc7-01 outer:exit 2b-a0ea7de8992831ab56c3eb3475c023e0b294a7ce-750bdb3003381733-01
2021-08-24T05:12:38.986Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:12:38.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b3649506235a3d2c3c9895b25f035abd2f34d61-f8f14672141e1c8c-01 outer:exit 2b-8b3649506235a3d2c3c9895b25f035abd2f34d61-f5b33e963562a16b-01
2021-08-24T05:12:38.996Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:12:39.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-bed810f4573eac98165f940350aafc55d5592a4b-c149e31f5e374d09-01 outer:exit 2b-bed810f4573eac98165f940350aafc55d5592a4b-8567b03e5c3f4c1c-01
2021-08-24T05:12:39.010Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:12:39.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-65eb3d88305367d979ac031841034ace14c944ba-6d182be737d1eb62-01 outer:exit 2b-65eb3d88305367d979ac031841034ace14c944ba-a56676f6b65fee19-01
2021-08-24T05:12:39.018Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:12:39.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc53e26345083c607a6c6dfd14412b21f99a1d99-b23ef9414ef1df13-01 outer:exit 2b-dc53e26345083c607a6c6dfd14412b21f99a1d99-0b9562dad204ec86-01
2021-08-24T05:12:39.021Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:12:39.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-d88bc6db47fbc8139f76a1fa93910925c28115de-5e34c0e053c51ed8-01 outer:exit 2b-d88bc6db47fbc8139f76a1fa93910925c28115de-f1fef77327ba5ed7-01
2021-08-24T05:12:39.026Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:12:39.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-d43391b48b6314c85aa901f1f28f473cbbf68893-a69124e5e794840b-01 outer:exit 2b-d43391b48b6314c85aa901f1f28f473cbbf68893-0d7c227ffe8cb9d6-01
2021-08-24T05:12:39.119Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (445ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:45.676Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:45.676Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:45.676Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:45.677Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:45.745Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:45.802Z appoptics:patching patched crypto 
2021-08-24T05:12:45.826Z appoptics:patching patched https 
2021-08-24T05:12:45.826Z appoptics:patching patched http 
2021-08-24T05:12:45.886Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:45.886Z appoptics:patching patched fs 
2021-08-24T05:12:45.904Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v16.7.0)
2021-08-24T05:12:45.912Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2021-08-24T05:12:46.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-9392eebbdc4ab3485fd67445fe87bdbd83f59ad4-1f2f06ae65c547c1-01 outer:exit 2b-9392eebbdc4ab3485fd67445fe87bdbd83f59ad4-e82213b500d3348e-01
2021-08-24T05:12:46.060Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:12:46.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-840f065fad89a5b8a2ea608f76e77e87217a1e69-63466ca86e504c0a-01 outer:exit 2b-840f065fad89a5b8a2ea608f76e77e87217a1e69-da00a19ae4b960ee-01
2021-08-24T05:12:46.097Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:12:46.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-00a59f470268a557e087d83b795e0b527c5c3920-dc3cd946d6f16653-01 outer:exit 2b-00a59f470268a557e087d83b795e0b527c5c3920-83d84ca56631bf07-01
2021-08-24T05:12:46.101Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:12:46.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e40a118142bb71b8a0e03974ed0afddc5bd10ff-18910d62c43fd8ec-01 outer:exit 2b-3e40a118142bb71b8a0e03974ed0afddc5bd10ff-55ccb71a3b4894ec-01
2021-08-24T05:12:46.104Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:12:46.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf1b781d6691c70409a73e3bcb812dccc868cc3a-f50306c35af8a364-01 outer:exit 2b-cf1b781d6691c70409a73e3bcb812dccc868cc3a-abb0ddac0987e3e5-01
2021-08-24T05:12:46.109Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:12:46.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-b671e3bd5aad4e6e760ec62c120bd5ae167dcff9-fe6abed320eded3e-01 outer:exit 2b-b671e3bd5aad4e6e760ec62c120bd5ae167dcff9-fe793a8ea40935d2-01
2021-08-24T05:12:46.113Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:12:46.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a1ae64800b00443810bc30904481c0be6d76107-4429fc54d1a312f3-01 outer:exit 2b-9a1ae64800b00443810bc30904481c0be6d76107-c51b10dfada5f347-01
2021-08-24T05:12:46.116Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:12:46.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-d02b55945fe70048a62e73a08ce8541142c662f5-8892a1a872a83fed-01 outer:exit 2b-d02b55945fe70048a62e73a08ce8541142c662f5-b2e2adf01927959b-01
2021-08-24T05:12:46.119Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:12:46.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-26469268452c1828bb38d8e9db6c2895af2b7b79-01c66576befb8b41-01 outer:exit 2b-26469268452c1828bb38d8e9db6c2895af2b7b79-de4e66be781ca3aa-01
2021-08-24T05:12:46.122Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:12:46.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-818230c14f9a0a86dfc0a75dcdccffa724ac67fa-cf1036544f65fbfe-01 outer:exit 2b-818230c14f9a0a86dfc0a75dcdccffa724ac67fa-244e980b7815b37c-01
2021-08-24T05:12:46.125Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:12:46.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dec62ea5ccbf70ec85f1a207147a9796d7c7def-f85ec40bca0e6d44-01 outer:exit 2b-2dec62ea5ccbf70ec85f1a207147a9796d7c7def-50598bafcd345c36-01
2021-08-24T05:12:46.129Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:12:46.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-17a9181ff4b4f2b412035ff308096692fcb1b793-1fa7ae677f2b1728-01 outer:exit 2b-17a9181ff4b4f2b412035ff308096692fcb1b793-7f9d5dc30dc1094c-01
2021-08-24T05:12:46.151Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:12:46.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-49ed7a970eea920465796e9aae179aa2e0c46b02-a74b315a265d8aad-01 outer:exit 2b-49ed7a970eea920465796e9aae179aa2e0c46b02-cb7ec2ebbec46e9a-01
2021-08-24T05:12:46.167Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:12:46.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-afea2266efd7462708eef41ac6de0575557f5b0e-7b76cbd7f87bb4ce-01 outer:exit 2b-afea2266efd7462708eef41ac6de0575557f5b0e-715fb07b132624f6-01
2021-08-24T05:12:46.195Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:12:46.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1e5ef03b5e4fb20c8a45d6161604f42c0e81cf0-9082dc56d9092a8f-01 outer:exit 2b-d1e5ef03b5e4fb20c8a45d6161604f42c0e81cf0-fa8de19774d13af8-01
2021-08-24T05:12:46.198Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:12:46.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-13fe824569f7ed7afa4b232a9bc1d2f90be667de-51bcdda922c02be3-01 outer:exit 2b-13fe824569f7ed7afa4b232a9bc1d2f90be667de-365138cbbc826be8-01
2021-08-24T05:12:46.200Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:12:46.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-60e0d7ece3af9b90b0dac846c4b242e44c3c40bd-6ff5850f8173e3e5-01 outer:exit 2b-60e0d7ece3af9b90b0dac846c4b242e44c3c40bd-b7598643c582ad6b-01
2021-08-24T05:12:46.203Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:12:46.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-5319ad406fc8e252c913c62ba92bded2f9cf2942-9c78c80d4aff3ebb-01 outer:exit 2b-5319ad406fc8e252c913c62ba92bded2f9cf2942-923bff38ff99f071-01
2021-08-24T05:12:46.206Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:12:46.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-84c672bf9be8d77534d12597a6fda3a3f03a2461-92b23abb1e5c7156-01 outer:exit 2b-84c672bf9be8d77534d12597a6fda3a3f03a2461-51fc758798867db5-01
2021-08-24T05:12:46.208Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:12:46.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-22b2947e63e8d0704ff3bc443eee91adb013b53b-fd3d73857234c9af-01 outer:exit 2b-22b2947e63e8d0704ff3bc443eee91adb013b53b-b7757909b31823fb-01
2021-08-24T05:12:46.210Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:12:46.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-236ee6c654261f0631afb5eb9b88903d51ec9ddc-2453096bfd579228-01 outer:exit 2b-236ee6c654261f0631afb5eb9b88903d51ec9ddc-193451f66aaf54ae-01
2021-08-24T05:12:46.212Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:12:46.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc286d35d46d6e51ff262882a66987b079f5c28a-474563e919143015-01 outer:exit 2b-bc286d35d46d6e51ff262882a66987b079f5c28a-5c4f54b9368da3e1-01
2021-08-24T05:12:46.214Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:12:46.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9731c887f991fb276ec50303c43694cb78c76ee-4b63387fcd0f41fa-01 outer:exit 2b-a9731c887f991fb276ec50303c43694cb78c76ee-3c16ce01498331d3-01
2021-08-24T05:12:46.217Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:12:46.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-89faef568e6c96b269c79089d3e15665227e9327-d42c8b46b9c50263-01 outer:exit 2b-89faef568e6c96b269c79089d3e15665227e9327-3705673db1682460-01
2021-08-24T05:12:46.220Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:12:46.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-39c96c4647fcd36e345863dd1ac2fc2895a3f491-0e72f0c42264890a-01 outer:exit 2b-39c96c4647fcd36e345863dd1ac2fc2895a3f491-ae7da65e70f755f2-01
2021-08-24T05:12:46.222Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:12:46.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-85c0497ff7080e2230f69ec50bd26bb5a0c51cc1-fc99f13fec5b5c54-01 outer:exit 2b-85c0497ff7080e2230f69ec50bd26bb5a0c51cc1-5c754871a1cfdfe6-01
2021-08-24T05:12:46.225Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:12:46.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce9299c0c9e92a959b2a0a1ab15522e9322cc72c-5f95c263c72319a0-01 outer:exit 2b-ce9299c0c9e92a959b2a0a1ab15522e9322cc72c-3377c0116129c6af-01
2021-08-24T05:12:46.245Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:12:46.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-d83794c4bcd96a540fa4de838d17408ecdea3ba1-05c47398e8bdd0a7-01 outer:exit 2b-d83794c4bcd96a540fa4de838d17408ecdea3ba1-7c0c45aaae4391ab-01
2021-08-24T05:12:46.262Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:12:46.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-d086e91a47b1443cadee6f7fd8bda372dca61e4a-653b3a6787d81ace-01 outer:exit 2b-d086e91a47b1443cadee6f7fd8bda372dca61e4a-88ad246b8c184fda-01
2021-08-24T05:12:46.271Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:12:46.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-a807dd545cb7e5a44c47b271ceed0fbff1de2f18-fa0db3ea8d929d9c-01 outer:exit 2b-a807dd545cb7e5a44c47b271ceed0fbff1de2f18-26fa2d8294eb9c06-01
2021-08-24T05:12:46.278Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:12:46.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e4b9302d2a8a75d8d69d5a03bb08db30460d973-24a270faf7084439-01 outer:exit 2b-4e4b9302d2a8a75d8d69d5a03bb08db30460d973-a215d5b258382e93-01
2021-08-24T05:12:46.280Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:12:46.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d0efc5895b7ca7b7a08ed23079e5a568005fd52-e157517e5959021b-01 outer:exit 2b-6d0efc5895b7ca7b7a08ed23079e5a568005fd52-52a3a2b9b06400eb-01
2021-08-24T05:12:46.284Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:12:46.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-002f9d2422eb30080d23dbec7f82fc1d553cf898-0568739141419244-01 outer:exit 2b-002f9d2422eb30080d23dbec7f82fc1d553cf898-d5a3ec9dc4b9b3dd-01
2021-08-24T05:12:46.291Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:12:46.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-34b6e481478da2436aed525d666b73a4cf4079c7-a80bb67c27984bdf-01 outer:exit 2b-34b6e481478da2436aed525d666b73a4cf4079c7-372a511df832ca24-01
2021-08-24T05:12:46.293Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:12:46.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-02c3697f083e635c49f083532b62872846f80d40-835755742674f479-01 outer:exit 2b-02c3697f083e635c49f083532b62872846f80d40-38f425678ec1fac7-01
2021-08-24T05:12:46.295Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:12:46.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-445bdfb216ee14b6afa41f59b9fe11e004dd91a9-338453db50f93caf-01 outer:exit 2b-445bdfb216ee14b6afa41f59b9fe11e004dd91a9-c4e4b99684128844-01
2021-08-24T05:12:46.298Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:12:46.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-324dc2837fe8fda6c0dfa0d4c19463e496315bd8-668e1cd6308dd2cc-01 outer:exit 2b-324dc2837fe8fda6c0dfa0d4c19463e496315bd8-cbf740714d619b6c-01
2021-08-24T05:12:46.300Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:12:46.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-9abdddd06330fb6dfd65107b5f58f2e96eb0b5de-53b31628b0b3d102-01 outer:exit 2b-9abdddd06330fb6dfd65107b5f58f2e96eb0b5de-d802031ef35e92ea-01
2021-08-24T05:12:46.302Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:12:46.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b890b483abeaa68fbeac7e0c6fc21a9dadc3fb7-e0cdb47eb00c0839-01 outer:exit 2b-8b890b483abeaa68fbeac7e0c6fc21a9dadc3fb7-4101ade76bef6f1e-01
2021-08-24T05:12:46.313Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:12:46.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-d990fb50c2a47d4979a758681a72fce015ef5968-f95a9a63d53c4f92-01 outer:exit 2b-d990fb50c2a47d4979a758681a72fce015ef5968-6bfc991744f425c1-01
2021-08-24T05:12:46.322Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:12:46.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-70df9c8220d1373ec866ab321fe06e8e5378e180-36a8114c3f82b1d3-01 outer:exit 2b-70df9c8220d1373ec866ab321fe06e8e5378e180-369c9e0a7d63a984-01
2021-08-24T05:12:46.326Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:12:46.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-222e93cc070181b8f10490986a5b00b32db7aba0-d260a201169d536f-01 outer:exit 2b-222e93cc070181b8f10490986a5b00b32db7aba0-3d9da3e9f111c9fb-01
2021-08-24T05:12:46.329Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:12:46.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d4538ed537b8a788aeb38bdee60e6bbbd4a0e52-4c13405666e9a5b5-01 outer:exit 2b-0d4538ed537b8a788aeb38bdee60e6bbbd4a0e52-d4d875bbbbb26780-01
2021-08-24T05:12:46.345Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:12:46.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d70104a01200abb2cc5c8e528c17470bb0a5075-6994744c8990a62c-01 outer:exit 2b-4d70104a01200abb2cc5c8e528c17470bb0a5075-982cec545bb229d3-01
2021-08-24T05:12:46.378Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (361ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:51.742Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:51.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:51.743Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:51.744Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:51.809Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:51.856Z appoptics:patching patched crypto 
2021-08-24T05:12:51.880Z appoptics:patching patched https 
2021-08-24T05:12:51.880Z appoptics:patching patched http 
2021-08-24T05:12:51.938Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:51.939Z appoptics:patching patched fs 
2021-08-24T05:12:51.957Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v16.7.0)
2021-08-24T05:12:51.967Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2021-08-24T05:12:52.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd4de22e7ac76b72a23dd601bbcd765e420c157f-ce1a5524f549686d-01 outer:exit 2b-fd4de22e7ac76b72a23dd601bbcd765e420c157f-7d82660519880da9-01
2021-08-24T05:12:52.123Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:12:52.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f5949be74828adea7e3372f3cdc0fdba11387ef-25ca19e1d0422ece-01 outer:exit 2b-6f5949be74828adea7e3372f3cdc0fdba11387ef-5417612f8ed184fa-01
2021-08-24T05:12:52.236Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:12:52.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-1beb6a9cc97bbff96aa2e638a96d8bf22a748318-d01d2c796bacb080-01 outer:exit 2b-1beb6a9cc97bbff96aa2e638a96d8bf22a748318-8b889ea9b4623346-01
2021-08-24T05:12:52.241Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:12:52.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c62c93971c3801824c5d413134c6b60e3a7e969-317842e40e012113-01 outer:exit 2b-5c62c93971c3801824c5d413134c6b60e3a7e969-ae10cff1ff8f4387-01
2021-08-24T05:12:52.244Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:12:52.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-56660a9d39d71935e8ed8ead056506aa688a8369-b550a526c764a0f5-01 outer:exit 2b-56660a9d39d71935e8ed8ead056506aa688a8369-4c2702b0f752adcf-01
2021-08-24T05:12:52.249Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:12:52.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-97d3e22ed2db260a00240ec9424c292ee26da4d5-e369af0ad9a647e9-01 outer:exit 2b-97d3e22ed2db260a00240ec9424c292ee26da4d5-6eafd28afec7efd5-01
2021-08-24T05:12:52.252Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:12:52.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb03fd02de37c15301f3cb51848dac09e4eb0df4-bf5ad0f401bd9882-01 outer:exit 2b-cb03fd02de37c15301f3cb51848dac09e4eb0df4-e6ba2123f86fbb73-01
2021-08-24T05:12:52.255Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:12:52.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-adfd72635abc4f661924edb11780030926a40f1c-ca812197ca08d515-01 outer:exit 2b-adfd72635abc4f661924edb11780030926a40f1c-b586a7ba6c596501-01
2021-08-24T05:12:52.258Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:12:52.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-d026472658589202aef90a629f53c7741c8ae091-c07b850f5353066d-01 outer:exit 2b-d026472658589202aef90a629f53c7741c8ae091-7a5199ea0c969aa3-01
2021-08-24T05:12:52.261Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:12:52.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-831ee9541db2dfc2cfce6fc3ef18d1b0bac7ef8c-927691297b2dbeed-01 outer:exit 2b-831ee9541db2dfc2cfce6fc3ef18d1b0bac7ef8c-a916a891ff5a618b-01
2021-08-24T05:12:52.264Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:12:52.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-085259d2be0b0227e120ef17931c8efdcb0c18ea-d05d1c49bfa54670-01 outer:exit 2b-085259d2be0b0227e120ef17931c8efdcb0c18ea-b171b799a63be699-01
2021-08-24T05:12:52.268Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:12:52.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf9f7302ee9080d0d99ed2bcd59f113b26d33164-94e8659765524a2b-01 outer:exit 2b-cf9f7302ee9080d0d99ed2bcd59f113b26d33164-04c30397d49c1890-01
2021-08-24T05:12:52.278Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:12:52.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bcddc97a3e8454600be5f61fb4ec0d42878490a-0b2f505132172a9f-01 outer:exit 2b-4bcddc97a3e8454600be5f61fb4ec0d42878490a-2adc1793e30f9caa-01
2021-08-24T05:12:52.297Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:12:52.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5f64a2f084d429f54dc67ecd1d9954a3c5042bd-204735767a9f8e6e-01 outer:exit 2b-e5f64a2f084d429f54dc67ecd1d9954a3c5042bd-156b943ce8dc0f1e-01
2021-08-24T05:12:52.347Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:12:52.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0ac54842b3905362f2bd5be33332f7ffffcf0bc-33a32b017e12d7f8-01 outer:exit 2b-c0ac54842b3905362f2bd5be33332f7ffffcf0bc-5865556b17c47c4b-01
2021-08-24T05:12:52.350Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:12:52.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-95f4a1efea7ce23c820f149ec286d36aa2416a77-36378903b98b8be3-01 outer:exit 2b-95f4a1efea7ce23c820f149ec286d36aa2416a77-ee321b4a6e11fc4b-01
2021-08-24T05:12:52.353Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:12:52.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-80446a674a7db2f41d276495e19c67cfc8741ab3-da51fbad80a793ca-01 outer:exit 2b-80446a674a7db2f41d276495e19c67cfc8741ab3-db9f2183866a1ca0-01
2021-08-24T05:12:52.359Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:12:52.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-20470fc54b5942ccb9eaa0c6bc96732a0de6500a-ce60a714e9855dbf-01 outer:exit 2b-20470fc54b5942ccb9eaa0c6bc96732a0de6500a-0bb14b3905ec0d88-01
2021-08-24T05:12:52.361Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:12:52.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-15da2b47a2c13b03a3bdba0d9aabcffc7efc5efd-b2b3615eec1baf61-01 outer:exit 2b-15da2b47a2c13b03a3bdba0d9aabcffc7efc5efd-333549e2eabd42e1-01
2021-08-24T05:12:52.364Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:12:52.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d3e090706be5bfaf41dba6659bbeaf36dfd34a5-501d6c7d0dc05546-01 outer:exit 2b-1d3e090706be5bfaf41dba6659bbeaf36dfd34a5-80866bff47ff9014-01
2021-08-24T05:12:52.366Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:12:52.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e09c08a96c8594d8c6f78c8747c282a937c689e-99cb750ea3b0b93e-01 outer:exit 2b-3e09c08a96c8594d8c6f78c8747c282a937c689e-f96a40d393518b4d-01
2021-08-24T05:12:52.369Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:12:52.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2aebee89508634f3916fa3faa83265b5af35c42-47ecb317a08722e9-01 outer:exit 2b-b2aebee89508634f3916fa3faa83265b5af35c42-6601124d2a9dfa9b-01
2021-08-24T05:12:52.371Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:12:52.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e974a821fc0782f94cd0d5b19d1d12c57d5990f-61e24b4af43119cc-01 outer:exit 2b-7e974a821fc0782f94cd0d5b19d1d12c57d5990f-b7a00ee53fa96406-01
2021-08-24T05:12:52.375Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:12:52.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-740b45519f2fa2fb6b290eb570e13e04d9905dee-cca505beb0db5726-01 outer:exit 2b-740b45519f2fa2fb6b290eb570e13e04d9905dee-269a41e589e4e377-01
2021-08-24T05:12:52.378Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:12:52.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ce6b6cbe4e5d6988152c89f9c542c83956f8251-d3b2452e0d00e33a-01 outer:exit 2b-1ce6b6cbe4e5d6988152c89f9c542c83956f8251-32150eda0ddcb40e-01
2021-08-24T05:12:52.381Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:12:52.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8b79d1156b0008fbb1e97cb6cb382ed5aaaddad-7d1329cf7f6e59da-01 outer:exit 2b-d8b79d1156b0008fbb1e97cb6cb382ed5aaaddad-611deb401080ca7d-01
2021-08-24T05:12:52.383Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:12:52.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-095b53f4920ce6c2a19f967f19556b87c039c451-4b0e972ac105e0c4-01 outer:exit 2b-095b53f4920ce6c2a19f967f19556b87c039c451-179b11c7565ffd9a-01
2021-08-24T05:12:52.393Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:12:52.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-b983bf9a1536906d6ded83cb9e331f6311a57b11-214dc3cfcab59ad1-01 outer:exit 2b-b983bf9a1536906d6ded83cb9e331f6311a57b11-81d588c9bad3c2f2-01
2021-08-24T05:12:52.397Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:12:52.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-879ef635d16838bdf154b16ea73b387d7dc73dc7-e8875951158c13f9-01 outer:exit 2b-879ef635d16838bdf154b16ea73b387d7dc73dc7-314a6ccf71f99cff-01
2021-08-24T05:12:52.407Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:12:52.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-49855b025313a66858e58bf1d52f008e4036f1c5-35954dd912df7946-01 outer:exit 2b-49855b025313a66858e58bf1d52f008e4036f1c5-a86b761431fc37af-01
2021-08-24T05:12:52.414Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:12:52.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-93978fdc7b0fba4f9575213f7d5e4fc1d565c47f-e8e58f8cdfe4d99c-01 outer:exit 2b-93978fdc7b0fba4f9575213f7d5e4fc1d565c47f-5de4f8b061d7f243-01
2021-08-24T05:12:52.417Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:12:52.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-7361384df1d7f87929ebe1a9b8120149a291e7d4-d3f9cfb72d053af0-01 outer:exit 2b-7361384df1d7f87929ebe1a9b8120149a291e7d4-68903e42fd5cad5f-01
2021-08-24T05:12:52.421Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:12:52.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b31aa0f44d6868bee636b37fa32730511b7ff06-aea0c6a8dbf22e4d-01 outer:exit 2b-3b31aa0f44d6868bee636b37fa32730511b7ff06-5ad03a1ae8d66293-01
2021-08-24T05:12:52.429Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:12:52.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b06d9c5483afbd5222057a69b3746160cd5fdc7-61e37cfd99aaa595-01 outer:exit 2b-2b06d9c5483afbd5222057a69b3746160cd5fdc7-44c057de0acbbd0a-01
2021-08-24T05:12:52.431Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:12:52.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-ada791fad3abde8740d7c947027e31577dca345c-7b17aa6472daa7ef-01 outer:exit 2b-ada791fad3abde8740d7c947027e31577dca345c-36efd3ca9a374c2f-01
2021-08-24T05:12:52.433Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:12:52.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bc344005fa09fbdd8d40d87a840a8b5631928c5-8b44d013a469d7b4-01 outer:exit 2b-4bc344005fa09fbdd8d40d87a840a8b5631928c5-c5d7128268b09a58-01
2021-08-24T05:12:52.436Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:12:52.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-df345c8de067141bea1cacec1ccb5590ae2e36a6-639f005cedfd26b0-01 outer:exit 2b-df345c8de067141bea1cacec1ccb5590ae2e36a6-5e1e219acfc2b4de-01
2021-08-24T05:12:52.438Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:12:52.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-f64af748727a429bf15007d552b26f95cb1f9413-8088361d7f2927a7-01 outer:exit 2b-f64af748727a429bf15007d552b26f95cb1f9413-990c346a7cdc2e9f-01
2021-08-24T05:12:52.440Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:12:52.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5a162d44afe97e10d41bf1b72b2002ec9268a32-45f3217bce188532-01 outer:exit 2b-e5a162d44afe97e10d41bf1b72b2002ec9268a32-c2ad778a395e36ee-01
2021-08-24T05:12:52.454Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:12:52.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-a22eb71dee6afb5ab06b3ef50dbd603ee0b7b7e8-293b47df27190adc-01 outer:exit 2b-a22eb71dee6afb5ab06b3ef50dbd603ee0b7b7e8-4b18512bf2d39903-01
2021-08-24T05:12:52.464Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:12:52.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf0abc61cc6a5bdfefae742b294ba1b87be5df2b-f41564b05ac2715b-01 outer:exit 2b-cf0abc61cc6a5bdfefae742b294ba1b87be5df2b-2efa084c90804503-01
2021-08-24T05:12:52.467Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:12:52.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e423a31e1dfd8c140e80bb6a9de87a0a11731f1-e708cb61fa386c25-01 outer:exit 2b-3e423a31e1dfd8c140e80bb6a9de87a0a11731f1-5ecee8fa78dfa924-01
2021-08-24T05:12:52.470Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:12:52.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7704a9285ead21cd1e576535df54f827206b5c0-5f6eb5f9d0de8052-01 outer:exit 2b-f7704a9285ead21cd1e576535df54f827206b5c0-6623bdc8f244e487-01
2021-08-24T05:12:52.473Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:12:52.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d808e5247645942c6ea2739a33d432d9fb35c56-02bf44b8ca99d688-01 outer:exit 2b-0d808e5247645942c6ea2739a33d432d9fb35c56-e3a27c638ea3eeac-01
2021-08-24T05:12:52.507Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (428ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:12:58.251Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:12:58.252Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:12:58.252Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:12:58.253Z appoptics:debug using context provider: ace-context
2021-08-24T05:12:58.331Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:12:58.380Z appoptics:patching patched crypto 
2021-08-24T05:12:58.403Z appoptics:patching patched https 
2021-08-24T05:12:58.403Z appoptics:patching patched http 
2021-08-24T05:12:58.459Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:12:58.459Z appoptics:patching patched fs 
2021-08-24T05:12:58.477Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v16.7.0)
2021-08-24T05:12:58.485Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2021-08-24T05:12:58.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-51447942faeaeec6c4b5d38d5730bf5ca742872d-197191910b01c997-01 outer:exit 2b-51447942faeaeec6c4b5d38d5730bf5ca742872d-96c469dbf39782b5-01
2021-08-24T05:12:58.629Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:12:58.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-211e0b450a6b345b5e808916612606700a733927-dfd25a3288072e72-01 outer:exit 2b-211e0b450a6b345b5e808916612606700a733927-cd4ba215e830ec35-01
2021-08-24T05:12:58.705Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:12:58.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4a2124a1e7224d02748c4ab898f844ab0f29bc3-112c145053ac96dd-01 outer:exit 2b-f4a2124a1e7224d02748c4ab898f844ab0f29bc3-947d084b0d210bdc-01
2021-08-24T05:12:58.709Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:12:58.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc01d1797bf8da7de2f97781eae48332e41754d1-52b37456456c8579-01 outer:exit 2b-dc01d1797bf8da7de2f97781eae48332e41754d1-2fb0445ba3742015-01
2021-08-24T05:12:58.712Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:12:58.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-23c2b354eb67a109fd3d6d34b960b4cfe6f25e96-ef8d7e98bb68f4f5-01 outer:exit 2b-23c2b354eb67a109fd3d6d34b960b4cfe6f25e96-36df348f875d122c-01
2021-08-24T05:12:58.717Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:12:58.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-68d45db12953379b595aefc2af2ed1ed02e5e205-47c84ca89ce932da-01 outer:exit 2b-68d45db12953379b595aefc2af2ed1ed02e5e205-57fe7dd38c98f3c8-01
2021-08-24T05:12:58.721Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:12:58.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-1659a667ab2f60e496f6eba112311a181ec37def-b98b40cd1eef902f-01 outer:exit 2b-1659a667ab2f60e496f6eba112311a181ec37def-9be7e7f4cc7c1a32-01
2021-08-24T05:12:58.724Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:12:58.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce43414072a6847d8c3ce2013ad17ec9513cb6c5-b30edba26d411f55-01 outer:exit 2b-ce43414072a6847d8c3ce2013ad17ec9513cb6c5-04bc79aa1abe8503-01
2021-08-24T05:12:58.726Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:12:58.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e85adddd4a1f35184e2db751abf2996f4640324-ea853e77e0fe1bda-01 outer:exit 2b-7e85adddd4a1f35184e2db751abf2996f4640324-1cf7244bb8d7d6fa-01
2021-08-24T05:12:58.729Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:12:58.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-20faac0ccf11f4c8e23b7df110c02d4ca7839f1b-d9d6a126711fe88f-01 outer:exit 2b-20faac0ccf11f4c8e23b7df110c02d4ca7839f1b-d0fcee29baf09938-01
2021-08-24T05:12:58.732Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:12:58.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-73162167175cb83f3e85c365e6016975cdc520fa-98a424a93f09ccbe-01 outer:exit 2b-73162167175cb83f3e85c365e6016975cdc520fa-97c1c32b0f89c925-01
2021-08-24T05:12:58.737Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:12:58.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-761d2d351da54594c1f723b168bf31a26fbdce09-e53d5f0f43f0984a-01 outer:exit 2b-761d2d351da54594c1f723b168bf31a26fbdce09-1ce85d9c76339160-01
2021-08-24T05:12:58.746Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:12:58.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c499e2d19892e0a283fd7c3a6b8ad68b51fb76e-f7614a2bcbde3447-01 outer:exit 2b-3c499e2d19892e0a283fd7c3a6b8ad68b51fb76e-07ea6e938e77d2cb-01
2021-08-24T05:12:58.763Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:12:58.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-32d70ebb4d64a8644e5e813b0e08c47d21bbf019-1c4894a5a402b0b7-01 outer:exit 2b-32d70ebb4d64a8644e5e813b0e08c47d21bbf019-e370d3307fb80072-01
2021-08-24T05:12:58.804Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:12:58.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-006620db2b7c5815cf139737eb52502608943303-6c0c0bbce6187148-01 outer:exit 2b-006620db2b7c5815cf139737eb52502608943303-bdf7fffdf05adbd8-01
2021-08-24T05:12:58.808Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:12:58.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-66715432ddfe32f492bbad30ab5dc6e912c2d35b-ff5a99a5f51afa60-01 outer:exit 2b-66715432ddfe32f492bbad30ab5dc6e912c2d35b-aefc7a6581f254c1-01
2021-08-24T05:12:58.811Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:12:58.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-928d7e378a0ddbf31d31ff2bfb36bdb84dbbbe2c-53d59c476609ea18-01 outer:exit 2b-928d7e378a0ddbf31d31ff2bfb36bdb84dbbbe2c-b65464132bb8025c-01
2021-08-24T05:12:58.814Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:12:58.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2344aab625b5ebaeaa9deb61cd6dce08c6caa3f-e378433ab3242615-01 outer:exit 2b-d2344aab625b5ebaeaa9deb61cd6dce08c6caa3f-cb9a32be48be05bc-01
2021-08-24T05:12:58.816Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:12:58.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-976f30c1bb3d25807f03e0ec28f022c49ebb83e8-1d1e26f78a603e60-01 outer:exit 2b-976f30c1bb3d25807f03e0ec28f022c49ebb83e8-4b86988c82f7f291-01
2021-08-24T05:12:58.819Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:12:58.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-c688235f47d0def44e30325d45922966963809a6-d0741bed92d8f9bc-01 outer:exit 2b-c688235f47d0def44e30325d45922966963809a6-66c5f8c02f902f28-01
2021-08-24T05:12:58.821Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:12:58.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-2405dfafa835f342c3eeed66c335463f552ab8c4-1def09be80f6c469-01 outer:exit 2b-2405dfafa835f342c3eeed66c335463f552ab8c4-de8a979ec1834fd1-01
2021-08-24T05:12:58.823Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:12:58.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-243963b0d7bb6ed73fe8970079a47742e03c22a7-4592f517e9abbe1f-01 outer:exit 2b-243963b0d7bb6ed73fe8970079a47742e03c22a7-95c570fdf1145413-01
2021-08-24T05:12:58.825Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:12:58.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-7372fe4415fcdc3fa8c49b0c125d01a439245920-7a1bc668959b9ca2-01 outer:exit 2b-7372fe4415fcdc3fa8c49b0c125d01a439245920-34ae9e3c626f498e-01
2021-08-24T05:12:58.828Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:12:58.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cc7913ac606bb2b61eecfd1ef22552c9d2ae14f-f24c5cf960cffaba-01 outer:exit 2b-5cc7913ac606bb2b61eecfd1ef22552c9d2ae14f-53c4c23f0be80ef3-01
2021-08-24T05:12:58.831Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:12:58.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-27ba0004d73c770fd396530fd5ac2dc5f7e84a06-be955c6428532f8c-01 outer:exit 2b-27ba0004d73c770fd396530fd5ac2dc5f7e84a06-153ef8aff6c26142-01
2021-08-24T05:12:58.834Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:12:58.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-b31cf1dab00ad5bf49ed09854062baf7377ebb04-c68d99cd4798fbfe-01 outer:exit 2b-b31cf1dab00ad5bf49ed09854062baf7377ebb04-b460c3d2b47eb49f-01
2021-08-24T05:12:58.836Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:12:58.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaa86d6ba7ffa704f5d2ffb8a5c23d8ba56b5837-30a7002eb5238344-01 outer:exit 2b-aaa86d6ba7ffa704f5d2ffb8a5c23d8ba56b5837-1366f06bbc23140f-01
2021-08-24T05:12:58.845Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:12:58.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-19636d1d4557925efe2cd1155bda93f686e5c725-0ce3249682775ea6-01 outer:exit 2b-19636d1d4557925efe2cd1155bda93f686e5c725-9a3e208a280dfe91-01
2021-08-24T05:12:58.849Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:12:58.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-c448ce36e4624cb94bafe02ed12116e8a38819a8-cc75a5f967ebb28f-01 outer:exit 2b-c448ce36e4624cb94bafe02ed12116e8a38819a8-0d9896d420bc8abc-01
2021-08-24T05:12:58.858Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:12:58.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-65329fd795484dbd345b8aa41fc56468ee125154-9490460a92c7011a-01 outer:exit 2b-65329fd795484dbd345b8aa41fc56468ee125154-d5d0a2638f489d2b-01
2021-08-24T05:12:58.865Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:12:58.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-2572b2b77ee9ade7ee7f5ad5a1cfb348a5ab0bf7-49a161feb5d112b7-01 outer:exit 2b-2572b2b77ee9ade7ee7f5ad5a1cfb348a5ab0bf7-e6baf9b30bcdde4d-01
2021-08-24T05:12:58.868Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:12:58.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5188fad56a2ae357cbb55b690dbf9bcacad0d6b-729491529c24f52d-01 outer:exit 2b-c5188fad56a2ae357cbb55b690dbf9bcacad0d6b-5f2a347d3f676264-01
2021-08-24T05:12:58.870Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:12:58.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-b11a934d22f132c98465d03d17467124a67b903c-3291ddf0cbfc5099-01 outer:exit 2b-b11a934d22f132c98465d03d17467124a67b903c-19c322441141967c-01
2021-08-24T05:12:58.879Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:12:58.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-632e4abb00c1e10c95c4c4cc917900999b043aa4-1120aa18eaaada86-01 outer:exit 2b-632e4abb00c1e10c95c4c4cc917900999b043aa4-442654d48e9aea5d-01
2021-08-24T05:12:58.882Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:12:58.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e6688879d6146046b66390a220e91a44f016ade-b4a5ea4f76795056-01 outer:exit 2b-4e6688879d6146046b66390a220e91a44f016ade-955327d4e4010cf5-01
2021-08-24T05:12:58.884Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:12:58.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5a08bbf54b34fbcdbc696b4e00d459607d86b73-e7a0e208079bf94a-01 outer:exit 2b-f5a08bbf54b34fbcdbc696b4e00d459607d86b73-a47b6f4a6a940adb-01
2021-08-24T05:12:58.886Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:12:58.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-daa6b194987b6366c088b0b18bacddce40bde155-c7a2ca635760807d-01 outer:exit 2b-daa6b194987b6366c088b0b18bacddce40bde155-7133d82a9ac71421-01
2021-08-24T05:12:58.888Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:12:58.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd02d1b986cc8c9500309a008b499ebbf44564dd-28e0f54ff3c4dd88-01 outer:exit 2b-cd02d1b986cc8c9500309a008b499ebbf44564dd-ba337d54fea4cbbe-01
2021-08-24T05:12:58.890Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:12:58.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-8edb8d9f3a7316a7101563906996fa60636785b3-7f9c374ca46dc6b2-01 outer:exit 2b-8edb8d9f3a7316a7101563906996fa60636785b3-df5162e21bdb8ad6-01
2021-08-24T05:12:58.900Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:12:58.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-c259e14e97ae1fb4c8df1272ae22f99ff40c3d30-31270b965c9ddf5e-01 outer:exit 2b-c259e14e97ae1fb4c8df1272ae22f99ff40c3d30-8ea1f245d4528448-01
2021-08-24T05:12:58.911Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:12:58.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-5598bc301b95552f4970ac006ef3c1fcf6dfa727-8c94010953e23f68-01 outer:exit 2b-5598bc301b95552f4970ac006ef3c1fcf6dfa727-9384543b9dba1452-01
2021-08-24T05:12:58.915Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:12:58.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-47497bde67ca952c4e2c217beabe89ed5306b114-49bd6f3c6ae921a8-01 outer:exit 2b-47497bde67ca952c4e2c217beabe89ed5306b114-2099ba5aef080b60-01
2021-08-24T05:12:58.917Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:12:58.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c64fe3edc2bff96e4242be22870dc34868ba28c-70e3b01e2a893274-01 outer:exit 2b-5c64fe3edc2bff96e4242be22870dc34868ba28c-4dd559bb0bfb5cec-01
2021-08-24T05:12:58.920Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:12:58.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-295381291ec3dfe843d4dcb8a5268f5730ca9477-c864ae3b045daa98-01 outer:exit 2b-295381291ec3dfe843d4dcb8a5268f5730ca9477-c40481b171385cd5-01
2021-08-24T05:12:58.950Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (363ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:05.071Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:05.072Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:05.072Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:05.073Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:05.141Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:05.190Z appoptics:patching patched crypto 
2021-08-24T05:13:05.214Z appoptics:patching patched https 
2021-08-24T05:13:05.215Z appoptics:patching patched http 
2021-08-24T05:13:05.264Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:05.264Z appoptics:patching patched fs 
2021-08-24T05:13:05.300Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v16.7.0)
2021-08-24T05:13:05.308Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2021-08-24T05:13:05.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-23675e61aba5eb56a2e08d789ebe878c9b25e7bf-c8d3c4425e0d74af-01 outer:exit 2b-23675e61aba5eb56a2e08d789ebe878c9b25e7bf-52a8a96fd2925949-01
2021-08-24T05:13:05.462Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:13:05.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0153a043351348321443883e8b5bbec7509e16e-ce9dcc612272be34-01 outer:exit 2b-e0153a043351348321443883e8b5bbec7509e16e-89c6394c6aa522e8-01
2021-08-24T05:13:05.512Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:13:05.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b56b31a349b98a32ae1c39f2f460e35ee0944e8-21d72063f9383100-01 outer:exit 2b-7b56b31a349b98a32ae1c39f2f460e35ee0944e8-60b229e51abe432e-01
2021-08-24T05:13:05.516Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:13:05.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ab1bc74e3dcc76ee3e284e7d0750d791b6e2480-83ffdc523ccfc0dd-01 outer:exit 2b-1ab1bc74e3dcc76ee3e284e7d0750d791b6e2480-c80d544e786488c6-01
2021-08-24T05:13:05.519Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:13:05.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-daa501352f318ad32415b33be5b77042233e8c7a-b5278b23afa8490d-01 outer:exit 2b-daa501352f318ad32415b33be5b77042233e8c7a-840c478621acae78-01
2021-08-24T05:13:05.525Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:13:05.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5dec6c7297172b7080b6f2b63d630b2d20d844a-1c82e0964b2aa0d4-01 outer:exit 2b-e5dec6c7297172b7080b6f2b63d630b2d20d844a-2e06eef3ca131fb7-01
2021-08-24T05:13:05.528Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:13:05.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-eae086347249cc4ed7c0eabeb67c36f3818aca2a-69c81bfd9603a024-01 outer:exit 2b-eae086347249cc4ed7c0eabeb67c36f3818aca2a-bf2ac40a30bbe2ea-01
2021-08-24T05:13:05.532Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:13:05.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-041b354037984bfca16b1fe0e28a508901069d1f-e37593970aa9cb86-01 outer:exit 2b-041b354037984bfca16b1fe0e28a508901069d1f-d0845b4461f849c4-01
2021-08-24T05:13:05.539Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:13:05.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-2872037f4e434a35330e78f407395861582d2a56-6f0896a19c5e8bb6-01 outer:exit 2b-2872037f4e434a35330e78f407395861582d2a56-c8aafa3771a1ff90-01
2021-08-24T05:13:05.542Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:13:05.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-38cd0243f243e29f7fd8bea3e5da187a6d5dbff0-d4392630ede2b7dc-01 outer:exit 2b-38cd0243f243e29f7fd8bea3e5da187a6d5dbff0-6745658c543b88f3-01
2021-08-24T05:13:05.546Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:13:05.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea7b2b439c942c1657567f772c406e23ea57ea16-760acbdcf3295a9e-01 outer:exit 2b-ea7b2b439c942c1657567f772c406e23ea57ea16-91f1246d3f9c26b1-01
2021-08-24T05:13:05.550Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:13:05.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-95df2f6313d14bbe9fbd708e241bddb056011301-9645cd28a445e2f1-01 outer:exit 2b-95df2f6313d14bbe9fbd708e241bddb056011301-2c93c852c1764482-01
2021-08-24T05:13:05.558Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:13:05.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-7240b4414fd2f33509ab6159893981032b38f584-f2ab3a5a7758badc-01 outer:exit 2b-7240b4414fd2f33509ab6159893981032b38f584-e31a6af3231ca6a6-01
2021-08-24T05:13:05.580Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:13:05.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-cedcdd477d12f77eeecc36d3c2e34e801a7ed9b9-358813b9eef49b81-01 outer:exit 2b-cedcdd477d12f77eeecc36d3c2e34e801a7ed9b9-4f9c587a62d248fe-01
2021-08-24T05:13:05.654Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:13:05.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb116a630eee079981ff446b8cb9fa3725660889-90f5b0ea548378e9-01 outer:exit 2b-fb116a630eee079981ff446b8cb9fa3725660889-ae6e6e825097f80d-01
2021-08-24T05:13:05.658Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:13:05.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-76a2bd482276025b9eb529eb28a5519c8d948e82-a56dfd0ab8acaf36-01 outer:exit 2b-76a2bd482276025b9eb529eb28a5519c8d948e82-25b2fc0c1c137541-01
2021-08-24T05:13:05.660Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:13:05.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-10078658c314f0647772be3443c93d5f5f26fc43-66893c0f42b77fed-01 outer:exit 2b-10078658c314f0647772be3443c93d5f5f26fc43-abfbf6f4056c3803-01
2021-08-24T05:13:05.664Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:13:05.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c0babbb3da98345e5023f8c85e1db017e2e1de8-a960258d0e1355ea-01 outer:exit 2b-6c0babbb3da98345e5023f8c85e1db017e2e1de8-f7d4cd3cae097200-01
2021-08-24T05:13:05.666Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:13:05.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5abb28a16712a0e770acd7eb2b29a791a204b8a-c013a361bf62dad8-01 outer:exit 2b-c5abb28a16712a0e770acd7eb2b29a791a204b8a-3d539ff7b78081b2-01
2021-08-24T05:13:05.668Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:13:05.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-9aca61dfcf4781572bd028870825a3a272f89932-bfe6a296064fafdd-01 outer:exit 2b-9aca61dfcf4781572bd028870825a3a272f89932-a9616ce589d83d22-01
2021-08-24T05:13:05.671Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:13:05.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-acec376430708de6a290526a23b06f2900d2dd4d-f406555c98cb9a4f-01 outer:exit 2b-acec376430708de6a290526a23b06f2900d2dd4d-545885ad8a55cf42-01
2021-08-24T05:13:05.673Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:13:05.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4b1d97c07957a98b55fae87ffab454d2a20ea55-cb400363dee679de-01 outer:exit 2b-d4b1d97c07957a98b55fae87ffab454d2a20ea55-fd0652cddd34b915-01
2021-08-24T05:13:05.676Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:13:05.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-20a52cf88b3e37886d099da6a4946292ca5123e6-d9c26224b549c1ff-01 outer:exit 2b-20a52cf88b3e37886d099da6a4946292ca5123e6-619e416a8c647927-01
2021-08-24T05:13:05.679Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:13:05.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce240331176c337fab637e578205d51956628af6-358804d7dd962313-01 outer:exit 2b-ce240331176c337fab637e578205d51956628af6-78984ad0a4332fc5-01
2021-08-24T05:13:05.684Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:13:05.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dd5189b195a4e2e3aed86f299e4b7838ffe4574-e156fd98e96463d5-01 outer:exit 2b-9dd5189b195a4e2e3aed86f299e4b7838ffe4574-5060d5780bd5ea72-01
2021-08-24T05:13:05.686Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:13:05.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-d143315c7d52c3127c29b9adb81b14a76e5bcb31-26eae002e091d421-01 outer:exit 2b-d143315c7d52c3127c29b9adb81b14a76e5bcb31-8f64bef1f66fa7ca-01
2021-08-24T05:13:05.689Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:13:05.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-1593cceac2b54e7e6d4dd64863c53e9f49f816b6-3dcf22c9ba50a0e2-01 outer:exit 2b-1593cceac2b54e7e6d4dd64863c53e9f49f816b6-e6f2dbfe8300f385-01
2021-08-24T05:13:05.698Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:13:05.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e63b94940827fad69af6672ab650a66b914953a-9f777f4fc140a6b2-01 outer:exit 2b-4e63b94940827fad69af6672ab650a66b914953a-63f3cd2d2dc9636d-01
2021-08-24T05:13:05.704Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:13:05.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5bf098a5c5e1b44d3893bb25fb5a99ec2817a09-10987c3f0e3abbd7-01 outer:exit 2b-a5bf098a5c5e1b44d3893bb25fb5a99ec2817a09-a9a642e583961741-01
2021-08-24T05:13:05.712Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:13:05.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf73934cb4bf0ec7284fe0b603afba172c3e9020-0ea608d710412c30-01 outer:exit 2b-cf73934cb4bf0ec7284fe0b603afba172c3e9020-95fef2f3a3f8663a-01
2021-08-24T05:13:05.719Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:13:05.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff966102127f5ac570f48e5bf30abe28d462ad2a-37e278c9cf941144-01 outer:exit 2b-ff966102127f5ac570f48e5bf30abe28d462ad2a-e0ee3f0741268385-01
2021-08-24T05:13:05.721Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:13:05.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-79e3dd9a052bf1a82a7e6fe7903e28c46988a917-6a2f1f5f10122be0-01 outer:exit 2b-79e3dd9a052bf1a82a7e6fe7903e28c46988a917-e48f6571ec88480c-01
2021-08-24T05:13:05.724Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:13:05.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-05d0cb8349c38ded5a4dd5c8f1045659c0fc798c-36ba9aeebcd46ad9-01 outer:exit 2b-05d0cb8349c38ded5a4dd5c8f1045659c0fc798c-f4d0da9716560cde-01
2021-08-24T05:13:05.737Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:13:05.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-93295daaa0e58c621e6b43d8505f7ed1cc2ec3e4-d8d8b385cc196eeb-01 outer:exit 2b-93295daaa0e58c621e6b43d8505f7ed1cc2ec3e4-6215ca29c7c3335c-01
2021-08-24T05:13:05.739Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:13:05.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b8f1ff9f1c183ddaeb8bdf65997963cee88a028-28967653cb9a1abe-01 outer:exit 2b-0b8f1ff9f1c183ddaeb8bdf65997963cee88a028-6f982fd8ec9d1e8b-01
2021-08-24T05:13:05.741Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:13:05.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-51075e587d2897cb246111f78d8d7c0f504c26c0-89427d5875cd74db-01 outer:exit 2b-51075e587d2897cb246111f78d8d7c0f504c26c0-8ca6f71b60323b65-01
2021-08-24T05:13:05.747Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:13:05.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-791264c2c92a891d30e08c8bc56fda707a653df7-706f84e3a442563f-01 outer:exit 2b-791264c2c92a891d30e08c8bc56fda707a653df7-9f96bdb3c1ced593-01
2021-08-24T05:13:05.749Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:13:05.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-d165e857427bb0327b88921ddba6bcdfb2232074-0789d43dcdac7e3f-01 outer:exit 2b-d165e857427bb0327b88921ddba6bcdfb2232074-6f65871d27c038da-01
2021-08-24T05:13:05.752Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:13:05.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-dedbd85eb07f2a4ecd71e43fda47dca4956dc022-dcc4084430106e31-01 outer:exit 2b-dedbd85eb07f2a4ecd71e43fda47dca4956dc022-1eb03f876d5bd328-01
2021-08-24T05:13:05.766Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:13:05.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-89a1e40c32ded1c466ce7714a480c90f8e61cb4a-168d48e0ad51f744-01 outer:exit 2b-89a1e40c32ded1c466ce7714a480c90f8e61cb4a-26404f5584caace8-01
2021-08-24T05:13:05.776Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:13:05.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fac5228dc86a7add2659049933fc8966cfd32ec-4d12e13d00988533-01 outer:exit 2b-4fac5228dc86a7add2659049933fc8966cfd32ec-eb62ca0965728ee3-01
2021-08-24T05:13:05.779Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:13:05.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee6618e4d5410dff8585975d37bafb254719b908-ed6c4de5a5711976-01 outer:exit 2b-ee6618e4d5410dff8585975d37bafb254719b908-53bc046f3583fd6b-01
2021-08-24T05:13:05.783Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:13:05.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ea45f00db46fecbf3f6a121ea4c46a03e3a87bd-c10e7fe96ecd46c2-01 outer:exit 2b-8ea45f00db46fecbf3f6a121ea4c46a03e3a87bd-f91c5cdd13e5682b-01
2021-08-24T05:13:05.791Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:13:05.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaa036a5425a0a3a74db125f74d5f41d579c8326-0ffe26ba632127d4-01 outer:exit 2b-aaa036a5425a0a3a74db125f74d5f41d579c8326-8c1d28ea587de9e1-01
2021-08-24T05:13:05.828Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (409ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:11.577Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:11.578Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:11.578Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:11.579Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:11.648Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:11.695Z appoptics:patching patched crypto 
2021-08-24T05:13:11.718Z appoptics:patching patched https 
2021-08-24T05:13:11.718Z appoptics:patching patched http 
2021-08-24T05:13:11.769Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:11.769Z appoptics:patching patched fs 
2021-08-24T05:13:11.801Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v16.7.0)
2021-08-24T05:13:11.811Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2021-08-24T05:13:11.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d1e709c736480b670085731c075aa6c78c538e3-057c473ee7a83525-01 outer:exit 2b-6d1e709c736480b670085731c075aa6c78c538e3-0b6ac7c882e71bf3-01
2021-08-24T05:13:11.974Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:13:12.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9d794ee6aa1b8eba437d34ab2ff6c3a115927b9-8d9587e64c76c301-01 outer:exit 2b-e9d794ee6aa1b8eba437d34ab2ff6c3a115927b9-62fd8dbe1f0ef1c2-01
2021-08-24T05:13:12.057Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:13:12.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-b99d398b9a11b985b2141375e2c1da3b40ab9ec7-fa4ebd02a3fd2351-01 outer:exit 2b-b99d398b9a11b985b2141375e2c1da3b40ab9ec7-9e1ba416581864f7-01
2021-08-24T05:13:12.060Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:13:12.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a2ac6bbbe6e3551c486fddeca2baf0d757f648-5632aae4bc6e6653-01 outer:exit 2b-77a2ac6bbbe6e3551c486fddeca2baf0d757f648-7145cf1d7c024ad3-01
2021-08-24T05:13:12.063Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:13:12.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa8bdc98f3ef8a106cb34c7e2be2e748edcd1923-629b09513dc47246-01 outer:exit 2b-aa8bdc98f3ef8a106cb34c7e2be2e748edcd1923-99f6f870704442fa-01
2021-08-24T05:13:12.068Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:13:12.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-1891c55c0bb1d41a30ed0fd30be4211b2d4914c4-47acb2dfa43328f1-01 outer:exit 2b-1891c55c0bb1d41a30ed0fd30be4211b2d4914c4-d1754aec70f4616b-01
2021-08-24T05:13:12.071Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:13:12.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-9aad20c5ec29ffb74398efb8a852adbc18ff7178-44f9d64c9f821824-01 outer:exit 2b-9aad20c5ec29ffb74398efb8a852adbc18ff7178-b547feeaed91114b-01
2021-08-24T05:13:12.074Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:13:12.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-08f15cc49dc2c6683c571181e8136ddbba4dab6b-ee2ffbf098004f3a-01 outer:exit 2b-08f15cc49dc2c6683c571181e8136ddbba4dab6b-736b144b93ef8618-01
2021-08-24T05:13:12.077Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:13:12.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-a04f036c65562123ddddc64348a2cf96bf9b7ca8-3f3b6fbd7b0a21cb-01 outer:exit 2b-a04f036c65562123ddddc64348a2cf96bf9b7ca8-7934c70e689ba433-01
2021-08-24T05:13:12.080Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:13:12.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-10b4a8e162c1d57ee06c48fc8542f9c5595ea403-52ff95b8775066b4-01 outer:exit 2b-10b4a8e162c1d57ee06c48fc8542f9c5595ea403-43452f8ae330e99a-01
2021-08-24T05:13:12.083Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:13:12.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-a097d4876fa201203efc6a74b573739035c6287b-aeb5900a3260b384-01 outer:exit 2b-a097d4876fa201203efc6a74b573739035c6287b-685da6265b46780e-01
2021-08-24T05:13:12.087Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:13:12.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ee190b05879a89d90e26018af6c18cce39c3769-8c5f4370d28f7191-01 outer:exit 2b-6ee190b05879a89d90e26018af6c18cce39c3769-3f3aa50a24fc6638-01
2021-08-24T05:13:12.094Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:13:12.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-848572da5c351ffe92d181bd3b6ca6ca4f63f4e5-437a3759daee5430-01 outer:exit 2b-848572da5c351ffe92d181bd3b6ca6ca4f63f4e5-beddbc30906f677d-01
2021-08-24T05:13:12.113Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:13:12.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee734cd44327b43e30ed5da98e73af1f6f80099c-12e7a9d3561f650a-01 outer:exit 2b-ee734cd44327b43e30ed5da98e73af1f6f80099c-e8fb09b5d8e64d47-01
2021-08-24T05:13:12.155Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:13:12.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-c940a01e01cdf707f21819650453fd5269b7c52b-14c8e85a198e175b-01 outer:exit 2b-c940a01e01cdf707f21819650453fd5269b7c52b-c221a86edc382ddc-01
2021-08-24T05:13:12.158Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:13:12.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7363dd5cab33d180cedfa803ab46cac02c55673-0d13073f510bf915-01 outer:exit 2b-e7363dd5cab33d180cedfa803ab46cac02c55673-a7e2a67e322ffce5-01
2021-08-24T05:13:12.160Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:13:12.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa478ba47b35def1dd13e2a1822b12f409f39cb5-c2376380ff4ccb37-01 outer:exit 2b-aa478ba47b35def1dd13e2a1822b12f409f39cb5-d38ddebcff3d1c08-01
2021-08-24T05:13:12.163Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:13:12.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f6c7c0b683f951a7ce3fcecd6f3e7666bfda7fe-41c19581155d7a28-01 outer:exit 2b-1f6c7c0b683f951a7ce3fcecd6f3e7666bfda7fe-8fc6bbcb3f634652-01
2021-08-24T05:13:12.166Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:13:12.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d2b26748d2e83e7fbbd8ed45279395ebc1f1e48-c6b110e19d88bb49-01 outer:exit 2b-4d2b26748d2e83e7fbbd8ed45279395ebc1f1e48-cecc5c5987fa3894-01
2021-08-24T05:13:12.168Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:13:12.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe3cede6b2518f73488b3bd88c8cd5acd103be4e-992e4359c87b114a-01 outer:exit 2b-fe3cede6b2518f73488b3bd88c8cd5acd103be4e-b0b1b6a9430a78c9-01
2021-08-24T05:13:12.170Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:13:12.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-24d0a1a8ab5d263f71dd46ea089d685f2c4c4bbd-9a63e56ff93dd696-01 outer:exit 2b-24d0a1a8ab5d263f71dd46ea089d685f2c4c4bbd-332aeacdb00fae32-01
2021-08-24T05:13:12.173Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:13:12.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-e451941647dccb085d5012c6fe744621176a5f6f-7f3f34bb81c08d58-01 outer:exit 2b-e451941647dccb085d5012c6fe744621176a5f6f-f38e4194b2506530-01
2021-08-24T05:13:12.175Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:13:12.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2cb0b0a30c443b437f661633a23d7c95a096530-a89a0108e5790016-01 outer:exit 2b-e2cb0b0a30c443b437f661633a23d7c95a096530-759aa424b70c2c6f-01
2021-08-24T05:13:12.178Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:13:12.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-da53f1bea48c28d0e78f767873e64c772b599f49-ae795ae8f6c2c39b-01 outer:exit 2b-da53f1bea48c28d0e78f767873e64c772b599f49-369df0eff03406f2-01
2021-08-24T05:13:12.181Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:13:12.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d7cdfcb92c436006e2133d8ca48db83f6fca151-b0a5be3e899bc5df-01 outer:exit 2b-1d7cdfcb92c436006e2133d8ca48db83f6fca151-99a392669c41f6d7-01
2021-08-24T05:13:12.183Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:13:12.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-733581982a567ffa757d29305c18260ed790aef3-48aaed70c3b7ba77-01 outer:exit 2b-733581982a567ffa757d29305c18260ed790aef3-86b0714750b2b32d-01
2021-08-24T05:13:12.186Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:13:12.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-954bd5279f79771f4cf76f9ee2e23588dbe72de5-d7674a8ea765d546-01 outer:exit 2b-954bd5279f79771f4cf76f9ee2e23588dbe72de5-75604d4b25bea12c-01
2021-08-24T05:13:12.193Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:13:12.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7c03542b70e5b2575756b73608d8221e3d296c3-56b96ba2c044c261-01 outer:exit 2b-a7c03542b70e5b2575756b73608d8221e3d296c3-1ce894d11779d62a-01
2021-08-24T05:13:12.198Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:13:12.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f388a725e6d5115de7fc8bdfd41d6a6ba8e2b02-b8a058d450b688a4-01 outer:exit 2b-8f388a725e6d5115de7fc8bdfd41d6a6ba8e2b02-f14a55a6470cab4e-01
2021-08-24T05:13:12.206Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:13:12.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-741ecf5b1580c0a2936cbe0d6af599a9f3a72d7f-87878fb19601fee2-01 outer:exit 2b-741ecf5b1580c0a2936cbe0d6af599a9f3a72d7f-0f144cb4ac972347-01
2021-08-24T05:13:12.212Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:13:12.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a5178a2f3a45c10ac62ae9bcb049b8d817ebed5-fbce27cb25733048-01 outer:exit 2b-4a5178a2f3a45c10ac62ae9bcb049b8d817ebed5-5262df42d883a6c2-01
2021-08-24T05:13:12.215Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:13:12.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b8be9844cc616d3972ee90533d22fb50f697d89-46a3be08c147f8d6-01 outer:exit 2b-1b8be9844cc616d3972ee90533d22fb50f697d89-b5254d0158576632-01
2021-08-24T05:13:12.221Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:13:12.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a00f413ce97d9e9131383354193e266ff4b4c2f-1d6024e40eefdddf-01 outer:exit 2b-2a00f413ce97d9e9131383354193e266ff4b4c2f-57b137cd2db3ed15-01
2021-08-24T05:13:12.228Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:13:12.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-63b68298698608eec3ccaa1e75ddb4c8d2350d21-d31e28ac528c6d16-01 outer:exit 2b-63b68298698608eec3ccaa1e75ddb4c8d2350d21-8e2bbaba4a93b433-01
2021-08-24T05:13:12.230Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:13:12.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad7a8d3da3f999cd1ee2798469a9a1023848d3ed-7d94ce7d632a506e-01 outer:exit 2b-ad7a8d3da3f999cd1ee2798469a9a1023848d3ed-ae932f9168082b16-01
2021-08-24T05:13:12.232Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:13:12.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-73d698d75db0b231c56afe124ef5415af08ed5fc-d6befcead70e656e-01 outer:exit 2b-73d698d75db0b231c56afe124ef5415af08ed5fc-2fc33b51ee9fdb74-01
2021-08-24T05:13:12.234Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:13:12.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a30a98a18b5b397b4d603cf9d94b0d622889eb6-84fa370633d8cb47-01 outer:exit 2b-6a30a98a18b5b397b4d603cf9d94b0d622889eb6-b05d5009ffe2c119-01
2021-08-24T05:13:12.236Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:13:12.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb0bf0c199f2d5871f9c803871af56031712efca-4a96484c238e1249-01 outer:exit 2b-cb0bf0c199f2d5871f9c803871af56031712efca-de7bb5faa839c2a2-01
2021-08-24T05:13:12.238Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:13:12.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f2407db88600fc431b293e2e624521d0a30da8d-27bd4045288671aa-01 outer:exit 2b-8f2407db88600fc431b293e2e624521d0a30da8d-ad8d97982a8ab1f9-01
2021-08-24T05:13:12.248Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:13:12.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfb14cb196deac04a97fdbe9c1b1b4daa5182451-248aac0c5ff8d64a-01 outer:exit 2b-cfb14cb196deac04a97fdbe9c1b1b4daa5182451-dd19cb32533ac413-01
2021-08-24T05:13:12.257Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:13:12.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-98a37f8c1a7e794d6928e469124cfc4134136475-9161b2d995ee3c8d-01 outer:exit 2b-98a37f8c1a7e794d6928e469124cfc4134136475-a902757ffc5e0b52-01
2021-08-24T05:13:12.260Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:13:12.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d4ed31db89c5e146bf2a7d01b5853f7bb0bde0b-94a126c0708eb450-01 outer:exit 2b-3d4ed31db89c5e146bf2a7d01b5853f7bb0bde0b-600eed244311b5f9-01
2021-08-24T05:13:12.263Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:13:12.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a6e8b69b4aa90145e71c9a3295c5ea93bf1b57b-6a3050aa44494409-01 outer:exit 2b-6a6e8b69b4aa90145e71c9a3295c5ea93bf1b57b-4b4f8f7002b923dd-01
2021-08-24T05:13:12.266Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:13:12.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ca098146fbbfbd090af7b47ff30505b2f8d379f-60426edd2667d88e-01 outer:exit 2b-6ca098146fbbfbd090af7b47ff30505b2f8d379f-b10822a259a28257-01
2021-08-24T05:13:12.296Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (364ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:17.539Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:17.539Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:17.540Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:17.540Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:17.605Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:17.651Z appoptics:patching patched crypto 
2021-08-24T05:13:17.682Z appoptics:patching patched https 
2021-08-24T05:13:17.682Z appoptics:patching patched http 
2021-08-24T05:13:17.739Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:17.739Z appoptics:patching patched fs 
2021-08-24T05:13:17.770Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v16.7.0)
2021-08-24T05:13:17.778Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2021-08-24T05:13:17.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-f65d4822e86616513e8b94719bdf96a45480a35f-49ab6c2cd76facc1-01 outer:exit 2b-f65d4822e86616513e8b94719bdf96a45480a35f-301a58c6b3f57ef3-01
2021-08-24T05:13:17.939Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:13:17.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ec23612cec19f854dcab13698f2b67d5ac3ef3e-e139c0ccca14811d-01 outer:exit 2b-7ec23612cec19f854dcab13698f2b67d5ac3ef3e-fe0ebc0f11a453c8-01
2021-08-24T05:13:17.993Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:13:17.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e7f65476440287d75313153a9ed8541a99938d9-fa2e43d571a0661e-01 outer:exit 2b-6e7f65476440287d75313153a9ed8541a99938d9-4f6d25b94e28968f-01
2021-08-24T05:13:17.997Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:13:18.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-131a8a4b90f3c8bfbefee054adc7c51c127d8291-6d68ce04553de0c1-01 outer:exit 2b-131a8a4b90f3c8bfbefee054adc7c51c127d8291-c696ed7a19ba2be5-01
2021-08-24T05:13:18.007Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:13:18.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f47a99d4057e43f67413ee5996d09ab4659d42d-bc5011d7ce9da916-01 outer:exit 2b-8f47a99d4057e43f67413ee5996d09ab4659d42d-66d966505d4cd7b6-01
2021-08-24T05:13:18.012Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:13:18.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fe2eb16ac9b05a077c075b41b4c6e3276546b90-1272a95ce0ce8be9-01 outer:exit 2b-6fe2eb16ac9b05a077c075b41b4c6e3276546b90-255823160e8dfe6b-01
2021-08-24T05:13:18.015Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:13:18.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-513f550c9619f9047139ec6e09ba0bcdd6dfba11-0479ff78a644b764-01 outer:exit 2b-513f550c9619f9047139ec6e09ba0bcdd6dfba11-0edfc5c450353449-01
2021-08-24T05:13:18.019Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:13:18.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f65006c63030d16f0055ff78905153b018cb272-e39b68548f88ace6-01 outer:exit 2b-5f65006c63030d16f0055ff78905153b018cb272-04c1e50feabb41c2-01
2021-08-24T05:13:18.029Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:13:18.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-db76a979ef96a93358f92c0c90711bdcccd6c4c9-78584b3e233887eb-01 outer:exit 2b-db76a979ef96a93358f92c0c90711bdcccd6c4c9-578a22552d380de6-01
2021-08-24T05:13:18.036Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:13:18.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-725590fc89c519a0a1bfedb03d01a0dcb55bb49c-9db22802d49224cb-01 outer:exit 2b-725590fc89c519a0a1bfedb03d01a0dcb55bb49c-e53fa43da304d9e6-01
2021-08-24T05:13:18.039Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:13:18.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-e885c59d6af9218d95807c3f04d8c45dc88596c1-1336f4c581af4e02-01 outer:exit 2b-e885c59d6af9218d95807c3f04d8c45dc88596c1-f49fb0d98021a364-01
2021-08-24T05:13:18.045Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:13:18.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a221b5d16f41fa5fc51006f109225bef9e2c9c6-6a5db0c118cfceab-01 outer:exit 2b-0a221b5d16f41fa5fc51006f109225bef9e2c9c6-2bf6790684d6bb44-01
2021-08-24T05:13:18.052Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:13:18.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee8c1c5cc31b2cb9c7407de12bd17036b2c77416-e9b63e80a01d2d47-01 outer:exit 2b-ee8c1c5cc31b2cb9c7407de12bd17036b2c77416-ba4dc15b285e6450-01
2021-08-24T05:13:18.069Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:13:18.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-22718b4267ed22de7833607fc2b1e34c30b8d111-a7d54f8a419134d0-01 outer:exit 2b-22718b4267ed22de7833607fc2b1e34c30b8d111-de0710c8b7c82aa3-01
2021-08-24T05:13:18.093Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:13:18.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f6c528f24265827a60769b56f3b74888d71acf1-1d2016f5d1de9946-01 outer:exit 2b-6f6c528f24265827a60769b56f3b74888d71acf1-55c93a1aeff1db6a-01
2021-08-24T05:13:18.096Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:13:18.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c8c07a5624bf5cbaa71e64f1c668143cac153ad-5c86c9db75b32a8a-01 outer:exit 2b-9c8c07a5624bf5cbaa71e64f1c668143cac153ad-d3594525048db5f7-01
2021-08-24T05:13:18.100Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:13:18.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-01176b008a8d133dda6782e1192eb415a741c9ed-03cd8a1a5ed86e30-01 outer:exit 2b-01176b008a8d133dda6782e1192eb415a741c9ed-5966459a853d89b1-01
2021-08-24T05:13:18.103Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:13:18.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-35fe918e749e975b7c35052cc3ba037db8695065-5d1ea9da35de0b51-01 outer:exit 2b-35fe918e749e975b7c35052cc3ba037db8695065-c71245a7b473dc62-01
2021-08-24T05:13:18.106Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:13:18.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-2edc9ec9aaa3081cd0624c7958d93761fe13e8d8-c87cc313b6a69255-01 outer:exit 2b-2edc9ec9aaa3081cd0624c7958d93761fe13e8d8-225d2a64b38e6ba1-01
2021-08-24T05:13:18.108Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:13:18.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a25aa798f19242e0df5e5773e155a2be99cbd0e-4cd16c56c3d7d1d8-01 outer:exit 2b-5a25aa798f19242e0df5e5773e155a2be99cbd0e-cd487eebe99e9b34-01
2021-08-24T05:13:18.111Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:13:18.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d965fe7c4b4e5f893cc9878dbb6d76a1c283178-06942716bdbcff15-01 outer:exit 2b-1d965fe7c4b4e5f893cc9878dbb6d76a1c283178-5dea4b630a5fe140-01
2021-08-24T05:13:18.113Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:13:18.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec45d808d1d0611fecd7cbe06440a44f8ad1bdf6-1739324ab2562531-01 outer:exit 2b-ec45d808d1d0611fecd7cbe06440a44f8ad1bdf6-9552643064e6872c-01
2021-08-24T05:13:18.115Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:13:18.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-acc087c11e4276d194e7dc1409f7cd890f487326-211ee513d028541a-01 outer:exit 2b-acc087c11e4276d194e7dc1409f7cd890f487326-d562fc69fb868327-01
2021-08-24T05:13:18.119Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:13:18.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6478c2f15bb2ec86adb5e99b1af6e3f3b10903e-999ee44a186fc4d0-01 outer:exit 2b-a6478c2f15bb2ec86adb5e99b1af6e3f3b10903e-9045da1ab7c988b2-01
2021-08-24T05:13:18.122Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:13:18.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-098189f1c8d070877577a9b2c997bcb2efe204fa-513f651d528558e5-01 outer:exit 2b-098189f1c8d070877577a9b2c997bcb2efe204fa-237ab50c5a0edbae-01
2021-08-24T05:13:18.124Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:13:18.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cec10b50358c1e7be6fdd45e1104a8b350506cc-8d03219381ea0001-01 outer:exit 2b-3cec10b50358c1e7be6fdd45e1104a8b350506cc-8392a72aa8d07a3b-01
2021-08-24T05:13:18.127Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:13:18.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-a92568f677ea6f6b370129cdc62c7a8f7a6bb056-eec2674809a31f9f-01 outer:exit 2b-a92568f677ea6f6b370129cdc62c7a8f7a6bb056-db27d247af05fd7c-01
2021-08-24T05:13:18.134Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:13:18.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa853981d51108d96db0c984474b9fc810c6ab61-0b7e439052f2d7e0-01 outer:exit 2b-fa853981d51108d96db0c984474b9fc810c6ab61-9322fef3d75cb144-01
2021-08-24T05:13:18.139Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:13:18.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3793845b6b44c68ade07564faf827c0e84e7e72-d10b8426ec636c25-01 outer:exit 2b-c3793845b6b44c68ade07564faf827c0e84e7e72-e953845ba7222628-01
2021-08-24T05:13:18.151Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:13:18.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-fca76459dbe1876b7fa4fd6cd8c08905656270c3-d925479a570fbf02-01 outer:exit 2b-fca76459dbe1876b7fa4fd6cd8c08905656270c3-ee62b59daae89738-01
2021-08-24T05:13:18.158Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:13:18.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b70345f212fe90eb235411b7a939b0b765fda87-b47b6148ce039a38-01 outer:exit 2b-0b70345f212fe90eb235411b7a939b0b765fda87-5bd37172badd5852-01
2021-08-24T05:13:18.160Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:13:18.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-36fc42167d85f7fda96eaed56c4d1a8afb6cbf91-12e65df88c1b3b0b-01 outer:exit 2b-36fc42167d85f7fda96eaed56c4d1a8afb6cbf91-cbb8f4c5a9b81437-01
2021-08-24T05:13:18.164Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:13:18.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce13b885827ff7ddc0c3b8301c8855e0bed55e86-e0f5df22a0d4a8c6-01 outer:exit 2b-ce13b885827ff7ddc0c3b8301c8855e0bed55e86-e80422e393365932-01
2021-08-24T05:13:18.172Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:13:18.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c95f1cf6be6967f307d5c19fc6b07ee75bbcea5-0a15b7cb14753991-01 outer:exit 2b-0c95f1cf6be6967f307d5c19fc6b07ee75bbcea5-c34bbbc318a2d9aa-01
2021-08-24T05:13:18.174Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:13:18.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfac2ecb86dee257ab85ed689bc093e3b2ef9f76-a0d132c16a46b1aa-01 outer:exit 2b-dfac2ecb86dee257ab85ed689bc093e3b2ef9f76-aacb2121841e597d-01
2021-08-24T05:13:18.176Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:13:18.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-4df30f4d39957baa8ed1a14bf33e9a575332bdd6-3306e25e710eafe5-01 outer:exit 2b-4df30f4d39957baa8ed1a14bf33e9a575332bdd6-877d8d8e739fdee0-01
2021-08-24T05:13:18.179Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:13:18.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-0550e91c7b2fd40bad322dcbaf518658215a4574-07f2dd0637aa78ad-01 outer:exit 2b-0550e91c7b2fd40bad322dcbaf518658215a4574-fe15b0e60032fd2b-01
2021-08-24T05:13:18.181Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:13:18.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-d29fdc50674650008bec200d1a1e2df071c2a04e-71a6e43fff7341fd-01 outer:exit 2b-d29fdc50674650008bec200d1a1e2df071c2a04e-83b4eaaa7dfee580-01
2021-08-24T05:13:18.183Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:13:18.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2b251cab7370c6dd7eb1fe3af32b1273da0113c-d96bced7ac760a10-01 outer:exit 2b-a2b251cab7370c6dd7eb1fe3af32b1273da0113c-c56d017d06c754d1-01
2021-08-24T05:13:18.193Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:13:18.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1e6daa4642a4fea0c436e6d73fb5d19fc7d5034-4288342c92d224d8-01 outer:exit 2b-d1e6daa4642a4fea0c436e6d73fb5d19fc7d5034-e3326e5124899883-01
2021-08-24T05:13:18.202Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:13:18.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdd759c4c33f66f0ca88ae7091308a1d39130b3d-7fff1168acf9bab3-01 outer:exit 2b-bdd759c4c33f66f0ca88ae7091308a1d39130b3d-064d3c19f67c2c85-01
2021-08-24T05:13:18.206Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:13:18.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-b123546674c019b9606fa3f5c5de44ee1bff9e6c-2597529bc1e8782b-01 outer:exit 2b-b123546674c019b9606fa3f5c5de44ee1bff9e6c-04491c78436b7551-01
2021-08-24T05:13:18.209Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:13:18.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-c33359845d4e1ff8b275f39aaa58186115450107-e58ce56a296df035-01 outer:exit 2b-c33359845d4e1ff8b275f39aaa58186115450107-8ee6b44bbacb049a-01
2021-08-24T05:13:18.212Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:13:18.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-47a4dcae05437b92661513e3fb1ed22bc5768c35-f132584b6a28f7db-01 outer:exit 2b-47a4dcae05437b92661513e3fb1ed22bc5768c35-8808ac8404a0152b-01
2021-08-24T05:13:18.242Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (353ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:24.195Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:24.195Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:24.195Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:24.196Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:24.263Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:24.315Z appoptics:patching patched crypto 
2021-08-24T05:13:24.339Z appoptics:patching patched https 
2021-08-24T05:13:24.340Z appoptics:patching patched http 
2021-08-24T05:13:24.390Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:24.390Z appoptics:patching patched fs 
2021-08-24T05:13:24.421Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v16.7.0)
2021-08-24T05:13:24.429Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2021-08-24T05:13:24.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c213100a761b0eecd762949df519d2b9c4aa8e5-6f69dabc179d5c20-01 outer:exit 2b-8c213100a761b0eecd762949df519d2b9c4aa8e5-26c3cfb597b2f00a-01
2021-08-24T05:13:24.575Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:13:24.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-10d1568c11d302e3329cdd2cb657b8e29bd15652-2bdc572f82cc6b31-01 outer:exit 2b-10d1568c11d302e3329cdd2cb657b8e29bd15652-1de66e6f6e52db83-01
2021-08-24T05:13:24.663Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:13:24.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-013dcc7b763dfa14ba728b510bbef85d33be3c07-203775f94fca7196-01 outer:exit 2b-013dcc7b763dfa14ba728b510bbef85d33be3c07-036166422a96fcb4-01
2021-08-24T05:13:24.667Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:13:24.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ba522645cb6662bdc6d5cc6862688490da5086d-41c5e1a5b73bf072-01 outer:exit 2b-4ba522645cb6662bdc6d5cc6862688490da5086d-4fffaf035ab222d7-01
2021-08-24T05:13:24.670Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:13:24.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-5499dc1f7208ecc0f8b454f87c067aa107ffd5d2-ac9edd8312855241-01 outer:exit 2b-5499dc1f7208ecc0f8b454f87c067aa107ffd5d2-f2917a07d86a45c6-01
2021-08-24T05:13:24.675Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:13:24.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-db4bcdd3745719cadd0248581074cc8363feb18c-587e80b69e31de0a-01 outer:exit 2b-db4bcdd3745719cadd0248581074cc8363feb18c-6032e1330bdfb273-01
2021-08-24T05:13:24.679Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:13:24.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3bbb9e038394d82ac4205d1ebc2bbeb65deaa25-eb8f60c42dddf566-01 outer:exit 2b-c3bbb9e038394d82ac4205d1ebc2bbeb65deaa25-08d26c606784aa34-01
2021-08-24T05:13:24.682Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:13:24.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce2a85a1a5b1ba34381c4e40d4606de0941cc9f0-fb1caa9e2e24b7d1-01 outer:exit 2b-ce2a85a1a5b1ba34381c4e40d4606de0941cc9f0-e19c1a1385d095d9-01
2021-08-24T05:13:24.687Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:13:24.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-aea14bc3657ce0b03a05bf8e8305654a9692ee06-165b70a657e16d1b-01 outer:exit 2b-aea14bc3657ce0b03a05bf8e8305654a9692ee06-635a9935748caa03-01
2021-08-24T05:13:24.690Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:13:24.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdf34017a2752811c34f69f8dc514cddc3bc87a0-ab531511bfa37b00-01 outer:exit 2b-bdf34017a2752811c34f69f8dc514cddc3bc87a0-9099cef05de3408c-01
2021-08-24T05:13:24.693Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:13:24.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa6072fdf0c3fb258293a631d23a1d9cae8b7b96-57b52a6f1eae00a6-01 outer:exit 2b-aa6072fdf0c3fb258293a631d23a1d9cae8b7b96-60c34b3c6704d1ec-01
2021-08-24T05:13:24.697Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:13:24.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-a20032af463adcb1688a3360df84991aa9940586-76b564dc99c9a68c-01 outer:exit 2b-a20032af463adcb1688a3360df84991aa9940586-ba5dc538ff36e3ed-01
2021-08-24T05:13:24.709Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:13:24.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-da84cf7e55ef98cf8696d2d1cc4b5e98fdf8d737-a7eebbe0dd857424-01 outer:exit 2b-da84cf7e55ef98cf8696d2d1cc4b5e98fdf8d737-cb5488d6180d3a2c-01
2021-08-24T05:13:24.733Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:13:24.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cfe353601753b9d4fead0908405abda15c02ccd-3e79030b9ee518d7-01 outer:exit 2b-1cfe353601753b9d4fead0908405abda15c02ccd-d3ca5fb62ea13a1f-01
2021-08-24T05:13:24.760Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:13:24.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd4a7064d81d10c63a9ee691a5de1d0e0e653b4c-2ffef25298b40e60-01 outer:exit 2b-fd4a7064d81d10c63a9ee691a5de1d0e0e653b4c-85084f7c78aec610-01
2021-08-24T05:13:24.763Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:13:24.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3a5f66845b0bb2ba32e16fdb4aa6a7dbd29e797-04c0602051a43346-01 outer:exit 2b-a3a5f66845b0bb2ba32e16fdb4aa6a7dbd29e797-b70b8079456af373-01
2021-08-24T05:13:24.767Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:13:24.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-ece230e102b635a53df6a1a6b57f4ddc000485b2-5b08d1e3d05838fc-01 outer:exit 2b-ece230e102b635a53df6a1a6b57f4ddc000485b2-fba1c594588ee6a1-01
2021-08-24T05:13:24.770Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:13:24.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-2379d5c16ddb3879d8998c014ee697625d19a978-dbfcce5d904182fd-01 outer:exit 2b-2379d5c16ddb3879d8998c014ee697625d19a978-e70752fb9fe3f253-01
2021-08-24T05:13:24.776Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:13:24.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2bc7291d6cf80831ba5d80b1834506aea0497ab-b1d04c7822d0c91b-01 outer:exit 2b-a2bc7291d6cf80831ba5d80b1834506aea0497ab-8229e3679e3ccb85-01
2021-08-24T05:13:24.779Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:13:24.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-4727b65105a40d2bdf10f61620403a90a0b4f0e4-57896c42589bc9c1-01 outer:exit 2b-4727b65105a40d2bdf10f61620403a90a0b4f0e4-a87e8691560e4ad0-01
2021-08-24T05:13:24.781Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:13:24.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f12fa45efdcf92ebb1ff77698e157bc44a5567a-c74b39abb3120b07-01 outer:exit 2b-2f12fa45efdcf92ebb1ff77698e157bc44a5567a-a3d4f66467dbc67a-01
2021-08-24T05:13:24.783Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:13:24.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7c94a0b93022c44f04e3f6c6196fa4213fff379-f2fe581fa123d9ec-01 outer:exit 2b-a7c94a0b93022c44f04e3f6c6196fa4213fff379-f327e9011ece0ce7-01
2021-08-24T05:13:24.786Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:13:24.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7c15e59e0e62fe7d3d7839c2548adfa89237db8-9b4af7ac84ccfc9d-01 outer:exit 2b-a7c15e59e0e62fe7d3d7839c2548adfa89237db8-06699cd1fbc4ffaa-01
2021-08-24T05:13:24.790Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:13:24.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-d445ea12f306a94e01d4d5d1438870c87f9d86db-2b6e4530279e122a-01 outer:exit 2b-d445ea12f306a94e01d4d5d1438870c87f9d86db-d2aa2768727151ce-01
2021-08-24T05:13:24.793Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:13:24.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-9aaed26e5d2d2b71bdcad93598447085688a5d18-95c1d27a502daac5-01 outer:exit 2b-9aaed26e5d2d2b71bdcad93598447085688a5d18-5ceaa4b217f5e53e-01
2021-08-24T05:13:24.795Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:13:24.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-142321be7aa5515b591af2789d9227c035ccdd67-910172b4a35391d6-01 outer:exit 2b-142321be7aa5515b591af2789d9227c035ccdd67-399d6b0a67ff403a-01
2021-08-24T05:13:24.798Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:13:24.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-3af396f8db4999224f6994a69c75c42077a03f43-82efb39b63b50e24-01 outer:exit 2b-3af396f8db4999224f6994a69c75c42077a03f43-76c6f70ba2c710ae-01
2021-08-24T05:13:24.808Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:13:24.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-785815468d1094a8627a433b749cd7db004c6c7a-2d067e3a9858976d-01 outer:exit 2b-785815468d1094a8627a433b749cd7db004c6c7a-bc8d63d1722a3b8c-01
2021-08-24T05:13:24.812Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:13:24.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-4068c7ac2a1e95c5deb2cfc4e98970c286836ccd-4cb2bc9f92c886ab-01 outer:exit 2b-4068c7ac2a1e95c5deb2cfc4e98970c286836ccd-dbd2849b12c5cb00-01
2021-08-24T05:13:24.822Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:13:24.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c5ffe96d82acfcff0844a310fdaba2f1d54611d-2925c7e4f29d70dc-01 outer:exit 2b-6c5ffe96d82acfcff0844a310fdaba2f1d54611d-d62f82b3a847c9ef-01
2021-08-24T05:13:24.830Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:13:24.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-143080ac200b06b9de4910fb6690e92916939472-f9b5aa6f5348b329-01 outer:exit 2b-143080ac200b06b9de4910fb6690e92916939472-c673d1a58cb3530a-01
2021-08-24T05:13:24.833Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:13:24.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5541da8db379773687abadbc6d02de8bb9b666e-b5665e76ceb15bde-01 outer:exit 2b-e5541da8db379773687abadbc6d02de8bb9b666e-267c2223cb9420d5-01
2021-08-24T05:13:24.837Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:13:24.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-d62bd47a8cd244e38b24ffc63f221ab7bfa97a9c-ed3f9d722670463f-01 outer:exit 2b-d62bd47a8cd244e38b24ffc63f221ab7bfa97a9c-2f0667611a1dcd23-01
2021-08-24T05:13:24.844Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:13:24.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-c87f6870d9ba2c0ae8de0a5653eeacde360cd935-d294d9cf4c8c8e35-01 outer:exit 2b-c87f6870d9ba2c0ae8de0a5653eeacde360cd935-8f375b72b69677e9-01
2021-08-24T05:13:24.846Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:13:24.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-62da49ad0aad41d7e1abfa4ba36a6e73b382cbf1-b44c769d54aabb57-01 outer:exit 2b-62da49ad0aad41d7e1abfa4ba36a6e73b382cbf1-139df60fe7aea3c8-01
2021-08-24T05:13:24.848Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:13:24.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-f816761c61b653c449c8d5f8b7264e10f2358560-2db1f004714996a9-01 outer:exit 2b-f816761c61b653c449c8d5f8b7264e10f2358560-a9ca45e92e5bc85b-01
2021-08-24T05:13:24.851Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:13:24.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-08567c0c604d21737440cf251b3dfdd36695cf30-e50737bc424fc695-01 outer:exit 2b-08567c0c604d21737440cf251b3dfdd36695cf30-0069d5aca9289510-01
2021-08-24T05:13:24.853Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:13:24.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-83b1b9fc746099c23e12ad3bf52f42bafa3e29ec-a662df81e9ca22d8-01 outer:exit 2b-83b1b9fc746099c23e12ad3bf52f42bafa3e29ec-4258b0aac291d410-01
2021-08-24T05:13:24.856Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:13:24.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-927c22d7f4e8672b11a24d54793afd99925a7a6b-815beac86142871a-01 outer:exit 2b-927c22d7f4e8672b11a24d54793afd99925a7a6b-61eff65b14b060bb-01
2021-08-24T05:13:24.867Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:13:24.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef66cdb7a5492d24f9c62826b005f307c80f0bb4-f2f242292f51cc22-01 outer:exit 2b-ef66cdb7a5492d24f9c62826b005f307c80f0bb4-510f64402f59c8e8-01
2021-08-24T05:13:24.878Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:13:24.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-59327bdf2110321bd557650463ce8604c68ea7e4-614b75cbdae3b0f7-01 outer:exit 2b-59327bdf2110321bd557650463ce8604c68ea7e4-bb734d14f91dd464-01
2021-08-24T05:13:24.882Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:13:24.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-83844035c5105feb36a075aec7918832795c15c8-e11d59e053a394bc-01 outer:exit 2b-83844035c5105feb36a075aec7918832795c15c8-d692c1ba0b66e97e-01
2021-08-24T05:13:24.885Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:13:24.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-34bd5025afe7a617cbd291cc299ad4aab1bb9b05-ebc5faa96ac25248-01 outer:exit 2b-34bd5025afe7a617cbd291cc299ad4aab1bb9b05-3027aaf1dde4f1c3-01
2021-08-24T05:13:24.888Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:13:24.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-243db9c0704109386b08961006355f019e661821-31f687a1a22c8023-01 outer:exit 2b-243db9c0704109386b08961006355f019e661821-f64020c49b211707-01
2021-08-24T05:13:24.920Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (384ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:30.415Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:30.416Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:30.416Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:30.417Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:30.496Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:30.550Z appoptics:patching patched crypto 
2021-08-24T05:13:30.577Z appoptics:patching patched https 
2021-08-24T05:13:30.577Z appoptics:patching patched http 
2021-08-24T05:13:30.636Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:30.636Z appoptics:patching patched fs 
2021-08-24T05:13:30.668Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v16.7.0)
2021-08-24T05:13:30.677Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2021-08-24T05:13:30.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd0f42d007ef355fbf0543428ec33ed2ef810083-a9f35e845336ac80-01 outer:exit 2b-fd0f42d007ef355fbf0543428ec33ed2ef810083-82a15d66d4b4f345-01
2021-08-24T05:13:30.851Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:13:30.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-2beebcda13fcf0306c5aa43ea9c6bf07777f3ba8-cbdc63c11f49a133-01 outer:exit 2b-2beebcda13fcf0306c5aa43ea9c6bf07777f3ba8-324df495a709559b-01
2021-08-24T05:13:30.903Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:13:30.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed04b3543134781cc2d2d898f77de8da67676485-5fd91e65c4cd6721-01 outer:exit 2b-ed04b3543134781cc2d2d898f77de8da67676485-09910cc5e6e35e1e-01
2021-08-24T05:13:30.907Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:13:30.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-141ae68c206e40ecde2842c354d6deb3356172db-fcd7eb1090f4d339-01 outer:exit 2b-141ae68c206e40ecde2842c354d6deb3356172db-2d4703e14f0ace5c-01
2021-08-24T05:13:30.912Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:13:30.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-421cb154ee796baf640c9e198743693da07651f8-d9a7ab1588f28e1e-01 outer:exit 2b-421cb154ee796baf640c9e198743693da07651f8-c5fcde3b48d2f7f8-01
2021-08-24T05:13:30.924Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:13:30.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1693ac48eb396ac7ac4da0d1cad304833c527b8-3348461eb435f1ee-01 outer:exit 2b-f1693ac48eb396ac7ac4da0d1cad304833c527b8-6f188763efe4d5be-01
2021-08-24T05:13:30.927Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:13:30.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-4414cab99969567f3ff6caf595069cea1584f0cc-81339abe0d2ad474-01 outer:exit 2b-4414cab99969567f3ff6caf595069cea1584f0cc-14fff0fa85559cca-01
2021-08-24T05:13:30.930Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:13:30.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a24834311ebc797526c557371ae69f7363c9d93-8b65416f9bc4178a-01 outer:exit 2b-6a24834311ebc797526c557371ae69f7363c9d93-72e57f7baae72aa0-01
2021-08-24T05:13:30.937Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:13:30.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-d98906c9e3aac2d1aaf47bd1a03772df2cf46caa-5d0e8e482e726af5-01 outer:exit 2b-d98906c9e3aac2d1aaf47bd1a03772df2cf46caa-d297b8ca57c7da4f-01
2021-08-24T05:13:30.940Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:13:30.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-002e940b6568bc77e7b9f2af7437334c6c604d20-0ae55a457aab216c-01 outer:exit 2b-002e940b6568bc77e7b9f2af7437334c6c604d20-e344d5b15e3ad42c-01
2021-08-24T05:13:30.944Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:13:30.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b94478f6ee5ba371ac4c04ae75ce4b75a70f172-4a7e3bc5afde1f51-01 outer:exit 2b-3b94478f6ee5ba371ac4c04ae75ce4b75a70f172-eedc899272d80cab-01
2021-08-24T05:13:30.948Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:13:30.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-359daecc27602035db58a82aa850c485b5bea761-2f61817f71014c94-01 outer:exit 2b-359daecc27602035db58a82aa850c485b5bea761-e0247f3e1cc779d4-01
2021-08-24T05:13:30.956Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:13:30.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-567b218cc5b933d217ecddd6451a85bd87736b51-d1d4a6f697eb42fa-01 outer:exit 2b-567b218cc5b933d217ecddd6451a85bd87736b51-5b197c8339a0b8fe-01
2021-08-24T05:13:30.974Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:13:31.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-f18def6286c984ef846bba1f0a8ea3beb2ed926d-3d0b59d6294356c4-01 outer:exit 2b-f18def6286c984ef846bba1f0a8ea3beb2ed926d-a2b7ef9d8becbe91-01
2021-08-24T05:13:31.044Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:13:31.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-00175ae41fba4d89f5a8210c82d2dabb6972f9a1-7d0ba82413aa237b-01 outer:exit 2b-00175ae41fba4d89f5a8210c82d2dabb6972f9a1-8d1b899bc9054a19-01
2021-08-24T05:13:31.048Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:13:31.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-b94f99763eab20fd200bf1804e893f57a1548628-fb402c10a424da1f-01 outer:exit 2b-b94f99763eab20fd200bf1804e893f57a1548628-58f0eb707488fffb-01
2021-08-24T05:13:31.051Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:13:31.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-24e1b6ce44c8000a93d22dce7572d4da411956cf-1c01e6b087d5c689-01 outer:exit 2b-24e1b6ce44c8000a93d22dce7572d4da411956cf-129be6a9f518b5c7-01
2021-08-24T05:13:31.054Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:13:31.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8addd50c1e18954b135bad2171c6f86d78837fa-b417b3798bb6c165-01 outer:exit 2b-f8addd50c1e18954b135bad2171c6f86d78837fa-4834bf79964410cc-01
2021-08-24T05:13:31.057Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:13:31.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-7599dedb080cfc8cbb253b9068911f620dfb28c4-5c41b40b808af3c4-01 outer:exit 2b-7599dedb080cfc8cbb253b9068911f620dfb28c4-92071b15d88e3b82-01
2021-08-24T05:13:31.060Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:13:31.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f92420770febd36a67fe0e4cc30f902a3465861-06495968642176c2-01 outer:exit 2b-1f92420770febd36a67fe0e4cc30f902a3465861-18ceb50c6a9cd56c-01
2021-08-24T05:13:31.063Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:13:31.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c3be92fa077c9d6a2b372e29a23eeec4200b55a-a46b6ef6fda7664d-01 outer:exit 2b-9c3be92fa077c9d6a2b372e29a23eeec4200b55a-5224ea2fd7e9d9f6-01
2021-08-24T05:13:31.065Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:13:31.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-3df4e10533b332bda6f75db0ad86d933bcae2c08-500e9f5ad9c839d9-01 outer:exit 2b-3df4e10533b332bda6f75db0ad86d933bcae2c08-3d7d21cd93180914-01
2021-08-24T05:13:31.067Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:13:31.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecab425ba8a097df1685da95d96dcfdea49c624f-15e2d9160f40d9af-01 outer:exit 2b-ecab425ba8a097df1685da95d96dcfdea49c624f-b4d08b9a222da192-01
2021-08-24T05:13:31.070Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:13:31.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-03ee8b029b616099c30331b4d5b32e056c1e82fd-aec4246403a14ca9-01 outer:exit 2b-03ee8b029b616099c30331b4d5b32e056c1e82fd-7d3df1f822384d32-01
2021-08-24T05:13:31.081Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:13:31.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-6110f7e599d2180cbe27365518f15973be48e387-0a7b8a7b67d1d66f-01 outer:exit 2b-6110f7e599d2180cbe27365518f15973be48e387-afd7cfce9a38bc12-01
2021-08-24T05:13:31.084Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:13:31.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f9752a356393c4804229644c38978d2eeb19801-48634d01d99154c3-01 outer:exit 2b-2f9752a356393c4804229644c38978d2eeb19801-94a3de5d8125ac6c-01
2021-08-24T05:13:31.086Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:13:31.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-9632e37fa6c9f145ed9940778719702914749b24-0ad6959aa4805d86-01 outer:exit 2b-9632e37fa6c9f145ed9940778719702914749b24-e18b8ac1d3903848-01
2021-08-24T05:13:31.095Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:13:31.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4aa6d9c55df38e1ebd3dea25f25c3208a72e518-57a6a6af56c1eaa0-01 outer:exit 2b-d4aa6d9c55df38e1ebd3dea25f25c3208a72e518-fec3a8207253dc76-01
2021-08-24T05:13:31.100Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:13:31.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-26b1ecc9f918c17a81649b1493943e2124b2075c-c7b9ab69fa2e32ce-01 outer:exit 2b-26b1ecc9f918c17a81649b1493943e2124b2075c-f823318689b56412-01
2021-08-24T05:13:31.108Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:13:31.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e62a8a306ee9d065c2b0a9bd3dbe18b6a8755a4-4a37b0b6e4dd9ed8-01 outer:exit 2b-6e62a8a306ee9d065c2b0a9bd3dbe18b6a8755a4-5e880e19e389fc3f-01
2021-08-24T05:13:31.115Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:13:31.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-2685035b387d22b8399050e8ed9fadd28912814e-ae67020e6c0320be-01 outer:exit 2b-2685035b387d22b8399050e8ed9fadd28912814e-6eb2c459c2b76d77-01
2021-08-24T05:13:31.117Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:13:31.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-76bf3826d1cd59035dc86dda25822da53de9da08-2d93649793f0ca8c-01 outer:exit 2b-76bf3826d1cd59035dc86dda25822da53de9da08-30c48d8a9b736d76-01
2021-08-24T05:13:31.121Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:13:31.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-d69faca7ea57416283ca6d8a40aa782a59044a03-08cb6757336bfe64-01 outer:exit 2b-d69faca7ea57416283ca6d8a40aa782a59044a03-56390d55adb3071f-01
2021-08-24T05:13:31.128Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:13:31.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-647f9aa6fc5bb085bce0f5bec8236702c3dded2c-bdf3b580e5cfc7c0-01 outer:exit 2b-647f9aa6fc5bb085bce0f5bec8236702c3dded2c-7649feab9dae9dbe-01
2021-08-24T05:13:31.130Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:13:31.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-6141319f6541113ab7a36912a1cdda7a8110dc67-e9f9c84d5406fefd-01 outer:exit 2b-6141319f6541113ab7a36912a1cdda7a8110dc67-166861e278957911-01
2021-08-24T05:13:31.132Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:13:31.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae31d2bc35bbd697837b2a9b7c89385438907224-9491adce859af818-01 outer:exit 2b-ae31d2bc35bbd697837b2a9b7c89385438907224-a3f543f39082e289-01
2021-08-24T05:13:31.135Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:13:31.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-614beb7d3dcf2088a11fd86991a994954c3dc653-545b5edb7f2793fb-01 outer:exit 2b-614beb7d3dcf2088a11fd86991a994954c3dc653-6484f0a703299c57-01
2021-08-24T05:13:31.137Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:13:31.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8bddb33472fb143f58f7895a3ab11b4b4015fcd-a082bb5a35cc2405-01 outer:exit 2b-d8bddb33472fb143f58f7895a3ab11b4b4015fcd-8012c7320a98b943-01
2021-08-24T05:13:31.139Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:13:31.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4da04f6e2721d50576d80d5ce923b223ddf9b0d-91e112297313e15a-01 outer:exit 2b-b4da04f6e2721d50576d80d5ce923b223ddf9b0d-6dca15b6bf80c317-01
2021-08-24T05:13:31.151Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:13:31.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-16a24f6426176363cc3273d1f39618df23be7a89-0e6c6664a0ae42ea-01 outer:exit 2b-16a24f6426176363cc3273d1f39618df23be7a89-b4107a9b8dbba3b0-01
2021-08-24T05:13:31.161Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:13:31.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-b00f64f307c67314c34de98d52b992434cc96d34-8a654d6edf23352c-01 outer:exit 2b-b00f64f307c67314c34de98d52b992434cc96d34-4ade2d4d35e97f05-01
2021-08-24T05:13:31.164Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:13:31.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ac93d269df9abb0c47b345c5d15179708fb93d5-8bf3879c89ab41d3-01 outer:exit 2b-7ac93d269df9abb0c47b345c5d15179708fb93d5-ace82db063bd4097-01
2021-08-24T05:13:31.167Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:13:31.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-434b94955f0c48c850dcc3767276f4bfaa62ee11-e59ddde37ee6ebc1-01 outer:exit 2b-434b94955f0c48c850dcc3767276f4bfaa62ee11-f1661f32f60327e4-01
2021-08-24T05:13:31.170Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:13:31.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca378dc38d9c0f0e0fd69c29826d57366d73f499-ea1be5918379c306-01 outer:exit 2b-ca378dc38d9c0f0e0fd69c29826d57366d73f499-b4002b5b8226a0fa-01
2021-08-24T05:13:31.203Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (394ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:37.466Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:37.467Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:37.467Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:37.467Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:37.533Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:37.580Z appoptics:patching patched crypto 
2021-08-24T05:13:37.603Z appoptics:patching patched https 
2021-08-24T05:13:37.604Z appoptics:patching patched http 
2021-08-24T05:13:37.653Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:37.654Z appoptics:patching patched fs 
2021-08-24T05:13:37.685Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v16.7.0)
2021-08-24T05:13:37.693Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2021-08-24T05:13:37.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-cde923c55c33961ac912c213784e899b80d61a28-cfef2a7c01526d67-01 outer:exit 2b-cde923c55c33961ac912c213784e899b80d61a28-2824a217da4b1e91-01
2021-08-24T05:13:37.832Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:13:37.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-353d8601bc09a968fcb171e4857616a831719003-3bfae6b7b434c841-01 outer:exit 2b-353d8601bc09a968fcb171e4857616a831719003-d4d4db3510450368-01
2021-08-24T05:13:37.859Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:13:37.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-f40d67187a716daf5e232a18101de62fb160609b-9b5863966574092b-01 outer:exit 2b-f40d67187a716daf5e232a18101de62fb160609b-a58005a85fd1d590-01
2021-08-24T05:13:37.862Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:13:37.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-679bfb5ce8fc6d20543aa787348b08d0a9e3a044-2a16d43b086b1c38-01 outer:exit 2b-679bfb5ce8fc6d20543aa787348b08d0a9e3a044-bd71d7cb1441bf9c-01
2021-08-24T05:13:37.865Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:13:37.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-991a0b3f916bd2513a3d749abbfcd2fcc08c6ee0-92755cf35d548bde-01 outer:exit 2b-991a0b3f916bd2513a3d749abbfcd2fcc08c6ee0-0f093f9f89fec1cf-01
2021-08-24T05:13:37.870Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:13:37.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3579fe756ae8fd5299e2706de884131cb6eaaa1-07080e8f615bdccb-01 outer:exit 2b-d3579fe756ae8fd5299e2706de884131cb6eaaa1-635c603cb6c9614d-01
2021-08-24T05:13:37.873Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:13:37.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-731fed06e12954fdde3072b753cbe464e2137f2e-e9fb3c5f0bbf3293-01 outer:exit 2b-731fed06e12954fdde3072b753cbe464e2137f2e-2c6d394a9245f0e0-01
2021-08-24T05:13:37.878Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:13:37.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-a36ac6735a65622c691b13b7fb709a22bf96a08b-1e9d157d4e1abbe5-01 outer:exit 2b-a36ac6735a65622c691b13b7fb709a22bf96a08b-26c88052ff57b9fc-01
2021-08-24T05:13:37.881Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:13:37.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-df307bea46c5f567d2e4fd8ff07689507dc6f015-1255e2456f735f34-01 outer:exit 2b-df307bea46c5f567d2e4fd8ff07689507dc6f015-e100bded89b8342b-01
2021-08-24T05:13:37.883Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:13:37.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5b845240ccfc120ba3ec87020f03a071dadd3bc-cb5bc96f1c7c5f8b-01 outer:exit 2b-d5b845240ccfc120ba3ec87020f03a071dadd3bc-7a841d3b2cc889e6-01
2021-08-24T05:13:37.886Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:13:37.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-29572bce6d5c418d7f4a485ac315f07f56c35acb-d20a50fb37d772ed-01 outer:exit 2b-29572bce6d5c418d7f4a485ac315f07f56c35acb-a5c0b97581d05388-01
2021-08-24T05:13:37.890Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:13:37.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-a95b7b11e98529a05e0de6db47580e37c9dcce63-49e30a2710ee6a34-01 outer:exit 2b-a95b7b11e98529a05e0de6db47580e37c9dcce63-ff018b534ce95d23-01
2021-08-24T05:13:37.897Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:13:37.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf9288a73753bbdc7a6c565772367c1133ae97ad-f5588580632bf67c-01 outer:exit 2b-bf9288a73753bbdc7a6c565772367c1133ae97ad-39243e322590ffe9-01
2021-08-24T05:13:37.915Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:13:37.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bbe3c8e5defef9fd7c9566216a255e42bfe28fc-f650953a517361ca-01 outer:exit 2b-6bbe3c8e5defef9fd7c9566216a255e42bfe28fc-7d424ae204b0bc04-01
2021-08-24T05:13:37.959Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:13:37.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-133b7ea3b562efd72ae9dc0ea38d81733a80ddf6-87998ade418544d2-01 outer:exit 2b-133b7ea3b562efd72ae9dc0ea38d81733a80ddf6-2f22929624355e94-01
2021-08-24T05:13:37.962Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:13:37.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f497572edb6a0cae9584b340a8730ff7bfb158b-90db13399db25db7-01 outer:exit 2b-6f497572edb6a0cae9584b340a8730ff7bfb158b-a5b93eb0d3a4fdd2-01
2021-08-24T05:13:37.965Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:13:37.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-988f66e077a299fc7c84bd873942f993038cf6a8-58a9584ae3c3a3ee-01 outer:exit 2b-988f66e077a299fc7c84bd873942f993038cf6a8-38a745b5ef64b156-01
2021-08-24T05:13:37.968Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:13:37.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-5080705e191b871da11efb1ee326c858b99222c3-c19dd5a3f2479597-01 outer:exit 2b-5080705e191b871da11efb1ee326c858b99222c3-7c0996f9a7fbebee-01
2021-08-24T05:13:37.971Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:13:37.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc799df3addc5249b98aae72982a6dfd199354df-326df3a051bc069e-01 outer:exit 2b-bc799df3addc5249b98aae72982a6dfd199354df-24d8bef436361c6d-01
2021-08-24T05:13:37.973Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:13:37.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-9138b41239d909d77db5180e84f9757ad774c3f1-317ce37bacb00240-01 outer:exit 2b-9138b41239d909d77db5180e84f9757ad774c3f1-9ec40314d386fef9-01
2021-08-24T05:13:37.975Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:13:37.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-6188fff3e5755a5607cc22975eea20672defb6d3-8fd48246de57f641-01 outer:exit 2b-6188fff3e5755a5607cc22975eea20672defb6d3-a465c0894be8b1e4-01
2021-08-24T05:13:37.977Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:13:37.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b4e6ba72d1412567ed1c717485c6922ffeb04fb-8544b8693f62164c-01 outer:exit 2b-1b4e6ba72d1412567ed1c717485c6922ffeb04fb-a3f5a12d6e3f15c3-01
2021-08-24T05:13:37.980Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:13:37.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-89dc94abad58a8f44fdaa0d866b096ff07830938-e52a4d0c0ca6470d-01 outer:exit 2b-89dc94abad58a8f44fdaa0d866b096ff07830938-021cbf812c3e723d-01
2021-08-24T05:13:37.983Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:13:37.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8fe3d0738f00243fa6755fc32e6e84407de0a62-5d2182d3b912ea48-01 outer:exit 2b-c8fe3d0738f00243fa6755fc32e6e84407de0a62-30c9fa966545b8d8-01
2021-08-24T05:13:37.986Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:13:37.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-748669ad75879a66bea58a0d2ee42a7cb980acd4-198f1f919a2fcf6a-01 outer:exit 2b-748669ad75879a66bea58a0d2ee42a7cb980acd4-5bce04b6c1379f25-01
2021-08-24T05:13:37.989Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:13:37.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8bf3177500657467a40ca5f06bd83b50cb44574-d6dd8410731fdb6d-01 outer:exit 2b-b8bf3177500657467a40ca5f06bd83b50cb44574-d883d2ed0b06160b-01
2021-08-24T05:13:37.991Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:13:37.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-20d81e5b70825320d3888fa515591c0a2341cbf4-ca212aa44d4296de-01 outer:exit 2b-20d81e5b70825320d3888fa515591c0a2341cbf4-12b1b762a654f66b-01
2021-08-24T05:13:37.998Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:13:38.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-44f6a01a4a8f24991f301cb708aca3547b1dc1e9-e5c262f30e2407e5-01 outer:exit 2b-44f6a01a4a8f24991f301cb708aca3547b1dc1e9-b612247e0643a839-01
2021-08-24T05:13:38.003Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:13:38.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dd9c8eb3ad27ab5c5b3ee55952a7557dae44793-637dd856f33e1bdf-01 outer:exit 2b-5dd9c8eb3ad27ab5c5b3ee55952a7557dae44793-e84b1fd51fedb922-01
2021-08-24T05:13:38.012Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:13:38.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-c35af075b6417b3bd2c62feae15ca6478e370027-9fe57609bc031a50-01 outer:exit 2b-c35af075b6417b3bd2c62feae15ca6478e370027-836db8b81fef8810-01
2021-08-24T05:13:38.018Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:13:38.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-85ef3b9236660dedc910d99a52d3f69239a9063b-a6efcdac281ab6f7-01 outer:exit 2b-85ef3b9236660dedc910d99a52d3f69239a9063b-5cfac31c19e83490-01
2021-08-24T05:13:38.020Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:13:38.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ef341d5dbb8874d3b10673d116d909833d26993-c545c080f6b7e6e2-01 outer:exit 2b-6ef341d5dbb8874d3b10673d116d909833d26993-0df8ce49157c1f62-01
2021-08-24T05:13:38.024Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:13:38.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-40582223b73b5755c8b80ed841f7b360736146d9-ba37ba6209ac1c09-01 outer:exit 2b-40582223b73b5755c8b80ed841f7b360736146d9-c6b128220f3669f9-01
2021-08-24T05:13:38.032Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:13:38.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-4490c0aa495982595cb5adee17c2e2d331f6afb1-fbe6548972dbe6b8-01 outer:exit 2b-4490c0aa495982595cb5adee17c2e2d331f6afb1-9d2e02b367b952b3-01
2021-08-24T05:13:38.034Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:13:38.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cbdc43f1aa04f31461f4440b58b823f30915f1e-4545dbe37a936ca6-01 outer:exit 2b-0cbdc43f1aa04f31461f4440b58b823f30915f1e-f606f5d403f94867-01
2021-08-24T05:13:38.036Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:13:38.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-748cc3e8c3c3f47d14c0b93e6e0cba6400217a3c-2be605448ca4c616-01 outer:exit 2b-748cc3e8c3c3f47d14c0b93e6e0cba6400217a3c-19c490daef2026f8-01
2021-08-24T05:13:38.039Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:13:38.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-711be245a58a636ba2c95c2d9aa5294fda25770b-423548db3ffbbeed-01 outer:exit 2b-711be245a58a636ba2c95c2d9aa5294fda25770b-2a66b21e0ea1a3ae-01
2021-08-24T05:13:38.041Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:13:38.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-1069b9ebf5a75b93545ed5234aeb2d3fdf4e7fe9-ab28d9f572eca763-01 outer:exit 2b-1069b9ebf5a75b93545ed5234aeb2d3fdf4e7fe9-d3fd8db11b6c1846-01
2021-08-24T05:13:38.043Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:13:38.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-56f51ae8a0f7bfe949c8fac531d11c2891720f1a-9594b45489bc9c38-01 outer:exit 2b-56f51ae8a0f7bfe949c8fac531d11c2891720f1a-490b9160ea67b090-01
2021-08-24T05:13:38.052Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:13:38.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-49efb32653b54cf21f0d44d40f3ea7594b2c1031-bf80c9227a9f73ad-01 outer:exit 2b-49efb32653b54cf21f0d44d40f3ea7594b2c1031-9f4f711839b1007e-01
2021-08-24T05:13:38.061Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:13:38.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-138f05a83dc1b57e20447835d377f70a2c06558a-87dc417d124b4be9-01 outer:exit 2b-138f05a83dc1b57e20447835d377f70a2c06558a-5262bddac32af473-01
2021-08-24T05:13:38.064Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:13:38.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-edf4ae72f9576cc63910507e1b61505687e7619a-b1e5771346d7487e-01 outer:exit 2b-edf4ae72f9576cc63910507e1b61505687e7619a-2d7804a4b9ff256c-01
2021-08-24T05:13:38.067Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:13:38.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-57b20cc694cf88163637f90432f4df26f33c3433-dd5e5918db4f9a93-01 outer:exit 2b-57b20cc694cf88163637f90432f4df26f33c3433-9a1ade5030fa20a1-01
2021-08-24T05:13:38.070Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:13:38.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-75efaab0148a3cac991897c8a04c57301949ed14-772492070f9f7e1e-01 outer:exit 2b-75efaab0148a3cac991897c8a04c57301949ed14-f3a32d46b3ccafdd-01
2021-08-24T05:13:38.100Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (306ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 7s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:45.214Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:45.215Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:45.215Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:45.216Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:45.282Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:45.328Z appoptics:patching patched crypto 
2021-08-24T05:13:45.352Z appoptics:patching patched https 
2021-08-24T05:13:45.352Z appoptics:patching patched http 
2021-08-24T05:13:45.402Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:45.403Z appoptics:patching patched fs 
2021-08-24T05:13:45.434Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v16.7.0)
2021-08-24T05:13:45.442Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2021-08-24T05:13:45.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-9da4946dbb4f1138ce27d94aac98e358a30e0a99-60c3254594d7fad5-01 outer:exit 2b-9da4946dbb4f1138ce27d94aac98e358a30e0a99-1f6d0676a14fd7c2-01
2021-08-24T05:13:45.584Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:13:45.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce7c9a97529eaa0376888bf776a47a691f1ebc64-a7c8e29d02409b7c-01 outer:exit 2b-ce7c9a97529eaa0376888bf776a47a691f1ebc64-36aa91242f03f14d-01
2021-08-24T05:13:45.661Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:13:45.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-7da9c54ae348ecf9aaaadc6c5d68cbb96f479315-0d563b5b64152bfb-01 outer:exit 2b-7da9c54ae348ecf9aaaadc6c5d68cbb96f479315-53dc432dd6055567-01
2021-08-24T05:13:45.665Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:13:45.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-5060a3b4da2279556bc3a7091069724fdfc953ae-9cb20e9f4d1284aa-01 outer:exit 2b-5060a3b4da2279556bc3a7091069724fdfc953ae-85664d02841a52a9-01
2021-08-24T05:13:45.669Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:13:45.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-608bda930f91d723ec6c4914fa02564feba941ce-a17baabbf18ee15f-01 outer:exit 2b-608bda930f91d723ec6c4914fa02564feba941ce-ea24f34fce9ae1c4-01
2021-08-24T05:13:45.673Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:13:45.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c75e2bea71b2bdc948cdc411be3bf3dece78620-ea11036aa6550caa-01 outer:exit 2b-6c75e2bea71b2bdc948cdc411be3bf3dece78620-96cd0e6e3bc4d5ff-01
2021-08-24T05:13:45.677Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:13:45.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-98d002a2333b4c37b2d0c59dcdd0935d8b2d8478-4319958a7da45508-01 outer:exit 2b-98d002a2333b4c37b2d0c59dcdd0935d8b2d8478-dcf5a02ba34f941a-01
2021-08-24T05:13:45.680Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:13:45.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-91b1f9d8f2355647f35315318421356cf1677fd9-8f8339ff252db88f-01 outer:exit 2b-91b1f9d8f2355647f35315318421356cf1677fd9-cb0841857e062831-01
2021-08-24T05:13:45.685Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:13:45.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-befbd049c01b08b573c3a8db4698c0fc356308a5-25371d416757be4e-01 outer:exit 2b-befbd049c01b08b573c3a8db4698c0fc356308a5-c8eb43dc9bd7191c-01
2021-08-24T05:13:45.688Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:13:45.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-83c46d4020ec64e455e9710e955b2d081c421d20-74425838631cdd59-01 outer:exit 2b-83c46d4020ec64e455e9710e955b2d081c421d20-33b6a2df0113c7b9-01
2021-08-24T05:13:45.691Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:13:45.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-58f8c3f2a6d253744c6918dd3069bfc5b8feb2de-0d1dedd3ac78543a-01 outer:exit 2b-58f8c3f2a6d253744c6918dd3069bfc5b8feb2de-fec66cdac9d3620a-01
2021-08-24T05:13:45.695Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:13:45.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-c82941ae7043c2d01799424c46131ede0827b138-b06b1ca992bbcf79-01 outer:exit 2b-c82941ae7043c2d01799424c46131ede0827b138-f1655807202432e8-01
2021-08-24T05:13:45.705Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:13:45.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f67b93c04edcc3ecd64bbe47a29fff977dd52ba-36cdba9d34888069-01 outer:exit 2b-9f67b93c04edcc3ecd64bbe47a29fff977dd52ba-c1f893d042e637b6-01
2021-08-24T05:13:45.720Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:13:45.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-983bb40b10b2f3c8ed02db9df90d9a0a4bdfe820-e18bc1024e4cc422-01 outer:exit 2b-983bb40b10b2f3c8ed02db9df90d9a0a4bdfe820-0139ef4f146e4f68-01
2021-08-24T05:13:45.757Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:13:45.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bb391ba2c8c9a3bcb07cbe7923d1a68ee6a06e5-e628d56b81fe47c0-01 outer:exit 2b-1bb391ba2c8c9a3bcb07cbe7923d1a68ee6a06e5-c4973d57a3bca3ed-01
2021-08-24T05:13:45.761Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:13:45.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8dc6ba4d5dc00e8a607a1cc7e63f8d02969d7eb-8100e5f845253f87-01 outer:exit 2b-b8dc6ba4d5dc00e8a607a1cc7e63f8d02969d7eb-f29e021ed66c229e-01
2021-08-24T05:13:45.764Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:13:45.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f9a400cc2ddfedf07cb543d63360f7ccc770816-28092441499c6d70-01 outer:exit 2b-6f9a400cc2ddfedf07cb543d63360f7ccc770816-242b7f266ae44dcc-01
2021-08-24T05:13:45.768Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:13:45.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4982bd8ab012540b91372174befafd6acbd6e3a-a84e943035aed1c8-01 outer:exit 2b-f4982bd8ab012540b91372174befafd6acbd6e3a-3a2227332849dcff-01
2021-08-24T05:13:45.771Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:13:45.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a6d769392e8bcd848bdf219b1fb375b14922bf2-714144543c56980e-01 outer:exit 2b-5a6d769392e8bcd848bdf219b1fb375b14922bf2-10e3dd32d13bc6c8-01
2021-08-24T05:13:45.773Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:13:45.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8089a5119b17b7c217deddf843ac25205ace02a-0b707f9012701c38-01 outer:exit 2b-b8089a5119b17b7c217deddf843ac25205ace02a-f7232d62645324b7-01
2021-08-24T05:13:45.776Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:13:45.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-b70dcd4acfb913803c9858f40eb763eb0d814762-adf61bbe15a3f548-01 outer:exit 2b-b70dcd4acfb913803c9858f40eb763eb0d814762-d3aa2c37b1d6edb2-01
2021-08-24T05:13:45.779Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:13:45.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-1288407a275fab1e00d24083bead842987f49f5c-786e6a29cd73cfbc-01 outer:exit 2b-1288407a275fab1e00d24083bead842987f49f5c-dca6b93520ddd13d-01
2021-08-24T05:13:45.781Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:13:45.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-c44b323bf43897846eb3c6198470774a4dc33b22-90af204df6a8d3b3-01 outer:exit 2b-c44b323bf43897846eb3c6198470774a4dc33b22-e30174ec2f16cc32-01
2021-08-24T05:13:45.785Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:13:45.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-87c5508c24f8995ed726fe4e31963db16830a6f0-b8cc4a6c9aed1884-01 outer:exit 2b-87c5508c24f8995ed726fe4e31963db16830a6f0-9923114ed4034b33-01
2021-08-24T05:13:45.787Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:13:45.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-2da9c2c546610e51404818fe1ef9089d5b3d2463-6632dd195d550b03-01 outer:exit 2b-2da9c2c546610e51404818fe1ef9089d5b3d2463-92e7f6cddb1875ca-01
2021-08-24T05:13:45.790Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:13:45.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a01971293ae2680c025e3a973faeecf6d83643b-0e511ba7c54b729f-01 outer:exit 2b-0a01971293ae2680c025e3a973faeecf6d83643b-1bae29a796ff5d91-01
2021-08-24T05:13:45.793Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:13:45.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5e75ad928584e670797b38aca40689e99c0c1c0-4db475033800d3c2-01 outer:exit 2b-a5e75ad928584e670797b38aca40689e99c0c1c0-4f2701306681db08-01
2021-08-24T05:13:45.800Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:13:45.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-9440fae79447ae2011a020b5c838e68c9108e3d6-616355386f534925-01 outer:exit 2b-9440fae79447ae2011a020b5c838e68c9108e3d6-35e71a450a02e2a3-01
2021-08-24T05:13:45.804Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:13:45.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d21bef28ec72015e5cd0fef4387cc77274316cd-041fd0a2b895f17c-01 outer:exit 2b-1d21bef28ec72015e5cd0fef4387cc77274316cd-2da68991331e87ff-01
2021-08-24T05:13:45.813Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:13:45.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e4745712bfe6197615aa5371bfccb6eb1a63d08-58514d48b4e7d066-01 outer:exit 2b-9e4745712bfe6197615aa5371bfccb6eb1a63d08-32acfcda8dc8ceea-01
2021-08-24T05:13:45.821Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:13:45.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e2aee6d47a77e7b2ee6a7259f4b746d894e8135-c3b589600d89af72-01 outer:exit 2b-8e2aee6d47a77e7b2ee6a7259f4b746d894e8135-403078d498086922-01
2021-08-24T05:13:45.823Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:13:45.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-f083a40a0246d28d18a592f0c71b8f1823d49dc3-ea15e27a53f239ff-01 outer:exit 2b-f083a40a0246d28d18a592f0c71b8f1823d49dc3-9b0a9ab887769916-01
2021-08-24T05:13:45.826Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:13:45.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b323570b144da92c25702fabc5b97ddf762b1b4-f26f0d69bc033149-01 outer:exit 2b-3b323570b144da92c25702fabc5b97ddf762b1b4-6e7ba480034df148-01
2021-08-24T05:13:45.833Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:13:45.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-04326f1a5827985d70e48d22da841b9d6f776c1f-ee54d18aaf779721-01 outer:exit 2b-04326f1a5827985d70e48d22da841b9d6f776c1f-2b455d225ed5bb67-01
2021-08-24T05:13:45.836Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:13:45.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-717d439d43135cb6071cf34516e08aa42d18c8ef-f3b5ddab90ee0ca3-01 outer:exit 2b-717d439d43135cb6071cf34516e08aa42d18c8ef-9c7bc2bbfd865063-01
2021-08-24T05:13:45.838Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:13:45.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f1d64775683aca3184f1310e322cfa53e95dada-85f5ae351c49491b-01 outer:exit 2b-5f1d64775683aca3184f1310e322cfa53e95dada-b2b4e6c4155bf431-01
2021-08-24T05:13:45.840Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:13:45.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0d0bbd78daa8936a8daee947858f0dc1c2aab31-3646061b819d5fda-01 outer:exit 2b-b0d0bbd78daa8936a8daee947858f0dc1c2aab31-5dcd34fce0b4eedf-01
2021-08-24T05:13:45.842Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:13:45.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e0f6965736fb664abe92aa6ab371f27b7d857bf-250460a2ccf3b467-01 outer:exit 2b-8e0f6965736fb664abe92aa6ab371f27b7d857bf-7e8bb13673cd2597-01
2021-08-24T05:13:45.844Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:13:45.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-93f16989cea4b3a9556ddf7e9bcd880703b13279-482be0e3f59b8e7a-01 outer:exit 2b-93f16989cea4b3a9556ddf7e9bcd880703b13279-bc5ccdbf35a54a09-01
2021-08-24T05:13:45.854Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:13:45.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f0b4c906cfeea9bfc5dbdce558a1476ebc7b4d8-25f17698b2c25a6b-01 outer:exit 2b-9f0b4c906cfeea9bfc5dbdce558a1476ebc7b4d8-c5415f4af9e82f45-01
2021-08-24T05:13:45.863Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:13:45.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-15d8868eccd0a608c5f58510a50ecf0cb3b319a5-53be3f97ba6ce9d9-01 outer:exit 2b-15d8868eccd0a608c5f58510a50ecf0cb3b319a5-52d0fa9f6a61949c-01
2021-08-24T05:13:45.867Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:13:45.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-527980d9e82a7b33ee9a6cc21676e09bd3eef502-ccb4455dd5feb384-01 outer:exit 2b-527980d9e82a7b33ee9a6cc21676e09bd3eef502-a4cf6fcd1e975a99-01
2021-08-24T05:13:45.870Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:13:45.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-8239ebd2a3d1c6909cafed0b2c87a1744726c64b-f9c2dcc0ae02652a-01 outer:exit 2b-8239ebd2a3d1c6909cafed0b2c87a1744726c64b-932d04b670279c8b-01
2021-08-24T05:13:45.873Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:13:45.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcf87be9ed98dd16d59c5ebf0a3a33f44410c8c9-cd73bdc0df4ce0a0-01 outer:exit 2b-fcf87be9ed98dd16d59c5ebf0a3a33f44410c8c9-cc132a3ba21cf38c-01
2021-08-24T05:13:45.903Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (359ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:51.249Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:51.249Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:51.249Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:51.250Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:51.316Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:51.363Z appoptics:patching patched crypto 
2021-08-24T05:13:51.387Z appoptics:patching patched https 
2021-08-24T05:13:51.387Z appoptics:patching patched http 
2021-08-24T05:13:51.438Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:51.439Z appoptics:patching patched fs 
2021-08-24T05:13:51.468Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v16.7.0)
2021-08-24T05:13:51.476Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2021-08-24T05:13:51.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-d60a64e850439b5cc655df9f7df38756c6334b86-a3aeff7c2fa55cb2-01 outer:exit 2b-d60a64e850439b5cc655df9f7df38756c6334b86-b503283f24699569-01
2021-08-24T05:13:51.646Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:13:51.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-53814c744bd27aeb5678692ef5d2245e68f9b407-f12d8ad8be826c7f-01 outer:exit 2b-53814c744bd27aeb5678692ef5d2245e68f9b407-511299d35ed5361e-01
2021-08-24T05:13:51.702Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:13:51.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-84e9e1f1cc52aa6b53b50bb7b1db974617c7ee76-f5b604fa7b24f82b-01 outer:exit 2b-84e9e1f1cc52aa6b53b50bb7b1db974617c7ee76-a3bd465e5dec1d4d-01
2021-08-24T05:13:51.706Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:13:51.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae9b0693a3db71df49fd67b99827e396a5bc832f-f512b9752ab35d1e-01 outer:exit 2b-ae9b0693a3db71df49fd67b99827e396a5bc832f-2584078d50423a24-01
2021-08-24T05:13:51.710Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:13:51.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdbe2e93d7757e68d5c40afd31d74fc4efc31835-5ca8898a347a62f8-01 outer:exit 2b-fdbe2e93d7757e68d5c40afd31d74fc4efc31835-1e9e116e6d6c38e6-01
2021-08-24T05:13:51.716Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:13:51.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-266e772eb979263ee5b7f8f7ff6661cc85733e0f-44e7e7794bfed249-01 outer:exit 2b-266e772eb979263ee5b7f8f7ff6661cc85733e0f-2e124283767e7979-01
2021-08-24T05:13:51.719Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:13:51.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcee3e0d8d616e1b682345a4c8d9623e282e6e2e-610d33830a1e800c-01 outer:exit 2b-fcee3e0d8d616e1b682345a4c8d9623e282e6e2e-4160d8a3e50beeec-01
2021-08-24T05:13:51.722Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:13:51.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-d19ca594df2b23b42a3fe5db3c7af4007236a9ec-1ec2d23e612d16e7-01 outer:exit 2b-d19ca594df2b23b42a3fe5db3c7af4007236a9ec-61ec16b749b0ea04-01
2021-08-24T05:13:51.728Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:13:51.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-581e34f8a35abe0bcd3ffcb400cb2a43f5e9d284-8e82d0d987df228c-01 outer:exit 2b-581e34f8a35abe0bcd3ffcb400cb2a43f5e9d284-3f86514482e25c95-01
2021-08-24T05:13:51.735Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:13:51.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d9fa72ff483fb04f04d0a079aceb49c02a4ab58-a9ba144aa8e60fc1-01 outer:exit 2b-2d9fa72ff483fb04f04d0a079aceb49c02a4ab58-7efd8a6308a142f9-01
2021-08-24T05:13:51.739Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:13:51.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce8b01bf0ea4a170289bec34c2b39f8715ebb097-d3895e17c854c87b-01 outer:exit 2b-ce8b01bf0ea4a170289bec34c2b39f8715ebb097-e570fe68fb0a0e95-01
2021-08-24T05:13:51.743Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:13:51.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-64c6bc8dba0a432ec4654ac5923f9cc2cfa8f30c-492bb455ebfcb0c2-01 outer:exit 2b-64c6bc8dba0a432ec4654ac5923f9cc2cfa8f30c-5c0cdde093dce855-01
2021-08-24T05:13:51.750Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:13:51.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-41eca7868044f86175921bb899b52365c327fed0-7080cb340ee8d126-01 outer:exit 2b-41eca7868044f86175921bb899b52365c327fed0-6df6dfa39177e284-01
2021-08-24T05:13:51.767Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:13:51.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ba96950ff3c01e87e6a1f39396f8568e383bd0c-9d842e5bb0b57cfb-01 outer:exit 2b-7ba96950ff3c01e87e6a1f39396f8568e383bd0c-3001b274df8b94b9-01
2021-08-24T05:13:51.801Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:13:51.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-f002b1614ee56e870817c67d2dcb55108f131083-51d761106153bdf8-01 outer:exit 2b-f002b1614ee56e870817c67d2dcb55108f131083-e6cdff11c966f0b4-01
2021-08-24T05:13:51.804Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:13:51.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8a0c63251dd70609eda2730c5fd21985f179a17-8b69e26e777796c3-01 outer:exit 2b-b8a0c63251dd70609eda2730c5fd21985f179a17-6f2daa2517f8c2c6-01
2021-08-24T05:13:51.806Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:13:51.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-0805c95a682987b7d70823b657cf12bf246d07e9-538f2eca4cb10674-01 outer:exit 2b-0805c95a682987b7d70823b657cf12bf246d07e9-b3e2d275a8831c49-01
2021-08-24T05:13:51.811Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:13:51.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4aa801593f5af44bb8fa04b6c8c9c58a7be5d6a-bf6e8d81014a51ce-01 outer:exit 2b-a4aa801593f5af44bb8fa04b6c8c9c58a7be5d6a-c7dde249bf0a129e-01
2021-08-24T05:13:51.813Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:13:51.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cac8fa2af92bed4fbcfe19e08a88bce4f2c91b0-a6dc367f03402b04-01 outer:exit 2b-4cac8fa2af92bed4fbcfe19e08a88bce4f2c91b0-ca4b4bbe47e3be3a-01
2021-08-24T05:13:51.816Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:13:51.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-59d395af34efb139d384ff0993b27517b1930018-f86eea650db45a33-01 outer:exit 2b-59d395af34efb139d384ff0993b27517b1930018-dd8d12b90bbb971d-01
2021-08-24T05:13:51.818Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:13:51.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c68b0c786a2e82168491eb17ea35f45e5dca57f-2501f9b6a63d02f3-01 outer:exit 2b-5c68b0c786a2e82168491eb17ea35f45e5dca57f-af4f3ed47b99a6f8-01
2021-08-24T05:13:51.820Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:13:51.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-60d6ef6a85962870d388ecad92e04a78ba82bd07-66c658f9d3107d56-01 outer:exit 2b-60d6ef6a85962870d388ecad92e04a78ba82bd07-502bec59dcaa6a1e-01
2021-08-24T05:13:51.823Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:13:51.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a58b61a3620ed8cfaa34336095d40fc71daf721-5a36097ea3c01b85-01 outer:exit 2b-2a58b61a3620ed8cfaa34336095d40fc71daf721-3abb6cd2d153c833-01
2021-08-24T05:13:51.827Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:13:51.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c352134b77c7a9b873e502295520f58298958d0-1161dfdbe2a4331c-01 outer:exit 2b-7c352134b77c7a9b873e502295520f58298958d0-130041212ba03a21-01
2021-08-24T05:13:51.830Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:13:51.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-53df43627c303b8a7c671937dd457e639fc42990-bd6b46aa7e78ed58-01 outer:exit 2b-53df43627c303b8a7c671937dd457e639fc42990-04671814feabee9e-01
2021-08-24T05:13:51.832Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:13:51.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-269347c18801649989133037a7657f9d92befd5e-6da685fc34b2196e-01 outer:exit 2b-269347c18801649989133037a7657f9d92befd5e-c99ae38f3f9434e9-01
2021-08-24T05:13:51.835Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:13:51.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-d463fff5789cbd8f49fd20321181ad447146e95f-86bda6ec7f2fd5b4-01 outer:exit 2b-d463fff5789cbd8f49fd20321181ad447146e95f-271ef1b285b34e6f-01
2021-08-24T05:13:51.843Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:13:51.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-567064aefa75dcc88a298779c4e8bb0e0c17ebe8-3fe896991b5f1e17-01 outer:exit 2b-567064aefa75dcc88a298779c4e8bb0e0c17ebe8-8f408780afc5547a-01
2021-08-24T05:13:51.849Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:13:51.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-8be8a75319b735111f7df45e24d23077f2f2d688-755381995fce4323-01 outer:exit 2b-8be8a75319b735111f7df45e24d23077f2f2d688-b44b5a5e10b63bc8-01
2021-08-24T05:13:51.857Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:13:51.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdcfc1f56029cbaa69a6b4b3bc90c649016dd2ff-2abc24fb744045c1-01 outer:exit 2b-cdcfc1f56029cbaa69a6b4b3bc90c649016dd2ff-3aef9f9dca214d75-01
2021-08-24T05:13:51.864Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:13:51.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff6e28f363656ab5e1017c69f103faa546c263a2-1ba7b67a7236d632-01 outer:exit 2b-ff6e28f363656ab5e1017c69f103faa546c263a2-0d50786ffcc3a85b-01
2021-08-24T05:13:51.866Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:13:51.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1c8d714edd155555fcb7622c1426ee2d5404942-a1fa4508806a4146-01 outer:exit 2b-d1c8d714edd155555fcb7622c1426ee2d5404942-e0c3a7eb5bd1b83e-01
2021-08-24T05:13:51.870Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:13:51.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-41b11b6e765bc26add103db7a9153dfe30e33ee1-e7ea2b07b8e5e059-01 outer:exit 2b-41b11b6e765bc26add103db7a9153dfe30e33ee1-bfeed256133083fe-01
2021-08-24T05:13:51.877Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:13:51.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1a69503df1ffba4daae511965b41a1b3b4cbd11-17a6eed94ba87fd2-01 outer:exit 2b-a1a69503df1ffba4daae511965b41a1b3b4cbd11-71d78c4f22be41a5-01
2021-08-24T05:13:51.879Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:13:51.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6894cadd8063db58d0dd8c9f077ae9088eecd38-0df214b643556bfb-01 outer:exit 2b-a6894cadd8063db58d0dd8c9f077ae9088eecd38-98a13e7a128bc6fa-01
2021-08-24T05:13:51.881Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:13:51.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-63d89b1264bd03d2ea03ede29659521ed26ed1eb-883e75d2ccd04b7b-01 outer:exit 2b-63d89b1264bd03d2ea03ede29659521ed26ed1eb-e98a6b6ae218d99e-01
2021-08-24T05:13:51.883Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:13:51.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a4acffa5ad35fca69dadf96073fcf160fb2538f-c91116771b28f861-01 outer:exit 2b-5a4acffa5ad35fca69dadf96073fcf160fb2538f-ed765d63ba79927a-01
2021-08-24T05:13:51.886Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:13:51.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-be0c4e0bc5057f58c4c83450a1d3ecf464486680-513e5c5d3280a699-01 outer:exit 2b-be0c4e0bc5057f58c4c83450a1d3ecf464486680-22c139bdfa6b9218-01
2021-08-24T05:13:51.888Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:13:51.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-296c916b4feea3f517c7a71d54b530d4bee4c9df-403c3a86dcd98139-01 outer:exit 2b-296c916b4feea3f517c7a71d54b530d4bee4c9df-8eb94ac2e9ff5833-01
2021-08-24T05:13:51.898Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:13:51.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6171443b27639a35b1dc21a6d1c7a1b9ff35888-f119b8a30f4eaa4b-01 outer:exit 2b-f6171443b27639a35b1dc21a6d1c7a1b9ff35888-25a0877995e88991-01
2021-08-24T05:13:51.907Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:13:51.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a97ce5dffcb1f546c866636875fd097b901f606-d4fdb0eab89e6616-01 outer:exit 2b-4a97ce5dffcb1f546c866636875fd097b901f606-7e4eb5bfbb186775-01
2021-08-24T05:13:51.910Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:13:51.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-202e340935dd56d8176a782234152d52a4330e5f-11b574fc4b03e916-01 outer:exit 2b-202e340935dd56d8176a782234152d52a4330e5f-c9f86e0024ee638b-01
2021-08-24T05:13:51.913Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:13:51.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb266e68131f12bbee14a096ecfddac6cec79048-33e830c42596c173-01 outer:exit 2b-eb266e68131f12bbee14a096ecfddac6cec79048-21f501001b39798b-01
2021-08-24T05:13:51.916Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:13:51.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-facb24641219bfe4637a4b06999de0689bd81cc5-617bc0227a6a731f-01 outer:exit 2b-facb24641219bfe4637a4b06999de0689bd81cc5-b5efeab91966afc3-01
2021-08-24T05:13:51.951Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (374ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:13:58.015Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:13:58.015Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:13:58.015Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:13:58.016Z appoptics:debug using context provider: ace-context
2021-08-24T05:13:58.100Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:13:58.152Z appoptics:patching patched crypto 
2021-08-24T05:13:58.178Z appoptics:patching patched https 
2021-08-24T05:13:58.179Z appoptics:patching patched http 
2021-08-24T05:13:58.240Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:13:58.241Z appoptics:patching patched fs 
2021-08-24T05:13:58.277Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v16.7.0)
2021-08-24T05:13:58.286Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2021-08-24T05:13:58.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-262b50477e79fc365907f09db486c5c2210136dd-3bf96ad698f8130b-01 outer:exit 2b-262b50477e79fc365907f09db486c5c2210136dd-606b7e64cb160d78-01
2021-08-24T05:13:58.461Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:13:58.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd129b9d2d726f151d229caba696adf5fc7d67de-eaf7d0f0d9f351fb-01 outer:exit 2b-dd129b9d2d726f151d229caba696adf5fc7d67de-d9db4178097d4b4f-01
2021-08-24T05:13:58.504Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:13:58.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8d91f68deff4cf5dc80bd07a33b0751a4427e67-33885f0ef67ba6e6-01 outer:exit 2b-c8d91f68deff4cf5dc80bd07a33b0751a4427e67-52dd8d0e97a9be22-01
2021-08-24T05:13:58.508Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:13:58.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf2e0dcd5e66ba5d9aba8bc7e2ebf873be606fbb-086cad78b84eb631-01 outer:exit 2b-bf2e0dcd5e66ba5d9aba8bc7e2ebf873be606fbb-57e665e62edd7abd-01
2021-08-24T05:13:58.511Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:13:58.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8668c5bce3c195d6f7408287df34e93634185cc-fe6466d428fc50a6-01 outer:exit 2b-d8668c5bce3c195d6f7408287df34e93634185cc-ac5210adfec29d44-01
2021-08-24T05:13:58.516Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:13:58.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ba28ddebc2b01a3c2600a594878bb773f0bee1c-e2d1be830e3d716b-01 outer:exit 2b-5ba28ddebc2b01a3c2600a594878bb773f0bee1c-47d6a23c1cf96784-01
2021-08-24T05:13:58.519Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:13:58.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-975e32cfce1db68a3a207e06a37fb4e8b99828b2-238238733cef53e9-01 outer:exit 2b-975e32cfce1db68a3a207e06a37fb4e8b99828b2-cd33f062a4c84a72-01
2021-08-24T05:13:58.522Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:13:58.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b1d55e23a1c87405dff2f16b41bd3876613acf6-0b00e93e93ff9ef2-01 outer:exit 2b-3b1d55e23a1c87405dff2f16b41bd3876613acf6-dc0c988489f321c2-01
2021-08-24T05:13:58.525Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:13:58.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-44cf265e42a95797103190e667d48f16ac9882b1-e8730618d8c5e2a5-01 outer:exit 2b-44cf265e42a95797103190e667d48f16ac9882b1-21b9812e4a877583-01
2021-08-24T05:13:58.528Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:13:58.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fbe137f463a4363d58759d30313ff555b323496-80de2d2cb3f0e4ed-01 outer:exit 2b-2fbe137f463a4363d58759d30313ff555b323496-fec1f89fdf7c0c52-01
2021-08-24T05:13:58.531Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:13:58.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb74ff81a6d8904c90b86d44824c0ecb6156bf4d-901d40426c655061-01 outer:exit 2b-cb74ff81a6d8904c90b86d44824c0ecb6156bf4d-d2a5fea1cee033c8-01
2021-08-24T05:13:58.535Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:13:58.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-052e10572a1807dc028a812e622142bb83d63018-7581e22a063dcc6c-01 outer:exit 2b-052e10572a1807dc028a812e622142bb83d63018-c3ef806e8a908782-01
2021-08-24T05:13:58.546Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:13:58.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b43cc7ad2b16def00141f5afbc0df77c0a77b9a-ef3d79469b3afb03-01 outer:exit 2b-0b43cc7ad2b16def00141f5afbc0df77c0a77b9a-5ece0e8aba293677-01
2021-08-24T05:13:58.562Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:13:58.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf0a4bc8257a4d977080d18bbf65e23c4e65344b-2d9259d9fa67bfd8-01 outer:exit 2b-cf0a4bc8257a4d977080d18bbf65e23c4e65344b-8b39cc78ae4d72c2-01
2021-08-24T05:13:58.603Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:13:58.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e9141f105b37d2ae0dc4d0539b41e7bc4613bc1-8f6be7208cc14d5c-01 outer:exit 2b-6e9141f105b37d2ae0dc4d0539b41e7bc4613bc1-5a0fc588cf72daa8-01
2021-08-24T05:13:58.607Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:13:58.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7afb0a1764cd56639706d17bb99a3ef4b39c0c8-12b85bffdac96807-01 outer:exit 2b-f7afb0a1764cd56639706d17bb99a3ef4b39c0c8-2a3d42ecce6d65d6-01
2021-08-24T05:13:58.611Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:13:58.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f8fadcb9fbabe129bc427ef5ed16364218df183-313d95273a7f8989-01 outer:exit 2b-6f8fadcb9fbabe129bc427ef5ed16364218df183-34105d11f07243f7-01
2021-08-24T05:13:58.614Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:13:58.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f2550907dc3c216c1d560f4e6151a46665d884c-51295479bae95ed1-01 outer:exit 2b-4f2550907dc3c216c1d560f4e6151a46665d884c-b91f984d2d942841-01
2021-08-24T05:13:58.616Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:13:58.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-365094bff55052bb41a61203bef2da867c4e597d-5454ab14f6490ae6-01 outer:exit 2b-365094bff55052bb41a61203bef2da867c4e597d-eef9096c0f5f4c97-01
2021-08-24T05:13:58.619Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:13:58.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-08c4f532b2d656f08f5beab6a0c81e3bdf936636-378814aae80ac516-01 outer:exit 2b-08c4f532b2d656f08f5beab6a0c81e3bdf936636-ce78aa42998d7925-01
2021-08-24T05:13:58.621Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:13:58.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e5dcb004496bed272f4375aecc3d1bef16245dc-a52a0e56f1db8454-01 outer:exit 2b-3e5dcb004496bed272f4375aecc3d1bef16245dc-3c3a17bcb096db9f-01
2021-08-24T05:13:58.626Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:13:58.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-29e66fab44a1ff9dd133c5d3c2f6cb626605f5d9-d1c161e105e8131d-01 outer:exit 2b-29e66fab44a1ff9dd133c5d3c2f6cb626605f5d9-fd8d5802137e5d65-01
2021-08-24T05:13:58.628Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:13:58.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdbe317d1977081ca0b04f27aff93b23f42bd100-40a313d298d38fbe-01 outer:exit 2b-fdbe317d1977081ca0b04f27aff93b23f42bd100-223dbf9049ac1f66-01
2021-08-24T05:13:58.632Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:13:58.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7b9bd17cb7688ed31a3f0c35019cb1bb64c4784-b6307c72201800ca-01 outer:exit 2b-a7b9bd17cb7688ed31a3f0c35019cb1bb64c4784-d4dd0b7ac3451380-01
2021-08-24T05:13:58.637Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:13:58.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-7da5ea52e0d33be8505372642b0311e3db181ba5-dc18839955d452f5-01 outer:exit 2b-7da5ea52e0d33be8505372642b0311e3db181ba5-5e4202ff6b85cc42-01
2021-08-24T05:13:58.640Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:13:58.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c963b6de377849e71f01ae1e4c0b75e46ef9619-4ad805112e92d1f4-01 outer:exit 2b-9c963b6de377849e71f01ae1e4c0b75e46ef9619-def3a45aeedb32eb-01
2021-08-24T05:13:58.643Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:13:58.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-39e6569e61d7271f40ba0a67765dc116f351dbd9-742dca58cf481fa2-01 outer:exit 2b-39e6569e61d7271f40ba0a67765dc116f351dbd9-029f2daf97d61eb5-01
2021-08-24T05:13:58.650Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:13:58.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb1223d41afd97a14ffde179582f656f7a33fc0c-58045ef122c4e6e5-01 outer:exit 2b-fb1223d41afd97a14ffde179582f656f7a33fc0c-79d47e1dfbe8a2d1-01
2021-08-24T05:13:58.655Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:13:58.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbfaa3494d536289ab59f27560004a07d34c7126-3d6c4f956d04582f-01 outer:exit 2b-cbfaa3494d536289ab59f27560004a07d34c7126-96531adea9f6919c-01
2021-08-24T05:13:58.664Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:13:58.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-362398ee3c2b09437ea7c9f33549c98cd43b580d-1a32ecd8a3c283e4-01 outer:exit 2b-362398ee3c2b09437ea7c9f33549c98cd43b580d-888a2deab66db032-01
2021-08-24T05:13:58.671Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:13:58.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-50c612f25cd31b260dab5d899588e9f354283c0d-59ced30933964d66-01 outer:exit 2b-50c612f25cd31b260dab5d899588e9f354283c0d-d802b86a27076a6b-01
2021-08-24T05:13:58.673Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:13:58.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-38d8cc686be27f34dea66fb32ded97dfb53979eb-18c00f5aafed7525-01 outer:exit 2b-38d8cc686be27f34dea66fb32ded97dfb53979eb-a86ae587d2ea1681-01
2021-08-24T05:13:58.676Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:13:58.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-b884b9f4afa56726fbb1828b42726705187543c0-3e920e6b1d4f8ee7-01 outer:exit 2b-b884b9f4afa56726fbb1828b42726705187543c0-ae12768ae5f4450c-01
2021-08-24T05:13:58.684Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:13:58.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-5156d37869691e2cb65804759fb13bafcf24037f-430d39c9df636c4d-01 outer:exit 2b-5156d37869691e2cb65804759fb13bafcf24037f-c7a54d4f69b8cb8e-01
2021-08-24T05:13:58.686Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:13:58.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1b21c662fe5726782a9e293524e3b484103922d-78ac39edc71af0a3-01 outer:exit 2b-f1b21c662fe5726782a9e293524e3b484103922d-5906d3c51bc2f78e-01
2021-08-24T05:13:58.688Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:13:58.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-52071d3a0fd67b6fe2b6ed52cbc0eba12dfe0bb1-7ea1e209b31da875-01 outer:exit 2b-52071d3a0fd67b6fe2b6ed52cbc0eba12dfe0bb1-c1050ea58b0ddcef-01
2021-08-24T05:13:58.691Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:13:58.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-07da6a9f1056315bf68819c0b5648a948fc84052-8b7189157ae8fbe4-01 outer:exit 2b-07da6a9f1056315bf68819c0b5648a948fc84052-9ecd5351ced3a9ff-01
2021-08-24T05:13:58.693Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:13:58.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-407b6a6a5def243f832adff6aaed266f4eb71301-eb617d2bdfba5b76-01 outer:exit 2b-407b6a6a5def243f832adff6aaed266f4eb71301-9db0c0ea7cb05e65-01
2021-08-24T05:13:58.695Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:13:58.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbdd6832d5c0658c38d97bffbba4dca43e697734-f53bb166ade5fbb2-01 outer:exit 2b-cbdd6832d5c0658c38d97bffbba4dca43e697734-e4be43a58c8a6806-01
2021-08-24T05:13:58.706Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:13:58.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-74aac33001f8438069c8d68b6b52fd2f8c9af9d8-7a340a70c245f9d0-01 outer:exit 2b-74aac33001f8438069c8d68b6b52fd2f8c9af9d8-3e1fefde94f0bfb9-01
2021-08-24T05:13:58.716Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:13:58.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bc24a5ee5e0891762bdb6e0fb5976452c95559a-c41147aa50a33d54-01 outer:exit 2b-6bc24a5ee5e0891762bdb6e0fb5976452c95559a-20f9b6a9c7dd9bb0-01
2021-08-24T05:13:58.719Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:13:58.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfdfb8a7ac00d6b3c1a992ab8f29bb19ee00db86-8fafc1852e2bf24d-01 outer:exit 2b-cfdfb8a7ac00d6b3c1a992ab8f29bb19ee00db86-00f99ab4d958f834-01
2021-08-24T05:13:58.722Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:13:58.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9929b437da15d3d171c2c271be65375fef0d43b-93d1450d91bc39b4-01 outer:exit 2b-e9929b437da15d3d171c2c271be65375fef0d43b-7943fcef44f18a3f-01
2021-08-24T05:13:58.726Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:13:58.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-79be81d6c7cade2dba44557eb967d2b7fae3f5ac-5e6f50677800ed34-01 outer:exit 2b-79be81d6c7cade2dba44557eb967d2b7fae3f5ac-1850cc893e968b6f-01
2021-08-24T05:13:58.757Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (338ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:04.422Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:04.423Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:04.423Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:04.424Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:04.500Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:04.551Z appoptics:patching patched crypto 
2021-08-24T05:14:04.574Z appoptics:patching patched https 
2021-08-24T05:14:04.575Z appoptics:patching patched http 
2021-08-24T05:14:04.626Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:04.626Z appoptics:patching patched fs 
2021-08-24T05:14:04.656Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v16.7.0)
2021-08-24T05:14:04.665Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2021-08-24T05:14:04.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-f224e5f184ab95d7c56b4a2cc26540835660696a-603d4d18963a5b3a-01 outer:exit 2b-f224e5f184ab95d7c56b4a2cc26540835660696a-0b36b42dc3ed7b72-01
2021-08-24T05:14:04.824Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:14:04.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-80450088a7fbfdfe8d0a56c68e5dd88e62ed995d-5e97d2c6c2e56975-01 outer:exit 2b-80450088a7fbfdfe8d0a56c68e5dd88e62ed995d-b175c2298f43e925-01
2021-08-24T05:14:04.870Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:14:04.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-55f6cb6ba6c058f468eaaa51b774a0e947b66987-a21f79424bfacdcb-01 outer:exit 2b-55f6cb6ba6c058f468eaaa51b774a0e947b66987-52f1619624de66fb-01
2021-08-24T05:14:04.874Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:14:04.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-da57b4ca5ef72571023e67d62b25fdf4f5329c49-caeb2bf23bd3801a-01 outer:exit 2b-da57b4ca5ef72571023e67d62b25fdf4f5329c49-939bdf38c5f8b4e7-01
2021-08-24T05:14:04.877Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:14:04.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-50a88ea1fa74076e7066d390c39121a6cf3b59f8-7f73c324789b97d4-01 outer:exit 2b-50a88ea1fa74076e7066d390c39121a6cf3b59f8-03f300b59672f921-01
2021-08-24T05:14:04.882Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:14:04.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-6214bf3c21a8a6ef1b58df9f11289c15fa863650-f38f3a1d85c50c8a-01 outer:exit 2b-6214bf3c21a8a6ef1b58df9f11289c15fa863650-a400ce48f5cdf0d8-01
2021-08-24T05:14:04.885Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:14:04.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-79ec90996deceeabbf835931a646240f11c58cbe-cb4e28372c1f6234-01 outer:exit 2b-79ec90996deceeabbf835931a646240f11c58cbe-e213a940abe568db-01
2021-08-24T05:14:04.888Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:14:04.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d27cb909f72a952a90490470c9532e51cb70d91-055dbacbb7e643d5-01 outer:exit 2b-4d27cb909f72a952a90490470c9532e51cb70d91-3d31c9a2224aaeaf-01
2021-08-24T05:14:04.890Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:14:04.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-bde05459d193a10f1cf4b5d699a4397a1b7cbc2e-30fb55efc97c588d-01 outer:exit 2b-bde05459d193a10f1cf4b5d699a4397a1b7cbc2e-a7030227df16f84d-01
2021-08-24T05:14:04.893Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:14:04.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0502a174fdfe78a92889f31cfe9241eb8ae00ea-91ebd11b702975bd-01 outer:exit 2b-d0502a174fdfe78a92889f31cfe9241eb8ae00ea-691a7437e94b05b5-01
2021-08-24T05:14:04.896Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:14:04.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d38313bb002e8d6c633be20ee717d262d40d3f4-3b129a2bdbf1454c-01 outer:exit 2b-5d38313bb002e8d6c633be20ee717d262d40d3f4-a3420cefe64d48d0-01
2021-08-24T05:14:04.901Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:14:04.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-4580cd6f2f17f10a883db0f320d291fb52ab12cc-7e34070872041a53-01 outer:exit 2b-4580cd6f2f17f10a883db0f320d291fb52ab12cc-1cd613e5a54d9429-01
2021-08-24T05:14:04.920Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:14:04.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aea8ccbaa527d8e6b333cc0e02df46a42416902-18566757992bfeb7-01 outer:exit 2b-0aea8ccbaa527d8e6b333cc0e02df46a42416902-66b9327f9f10540e-01
2021-08-24T05:14:04.937Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:14:05.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1bdef85334d72dd151701591f1b7ad8d9858fa0-9a2ec0c26e4248a1-01 outer:exit 2b-f1bdef85334d72dd151701591f1b7ad8d9858fa0-66c208d2e3bd2dac-01
2021-08-24T05:14:05.011Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:14:05.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-4be2b935495814771ead14d0f050fbe8ce59fadd-c8cdebad8f05394a-01 outer:exit 2b-4be2b935495814771ead14d0f050fbe8ce59fadd-f11b61ce1427e23d-01
2021-08-24T05:14:05.014Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:14:05.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8d05c222219d8bc8c0e7dd082c81685bf374634-8600df5764595bb4-01 outer:exit 2b-a8d05c222219d8bc8c0e7dd082c81685bf374634-d01170a8cce905f3-01
2021-08-24T05:14:05.017Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:14:05.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-fea4ab90226a6c13e14ae83662fbc2cae3aab608-d5d5fbc11bc8c390-01 outer:exit 2b-fea4ab90226a6c13e14ae83662fbc2cae3aab608-bc45963c04ece831-01
2021-08-24T05:14:05.020Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:14:05.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-0df939c083b147c5f3e27a13f65af316d1d208b3-2998696811434e2d-01 outer:exit 2b-0df939c083b147c5f3e27a13f65af316d1d208b3-3d7665fdb4392c3d-01
2021-08-24T05:14:05.022Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:14:05.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-837492b1d2325c06e53a625196027832525329b8-77bca6f9fcf5b480-01 outer:exit 2b-837492b1d2325c06e53a625196027832525329b8-1442c15bdfe50cf6-01
2021-08-24T05:14:05.024Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:14:05.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb5ccfd0fd8104c298befcda9d0da1d7c97b72a1-47ac90fa393637c2-01 outer:exit 2b-fb5ccfd0fd8104c298befcda9d0da1d7c97b72a1-98d3a063f2954392-01
2021-08-24T05:14:05.027Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:14:05.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c5c47b1aa0119445bd3565f22c79292a6ac69a5-52506bd5eb640a9d-01 outer:exit 2b-4c5c47b1aa0119445bd3565f22c79292a6ac69a5-4d69f356da6caab1-01
2021-08-24T05:14:05.029Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:14:05.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d1d757ca920f85b9a7b514b3091e60d63183980-d7f7559efb366cb7-01 outer:exit 2b-2d1d757ca920f85b9a7b514b3091e60d63183980-8cf4576b91ab8ec5-01
2021-08-24T05:14:05.031Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:14:05.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-6eee390d2dfb9ef8215fa180112f12f386dd4073-97548278d878017e-01 outer:exit 2b-6eee390d2dfb9ef8215fa180112f12f386dd4073-8be41eb6212fb152-01
2021-08-24T05:14:05.034Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:14:05.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-403d4f654a831bc47cae72210b4d6b5f3e5ab778-d11d236834da46e9-01 outer:exit 2b-403d4f654a831bc47cae72210b4d6b5f3e5ab778-cdd54f748f2d634c-01
2021-08-24T05:14:05.037Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:14:05.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-cab0739ed4fe8152c98819ec7b4a7f989d1b0f4d-6c53737e0d9ab086-01 outer:exit 2b-cab0739ed4fe8152c98819ec7b4a7f989d1b0f4d-1818b58e128523c9-01
2021-08-24T05:14:05.040Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:14:05.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-95c24615de22c1ece75bdbcf94f3dc4e2b2d0901-ae3f531154cd73e3-01 outer:exit 2b-95c24615de22c1ece75bdbcf94f3dc4e2b2d0901-b4018faca9f0a6f5-01
2021-08-24T05:14:05.043Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:14:05.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3a4e3e5a45b3cea415f96c2e7d10cf0cfecbced-392b1a3dd4177ef6-01 outer:exit 2b-f3a4e3e5a45b3cea415f96c2e7d10cf0cfecbced-96f3ded3168b13dc-01
2021-08-24T05:14:05.064Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:14:05.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-27f4848373b3fbb60ea9d6d39d3ee80eeabd0f38-d17f61d71db614e8-01 outer:exit 2b-27f4848373b3fbb60ea9d6d39d3ee80eeabd0f38-6462dd27739cd9f4-01
2021-08-24T05:14:05.082Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:14:05.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e915586894364d3cc18e57e595203e5e62ed3b8-e5e90d2475ef9cb2-01 outer:exit 2b-8e915586894364d3cc18e57e595203e5e62ed3b8-b5b9a40b6982952d-01
2021-08-24T05:14:05.095Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:14:05.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ad136ef51a96ca39abc8a73765446d379b9ad65-bd425ba5e2de8748-01 outer:exit 2b-9ad136ef51a96ca39abc8a73765446d379b9ad65-c2e555167668eb2c-01
2021-08-24T05:14:05.102Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:14:05.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-77ab1800caf7725987348d229b2950848b1c6082-3771eda47a770e2f-01 outer:exit 2b-77ab1800caf7725987348d229b2950848b1c6082-9e59a1977c290fe5-01
2021-08-24T05:14:05.106Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:14:05.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-f88c036f7f5d7edf880bc926bc1372d3841dcc92-a89b266e5b4d1d85-01 outer:exit 2b-f88c036f7f5d7edf880bc926bc1372d3841dcc92-84174cfa34c390a5-01
2021-08-24T05:14:05.109Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:14:05.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b1f13ed0ee2bc402bc47209b664e94060b4c1bb-3ef4054e8a5380ba-01 outer:exit 2b-2b1f13ed0ee2bc402bc47209b664e94060b4c1bb-9e557cebd1400ae0-01
2021-08-24T05:14:05.117Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:14:05.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-f14a4866d10e0ff9aed6e51d9353c5a55dfbacbe-1833d6ce15c4b5cf-01 outer:exit 2b-f14a4866d10e0ff9aed6e51d9353c5a55dfbacbe-6b45108dcc8c2ba6-01
2021-08-24T05:14:05.119Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:14:05.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8530addfc0eccbb1404e6703d3212ddf7023408-8983f6d7962a130c-01 outer:exit 2b-f8530addfc0eccbb1404e6703d3212ddf7023408-e52f88933e392e50-01
2021-08-24T05:14:05.122Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:14:05.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-43e0cb40009e49864d81eccd88eeef74719d2348-34a7c468012656c0-01 outer:exit 2b-43e0cb40009e49864d81eccd88eeef74719d2348-6bfb2f5ca07470dd-01
2021-08-24T05:14:05.124Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:14:05.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-484a295d1b4072b8398f9a22edd9d543e1376ee3-6b11073728f98436-01 outer:exit 2b-484a295d1b4072b8398f9a22edd9d543e1376ee3-b73aba880fdab341-01
2021-08-24T05:14:05.126Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:14:05.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-80c53d3702940ecfdb8a99059333367d7d96d489-088175153578da18-01 outer:exit 2b-80c53d3702940ecfdb8a99059333367d7d96d489-6ac7260af3638083-01
2021-08-24T05:14:05.128Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:14:05.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6e95f4200fa13c4c67a079362f29b4d80bf12ff-81c1de56432567df-01 outer:exit 2b-e6e95f4200fa13c4c67a079362f29b4d80bf12ff-9e5a67317a4e77fd-01
2021-08-24T05:14:05.139Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:14:05.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4088918c6b7563aed41f71f7c9212bdcaed13c6-d2d1d07744733dab-01 outer:exit 2b-a4088918c6b7563aed41f71f7c9212bdcaed13c6-ee13dce6f1d99a89-01
2021-08-24T05:14:05.148Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:14:05.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-c082bbcb7e71ac4d7c4d87b023d3b5e6f09e9ebc-d4156c7bb3574a47-01 outer:exit 2b-c082bbcb7e71ac4d7c4d87b023d3b5e6f09e9ebc-e3a997c9999d3202-01
2021-08-24T05:14:05.152Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:14:05.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e64aa1c3a26a347046792244726280050ab2e5e-5f9747983ea6d9c4-01 outer:exit 2b-2e64aa1c3a26a347046792244726280050ab2e5e-23208fc85d0629ab-01
2021-08-24T05:14:05.155Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:14:05.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-45a4c7c3eee0b13ab7ac231fa9fccdb16388cf69-3b7bec841b9dea9e-01 outer:exit 2b-45a4c7c3eee0b13ab7ac231fa9fccdb16388cf69-57649250089d4293-01
2021-08-24T05:14:05.171Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:14:05.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c8c5e904f380b8d1284861cb3616ba334c817e6-4f04965c8400d86a-01 outer:exit 2b-6c8c5e904f380b8d1284861cb3616ba334c817e6-daa9abed3eb62c7e-01
2021-08-24T05:14:05.204Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (426ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:11.562Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:11.563Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:11.563Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:11.564Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:11.630Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:11.677Z appoptics:patching patched crypto 
2021-08-24T05:14:11.700Z appoptics:patching patched https 
2021-08-24T05:14:11.701Z appoptics:patching patched http 
2021-08-24T05:14:11.750Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:11.751Z appoptics:patching patched fs 
2021-08-24T05:14:11.781Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v16.7.0)
2021-08-24T05:14:11.789Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2021-08-24T05:14:11.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-25c561f4f92102c451feb299f2421d57bf6be310-82fd256330d1c95a-01 outer:exit 2b-25c561f4f92102c451feb299f2421d57bf6be310-99d4b4afdfd8493d-01
2021-08-24T05:14:11.988Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:14:12.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c82280325ffc8f1788fe99a79fa0ccb5d9baa50-ee67d16a8fe55dc2-01 outer:exit 2b-5c82280325ffc8f1788fe99a79fa0ccb5d9baa50-6c126ab813c937aa-01
2021-08-24T05:14:12.052Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:14:12.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-88253cafa6fa27d16b81907ddfd6a29dfcdef4c5-dcd868acea72c6d6-01 outer:exit 2b-88253cafa6fa27d16b81907ddfd6a29dfcdef4c5-eb7bfeed339e5e44-01
2021-08-24T05:14:12.056Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:14:12.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-2473b5288fd0f2df1ba419079947524d47f3f8e9-a5cf23fed013fd0d-01 outer:exit 2b-2473b5288fd0f2df1ba419079947524d47f3f8e9-1bb9fd2443534af8-01
2021-08-24T05:14:12.059Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:14:12.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8c31d59978ccf6f7ad8b18b2223abe4ddb11fbd-64f1886b197d73d3-01 outer:exit 2b-e8c31d59978ccf6f7ad8b18b2223abe4ddb11fbd-c78704cc39f9e86f-01
2021-08-24T05:14:12.064Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:14:12.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-46f3032343bf9e1f9214bbfdf114d945d2680718-72314b62376bd4e2-01 outer:exit 2b-46f3032343bf9e1f9214bbfdf114d945d2680718-042bc5e21fad3d09-01
2021-08-24T05:14:12.067Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:14:12.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-67893fa6f657ce2748478aa22c8ec11100103dd6-0d0cc4c99d0fde8e-01 outer:exit 2b-67893fa6f657ce2748478aa22c8ec11100103dd6-dd6e3e2677f6aa2e-01
2021-08-24T05:14:12.070Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:14:12.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-37f3abe27cc817a2e13c435632831e8693057150-7c6ba94d76468b4e-01 outer:exit 2b-37f3abe27cc817a2e13c435632831e8693057150-7287da9544e4d96c-01
2021-08-24T05:14:12.073Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:14:12.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-937db395d7d885bc696b78a1adf1b1379e5a004a-c676408774fbd087-01 outer:exit 2b-937db395d7d885bc696b78a1adf1b1379e5a004a-c04d9f7bcc35e5ad-01
2021-08-24T05:14:12.076Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:14:12.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fefe51b65594175aa0bf9b3218d6c2f168aa222-a28b4452973c43fe-01 outer:exit 2b-9fefe51b65594175aa0bf9b3218d6c2f168aa222-ff32620202919fea-01
2021-08-24T05:14:12.079Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:14:12.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6e757ac6340751307230bafe6984379d631b426-43c3e0dc4fada310-01 outer:exit 2b-e6e757ac6340751307230bafe6984379d631b426-9ac81f574463f964-01
2021-08-24T05:14:12.083Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:14:12.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef88b4ff858f3dfc5a8a7ea659d45e16c2b6c068-5de787ac8aa3b5a7-01 outer:exit 2b-ef88b4ff858f3dfc5a8a7ea659d45e16c2b6c068-2d5af6121592fcb4-01
2021-08-24T05:14:12.090Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:14:12.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f3beb75ba9ac036520b3048ff246ddff4740762-2b31d89f4c548f77-01 outer:exit 2b-8f3beb75ba9ac036520b3048ff246ddff4740762-2fd1bdfdd614f4cf-01
2021-08-24T05:14:12.107Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:14:12.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2fb0102a463f0fde1e620023a9bbe420596ff02-ce2c81422614090e-01 outer:exit 2b-b2fb0102a463f0fde1e620023a9bbe420596ff02-1266ee78b450ed8a-01
2021-08-24T05:14:12.152Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:14:12.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfdfe9bfe047783b7f9984f3f8f0404fd17eb7a6-9de5ec9bbecb1c6a-01 outer:exit 2b-dfdfe9bfe047783b7f9984f3f8f0404fd17eb7a6-b630652d07858222-01
2021-08-24T05:14:12.156Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:14:12.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ea494d0ffcbb72754fc8debf0b17c4d54779caf-eb5ebcceb95620f6-01 outer:exit 2b-3ea494d0ffcbb72754fc8debf0b17c4d54779caf-918781419d1e9c7d-01
2021-08-24T05:14:12.158Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:14:12.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3a9df637d2d952fc1b8ba85822ed5003ead8fcc-0e2c854580e36594-01 outer:exit 2b-a3a9df637d2d952fc1b8ba85822ed5003ead8fcc-e62be1135b8a8cbb-01
2021-08-24T05:14:12.161Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:14:12.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcf5561bae50e7da588d3106746bf16d8d099347-a066bc143277c71e-01 outer:exit 2b-dcf5561bae50e7da588d3106746bf16d8d099347-eafed659f7e03cfd-01
2021-08-24T05:14:12.164Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:14:12.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef5bed805351ebf9c1a8973c8db2301583e9d5e0-b5484138f865982e-01 outer:exit 2b-ef5bed805351ebf9c1a8973c8db2301583e9d5e0-145aa15680c5845a-01
2021-08-24T05:14:12.166Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:14:12.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-71c8d65b03cb87f61087ea5aeafafd0e046d0344-63e4e4cc1a0fdd57-01 outer:exit 2b-71c8d65b03cb87f61087ea5aeafafd0e046d0344-1ce8ae5e0175cf14-01
2021-08-24T05:14:12.168Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:14:12.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-456dd6b1abbefb1d64c4283eee26811998809c83-6c768bd29dfc4ca7-01 outer:exit 2b-456dd6b1abbefb1d64c4283eee26811998809c83-8e72b5087d0736f0-01
2021-08-24T05:14:12.170Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:14:12.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-96e5b7cb8e6199d71d2fc54ee4c104c5a8c2c00b-3ae86895e5b0baa2-01 outer:exit 2b-96e5b7cb8e6199d71d2fc54ee4c104c5a8c2c00b-b4e8cefcff95c014-01
2021-08-24T05:14:12.173Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:14:12.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-46323422c65fb83771193ad59bed6fe7550059b2-1fcf3f54764ba5e3-01 outer:exit 2b-46323422c65fb83771193ad59bed6fe7550059b2-1c6957419e8cf053-01
2021-08-24T05:14:12.176Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:14:12.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf2e302f9804c40da348f3f325d6500bdc99e032-4762053ec83913b0-01 outer:exit 2b-bf2e302f9804c40da348f3f325d6500bdc99e032-c6aa61bfe598e301-01
2021-08-24T05:14:12.179Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:14:12.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-7df26190c869093cef9e9e069e5fd7ce56cffbc2-cc21b4561e7c541a-01 outer:exit 2b-7df26190c869093cef9e9e069e5fd7ce56cffbc2-d240920ba68dffba-01
2021-08-24T05:14:12.181Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:14:12.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-e020bcfd115c01f038339431ef59030e73db8f5b-37fa9f097edc5e0a-01 outer:exit 2b-e020bcfd115c01f038339431ef59030e73db8f5b-647a38209b2cdf11-01
2021-08-24T05:14:12.184Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:14:12.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e695f76046ecc8d92ca8dd0b8073760cc95a2ba-f5f4369dd930eb44-01 outer:exit 2b-1e695f76046ecc8d92ca8dd0b8073760cc95a2ba-133d0228e7abb99a-01
2021-08-24T05:14:12.192Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:14:12.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2d1e545aa9278c0995da548c86ead481de50e3f-dffef58ac1cc420a-01 outer:exit 2b-b2d1e545aa9278c0995da548c86ead481de50e3f-8977c1cc33af87bb-01
2021-08-24T05:14:12.196Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:14:12.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-257ef0b49446b0a59dd4489078fac83920d7453a-b13b910c54209539-01 outer:exit 2b-257ef0b49446b0a59dd4489078fac83920d7453a-f3899882c4636375-01
2021-08-24T05:14:12.205Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:14:12.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1a2f16dd38eeb6d3039bdabe533edeac8e3a139-81fd86c3e5239c37-01 outer:exit 2b-e1a2f16dd38eeb6d3039bdabe533edeac8e3a139-8ce46730d61ced23-01
2021-08-24T05:14:12.211Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:14:12.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-21ba97252ae966517daae8cf2bdd58d24f047eff-634c655a2190aec7-01 outer:exit 2b-21ba97252ae966517daae8cf2bdd58d24f047eff-170a0fc10291d1d8-01
2021-08-24T05:14:12.214Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:14:12.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-34852ca1753a82f3688d228fc7a70a23feeab01e-1e755c2c1fecfe1e-01 outer:exit 2b-34852ca1753a82f3688d228fc7a70a23feeab01e-11ddf4a89e711924-01
2021-08-24T05:14:12.216Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:14:12.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-50274c103d1091bc87508a2c3071a6c30cd50143-6dd27b885d3df053-01 outer:exit 2b-50274c103d1091bc87508a2c3071a6c30cd50143-be0cc48fafbb1f8d-01
2021-08-24T05:14:12.223Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:14:12.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f321adb3f6d746b56f79e245a8a7862a44f120b-419fa9e761e09195-01 outer:exit 2b-5f321adb3f6d746b56f79e245a8a7862a44f120b-8b7c7fc1776a875c-01
2021-08-24T05:14:12.225Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:14:12.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-4280a7ecadab733aca5534d7c8d258dbf7cfb190-2d22d208a113b8ca-01 outer:exit 2b-4280a7ecadab733aca5534d7c8d258dbf7cfb190-8de1aa4b259d81e3-01
2021-08-24T05:14:12.228Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:14:12.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca741ab925bcb61b74aaf41d66de23d1eab30ee7-f4ff2159a72c3cbe-01 outer:exit 2b-ca741ab925bcb61b74aaf41d66de23d1eab30ee7-fbb34a3785e4ea02-01
2021-08-24T05:14:12.230Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:14:12.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-cde330fa31f48b6ab9f216bf87dd822fce0840e7-52476055aaca7621-01 outer:exit 2b-cde330fa31f48b6ab9f216bf87dd822fce0840e7-51eb68e3248b8ab4-01
2021-08-24T05:14:12.232Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:14:12.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-58aeb9f966599b6077b83e852c88393da7bafe11-bdd0aa417f3bc18a-01 outer:exit 2b-58aeb9f966599b6077b83e852c88393da7bafe11-a073053e9cde371b-01
2021-08-24T05:14:12.234Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:14:12.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-87715813a0b86c95adc505858afa479bea6a03d4-45d4b5d0c2a62b80-01 outer:exit 2b-87715813a0b86c95adc505858afa479bea6a03d4-658e8d211ac8c7ba-01
2021-08-24T05:14:12.242Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:14:12.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfed6062de554ce5be08f3d61c6503c20ba76c8d-0ef02f242a3e0b15-01 outer:exit 2b-dfed6062de554ce5be08f3d61c6503c20ba76c8d-ecd3295985174cd6-01
2021-08-24T05:14:12.254Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:14:12.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4bcefc5fb114e64282f57b833e5f08d368a66a4-59affed213541766-01 outer:exit 2b-e4bcefc5fb114e64282f57b833e5f08d368a66a4-ea6b1fb125451bd0-01
2021-08-24T05:14:12.258Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:14:12.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e351ba59958f5dba1a8bfa2c5589b9270ba772a-e58222c45dcb1e73-01 outer:exit 2b-8e351ba59958f5dba1a8bfa2c5589b9270ba772a-6238f45670dd887b-01
2021-08-24T05:14:12.261Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:14:12.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-99cc3ed8abadc8fd457fa96138711c17ec72a9f1-d5365335fc51524c-01 outer:exit 2b-99cc3ed8abadc8fd457fa96138711c17ec72a9f1-06bb378913410abf-01
2021-08-24T05:14:12.264Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:14:12.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e218f3eb0ca374842a6d658dfc6432ea7e9b67a-270503337c6d5af2-01 outer:exit 2b-5e218f3eb0ca374842a6d658dfc6432ea7e9b67a-dbfa900ae0f561ff-01
2021-08-24T05:14:12.303Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (383ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:17.508Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:17.508Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:17.508Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:17.509Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:17.577Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:17.626Z appoptics:patching patched crypto 
2021-08-24T05:14:17.652Z appoptics:patching patched https 
2021-08-24T05:14:17.652Z appoptics:patching patched http 
2021-08-24T05:14:17.704Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:17.705Z appoptics:patching patched fs 
2021-08-24T05:14:17.737Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v16.7.0)
2021-08-24T05:14:17.745Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2021-08-24T05:14:17.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-33c38858997b31b8e1a154b465a5d666bd14ccdf-c15b1eade8c65a0c-01 outer:exit 2b-33c38858997b31b8e1a154b465a5d666bd14ccdf-23a4401effb7dead-01
2021-08-24T05:14:17.906Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:14:17.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-a70f727ada3520f65b82bf3418a547731a6f98af-e589302022fd51a0-01 outer:exit 2b-a70f727ada3520f65b82bf3418a547731a6f98af-8161d8658e290bc5-01
2021-08-24T05:14:17.962Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:14:17.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2b3f5f8a8c57a77bbd3d4827cf4be9bf142ee1a-efad8dd6228cf812-01 outer:exit 2b-e2b3f5f8a8c57a77bbd3d4827cf4be9bf142ee1a-bb41a68faf0fa00b-01
2021-08-24T05:14:17.966Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:14:17.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-62c9193232dc90e3d9f199c8d2d15ecab88889ef-c7a20fbde8028323-01 outer:exit 2b-62c9193232dc90e3d9f199c8d2d15ecab88889ef-ef2ea99add8bea22-01
2021-08-24T05:14:17.969Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:14:17.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fdfebcafe8fe1a7a6146cf278c956e374ab8275-6a19660861a054d2-01 outer:exit 2b-5fdfebcafe8fe1a7a6146cf278c956e374ab8275-49bbc078ce1bd809-01
2021-08-24T05:14:17.974Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:14:17.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-82b9d3c72835c18e0eb8042344934a1f2a8ad26c-cdb883e1e9a64b79-01 outer:exit 2b-82b9d3c72835c18e0eb8042344934a1f2a8ad26c-321e8f73c365b5ec-01
2021-08-24T05:14:17.977Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:14:17.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-e45b320f3ebee34aed0e26b36f68ffe52664b441-109dc9194910ab43-01 outer:exit 2b-e45b320f3ebee34aed0e26b36f68ffe52664b441-1410ccf7abb5f31b-01
2021-08-24T05:14:17.980Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:14:17.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-be072446eee364c22dfb910a2c44a77712cf5d63-a8cfc606151b98c6-01 outer:exit 2b-be072446eee364c22dfb910a2c44a77712cf5d63-47b88bea0c465414-01
2021-08-24T05:14:17.983Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:14:17.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-70854923941e42190b5a1d210c49ae9ef1edb4f4-b0e04534d634445a-01 outer:exit 2b-70854923941e42190b5a1d210c49ae9ef1edb4f4-1dea58f779416cab-01
2021-08-24T05:14:17.988Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:14:17.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-3453c6d4887d8899df8b799b66d18d40dec02541-b884895bcb7d5b53-01 outer:exit 2b-3453c6d4887d8899df8b799b66d18d40dec02541-c0bda2897d199a7e-01
2021-08-24T05:14:17.991Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:14:17.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-e63b0e176004349b4714737f4a32c91ab486ec43-d6132b95f8714f5e-01 outer:exit 2b-e63b0e176004349b4714737f4a32c91ab486ec43-13e145370324c1d1-01
2021-08-24T05:14:17.996Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:14:18.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-7970904b8d8c71e3fd861da7103ec8b26d0ed706-d3b51d05b076946a-01 outer:exit 2b-7970904b8d8c71e3fd861da7103ec8b26d0ed706-092d1903e5544fe3-01
2021-08-24T05:14:18.005Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:14:18.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-41c77af40289dd1dfc3d0713866698d9f25e4fa0-84cec7049fd8a561-01 outer:exit 2b-41c77af40289dd1dfc3d0713866698d9f25e4fa0-9366032792b5d685-01
2021-08-24T05:14:18.023Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:14:18.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c952fa5887fc7aac1f7129f7734e5b13ae043c3-572eed587c5ec11f-01 outer:exit 2b-2c952fa5887fc7aac1f7129f7734e5b13ae043c3-e54c1d4beef906dd-01
2021-08-24T05:14:18.063Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:14:18.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc3d9bd46a40dbb5464288ebee8fa79437ac43a9-860e103a7f67d56c-01 outer:exit 2b-fc3d9bd46a40dbb5464288ebee8fa79437ac43a9-93950a4e3e017e2c-01
2021-08-24T05:14:18.066Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:14:18.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-394920ef4f3571df56dffc5f438d770784640e50-62b18d5ca8faa07c-01 outer:exit 2b-394920ef4f3571df56dffc5f438d770784640e50-df1d1954d822eea0-01
2021-08-24T05:14:18.069Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:14:18.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fc672f79ce8b299b4855e6b44598d07e13d1a2a-d230bc2541598a23-01 outer:exit 2b-8fc672f79ce8b299b4855e6b44598d07e13d1a2a-58d1140fb6861b9f-01
2021-08-24T05:14:18.072Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:14:18.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b67ac0e2bef4067133d4fab0f8e4e238b564b7f-e0135abcd94a33fc-01 outer:exit 2b-5b67ac0e2bef4067133d4fab0f8e4e238b564b7f-e3a8a30158ca0e4f-01
2021-08-24T05:14:18.074Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:14:18.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc6fa32f9b59c44dba3123038b53890bc70e0623-4f8e145c51e7a403-01 outer:exit 2b-bc6fa32f9b59c44dba3123038b53890bc70e0623-9ea27398c6ebdf42-01
2021-08-24T05:14:18.076Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:14:18.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c2bdd3593a8d68e3ad5522d7f25cfcfdeb59a90-e89d4bd657fd3eca-01 outer:exit 2b-7c2bdd3593a8d68e3ad5522d7f25cfcfdeb59a90-20ccdeb99dd01d84-01
2021-08-24T05:14:18.079Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:14:18.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-154d13d88d04e2dc11ea897de7a88e2e60fa08ce-d47a66ef1791eaa2-01 outer:exit 2b-154d13d88d04e2dc11ea897de7a88e2e60fa08ce-e1d5e001a71f48ed-01
2021-08-24T05:14:18.081Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:14:18.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d109266dd6874d1b462e623314dd0cead59744e-2922784a7f6b9626-01 outer:exit 2b-7d109266dd6874d1b462e623314dd0cead59744e-823e5da004c79592-01
2021-08-24T05:14:18.083Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:14:18.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-806b3e7b1c2af48e27c5a198b6865cce3f115b84-0c0fd64cd604c00f-01 outer:exit 2b-806b3e7b1c2af48e27c5a198b6865cce3f115b84-5bd4c1752a47afcb-01
2021-08-24T05:14:18.086Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:14:18.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-b90cd159815b0c36f092891155b5429a0a7c2f71-aef3162c6cf05674-01 outer:exit 2b-b90cd159815b0c36f092891155b5429a0a7c2f71-d66fdb07d9e9de6e-01
2021-08-24T05:14:18.089Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:14:18.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe79c8879f468163755248c21f95ba632763ccd7-52318fbd415d8896-01 outer:exit 2b-fe79c8879f468163755248c21f95ba632763ccd7-4ead9a045a5c686c-01
2021-08-24T05:14:18.092Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:14:18.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-782c0f3924cebd19cc33a23386f797e87b93bd5a-6b406b5faf7bc4e6-01 outer:exit 2b-782c0f3924cebd19cc33a23386f797e87b93bd5a-3c17a48dc04ecde6-01
2021-08-24T05:14:18.095Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:14:18.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5ff98130c322d752bb0e0797774a2b77039ac08-bb19e0aaf64e8820-01 outer:exit 2b-e5ff98130c322d752bb0e0797774a2b77039ac08-a70a890c7546e1b3-01
2021-08-24T05:14:18.102Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:14:18.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f8c7745f63dca76dcff977300295af71c5b43d-e0da7b9acd07519a-01 outer:exit 2b-87f8c7745f63dca76dcff977300295af71c5b43d-c29f810b42ba2a6d-01
2021-08-24T05:14:18.107Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:14:18.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-5433ca36a295b6898a7e56c245d279c9d516db6e-33fa34657d278921-01 outer:exit 2b-5433ca36a295b6898a7e56c245d279c9d516db6e-cecb0d252646f883-01
2021-08-24T05:14:18.115Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:14:18.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-f460908c1d9601cf694af9520343ecb76e4d1989-3ac81ce770af6d95-01 outer:exit 2b-f460908c1d9601cf694af9520343ecb76e4d1989-e5e07e5979b07d91-01
2021-08-24T05:14:18.122Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:14:18.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-2184154b9142f227729468ea3e859db33669be72-1f5eae1b45e9603b-01 outer:exit 2b-2184154b9142f227729468ea3e859db33669be72-0f8f726b2159ffd6-01
2021-08-24T05:14:18.124Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:14:18.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8c1e2ef848bae7b82f3106d769aae749d9373a9-41855c2bf8be921e-01 outer:exit 2b-f8c1e2ef848bae7b82f3106d769aae749d9373a9-0e34fb265f4d8974-01
2021-08-24T05:14:18.127Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:14:18.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e1f2f85b4b6dde708677747c0eb566b7855aaa3-92165ff726a69b8b-01 outer:exit 2b-7e1f2f85b4b6dde708677747c0eb566b7855aaa3-45535d56b767ebdc-01
2021-08-24T05:14:18.134Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:14:18.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-140508c69b69961826d1c6d8199c6562e5bfb6c4-8e6f7a6f321c7fc5-01 outer:exit 2b-140508c69b69961826d1c6d8199c6562e5bfb6c4-9053e6df4708780d-01
2021-08-24T05:14:18.136Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:14:18.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-8745b916cdcc19b797b5cc506b7878e61751ceb8-42008c6133312031-01 outer:exit 2b-8745b916cdcc19b797b5cc506b7878e61751ceb8-a8f1350fd7a06c03-01
2021-08-24T05:14:18.140Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:14:18.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9c65bfdc21e8b8c9336c1630958934a290fde16-1b80527b47c3345d-01 outer:exit 2b-f9c65bfdc21e8b8c9336c1630958934a290fde16-77a7af79f648f97b-01
2021-08-24T05:14:18.143Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:14:18.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1385be2a780f2e16f9a64d5d31fd21ef4e15d2e-ffc41276cfdddf22-01 outer:exit 2b-f1385be2a780f2e16f9a64d5d31fd21ef4e15d2e-764cd563687b6bb3-01
2021-08-24T05:14:18.145Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:14:18.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0c46e5c774db8f2804fdcbdcf3c6e62b63a912d-d6a7a01e0a4ca007-01 outer:exit 2b-a0c46e5c774db8f2804fdcbdcf3c6e62b63a912d-e3fba24a54e4d8e1-01
2021-08-24T05:14:18.147Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:14:18.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-51d67c0d19c3f736bbb721742827270a5b49270e-0d5d9377938c0e37-01 outer:exit 2b-51d67c0d19c3f736bbb721742827270a5b49270e-7eb7c19fe3dc904b-01
2021-08-24T05:14:18.157Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:14:18.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e1e912689bbf56f91a4cfe3e393279a7f0eb557-fd9d987a68312ecc-01 outer:exit 2b-1e1e912689bbf56f91a4cfe3e393279a7f0eb557-cfe861b3b2e12075-01
2021-08-24T05:14:18.170Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:14:18.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-88dc0d99abe638b8fa9f824289c67fed7fa564f1-c8f7f49fd2c71f61-01 outer:exit 2b-88dc0d99abe638b8fa9f824289c67fed7fa564f1-562ea5c06e204e8c-01
2021-08-24T05:14:18.173Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:14:18.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-98d2c58a5f5df2a74cc1e3cfd75d3e726b64b29e-e8cc34be618dac69-01 outer:exit 2b-98d2c58a5f5df2a74cc1e3cfd75d3e726b64b29e-af7a71a1b8e4776d-01
2021-08-24T05:14:18.176Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:14:18.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-315d09b08543d80b0154ac7190963351ff6e28c7-4e640e4ffff89c10-01 outer:exit 2b-315d09b08543d80b0154ac7190963351ff6e28c7-296e4c52a9e9dff4-01
2021-08-24T05:14:18.179Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:14:18.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b146c9d973135d4a41c18d5c0232f41713a76a8-794cc6169e0971c8-01 outer:exit 2b-3b146c9d973135d4a41c18d5c0232f41713a76a8-4d650cc3edef0cd0-01
2021-08-24T05:14:18.209Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (349ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:24.799Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:24.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:24.800Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:24.800Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:24.867Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:24.914Z appoptics:patching patched crypto 
2021-08-24T05:14:24.938Z appoptics:patching patched https 
2021-08-24T05:14:24.938Z appoptics:patching patched http 
2021-08-24T05:14:24.987Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:24.988Z appoptics:patching patched fs 
2021-08-24T05:14:25.021Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v16.7.0)
2021-08-24T05:14:25.029Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2021-08-24T05:14:25.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-12ff141a443e2f620d0422270c01c335a7f64d86-a5ad20b84b485d25-01 outer:exit 2b-12ff141a443e2f620d0422270c01c335a7f64d86-a6dd44dedddfcbd9-01
2021-08-24T05:14:25.174Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:14:25.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6c3be6e52a9e7f01cfaf133d5b217b87357a842-ac2c5d2c19b374e6-01 outer:exit 2b-a6c3be6e52a9e7f01cfaf133d5b217b87357a842-39ee109bc1f4d05a-01
2021-08-24T05:14:25.210Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:14:25.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5b5c60169138770af1c77931c05cb11c6fbde92-a8928da46259827f-01 outer:exit 2b-e5b5c60169138770af1c77931c05cb11c6fbde92-446e25de90db288e-01
2021-08-24T05:14:25.214Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:14:25.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-e93bdc888ff8d4d17369d675046b51ed9f695ac0-a9406d294cfe1ea5-01 outer:exit 2b-e93bdc888ff8d4d17369d675046b51ed9f695ac0-5f06b71a9e50d7eb-01
2021-08-24T05:14:25.218Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:14:25.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a95efeb7a80ee2aaa7772d3f4d315a834f87162-319339fbce23b67a-01 outer:exit 2b-2a95efeb7a80ee2aaa7772d3f4d315a834f87162-583ccbf284021aa9-01
2021-08-24T05:14:25.225Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:14:25.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-938073a9514c2908e54bca94d1a375f5a35b7d86-ce923023d115f19e-01 outer:exit 2b-938073a9514c2908e54bca94d1a375f5a35b7d86-e080b9a2d1474d0f-01
2021-08-24T05:14:25.229Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:14:25.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-474061421be0cd05835fff35c7a00cc33acff0a1-2d4618e8d3d9c172-01 outer:exit 2b-474061421be0cd05835fff35c7a00cc33acff0a1-8b10c96c2ebcc624-01
2021-08-24T05:14:25.232Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:14:25.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-25efefca47622de5ef7e708b4425f0a371134dc1-e278486a457e2b32-01 outer:exit 2b-25efefca47622de5ef7e708b4425f0a371134dc1-60d0ed76059fc5a8-01
2021-08-24T05:14:25.234Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:14:25.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e220607b7cf97a90e1240536e39b749d023e02d-9f939cba7153c875-01 outer:exit 2b-7e220607b7cf97a90e1240536e39b749d023e02d-791c92dd4fe0b90e-01
2021-08-24T05:14:25.237Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:14:25.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-6507e60a77da49f0a258290718419b09dc01489e-3fb8f9b4f7dc13d3-01 outer:exit 2b-6507e60a77da49f0a258290718419b09dc01489e-db3485d09b0c9301-01
2021-08-24T05:14:25.241Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:14:25.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-c55c3e32928bf99c6ad511f396b7e51ab31a5545-e701bc5a8a8dada3-01 outer:exit 2b-c55c3e32928bf99c6ad511f396b7e51ab31a5545-0b857f2beee6b492-01
2021-08-24T05:14:25.245Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:14:25.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-b32ac31c8c6878ce2cd2c52e1142938d0a8cb675-221121442b333136-01 outer:exit 2b-b32ac31c8c6878ce2cd2c52e1142938d0a8cb675-0d165d499253a5f2-01
2021-08-24T05:14:25.252Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:14:25.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-563bc75a760ec222932f55e081647406621f177a-4d3424b039f83493-01 outer:exit 2b-563bc75a760ec222932f55e081647406621f177a-221f8e06a6813409-01
2021-08-24T05:14:25.270Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:14:25.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f6d12a10b4474f9ec02db4c62e37b79e60eccbd-8e725969afc6aa26-01 outer:exit 2b-9f6d12a10b4474f9ec02db4c62e37b79e60eccbd-8d6ce15279f6edf9-01
2021-08-24T05:14:25.310Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:14:25.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-f02bcdcac70306f5fa2b4ec8d8ee6b7ad30906c0-f6b2351ec255ebc2-01 outer:exit 2b-f02bcdcac70306f5fa2b4ec8d8ee6b7ad30906c0-dd2d40312b6a01f9-01
2021-08-24T05:14:25.314Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:14:25.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-49b95e888e9426f71ed9c3e425e3bb3a9c86898a-ec301e78268fea66-01 outer:exit 2b-49b95e888e9426f71ed9c3e425e3bb3a9c86898a-19ddecf214da8d46-01
2021-08-24T05:14:25.317Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:14:25.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-d00dd01c77a317ec7d57baadb20fe0c63281410d-497e54de8cdec150-01 outer:exit 2b-d00dd01c77a317ec7d57baadb20fe0c63281410d-fe4426c5edbed819-01
2021-08-24T05:14:25.320Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:14:25.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdb7aa32386be52ad4f1561303a571c3681c80e6-fe13782273987f78-01 outer:exit 2b-fdb7aa32386be52ad4f1561303a571c3681c80e6-25e379d7ded9c687-01
2021-08-24T05:14:25.322Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:14:25.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-de433b298669520c039b11eacdd691d35c442eaa-3fd324408015e182-01 outer:exit 2b-de433b298669520c039b11eacdd691d35c442eaa-f56f199d5b93e934-01
2021-08-24T05:14:25.325Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:14:25.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-222e5857a2a83bd64d57568194c2ad83bf037014-69e9b8d7f6c5bb4a-01 outer:exit 2b-222e5857a2a83bd64d57568194c2ad83bf037014-b88e58d4539f0d4c-01
2021-08-24T05:14:25.327Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:14:25.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-356d3dc15980fc21a9c9065ac123a6c43feff4eb-84510d372d548031-01 outer:exit 2b-356d3dc15980fc21a9c9065ac123a6c43feff4eb-1ec5db520d2b1066-01
2021-08-24T05:14:25.329Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:14:25.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-42ba330465eb634cfac1ae232cf4bdd1380b12ac-d22dc0a315cdcfe9-01 outer:exit 2b-42ba330465eb634cfac1ae232cf4bdd1380b12ac-7b3aab6644fdd2a5-01
2021-08-24T05:14:25.331Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:14:25.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd1e5c006ed9053169c542091b5fee0d13e7d6d6-137b4e659ffb650b-01 outer:exit 2b-bd1e5c006ed9053169c542091b5fee0d13e7d6d6-b5b85d257af749fe-01
2021-08-24T05:14:25.334Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:14:25.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b903311d060e7c120909c513b2c86a36fe37c46-2813d2c1b1f06a99-01 outer:exit 2b-7b903311d060e7c120909c513b2c86a36fe37c46-9ede04f89cfdd8df-01
2021-08-24T05:14:25.337Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:14:25.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5666bcd205f32888816e99e427f545ed31cceff-d0a1ced452b4787b-01 outer:exit 2b-e5666bcd205f32888816e99e427f545ed31cceff-a78f13d854c37775-01
2021-08-24T05:14:25.340Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:14:25.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7d6f0758758eeee208a35350678a36208bc204c-ee7724f74179e6c5-01 outer:exit 2b-a7d6f0758758eeee208a35350678a36208bc204c-ec97ef40b7fe9489-01
2021-08-24T05:14:25.343Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:14:25.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-916ad166a9682c2bda0b88ed3ced57cbaaa1f937-11856b0b9f210a7b-01 outer:exit 2b-916ad166a9682c2bda0b88ed3ced57cbaaa1f937-852d231644c5aec1-01
2021-08-24T05:14:25.351Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:14:25.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-9060081b717389e70d1997df55f9a4fcb232cf20-aaedf7076e695d9e-01 outer:exit 2b-9060081b717389e70d1997df55f9a4fcb232cf20-c96801f60df35717-01
2021-08-24T05:14:25.356Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:14:25.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd0393d1e8210352a80c7445ceb7fa345bdb98e9-7e45a290b5c422d5-01 outer:exit 2b-fd0393d1e8210352a80c7445ceb7fa345bdb98e9-dd2bf7a336790db0-01
2021-08-24T05:14:25.365Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:14:25.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ad1863f84083b75884b4ceecd2b61b86f7eef76-023521e0e0215bff-01 outer:exit 2b-9ad1863f84083b75884b4ceecd2b61b86f7eef76-bd812ca7a1b986a5-01
2021-08-24T05:14:25.372Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:14:25.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a83b437e8e88e434b03205b62dfaa62457ee604-e0f58bb5930efd47-01 outer:exit 2b-4a83b437e8e88e434b03205b62dfaa62457ee604-a88879ba93aa53b2-01
2021-08-24T05:14:25.375Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:14:25.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-6982a75e257428a35f68f7ee64d35d11f1f67514-de57a73af5daa8c6-01 outer:exit 2b-6982a75e257428a35f68f7ee64d35d11f1f67514-906bae05653d3f2b-01
2021-08-24T05:14:25.379Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:14:25.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f7641e34358154b4431602eabbd7ae0279408a6-5355f4280b8c0d3e-01 outer:exit 2b-7f7641e34358154b4431602eabbd7ae0279408a6-86f144151063e578-01
2021-08-24T05:14:25.387Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:14:25.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-962cfffa06aae72d3e7c1a0f5b87480d7193cbe5-e216373d6aaf3b41-01 outer:exit 2b-962cfffa06aae72d3e7c1a0f5b87480d7193cbe5-ce9f1fbcb890e463-01
2021-08-24T05:14:25.389Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:14:25.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-09f56f9ceb1aced73b3aa9db28aef64b487f1f90-01ce5cb026b89413-01 outer:exit 2b-09f56f9ceb1aced73b3aa9db28aef64b487f1f90-c48e0b70795df93e-01
2021-08-24T05:14:25.391Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:14:25.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-c53b3c82889b2f7231ea7bfc2602e47110ae5601-92a9f34715f000ea-01 outer:exit 2b-c53b3c82889b2f7231ea7bfc2602e47110ae5601-01efb806b37def5d-01
2021-08-24T05:14:25.393Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:14:25.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-eda0e246419f88c9cd95a8553aed11b894936904-c8431c147549cf72-01 outer:exit 2b-eda0e246419f88c9cd95a8553aed11b894936904-34d5174d3615247c-01
2021-08-24T05:14:25.395Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:14:25.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c068eba81ec8dc498330e8b44fd581641f6803c-dd303a99fb73f564-01 outer:exit 2b-0c068eba81ec8dc498330e8b44fd581641f6803c-e9f1f7fac5c79c76-01
2021-08-24T05:14:25.398Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:14:25.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b8f44e320fb0b4635e470b13346885ac14ce34c-5e1570ff642e6f73-01 outer:exit 2b-1b8f44e320fb0b4635e470b13346885ac14ce34c-10f632c1fa2d15bf-01
2021-08-24T05:14:25.409Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:14:25.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-eeb98114224b9cdd51dfc3f23d0b55b15345b677-880e386eb34d31be-01 outer:exit 2b-eeb98114224b9cdd51dfc3f23d0b55b15345b677-605e8b5529b61d58-01
2021-08-24T05:14:25.419Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:14:25.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-49ab52a57cb3057165ee090667b2c4994ebdc74a-d80751a4195082be-01 outer:exit 2b-49ab52a57cb3057165ee090667b2c4994ebdc74a-4e77caf2daa03dd2-01
2021-08-24T05:14:25.422Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:14:25.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb16e3c753d3882f86864ed6a57c6eb8f07c1419-5cb5c5b1b035b241-01 outer:exit 2b-cb16e3c753d3882f86864ed6a57c6eb8f07c1419-464c2ebf26461a7d-01
2021-08-24T05:14:25.425Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:14:25.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e6203c849c89cfaa918417ee7c65ec0099e29cc-72c5db83f37d0382-01 outer:exit 2b-4e6203c849c89cfaa918417ee7c65ec0099e29cc-00ee3a839823cab6-01
2021-08-24T05:14:25.428Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:14:25.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-6042081141519c62f4bd2d7a9e32530345ed4ec9-0a9e10a340efcdae-01 outer:exit 2b-6042081141519c62f4bd2d7a9e32530345ed4ec9-1952fdf0937726b5-01
2021-08-24T05:14:25.464Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (329ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:30.670Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:30.670Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:30.670Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:30.671Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:30.738Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:30.788Z appoptics:patching patched crypto 
2021-08-24T05:14:30.813Z appoptics:patching patched https 
2021-08-24T05:14:30.813Z appoptics:patching patched http 
2021-08-24T05:14:30.860Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:30.861Z appoptics:patching patched fs 
2021-08-24T05:14:30.894Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v16.7.0)
2021-08-24T05:14:30.903Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2021-08-24T05:14:31.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-718ac2fb031c5ca3ca4f8dfea0137f5060f087c4-4dd4f1829a7307bc-01 outer:exit 2b-718ac2fb031c5ca3ca4f8dfea0137f5060f087c4-cdbfeee5fee97c0f-01
2021-08-24T05:14:31.053Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:14:31.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-103b9c97768e85f4bd976d67fbf620080fe13519-9fd875180b8c9297-01 outer:exit 2b-103b9c97768e85f4bd976d67fbf620080fe13519-bce8e7e5be4f7f82-01
2021-08-24T05:14:31.103Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:14:31.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee260c81a0e3b3b7afae2dcb0ab6b886543c10e0-3adcea0619796eef-01 outer:exit 2b-ee260c81a0e3b3b7afae2dcb0ab6b886543c10e0-9983655352cc956c-01
2021-08-24T05:14:31.106Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:14:31.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-e648cf68b970b499f4c25a78f7f869ef3f7793e8-15c49423eb0831a4-01 outer:exit 2b-e648cf68b970b499f4c25a78f7f869ef3f7793e8-13f21d782f4f7a26-01
2021-08-24T05:14:31.109Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:14:31.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-f760d442305fb2088bb2f3a5d4a7ce410676ffe2-6a83d5c718ec74d0-01 outer:exit 2b-f760d442305fb2088bb2f3a5d4a7ce410676ffe2-698dfe68cda2dfa7-01
2021-08-24T05:14:31.114Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:14:31.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-873aa07637539eb776dd8001546ea65ef7abdafc-deb3d5d3c6a5ff8e-01 outer:exit 2b-873aa07637539eb776dd8001546ea65ef7abdafc-e59f90a49ffbe1c5-01
2021-08-24T05:14:31.117Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:14:31.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-01c2ea9b77ba0d27a1ca198de663f437e8b07db9-f5069ef92b1a405e-01 outer:exit 2b-01c2ea9b77ba0d27a1ca198de663f437e8b07db9-09ee62cb05fa30d1-01
2021-08-24T05:14:31.120Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:14:31.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d84ddd293369ad7092927b5b399b592e5e377c0-f998d6cde403af69-01 outer:exit 2b-5d84ddd293369ad7092927b5b399b592e5e377c0-6625dcefc07203d9-01
2021-08-24T05:14:31.123Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:14:31.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3e6a36881c8a65bb9ea237c49802db5b3d7608c-c72419ea351b4163-01 outer:exit 2b-a3e6a36881c8a65bb9ea237c49802db5b3d7608c-3ba10b129d3b5f41-01
2021-08-24T05:14:31.126Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:14:31.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-b198c7257cd804ee622495e02bea11076a90b91f-8ad09925f34adc6a-01 outer:exit 2b-b198c7257cd804ee622495e02bea11076a90b91f-18f9c45474975b64-01
2021-08-24T05:14:31.129Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:14:31.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-d310848959a3bf0e28bcf631702bd96546e2ab1c-638f7c119ac3960b-01 outer:exit 2b-d310848959a3bf0e28bcf631702bd96546e2ab1c-e061d8edfdfaa24f-01
2021-08-24T05:14:31.133Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:14:31.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e4ac5c722182cfb0b07e43a973a513f108d2621-9d02884c7db3e7e0-01 outer:exit 2b-0e4ac5c722182cfb0b07e43a973a513f108d2621-be69ab48fe07d621-01
2021-08-24T05:14:31.140Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:14:31.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cf5b520c5870c02343c62fee2adc99fde0d5905-c6f68ed66dd8919c-01 outer:exit 2b-5cf5b520c5870c02343c62fee2adc99fde0d5905-183d45d066f7f498-01
2021-08-24T05:14:31.159Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:14:31.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-a37288e6f973f6bf481e157a23e987a980fba7a5-8a601533bec13ca2-01 outer:exit 2b-a37288e6f973f6bf481e157a23e987a980fba7a5-87e8bf4c253b33c5-01
2021-08-24T05:14:31.203Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:14:31.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-8df4c96b126436aebf8a754c884acee6b5901952-cb59cba1174a6c9b-01 outer:exit 2b-8df4c96b126436aebf8a754c884acee6b5901952-aac942def3655464-01
2021-08-24T05:14:31.206Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:14:31.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-39f2e7d9da67ed7bc3c65e62c784d62c6ee68df4-f8ad1b35c5400a0f-01 outer:exit 2b-39f2e7d9da67ed7bc3c65e62c784d62c6ee68df4-c03a12c416ad0daa-01
2021-08-24T05:14:31.208Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:14:31.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-59cd8cad0b309c44f596acaac6dfd3bb7c2f73c6-3329b4527111cd91-01 outer:exit 2b-59cd8cad0b309c44f596acaac6dfd3bb7c2f73c6-f53f0bae1b1ab118-01
2021-08-24T05:14:31.211Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:14:31.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eb734002e6b1e411136da517b33764157ac5b95-2fd44539d5d3d8fd-01 outer:exit 2b-7eb734002e6b1e411136da517b33764157ac5b95-b47a6d92872f7938-01
2021-08-24T05:14:31.213Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:14:31.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfafbb288cf832e4c2354eaba27c7706509546de-0599030611fdc9d9-01 outer:exit 2b-dfafbb288cf832e4c2354eaba27c7706509546de-98f78b23bdaf6894-01
2021-08-24T05:14:31.216Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:14:31.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-0447cc99625b18aedbb253e158f6a26b5c7c6358-36a5913653f7f022-01 outer:exit 2b-0447cc99625b18aedbb253e158f6a26b5c7c6358-877c9ab930d152bc-01
2021-08-24T05:14:31.218Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:14:31.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-b80471f2f46265e3f73e99a56e4a942122414632-7997c3f17c0c04ef-01 outer:exit 2b-b80471f2f46265e3f73e99a56e4a942122414632-f48c31a44460950f-01
2021-08-24T05:14:31.220Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:14:31.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a562c23a2876784991377231538d89e1cb2e1c8-355e1f1a2e576b71-01 outer:exit 2b-6a562c23a2876784991377231538d89e1cb2e1c8-7c2f613edae042ec-01
2021-08-24T05:14:31.222Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:14:31.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-a80c9be9e4b90aa1f9b29bb146c3f80b1b954a54-b2c150f1f7d90aeb-01 outer:exit 2b-a80c9be9e4b90aa1f9b29bb146c3f80b1b954a54-c394ce89ac330869-01
2021-08-24T05:14:31.225Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:14:31.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-b36af00520c8c369ce918336f964254ac96a05cf-96fbd65f9fdcd6ef-01 outer:exit 2b-b36af00520c8c369ce918336f964254ac96a05cf-81ffee5334c721e5-01
2021-08-24T05:14:31.228Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:14:31.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-97c20e17bf28b9044ce0bc354ffe5b40c8c6f01c-8acc27aa7efac204-01 outer:exit 2b-97c20e17bf28b9044ce0bc354ffe5b40c8c6f01c-4df4164097a2f50e-01
2021-08-24T05:14:31.231Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:14:31.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-a58350e4a32e990c86a47efad4eaef26b5f9cac7-978bfcbdc9bd15e3-01 outer:exit 2b-a58350e4a32e990c86a47efad4eaef26b5f9cac7-71112955657b907e-01
2021-08-24T05:14:31.233Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:14:31.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc80b97bf2508cd9bf38f0027d78454fb79b88fc-2039336e2febca72-01 outer:exit 2b-cc80b97bf2508cd9bf38f0027d78454fb79b88fc-3ed866aefd65babc-01
2021-08-24T05:14:31.242Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:14:31.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e55984a870dc6a18fd174fd92221eeeeb8fea12-3ad1bbd50dcb3707-01 outer:exit 2b-2e55984a870dc6a18fd174fd92221eeeeb8fea12-a5f713dd39d7b075-01
2021-08-24T05:14:31.246Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:14:31.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b559975c4c8e28333e4467115c1e4d17d360790-4f3d254971cb4b68-01 outer:exit 2b-0b559975c4c8e28333e4467115c1e4d17d360790-f566173a17f5318c-01
2021-08-24T05:14:31.253Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:14:31.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc00aeeda35f3006962037c64cdfebcf7dd98b38-9633cf82ec4a1863-01 outer:exit 2b-bc00aeeda35f3006962037c64cdfebcf7dd98b38-75db179a45e7a53c-01
2021-08-24T05:14:31.261Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:14:31.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-23e936b8abdfa859925da3adf5ce76f4d71542cc-d6d13103ff4dae8f-01 outer:exit 2b-23e936b8abdfa859925da3adf5ce76f4d71542cc-a8729be40cf14340-01
2021-08-24T05:14:31.263Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:14:31.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8dd1c4ba5b2dc2ee8e678b9af7fce4c75f2ba19-3a9d831371fb19e4-01 outer:exit 2b-c8dd1c4ba5b2dc2ee8e678b9af7fce4c75f2ba19-3e42a8aee11c943d-01
2021-08-24T05:14:31.266Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:14:31.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-0073b81783c27e582ab02f9d2c555bc3be31d912-2c658efb333642dc-01 outer:exit 2b-0073b81783c27e582ab02f9d2c555bc3be31d912-7bc7ed6ac5a34e68-01
2021-08-24T05:14:31.274Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:14:31.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ecf2177cb29c11ef835a39b6836f0fb4314e977-a3599fbef3aeb3eb-01 outer:exit 2b-9ecf2177cb29c11ef835a39b6836f0fb4314e977-9f18fbe0373559d7-01
2021-08-24T05:14:31.276Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:14:31.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-e52b094fb9ebfe84c6168e8421b0a46065224b9d-3c790d5ab4c8fbcd-01 outer:exit 2b-e52b094fb9ebfe84c6168e8421b0a46065224b9d-38c3d69c5e45985a-01
2021-08-24T05:14:31.278Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:14:31.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-11784950e21783a733d44f126de07df8770fc38d-840e45496160a7d1-01 outer:exit 2b-11784950e21783a733d44f126de07df8770fc38d-b344ff614b1cf47f-01
2021-08-24T05:14:31.281Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:14:31.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-e97b6aa77717af1673ca9421a0fa20b1ea5b2f14-44fa88d8efc3e380-01 outer:exit 2b-e97b6aa77717af1673ca9421a0fa20b1ea5b2f14-579a3a6b55fd2da8-01
2021-08-24T05:14:31.283Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:14:31.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-15076a5a2a9be7dd6cb806f9f9e1493707e973a3-294c2b8f7e92c12d-01 outer:exit 2b-15076a5a2a9be7dd6cb806f9f9e1493707e973a3-e4482f6f4ef7e21a-01
2021-08-24T05:14:31.285Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:14:31.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-22c92db8578dd691642663a183f223943645b124-f7ad65f3956264b9-01 outer:exit 2b-22c92db8578dd691642663a183f223943645b124-aa9b4846c19ea722-01
2021-08-24T05:14:31.296Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:14:31.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-33a91e264b7d839be1d56493af706ae20d14b10c-8e58c60a7e9753ea-01 outer:exit 2b-33a91e264b7d839be1d56493af706ae20d14b10c-098459818deed91b-01
2021-08-24T05:14:31.305Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:14:31.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-15586dbc677b414f3dc1d46147dd18045cfa84a2-d0e6908efef44282-01 outer:exit 2b-15586dbc677b414f3dc1d46147dd18045cfa84a2-69d26882a91c5b3a-01
2021-08-24T05:14:31.309Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:14:31.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-1afbbf12ec99a85768e15416b4f6aa49a4164912-d19f58b8e62ee2a4-01 outer:exit 2b-1afbbf12ec99a85768e15416b4f6aa49a4164912-bae4693ce440340b-01
2021-08-24T05:14:31.312Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:14:31.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-3777a8ee447c591783894a6ff9dcfd05f7d90779-60ee2c239b1f6175-01 outer:exit 2b-3777a8ee447c591783894a6ff9dcfd05f7d90779-0d5b4be988d2fbae-01
2021-08-24T05:14:31.315Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:14:31.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-279c120783d50cc32d804771b2aafdc415107bc6-abd43acadb91b097-01 outer:exit 2b-279c120783d50cc32d804771b2aafdc415107bc6-12ce009f9833ef2f-01
2021-08-24T05:14:31.344Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (333ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:37.565Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:37.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:37.565Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:37.566Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:37.632Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:37.679Z appoptics:patching patched crypto 
2021-08-24T05:14:37.702Z appoptics:patching patched https 
2021-08-24T05:14:37.703Z appoptics:patching patched http 
2021-08-24T05:14:37.751Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:37.751Z appoptics:patching patched fs 
2021-08-24T05:14:37.784Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v16.7.0)
2021-08-24T05:14:37.794Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2021-08-24T05:14:37.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-88125ef1cf3eae561861ca2667e3bd791867374a-ac498b34e3bb5db3-01 outer:exit 2b-88125ef1cf3eae561861ca2667e3bd791867374a-99593c0a713a53bf-01
2021-08-24T05:14:37.943Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:14:38.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-bafa542832ec78baf9e0500d17bde76a35e2328c-90f4cde6f4f94d95-01 outer:exit 2b-bafa542832ec78baf9e0500d17bde76a35e2328c-aae687ccf758bac6-01
2021-08-24T05:14:38.016Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:14:38.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-724150cc97a022bf815496dffa02fc816973c17d-fb2f59a2e9dfdad3-01 outer:exit 2b-724150cc97a022bf815496dffa02fc816973c17d-ae003065eee2c935-01
2021-08-24T05:14:38.020Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:14:38.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e90d77c79b7810cc9cb2440ff4c4acfd3c12061-ab46a1d739025628-01 outer:exit 2b-3e90d77c79b7810cc9cb2440ff4c4acfd3c12061-1347c8f2345ef3a7-01
2021-08-24T05:14:38.024Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:14:38.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9ea353801d6e15d7fb0758eb6fe6e567a97b057-e450113e48c9c189-01 outer:exit 2b-f9ea353801d6e15d7fb0758eb6fe6e567a97b057-a071be1a4a0fe972-01
2021-08-24T05:14:38.029Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:14:38.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4e889d3b3f5c3d4cb35a8a2eb56c63af07f92b6-7e4969042d3de4a4-01 outer:exit 2b-e4e889d3b3f5c3d4cb35a8a2eb56c63af07f92b6-de2a2053ebe2f6cc-01
2021-08-24T05:14:38.033Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:14:38.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8c2e9be2584dbda97f7227a00836ad3054dd62e-f7118cdf2d2670d3-01 outer:exit 2b-b8c2e9be2584dbda97f7227a00836ad3054dd62e-8c17c5b77eaf811a-01
2021-08-24T05:14:38.036Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:14:38.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb5c24ffb534859b74ebaad3421235c83d6f7385-e7733441fda5a1b6-01 outer:exit 2b-eb5c24ffb534859b74ebaad3421235c83d6f7385-62d0da04765cbb8f-01
2021-08-24T05:14:38.039Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:14:38.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b1719a4624a6e95f1ed41395dbc3adb97d79b01-2a81a341086386bc-01 outer:exit 2b-9b1719a4624a6e95f1ed41395dbc3adb97d79b01-c6001a969ea6cd8c-01
2021-08-24T05:14:38.041Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:14:38.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-e303e841dc61c92b55046fe08610b2370ce438dd-ee7929953b923e08-01 outer:exit 2b-e303e841dc61c92b55046fe08610b2370ce438dd-47bcac8169a5a29a-01
2021-08-24T05:14:38.045Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:14:38.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-3986abd1bc21ecdc658e1a23ad20ea3e3280945d-cee471ee022d73b0-01 outer:exit 2b-3986abd1bc21ecdc658e1a23ad20ea3e3280945d-d74bfa2f9ca18bdb-01
2021-08-24T05:14:38.050Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:14:38.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-65cf6eeb0eb47a12320393152cff4348fe2e44c6-655bd87d52fedaee-01 outer:exit 2b-65cf6eeb0eb47a12320393152cff4348fe2e44c6-1b845b5cc24f282d-01
2021-08-24T05:14:38.057Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:14:38.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0a88ccb63b4baf6d1fa4ee013110139e36e977c-59b02d6feb899f31-01 outer:exit 2b-b0a88ccb63b4baf6d1fa4ee013110139e36e977c-10cc9ac46066c154-01
2021-08-24T05:14:38.074Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:14:38.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-badbfd41ab97bd64d263b632ce1b615d5fe3c8bf-ba3330f25ff5f805-01 outer:exit 2b-badbfd41ab97bd64d263b632ce1b615d5fe3c8bf-f23971f14dad6c32-01
2021-08-24T05:14:38.113Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:14:38.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a512f2a27d2c499cb594bf7acbdbae0152e8faa-50161c1ba8c6a692-01 outer:exit 2b-0a512f2a27d2c499cb594bf7acbdbae0152e8faa-7f9056c8af55c910-01
2021-08-24T05:14:38.116Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:14:38.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-df59c067bdf2420c592abbb1f4e690b3d13dc89e-ba5b6603e1398d63-01 outer:exit 2b-df59c067bdf2420c592abbb1f4e690b3d13dc89e-197ad08d8da4a2d3-01
2021-08-24T05:14:38.119Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:14:38.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-c021fb68d1ad5ff942adb840411f85e1835aace8-027b9f2968993a96-01 outer:exit 2b-c021fb68d1ad5ff942adb840411f85e1835aace8-250fd1bde56cec32-01
2021-08-24T05:14:38.122Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:14:38.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2d60f19f6d56536676d63c018f3df6461adcc92-27f28576486b3804-01 outer:exit 2b-e2d60f19f6d56536676d63c018f3df6461adcc92-5197802b40b41bc5-01
2021-08-24T05:14:38.124Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:14:38.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0c2435915ab0df7a82a9d25a23a1e25153c8764-b1b07b2b21dfe540-01 outer:exit 2b-c0c2435915ab0df7a82a9d25a23a1e25153c8764-6fd56808285d966b-01
2021-08-24T05:14:38.127Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:14:38.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-223340d882c2abc779beca7b4e54f18222377448-8cef98982ec7c60d-01 outer:exit 2b-223340d882c2abc779beca7b4e54f18222377448-c90361825a626f31-01
2021-08-24T05:14:38.129Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:14:38.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a607eaa07b54eea09bc4d3c2313045144eb47d5-a1cde0f9bd9176a6-01 outer:exit 2b-6a607eaa07b54eea09bc4d3c2313045144eb47d5-32caed0c5a60c120-01
2021-08-24T05:14:38.131Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:14:38.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-6097df6a132a38dd17e4f5ce67eda3bc74f48721-e87a22a11878bad1-01 outer:exit 2b-6097df6a132a38dd17e4f5ce67eda3bc74f48721-220f56b14dac1063-01
2021-08-24T05:14:38.134Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:14:38.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-86d584672a2e5d22359e8121efcd5a277ce8ba3f-30b7f5788469c948-01 outer:exit 2b-86d584672a2e5d22359e8121efcd5a277ce8ba3f-5d986d89ad6311db-01
2021-08-24T05:14:38.136Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:14:38.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-f837ea743da6b049490537c48e2f8f90b4f02aaa-b4f18819a51f5716-01 outer:exit 2b-f837ea743da6b049490537c48e2f8f90b4f02aaa-564b906e204ee7ae-01
2021-08-24T05:14:38.139Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:14:38.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0569f21a15981dc5a87fe722c82b144f5618fdd-3c240d55a55206aa-01 outer:exit 2b-c0569f21a15981dc5a87fe722c82b144f5618fdd-fbcfe44204744ad3-01
2021-08-24T05:14:38.142Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:14:38.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cbb7c92d6ef7cb010c61a62542a91d1d2e008ab-46fe0deb971a8e59-01 outer:exit 2b-4cbb7c92d6ef7cb010c61a62542a91d1d2e008ab-0124feea7524dfcd-01
2021-08-24T05:14:38.144Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:14:38.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bd27caede65c49eb6cf6e652b20d5dcc402addc-06a81e0b1c69dbdd-01 outer:exit 2b-8bd27caede65c49eb6cf6e652b20d5dcc402addc-2a56c4e468f0fa0e-01
2021-08-24T05:14:38.153Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:14:38.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbec1283e701f0ec25f111bfe18ff237fc509302-f839107c04227a03-01 outer:exit 2b-fbec1283e701f0ec25f111bfe18ff237fc509302-e1063743ce2090ca-01
2021-08-24T05:14:38.157Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:14:38.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-41ed74ee8eb8b3da858fac89b96fa7b59b9037fc-e88bce81faa323c8-01 outer:exit 2b-41ed74ee8eb8b3da858fac89b96fa7b59b9037fc-34494dc5cc60626f-01
2021-08-24T05:14:38.167Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:14:38.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-29d69761d2f7610b5c6084b16a2483be113fcf3a-d332a4aaa088c5b3-01 outer:exit 2b-29d69761d2f7610b5c6084b16a2483be113fcf3a-df7bcc3a15442689-01
2021-08-24T05:14:38.173Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:14:38.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-f012788594eac23a0b073ed9dc456603198e2913-172288b7160dec6e-01 outer:exit 2b-f012788594eac23a0b073ed9dc456603198e2913-5864fc61094394a4-01
2021-08-24T05:14:38.176Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:14:38.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-3515b9b72c3df7f42121d5fca439af4904394350-755223321d98f42f-01 outer:exit 2b-3515b9b72c3df7f42121d5fca439af4904394350-ff413f083c822f65-01
2021-08-24T05:14:38.180Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:14:38.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-31454a4f9248912daf5c78e0a6343458e62124fd-6ef5ed313d1abc5b-01 outer:exit 2b-31454a4f9248912daf5c78e0a6343458e62124fd-34e2eca34eddcb74-01
2021-08-24T05:14:38.188Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:14:38.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-43b4b24e53dac712eaac9477321058ded610be2c-addbdf016fded789-01 outer:exit 2b-43b4b24e53dac712eaac9477321058ded610be2c-1db1c8c054b6ea1f-01
2021-08-24T05:14:38.191Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:14:38.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e07cc12f83878e6917bc051ee6915b58988df01-445e550250a0ca2e-01 outer:exit 2b-0e07cc12f83878e6917bc051ee6915b58988df01-fa2da73cb9440d58-01
2021-08-24T05:14:38.193Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:14:38.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a237b0ab5ea47a9e3cadcb506c9591839b258b2-3dfe52e7be457fc6-01 outer:exit 2b-6a237b0ab5ea47a9e3cadcb506c9591839b258b2-f0a6048e8dc83b0e-01
2021-08-24T05:14:38.195Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:14:38.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b62d052bb4c8e74c23f3ea7fb933943fda46aeb-77011bbc1a1e36b5-01 outer:exit 2b-4b62d052bb4c8e74c23f3ea7fb933943fda46aeb-bdb64275f6b44fef-01
2021-08-24T05:14:38.197Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:14:38.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f8ddd191cb396228c555e43b47e18812cb5e3af-37a98d3c44a317fe-01 outer:exit 2b-5f8ddd191cb396228c555e43b47e18812cb5e3af-c2dfe475d8a616d1-01
2021-08-24T05:14:38.199Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:14:38.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-06f23900dddd700babd5e809218012470a9014c5-c325cc0716da74dd-01 outer:exit 2b-06f23900dddd700babd5e809218012470a9014c5-25f9903559ecbb46-01
2021-08-24T05:14:38.209Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:14:38.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-b91a3162d4a530ad3576293117a688ce612d6c42-a84fb27849968179-01 outer:exit 2b-b91a3162d4a530ad3576293117a688ce612d6c42-603b4613c06821ff-01
2021-08-24T05:14:38.221Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:14:38.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-40a8345333ee588e00500df1dbb3f84009456af9-c04003da78f837c5-01 outer:exit 2b-40a8345333ee588e00500df1dbb3f84009456af9-6e2a0e47dbe66f73-01
2021-08-24T05:14:38.224Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:14:38.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-a90e0cf3984607b833a0870f89b450dbccc01c3c-2c11f0cdd0b8094a-01 outer:exit 2b-a90e0cf3984607b833a0870f89b450dbccc01c3c-7076f1ba899faa95-01
2021-08-24T05:14:38.227Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:14:38.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-b836c5bcd4b1830dacc51c829a244a93728de9dc-5ea74e0c59489602-01 outer:exit 2b-b836c5bcd4b1830dacc51c829a244a93728de9dc-0cd7579c41628743-01
2021-08-24T05:14:38.229Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:14:38.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-30e48d22d2b4f636f5720bbb8efdefbec3fabc5d-857650856fbb82dd-01 outer:exit 2b-30e48d22d2b4f636f5720bbb8efdefbec3fabc5d-ee1544358ed6b3db-01
2021-08-24T05:14:38.261Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (358ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:43.999Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:44.000Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:44.000Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:44.001Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:44.068Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:44.115Z appoptics:patching patched crypto 
2021-08-24T05:14:44.138Z appoptics:patching patched https 
2021-08-24T05:14:44.139Z appoptics:patching patched http 
2021-08-24T05:14:44.187Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:44.187Z appoptics:patching patched fs 
2021-08-24T05:14:44.222Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v16.7.0)
2021-08-24T05:14:44.231Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2021-08-24T05:14:44.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cf86dd2ee000721ae67be0724a654debebe4c14-76c9ce588ff25bdf-01 outer:exit 2b-7cf86dd2ee000721ae67be0724a654debebe4c14-b9c8aab5776af22a-01
2021-08-24T05:14:44.384Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:14:44.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-81172ca4dba6a1bae1e83fef0f49834d21fd9bc2-87cd97645ea63fc2-01 outer:exit 2b-81172ca4dba6a1bae1e83fef0f49834d21fd9bc2-233d1f5c4593eb22-01
2021-08-24T05:14:44.415Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:14:44.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-f536684a8234e294d10ddc8ef213ddebcaaf89c4-a7340aba94cb773a-01 outer:exit 2b-f536684a8234e294d10ddc8ef213ddebcaaf89c4-b4dec14dc0d26181-01
2021-08-24T05:14:44.418Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:14:44.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-9029b38fb9fa3c70cff5ce6ee2bd605fa356e890-f9b01a2c49ad0706-01 outer:exit 2b-9029b38fb9fa3c70cff5ce6ee2bd605fa356e890-7cff4b63a015a867-01
2021-08-24T05:14:44.421Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:14:44.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-922114b5eee01b4ddafb7e8a892c35f6d6f3a4dc-dfce0cb11779ff61-01 outer:exit 2b-922114b5eee01b4ddafb7e8a892c35f6d6f3a4dc-4ab6fffd5cb34004-01
2021-08-24T05:14:44.426Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:14:44.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-3315dc0d88b0a3eccab66272fc61f4b941daa131-e2ebca1490cb97d3-01 outer:exit 2b-3315dc0d88b0a3eccab66272fc61f4b941daa131-bf6fabe282d18eb9-01
2021-08-24T05:14:44.430Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:14:44.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-37fc91a3029ed87abd3972c7bfe1d48e3f4d0d7a-35c968dd5be25c7e-01 outer:exit 2b-37fc91a3029ed87abd3972c7bfe1d48e3f4d0d7a-59520f1a2c5a5169-01
2021-08-24T05:14:44.433Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:14:44.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a69d72b91b9e256e9978c8a8e29fbe929d4c195-ba3c4daff16408fe-01 outer:exit 2b-7a69d72b91b9e256e9978c8a8e29fbe929d4c195-38409cbe8c2e5621-01
2021-08-24T05:14:44.435Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:14:44.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9562a08053dc3b70f9accc44f4b30b6eda1eb0f-a062644dab3f88f5-01 outer:exit 2b-d9562a08053dc3b70f9accc44f4b30b6eda1eb0f-73af3ff246faf86a-01
2021-08-24T05:14:44.438Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:14:44.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-28c1d984ffdf19854a6e2fd8d2ad1633970a8845-b1c16e5d88292ce5-01 outer:exit 2b-28c1d984ffdf19854a6e2fd8d2ad1633970a8845-199ac9adc5c26ebb-01
2021-08-24T05:14:44.442Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:14:44.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-6126d205aed01fffebc76822c1c360b99aace5c4-ec9b5d8422a06147-01 outer:exit 2b-6126d205aed01fffebc76822c1c360b99aace5c4-12367707a4011479-01
2021-08-24T05:14:44.446Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:14:44.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9364c2ed6b1b68fd681a9e95f3779a435be995a-c7781cc39318a5e4-01 outer:exit 2b-a9364c2ed6b1b68fd681a9e95f3779a435be995a-3606a17c6309f6b6-01
2021-08-24T05:14:44.453Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:14:44.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce982cdae2647bb0bec2f079f26fde347fa9b422-7ddbecd6a0a039c3-01 outer:exit 2b-ce982cdae2647bb0bec2f079f26fde347fa9b422-b217ff23a5f559a7-01
2021-08-24T05:14:44.471Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:14:44.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd6f98058bad3046f0b0499536f4e668798f1af7-2f6baddfbe3e6a9e-01 outer:exit 2b-bd6f98058bad3046f0b0499536f4e668798f1af7-61e48b828ab9a2d7-01
2021-08-24T05:14:44.516Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:14:44.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a7ee9799b8369465407fdf7ab2db7639cba65b7-8a057ef30759ff38-01 outer:exit 2b-9a7ee9799b8369465407fdf7ab2db7639cba65b7-5f9f69df0b88bc5f-01
2021-08-24T05:14:44.519Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:14:44.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-f56a43f496c0f2f7de13cb455bd7813673d3ed17-2c976a2b2aab97ad-01 outer:exit 2b-f56a43f496c0f2f7de13cb455bd7813673d3ed17-c612fce23ee7458a-01
2021-08-24T05:14:44.522Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:14:44.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e11d5a10c8cc4b8ee04d22402111eec10711886-dd0bcd861e850588-01 outer:exit 2b-6e11d5a10c8cc4b8ee04d22402111eec10711886-c6fe20c82101ba27-01
2021-08-24T05:14:44.525Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:14:44.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-47d2d395051e0a938ee100177a8642afc0eb6b36-083d42f9f400c3bb-01 outer:exit 2b-47d2d395051e0a938ee100177a8642afc0eb6b36-a85542c7bf66b5b7-01
2021-08-24T05:14:44.527Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:14:44.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ed52039ed7940efd82b8c34921e18e4d022d4a0-cbae51a0924dbe38-01 outer:exit 2b-7ed52039ed7940efd82b8c34921e18e4d022d4a0-4c16e4fca5bf0afd-01
2021-08-24T05:14:44.529Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:14:44.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-d80567ce8e5e1f1f9526e54af39221ad63880b83-24b055acde82e447-01 outer:exit 2b-d80567ce8e5e1f1f9526e54af39221ad63880b83-dbdac4b4e2070f79-01
2021-08-24T05:14:44.532Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:14:44.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-318be984a3d3cf9429af75bed9bd21cad10694de-1145c4b62385e84f-01 outer:exit 2b-318be984a3d3cf9429af75bed9bd21cad10694de-2017e4df84f0c24d-01
2021-08-24T05:14:44.534Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:14:44.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-b94621d22b114c777f32a6931c9a989af7e41a58-68a779b97d331276-01 outer:exit 2b-b94621d22b114c777f32a6931c9a989af7e41a58-81561956987ca61a-01
2021-08-24T05:14:44.537Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:14:44.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a207cb648ab717a95fc065b73c01c48b3b07c37-478293368e86afbe-01 outer:exit 2b-2a207cb648ab717a95fc065b73c01c48b3b07c37-7d1a3cdd5adf5d82-01
2021-08-24T05:14:44.540Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:14:44.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-af5e5640dac3d76d41ecfbec781a595a909e6393-f0cad7d134dd5efc-01 outer:exit 2b-af5e5640dac3d76d41ecfbec781a595a909e6393-4c96f1fb331ce47a-01
2021-08-24T05:14:44.543Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:14:44.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-4292588d3e3d5de1c7a161816094aae18764d593-d084c3abccd21600-01 outer:exit 2b-4292588d3e3d5de1c7a161816094aae18764d593-e2153668f5142584-01
2021-08-24T05:14:44.545Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:14:44.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fc5b8dddda306561d614d9c532812f2e3470fbb-25e2aec5f7063bc8-01 outer:exit 2b-5fc5b8dddda306561d614d9c532812f2e3470fbb-831581e27bbfd267-01
2021-08-24T05:14:44.548Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:14:44.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8b333081eb4b8420d87d8c96d80b699b7abba76-b63cfc25c100e851-01 outer:exit 2b-d8b333081eb4b8420d87d8c96d80b699b7abba76-215003f4cb857206-01
2021-08-24T05:14:44.556Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:14:44.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-8785f9aca2ac48504933e43800636cf629999aa6-ce2fad4ed4bdb573-01 outer:exit 2b-8785f9aca2ac48504933e43800636cf629999aa6-07e621024c04b42c-01
2021-08-24T05:14:44.561Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:14:44.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfa7a2199e02e6e604a9601f489fc0cb1302e425-4c8e1873e449bd16-01 outer:exit 2b-bfa7a2199e02e6e604a9601f489fc0cb1302e425-5e372d09b2f57cb3-01
2021-08-24T05:14:44.570Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:14:44.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-f94aca16d0daa7fdc0d0f9bc5c92c922a82bdb82-161646950f79a7ff-01 outer:exit 2b-f94aca16d0daa7fdc0d0f9bc5c92c922a82bdb82-a86d0a4ab53fcf8f-01
2021-08-24T05:14:44.577Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:14:44.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-560acb28d91731466f67e01fe5e97840b03a183a-2dc4d9d4a4dcc9e6-01 outer:exit 2b-560acb28d91731466f67e01fe5e97840b03a183a-21d6f076186b0774-01
2021-08-24T05:14:44.580Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:14:44.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcb7797b075a8f42ca6fc3964f685802fb83ac0b-6f1138d3fe1b8519-01 outer:exit 2b-dcb7797b075a8f42ca6fc3964f685802fb83ac0b-7f402b7f24426a05-01
2021-08-24T05:14:44.583Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:14:44.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-0605e97f1fba704c69562c7b4ef18d48c92211e0-37d82bb67870b543-01 outer:exit 2b-0605e97f1fba704c69562c7b4ef18d48c92211e0-025df5c016abc3d5-01
2021-08-24T05:14:44.590Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:14:44.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-93dd6d301a6472d7bcb61f05a69d01b1b095b5ff-0b898fd095cfcd55-01 outer:exit 2b-93dd6d301a6472d7bcb61f05a69d01b1b095b5ff-2f98ad6ae77b25ae-01
2021-08-24T05:14:44.592Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:14:44.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-eea3e5e3ad9a796181f8d3a84c367c8c5a454351-40337d1ee44c474d-01 outer:exit 2b-eea3e5e3ad9a796181f8d3a84c367c8c5a454351-4155f51e08745ffe-01
2021-08-24T05:14:44.594Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:14:44.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-1022a7c0c594c5592f105c8b0a2810d4ddbe8a99-6a087095a97bbedf-01 outer:exit 2b-1022a7c0c594c5592f105c8b0a2810d4ddbe8a99-701b813542bd7ce2-01
2021-08-24T05:14:44.596Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:14:44.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4e5edf3a3c743705d1ed07a56eb181e18868274-8cd9cde5f22ef9c2-01 outer:exit 2b-e4e5edf3a3c743705d1ed07a56eb181e18868274-6ad4a020d5fa8c4f-01
2021-08-24T05:14:44.598Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:14:44.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4863beec73fdbc2cc58ff4433bb5120eb9429a4-02ebbd90513e21a3-01 outer:exit 2b-c4863beec73fdbc2cc58ff4433bb5120eb9429a4-93c40533c45078d7-01
2021-08-24T05:14:44.600Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:14:44.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5c5e32d58b5ce139cd72755bda16a608d4dd251-0553a5edc1d290f6-01 outer:exit 2b-c5c5e32d58b5ce139cd72755bda16a608d4dd251-4442da51db22bae0-01
2021-08-24T05:14:44.611Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:14:44.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-98861f6fd08a9d60d5cdc3e76aa20c020c1fae5b-9768b669aaf12e91-01 outer:exit 2b-98861f6fd08a9d60d5cdc3e76aa20c020c1fae5b-5e85da428e2ecf89-01
2021-08-24T05:14:44.621Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:14:44.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-33fa2da204cd73ac38ffa6a954b89f074bbf1a43-acc3da3683abb62f-01 outer:exit 2b-33fa2da204cd73ac38ffa6a954b89f074bbf1a43-c42e104507e8f07e-01
2021-08-24T05:14:44.624Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:14:44.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-827e6626e2964f5a6369645d2869391e868bf258-37adce067d0ec289-01 outer:exit 2b-827e6626e2964f5a6369645d2869391e868bf258-db1eb0b0766f9909-01
2021-08-24T05:14:44.627Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:14:44.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-c829b021cf97fd947efb3680343f7a7dc896f40f-da49cc8e7f013a6e-01 outer:exit 2b-c829b021cf97fd947efb3680343f7a7dc896f40f-1ae943b9e936320a-01
2021-08-24T05:14:44.629Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:14:44.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-b05ef4630c35eb199656210ec59fe6e631cce47c-fe9a38be8140f516-01 outer:exit 2b-b05ef4630c35eb199656210ec59fe6e631cce47c-30271ae838a2cdbf-01
2021-08-24T05:14:44.659Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (316ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:50.436Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:50.437Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:50.437Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:50.438Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:50.504Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:50.553Z appoptics:patching patched crypto 
2021-08-24T05:14:50.591Z appoptics:patching patched https 
2021-08-24T05:14:50.592Z appoptics:patching patched http 
2021-08-24T05:14:50.645Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:50.646Z appoptics:patching patched fs 
2021-08-24T05:14:50.680Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v16.7.0)
2021-08-24T05:14:50.687Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2021-08-24T05:14:50.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9de356ea735d42efe2b7d0e7f345da192653059-de9f852db16a6e77-01 outer:exit 2b-c9de356ea735d42efe2b7d0e7f345da192653059-b54addba3230b71f-01
2021-08-24T05:14:50.832Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:14:50.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a8882c93e8ee38570b4d09371536aaf50c03bbc-a9815fa8e418624b-01 outer:exit 2b-1a8882c93e8ee38570b4d09371536aaf50c03bbc-e1788e21e5f23d1d-01
2021-08-24T05:14:50.920Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:14:50.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7f362f8e01a1a2b26b5cf7223f6c2715155a212-9f34536b3f058100-01 outer:exit 2b-f7f362f8e01a1a2b26b5cf7223f6c2715155a212-f1a26538a4699785-01
2021-08-24T05:14:50.925Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:14:50.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-35f39f39280752d1ac391f8b17332b6804eb0d42-5ac63d9c30508e35-01 outer:exit 2b-35f39f39280752d1ac391f8b17332b6804eb0d42-8c2311cf1d02d4be-01
2021-08-24T05:14:50.928Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:14:50.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-8807156edccf31b584206403ce28a90618d71d79-cd1028a37e452afa-01 outer:exit 2b-8807156edccf31b584206403ce28a90618d71d79-abacbacf046789f1-01
2021-08-24T05:14:50.934Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:14:50.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-457edf32e690e0895f04329558eac3f05cbce771-a404c51af44bdf57-01 outer:exit 2b-457edf32e690e0895f04329558eac3f05cbce771-4d34ec30ed70bd48-01
2021-08-24T05:14:50.937Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:14:50.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-33c89bb91780b00c671d0602f5e80f2d6eb98680-4f0d55e1d7df6fd4-01 outer:exit 2b-33c89bb91780b00c671d0602f5e80f2d6eb98680-6aa95f476ca359f1-01
2021-08-24T05:14:50.940Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:14:50.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-e26010b27688eca0684e9a9723594b9c7e77d816-9b6e095d51444cb8-01 outer:exit 2b-e26010b27688eca0684e9a9723594b9c7e77d816-4e7d2efa76b8e221-01
2021-08-24T05:14:50.943Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:14:50.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-02201cfd5aa5e85555ff3bf29f59a7c98b4269a2-5b1664856926def4-01 outer:exit 2b-02201cfd5aa5e85555ff3bf29f59a7c98b4269a2-5f5bee60f938ea9c-01
2021-08-24T05:14:50.946Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:14:50.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff0689d5434cc46575c6bd068afa652988b69177-5ee3f220db1d9739-01 outer:exit 2b-ff0689d5434cc46575c6bd068afa652988b69177-2dec7d70bc2e5208-01
2021-08-24T05:14:50.949Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:14:50.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-85c1751226e9288bf0646464fec66ef6c1d3afe7-7168325454ec4eda-01 outer:exit 2b-85c1751226e9288bf0646464fec66ef6c1d3afe7-5f9c2b40381bff77-01
2021-08-24T05:14:50.953Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:14:50.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-20ddcdc6b9d034b82bfc9ec2a365b0fea5025b58-e7a070b922c0155e-01 outer:exit 2b-20ddcdc6b9d034b82bfc9ec2a365b0fea5025b58-6ff0b390ab848200-01
2021-08-24T05:14:50.960Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:14:50.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0b8b20e9b0953b5f9f5c6658133b7b2d9ea0eae-f4c8bf816315875e-01 outer:exit 2b-b0b8b20e9b0953b5f9f5c6658133b7b2d9ea0eae-e561d2259064d864-01
2021-08-24T05:14:50.977Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:14:51.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-45ae87ef95637c30a03f50e876fe0dcede914e92-b652888e56fd3c1b-01 outer:exit 2b-45ae87ef95637c30a03f50e876fe0dcede914e92-f8e125de3ae77505-01
2021-08-24T05:14:51.017Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:14:51.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9a34eb786224ea85ebb1e728b7aef3c7888661c-7a0c7b82a5675224-01 outer:exit 2b-d9a34eb786224ea85ebb1e728b7aef3c7888661c-3622bb4942096c49-01
2021-08-24T05:14:51.020Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:14:51.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f4106893c93fb97198ef2b99f34efeaffe061c6-25eaa1e999b48896-01 outer:exit 2b-6f4106893c93fb97198ef2b99f34efeaffe061c6-76463707bf9f1252-01
2021-08-24T05:14:51.023Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:14:51.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-18d1f8733680b663ba58800d9d77cb8ebd53cb6c-9521f0bfedbfa61f-01 outer:exit 2b-18d1f8733680b663ba58800d9d77cb8ebd53cb6c-b0d64f38160326d3-01
2021-08-24T05:14:51.026Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:14:51.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7764259837eb06906680145fef08b1373f7bd9b-1b2e9d0a8a1ef5a4-01 outer:exit 2b-c7764259837eb06906680145fef08b1373f7bd9b-163952f293705212-01
2021-08-24T05:14:51.028Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:14:51.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-82e6ee11ca3889c7caac7a02dadbe1ddeb58cb3e-d55fb4c9fad8c70f-01 outer:exit 2b-82e6ee11ca3889c7caac7a02dadbe1ddeb58cb3e-19a33704e2007da3-01
2021-08-24T05:14:51.031Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:14:51.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a4c454ff79c133de937eb70c04b280824bac8df-489e549796b26526-01 outer:exit 2b-1a4c454ff79c133de937eb70c04b280824bac8df-d7b253abe0fc8c48-01
2021-08-24T05:14:51.033Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:14:51.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-06803d270bb69b44cdcef1b7400d8fcf1f546f9c-f17bc8cb2150b315-01 outer:exit 2b-06803d270bb69b44cdcef1b7400d8fcf1f546f9c-4dc30eec2d538549-01
2021-08-24T05:14:51.035Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:14:51.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-1912882320353d88ab928a52e6afe40dcb68cb2d-6538205425ef19f7-01 outer:exit 2b-1912882320353d88ab928a52e6afe40dcb68cb2d-f3c40aa01804ea04-01
2021-08-24T05:14:51.037Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:14:51.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-894ab066d0db091afe35ddce4c14c7f94356eaff-571341619a36f119-01 outer:exit 2b-894ab066d0db091afe35ddce4c14c7f94356eaff-7de7a4cc98226241-01
2021-08-24T05:14:51.041Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:14:51.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-571b332d289529f03bbae60a8f3b50f95671cbb5-ae22b26143f39550-01 outer:exit 2b-571b332d289529f03bbae60a8f3b50f95671cbb5-0ecf07b7f407bf7e-01
2021-08-24T05:14:51.044Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:14:51.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c79faeafdfb18ed71dfa9fb2b1f8213ea1c885e-23a24b03dddaa14b-01 outer:exit 2b-6c79faeafdfb18ed71dfa9fb2b1f8213ea1c885e-9d78b497fed598d9-01
2021-08-24T05:14:51.046Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:14:51.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab95cacc521a48b1c1e2e85c92c096ab609b3fdf-2e9506b5d7efef85-01 outer:exit 2b-ab95cacc521a48b1c1e2e85c92c096ab609b3fdf-750c7019cf453227-01
2021-08-24T05:14:51.049Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:14:51.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa16c80104b2f998c726b7969e4895ce9de65927-4a52a74e157872a5-01 outer:exit 2b-fa16c80104b2f998c726b7969e4895ce9de65927-ce78b182c31f9d89-01
2021-08-24T05:14:51.058Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:14:51.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-edb136a8ffcce83461bc11fa1d40deaecdc64ecf-0ff61e772540213b-01 outer:exit 2b-edb136a8ffcce83461bc11fa1d40deaecdc64ecf-5c880492252c0fb9-01
2021-08-24T05:14:51.063Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:14:51.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-b605f9dcff60c22514e0568f2a457f1d7a1f2bab-bcf8d9841eef4931-01 outer:exit 2b-b605f9dcff60c22514e0568f2a457f1d7a1f2bab-e039649da5c27a88-01
2021-08-24T05:14:51.073Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:14:51.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-79fa6bcb0268588f83f810ee027cb42af351a574-89e3e45a52d7e440-01 outer:exit 2b-79fa6bcb0268588f83f810ee027cb42af351a574-dab95e265932092d-01
2021-08-24T05:14:51.080Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:14:51.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c09925c62bcbbad742f7127c55d36dedc9d2db6-cec9d1be7e2b5b37-01 outer:exit 2b-9c09925c62bcbbad742f7127c55d36dedc9d2db6-757006287b22026c-01
2021-08-24T05:14:51.083Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:14:51.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-a36cb2757c1819dc3e0a86aae6dc63f0942f877d-3eb87f276a29a748-01 outer:exit 2b-a36cb2757c1819dc3e0a86aae6dc63f0942f877d-f9a998e12f300ef9-01
2021-08-24T05:14:51.087Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:14:51.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-edbe3f355f810ed795b312d89f89c27bfa7b21f4-6682595ebaec89a0-01 outer:exit 2b-edbe3f355f810ed795b312d89f89c27bfa7b21f4-0bbd35b531f8e2e3-01
2021-08-24T05:14:51.094Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:14:51.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c187c18c441c337d57e424e52346733575bac07-eb213e06bc692192-01 outer:exit 2b-2c187c18c441c337d57e424e52346733575bac07-5145b824783ce5d0-01
2021-08-24T05:14:51.096Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:14:51.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f8b737589c3f319c902d90645ebdd938efcce3a-3d257658aeeaa3da-01 outer:exit 2b-0f8b737589c3f319c902d90645ebdd938efcce3a-9a8a220c179007a9-01
2021-08-24T05:14:51.098Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:14:51.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fd201bec68c57f3a347c1016b39e38135ace406-7573a36e53a7f3f8-01 outer:exit 2b-6fd201bec68c57f3a347c1016b39e38135ace406-ac170ea39d52279a-01
2021-08-24T05:14:51.101Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:14:51.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-54dd28e2e9b03a73ae43537d50deab507919d51e-2250de4ff09f823a-01 outer:exit 2b-54dd28e2e9b03a73ae43537d50deab507919d51e-2456b95d41fc985f-01
2021-08-24T05:14:51.103Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:14:51.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-10d6d2f21dcdb6602ee86e7cbadcabb6dbcc8ec6-da6145ceea01cef9-01 outer:exit 2b-10d6d2f21dcdb6602ee86e7cbadcabb6dbcc8ec6-57a42333afc5afbc-01
2021-08-24T05:14:51.105Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:14:51.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-6344f414736794956bf9f45788474ceee527f803-45e6060d655be8b9-01 outer:exit 2b-6344f414736794956bf9f45788474ceee527f803-e5c57c48c5246636-01
2021-08-24T05:14:51.117Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:14:51.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-b75c21ed4b66424fbedb33bd0d139099d9608d6a-b67c4f1765f21d33-01 outer:exit 2b-b75c21ed4b66424fbedb33bd0d139099d9608d6a-b77093dd578a283c-01
2021-08-24T05:14:51.127Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:14:51.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e7b0050b0a0aa472ffb8deba1b1bf14f8eafc33-c7a9399dd816f00b-01 outer:exit 2b-6e7b0050b0a0aa472ffb8deba1b1bf14f8eafc33-cf36177a3522b754-01
2021-08-24T05:14:51.130Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:14:51.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-90a6aa10fa531dcad8fba1eceac660e15fa33e6c-cf8e380852e9c686-01 outer:exit 2b-90a6aa10fa531dcad8fba1eceac660e15fa33e6c-4853d0de6cb24ade-01
2021-08-24T05:14:51.133Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:14:51.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-031db6d4ad384cdb2d07e41d135a02429a908765-2de316959b999774-01 outer:exit 2b-031db6d4ad384cdb2d07e41d135a02429a908765-8bd01aadaacf87c0-01
2021-08-24T05:14:51.136Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:14:51.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-28a87691eb9c67a8bda77605bbced660027b204f-a7d094b2c2d4dbcf-01 outer:exit 2b-28a87691eb9c67a8bda77605bbced660027b204f-1db24407e67c14d5-01
2021-08-24T05:14:51.167Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (374ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:14:56.802Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:14:56.803Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:14:56.803Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:14:56.804Z appoptics:debug using context provider: ace-context
2021-08-24T05:14:56.869Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:14:56.916Z appoptics:patching patched crypto 
2021-08-24T05:14:56.939Z appoptics:patching patched https 
2021-08-24T05:14:56.939Z appoptics:patching patched http 
2021-08-24T05:14:56.986Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:14:56.987Z appoptics:patching patched fs 
2021-08-24T05:14:57.020Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v16.7.0)
2021-08-24T05:14:57.028Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2021-08-24T05:14:57.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dedadbddd2cf6bed1879b40d37365b23e00d272-eb98cb144f974bf4-01 outer:exit 2b-4dedadbddd2cf6bed1879b40d37365b23e00d272-3a2c9f6314214e90-01
2021-08-24T05:14:57.177Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:14:57.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-0461c142e9b6cd630094d53088d3d5f948f9aff7-a50d9f349f1cca49-01 outer:exit 2b-0461c142e9b6cd630094d53088d3d5f948f9aff7-fb0a2c7fcba1edde-01
2021-08-24T05:14:57.214Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:14:57.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-200438d9e912e7b436db5da8ec3d35c969cfdf58-0c45895a82c3799b-01 outer:exit 2b-200438d9e912e7b436db5da8ec3d35c969cfdf58-d10c982781690be8-01
2021-08-24T05:14:57.217Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:14:57.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-7372d49d68e3ef7b48215ef831466f4fa4c6fee2-a61894985f542fe9-01 outer:exit 2b-7372d49d68e3ef7b48215ef831466f4fa4c6fee2-6b200441c15aab3b-01
2021-08-24T05:14:57.221Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:14:57.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-09cbac971441d466f26811430dd9b11f4f31f6af-1e325f436730ccd0-01 outer:exit 2b-09cbac971441d466f26811430dd9b11f4f31f6af-bfe10fe9e57c2470-01
2021-08-24T05:14:57.226Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:14:57.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b792a3e0ad840abcf949f5c83bdeb29822bb825-01759839a80511f6-01 outer:exit 2b-7b792a3e0ad840abcf949f5c83bdeb29822bb825-bce0be4377f76041-01
2021-08-24T05:14:57.229Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:14:57.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-2224c3928bcaa4358a17227f5498f2f50a796fe1-cd4c66b6311b79d6-01 outer:exit 2b-2224c3928bcaa4358a17227f5498f2f50a796fe1-6b3ce368b791d8fc-01
2021-08-24T05:14:57.232Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:14:57.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f223a3b3f2ecfb1a8504249e82325815ab77ee0-713f2be06ad21f85-01 outer:exit 2b-2f223a3b3f2ecfb1a8504249e82325815ab77ee0-b1bd76fcea4d4456-01
2021-08-24T05:14:57.235Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:14:57.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f12590437a81993611410264ae453ab2bd009be-ee3ec78607b8a95d-01 outer:exit 2b-8f12590437a81993611410264ae453ab2bd009be-7eef98df29b8b1b1-01
2021-08-24T05:14:57.237Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:14:57.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d7d3f587ba286abc98bd5e740d3dd25a4aa0719-e5aa071a40787314-01 outer:exit 2b-5d7d3f587ba286abc98bd5e740d3dd25a4aa0719-a9de2727b52205fd-01
2021-08-24T05:14:57.241Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:14:57.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f31f2e8755d10bffc680b02427dc66762988980-21d3655de4332a97-01 outer:exit 2b-7f31f2e8755d10bffc680b02427dc66762988980-0871030ae2742f3b-01
2021-08-24T05:14:57.245Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:14:57.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ee6d0b4b8de68664381b55f15fe0d06213f5539-345deba494840aaa-01 outer:exit 2b-7ee6d0b4b8de68664381b55f15fe0d06213f5539-499ac32a2a56adab-01
2021-08-24T05:14:57.252Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:14:57.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-cac8855d934a139b6a4358d62d0ed67ab6228dc9-b00f4d9cc2fabaaa-01 outer:exit 2b-cac8855d934a139b6a4358d62d0ed67ab6228dc9-43bdbd559302f30b-01
2021-08-24T05:14:57.269Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:14:57.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0dfd534a2ff937dd244ed1d3d36051d7727fe24-9284c3988121aeec-01 outer:exit 2b-e0dfd534a2ff937dd244ed1d3d36051d7727fe24-848f7f133d20ae2b-01
2021-08-24T05:14:57.314Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:14:57.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-53f8befeab5d0912d8bcbf5a014cde36286c955b-0cf49006da46c662-01 outer:exit 2b-53f8befeab5d0912d8bcbf5a014cde36286c955b-1b03bf85af4e5685-01
2021-08-24T05:14:57.316Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:14:57.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9097142b0f066da4947cdf2653e3ca9c7482ed7-6166a767c3abe2cc-01 outer:exit 2b-b9097142b0f066da4947cdf2653e3ca9c7482ed7-1a307f1cc9509789-01
2021-08-24T05:14:57.319Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:14:57.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-01a7609816339890d24775b9bde795c8f1fc0df3-7aaada66bb71d963-01 outer:exit 2b-01a7609816339890d24775b9bde795c8f1fc0df3-97f327bcfff731e8-01
2021-08-24T05:14:57.322Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:14:57.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-78ea90276e6aa90e2d95a0fad05cf9704392ad1f-d33c4b18ee4ff4ca-01 outer:exit 2b-78ea90276e6aa90e2d95a0fad05cf9704392ad1f-f21af5657e1aa34c-01
2021-08-24T05:14:57.324Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:14:57.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-197f08ce49481678050ad3249b51290f087968a1-b78ef3db60eb8225-01 outer:exit 2b-197f08ce49481678050ad3249b51290f087968a1-c8610768d7ced941-01
2021-08-24T05:14:57.327Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:14:57.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0521dd7b6b178d053e1537cfd0729d4c6c75f2c-a77631532680bf89-01 outer:exit 2b-b0521dd7b6b178d053e1537cfd0729d4c6c75f2c-8a8214eb0db51d87-01
2021-08-24T05:14:57.330Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:14:57.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f8ffd9244e8777159fea8c0ef06f76948411596-7a01d83202f0e1a8-01 outer:exit 2b-3f8ffd9244e8777159fea8c0ef06f76948411596-42007ee647e37cef-01
2021-08-24T05:14:57.332Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:14:57.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-3995a26463704617b30cd05db202c0456a322411-4403457b4123d771-01 outer:exit 2b-3995a26463704617b30cd05db202c0456a322411-80f9295da7d992da-01
2021-08-24T05:14:57.334Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:14:57.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bc7ff5936b365145eeaefc641a1bfb0af5bc3d0-33479d77433f5d03-01 outer:exit 2b-1bc7ff5936b365145eeaefc641a1bfb0af5bc3d0-f0fd8ac9ce8201af-01
2021-08-24T05:14:57.338Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:14:57.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-068be7b894cebddb39ab02c320376f6f721a9ee2-cd8c777860ae2f6d-01 outer:exit 2b-068be7b894cebddb39ab02c320376f6f721a9ee2-a19316358948e900-01
2021-08-24T05:14:57.341Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:14:57.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-95e18f7eb0e89fc2b4944b74af634fb8b064e999-c6f263872324217a-01 outer:exit 2b-95e18f7eb0e89fc2b4944b74af634fb8b064e999-96e77eb58248ffb8-01
2021-08-24T05:14:57.344Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:14:57.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf858f41edac48a0cf9002e87fe87104a1b8ad07-f6f87f5b1390e204-01 outer:exit 2b-bf858f41edac48a0cf9002e87fe87104a1b8ad07-9610fa386e22c0c1-01
2021-08-24T05:14:57.346Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:14:57.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-3559112e79bacf9a8b1eff9b8b1c1dc01f98483e-3cdb01ac308db367-01 outer:exit 2b-3559112e79bacf9a8b1eff9b8b1c1dc01f98483e-8afa99fcdb12719e-01
2021-08-24T05:14:57.355Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:14:57.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad4a99ece249fe5ddb64712af063960d7ce500ec-2ec5f24b396371b7-01 outer:exit 2b-ad4a99ece249fe5ddb64712af063960d7ce500ec-4c0c0a30308177cb-01
2021-08-24T05:14:57.359Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:14:57.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d9952c1b6057c5273983f6a26268dc67c28f34a-6d2f3bdcba217f80-01 outer:exit 2b-2d9952c1b6057c5273983f6a26268dc67c28f34a-29a21c094e05991d-01
2021-08-24T05:14:57.368Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:14:57.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-20c521a8107393561f3a35da51c3bf52aa00ad92-f52fdab50ce7536e-01 outer:exit 2b-20c521a8107393561f3a35da51c3bf52aa00ad92-c48ec6c73f20b64d-01
2021-08-24T05:14:57.376Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:14:57.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-b41c76e2a0c61b8d74de45363d14fc8338fc36ff-2b447549a5044f60-01 outer:exit 2b-b41c76e2a0c61b8d74de45363d14fc8338fc36ff-71f8165bd6b69a2d-01
2021-08-24T05:14:57.378Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:14:57.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-a78394e00bbeb12b6f9757db3075d300c2d2d9bb-4e225ed50690bba0-01 outer:exit 2b-a78394e00bbeb12b6f9757db3075d300c2d2d9bb-e641309261d046bc-01
2021-08-24T05:14:57.381Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:14:57.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a1ec502d23cafbedf66b827bce51f57de3b2212-8209e11fcd220cd3-01 outer:exit 2b-9a1ec502d23cafbedf66b827bce51f57de3b2212-f9c2dcdc4cae57ba-01
2021-08-24T05:14:57.389Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:14:57.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-32bebb5dd8f76ab487ef54b62a3d19148dae21e8-0e3b947d28c3f614-01 outer:exit 2b-32bebb5dd8f76ab487ef54b62a3d19148dae21e8-71807a2966afd472-01
2021-08-24T05:14:57.391Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:14:57.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-55cad02c7bc910626701b4528bdcec61b43b48c2-4f11702667f7be5a-01 outer:exit 2b-55cad02c7bc910626701b4528bdcec61b43b48c2-c7a89c3060be332e-01
2021-08-24T05:14:57.393Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:14:57.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-f362b910d4a70859d9dce54c8d60dcfb79263e43-6d1c6cca32c267ae-01 outer:exit 2b-f362b910d4a70859d9dce54c8d60dcfb79263e43-c395c14afb453a31-01
2021-08-24T05:14:57.395Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:14:57.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-492ebc56320f449de3ccba5029098477904edc4b-3649787a37838c09-01 outer:exit 2b-492ebc56320f449de3ccba5029098477904edc4b-1cc0e9dc39d020a6-01
2021-08-24T05:14:57.398Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:14:57.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec4f1515e01a176838b0fffc7ce2bcee472bc2eb-7fb8865e61ded5d4-01 outer:exit 2b-ec4f1515e01a176838b0fffc7ce2bcee472bc2eb-5da91556bb373040-01
2021-08-24T05:14:57.400Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:14:57.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ba67b52b5b96d22d6e885d0a8a20e67534622c5-09d7eb2f578a5a62-01 outer:exit 2b-5ba67b52b5b96d22d6e885d0a8a20e67534622c5-a7d1cd5007071a9f-01
2021-08-24T05:14:57.410Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:14:57.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cf07030a51a1497d5e26b934a25294a663d527b-04a457f767dccfb7-01 outer:exit 2b-7cf07030a51a1497d5e26b934a25294a663d527b-61b55b98313b0341-01
2021-08-24T05:14:57.419Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:14:57.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-82ac266975bf52bbfeb92ea7090e0e5f3746a3b8-2eeddfc5d33588cb-01 outer:exit 2b-82ac266975bf52bbfeb92ea7090e0e5f3746a3b8-8a077730b3d63c6a-01
2021-08-24T05:14:57.422Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:14:57.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fc4acc8c2cb5822294af823c3f780125f69c8ca-0695f651491d41f6-01 outer:exit 2b-7fc4acc8c2cb5822294af823c3f780125f69c8ca-19e09c520a130e57-01
2021-08-24T05:14:57.425Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:14:57.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-c47998fb1019465fb6477c9e8453137c2018c4c4-d9a94a691e743066-01 outer:exit 2b-c47998fb1019465fb6477c9e8453137c2018c4c4-94203e9d9bc74ef9-01
2021-08-24T05:14:57.428Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:14:57.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c1ae5a682ac81be608282aab2e05a53b6622c62-d80db4807764538a-01 outer:exit 2b-2c1ae5a682ac81be608282aab2e05a53b6622c62-873afb5a7b6b33f3-01
2021-08-24T05:14:57.459Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (323ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:03.211Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:03.212Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:03.212Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:03.212Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:03.306Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:03.360Z appoptics:patching patched crypto 
2021-08-24T05:15:03.384Z appoptics:patching patched https 
2021-08-24T05:15:03.385Z appoptics:patching patched http 
2021-08-24T05:15:03.437Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:03.437Z appoptics:patching patched fs 
2021-08-24T05:15:03.476Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v16.7.0)
2021-08-24T05:15:03.484Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2021-08-24T05:15:03.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef88d9d4e30bc9c87b2dbaefc806ecca0b4e67aa-be51593697d6aedb-01 outer:exit 2b-ef88d9d4e30bc9c87b2dbaefc806ecca0b4e67aa-690249b2b1c70374-01
2021-08-24T05:15:03.628Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:15:03.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-08255cedad532e07ca365df55b65efd2aab1f7ad-67ac243fb694b375-01 outer:exit 2b-08255cedad532e07ca365df55b65efd2aab1f7ad-0e92576e028037d9-01
2021-08-24T05:15:03.670Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:15:03.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-0599577ef5b0c4dbbb247605daff890ea95406f1-a0a0e71e2f9f06f9-01 outer:exit 2b-0599577ef5b0c4dbbb247605daff890ea95406f1-48cbccc8406d630d-01
2021-08-24T05:15:03.674Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:15:03.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b777abe73302f8ce2de90da83a00f620ed5bdba-b5521f3308a42e02-01 outer:exit 2b-9b777abe73302f8ce2de90da83a00f620ed5bdba-14388b12c4432036-01
2021-08-24T05:15:03.677Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:15:03.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e6038aeda0fce2c0e84532f05de12f671c91a5f-7f8ae553a8636e87-01 outer:exit 2b-5e6038aeda0fce2c0e84532f05de12f671c91a5f-72a90c7f86b33ae8-01
2021-08-24T05:15:03.682Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:15:03.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9c1c4e6e7d0f81713de3eb5811bf702c44c9fac-b12c345c193e42c4-01 outer:exit 2b-b9c1c4e6e7d0f81713de3eb5811bf702c44c9fac-f94bee34e20ae03a-01
2021-08-24T05:15:03.685Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:15:03.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca22b97cbcb7a218afa216bac9743d0d1b415da4-68955127e07ebc7d-01 outer:exit 2b-ca22b97cbcb7a218afa216bac9743d0d1b415da4-d6f64e7dcaa62324-01
2021-08-24T05:15:03.688Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:15:03.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5ee798e8bf115e296269060f0c5818a4c025642-2a52eb6b6ab5a380-01 outer:exit 2b-c5ee798e8bf115e296269060f0c5818a4c025642-40c3ff58a99e2e54-01
2021-08-24T05:15:03.691Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:15:03.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0c15b853752a3b5849cd7a43443f3f0b3b8361d-b9b0a951e005fbcc-01 outer:exit 2b-b0c15b853752a3b5849cd7a43443f3f0b3b8361d-6473fe8f5b8806e8-01
2021-08-24T05:15:03.693Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:15:03.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-442e2c0a34cebdd44c7c0c3a1cf961f1907242ea-85909f999b3300f6-01 outer:exit 2b-442e2c0a34cebdd44c7c0c3a1cf961f1907242ea-d609be88aca14308-01
2021-08-24T05:15:03.696Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:15:03.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-06dde0a657fa13fc2b9ffd5a450e127ff8ddb20f-d0427e606d66da65-01 outer:exit 2b-06dde0a657fa13fc2b9ffd5a450e127ff8ddb20f-16d04483578a50c5-01
2021-08-24T05:15:03.701Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:15:03.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-54bbe409bba660f747dbe85cdba8c98fed59491f-c36a3ef29b56bee6-01 outer:exit 2b-54bbe409bba660f747dbe85cdba8c98fed59491f-83ccf68feda12209-01
2021-08-24T05:15:03.708Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:15:03.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea04a8d38f928e0894333510dc5e8540584468b9-b524a43cc1176dfc-01 outer:exit 2b-ea04a8d38f928e0894333510dc5e8540584468b9-dcf74c2df917614c-01
2021-08-24T05:15:03.723Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:15:03.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce14e363da7c0cc729b995960e3698ee97fe1880-06a94660a6124420-01 outer:exit 2b-ce14e363da7c0cc729b995960e3698ee97fe1880-872d80fdc7ba510f-01
2021-08-24T05:15:03.766Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:15:03.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0255ee690edb23f53aaa7cfd3dd7fdec5dbc040-1f77e8438c3204ea-01 outer:exit 2b-a0255ee690edb23f53aaa7cfd3dd7fdec5dbc040-5c517a3711a1e359-01
2021-08-24T05:15:03.774Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:15:03.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2f3695ec09d11623fa5212fbcf865424dd4f010-43a681e81eb58b62-01 outer:exit 2b-e2f3695ec09d11623fa5212fbcf865424dd4f010-b370f7d7ce83608e-01
2021-08-24T05:15:03.777Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:15:03.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f95c87c385e3655c6c9782a22fc588c23441c90-6997024723909d43-01 outer:exit 2b-8f95c87c385e3655c6c9782a22fc588c23441c90-5be512d8ada70085-01
2021-08-24T05:15:03.781Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:15:03.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-1451e202e210722d5c53e5bb01ebb49e4f276b97-0c943b96e20916e5-01 outer:exit 2b-1451e202e210722d5c53e5bb01ebb49e4f276b97-d24491d456e8ce56-01
2021-08-24T05:15:03.783Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:15:03.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-728166e424bf10546c5d1994a564dfc8690ac93a-54019e0e81fa91e6-01 outer:exit 2b-728166e424bf10546c5d1994a564dfc8690ac93a-f25614139e919806-01
2021-08-24T05:15:03.785Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:15:03.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-b647ba70aba8258174fad5fbc1930f70d63773c4-7ab42d97f4502a3d-01 outer:exit 2b-b647ba70aba8258174fad5fbc1930f70d63773c4-a4e852de82ab1406-01
2021-08-24T05:15:03.788Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:15:03.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac1e65336168b8d6dbca6372e5ab407c3b96f6dc-46b49d40c52c2e08-01 outer:exit 2b-ac1e65336168b8d6dbca6372e5ab407c3b96f6dc-30d47995f68b3953-01
2021-08-24T05:15:03.791Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:15:03.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-a708c2c4c95b87ef1b6b5661ab564860bd730e46-1a09583f96fa1491-01 outer:exit 2b-a708c2c4c95b87ef1b6b5661ab564860bd730e46-3f175eeb9adf3e98-01
2021-08-24T05:15:03.793Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:15:03.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6aa76d10a7bda88f7a9c6e0ddb56cdd03bfd436-cd5cd4735c5cd6dd-01 outer:exit 2b-d6aa76d10a7bda88f7a9c6e0ddb56cdd03bfd436-0e4c69577bc4f6c0-01
2021-08-24T05:15:03.796Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:15:03.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6c1ca9ebfce65efa588c62ca1073fc1c05a4bd7-a3d7550f3322df97-01 outer:exit 2b-a6c1ca9ebfce65efa588c62ca1073fc1c05a4bd7-7f1c54f433b67e71-01
2021-08-24T05:15:03.799Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:15:03.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-c18b12cb76b770d2fe5d03ca491e1527d34b69e1-06619a9270cf19f4-01 outer:exit 2b-c18b12cb76b770d2fe5d03ca491e1527d34b69e1-0543e786e446997a-01
2021-08-24T05:15:03.801Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:15:03.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4d44b260cf32c2c0dfa2afb1ab80f2ac9166452-24e1bcff6819e7ca-01 outer:exit 2b-f4d44b260cf32c2c0dfa2afb1ab80f2ac9166452-81fde54e8d1f202f-01
2021-08-24T05:15:03.804Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:15:03.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-58c86ba5186e051ad573e8585dcd302c7029d81c-024877909a725978-01 outer:exit 2b-58c86ba5186e051ad573e8585dcd302c7029d81c-5cc249f2805d6cb8-01
2021-08-24T05:15:03.812Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:15:03.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cbd49a104b7838ada38104e3ed405229ffaaeb3-09936b43390bcfe8-01 outer:exit 2b-2cbd49a104b7838ada38104e3ed405229ffaaeb3-5a451733d174c700-01
2021-08-24T05:15:03.816Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:15:03.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-a257d7168989b0edc7a53ad4be0bd943ccc9ea16-50aa84dcb0853754-01 outer:exit 2b-a257d7168989b0edc7a53ad4be0bd943ccc9ea16-e343afa04b6f0cd8-01
2021-08-24T05:15:03.825Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:15:03.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e4f18961129194c5e0b157a7068a884d7969bbd-2654e2f24c324e00-01 outer:exit 2b-8e4f18961129194c5e0b157a7068a884d7969bbd-b4d0bf354d8f1e5a-01
2021-08-24T05:15:03.831Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:15:03.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3f62880c9071756f083d0fc8ee6e0a6a9720e44-7bcfb08978341738-01 outer:exit 2b-e3f62880c9071756f083d0fc8ee6e0a6a9720e44-bd28ed01f9b3476e-01
2021-08-24T05:15:03.834Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:15:03.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-84c28d86a530849343d2b320672a9d3291bac5d3-07bd667877c55737-01 outer:exit 2b-84c28d86a530849343d2b320672a9d3291bac5d3-03e1b57964858e77-01
2021-08-24T05:15:03.837Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:15:03.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bbf8f49f3481c1264f84c843739568b12698cc6-f4b36a25e8c1d5e7-01 outer:exit 2b-9bbf8f49f3481c1264f84c843739568b12698cc6-72423f56321f3fb3-01
2021-08-24T05:15:03.844Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:15:03.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-3553a899e7c59a2a81bfdcace1e66e0572ce482b-09013d9d71fc4205-01 outer:exit 2b-3553a899e7c59a2a81bfdcace1e66e0572ce482b-8fb557e90d20d3c6-01
2021-08-24T05:15:03.847Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:15:03.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-688d98b5f5e571b7942c427baab77c71a7b6ac14-f9680509dd27fff8-01 outer:exit 2b-688d98b5f5e571b7942c427baab77c71a7b6ac14-cf69fdb65519ec6b-01
2021-08-24T05:15:03.849Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:15:03.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-dffbad985a2c84ddc00662014d4f7f16c6db48ec-87fb60ddb8cab6af-01 outer:exit 2b-dffbad985a2c84ddc00662014d4f7f16c6db48ec-e2c847da9865ab29-01
2021-08-24T05:15:03.851Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:15:03.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-595d1b2f977b2c4dea939c30cf165d84802b9f1a-4ebd3ad5828b5ec4-01 outer:exit 2b-595d1b2f977b2c4dea939c30cf165d84802b9f1a-7e6a292869ce4636-01
2021-08-24T05:15:03.853Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:15:03.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f8b3e256a5dede63fb69e75b552b53e30234613-b5bfd4cf7b0f34f4-01 outer:exit 2b-0f8b3e256a5dede63fb69e75b552b53e30234613-7341e0d0ed35cfc4-01
2021-08-24T05:15:03.855Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:15:03.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cfa597c83f15ef16629bff66928390fba634479-7efb496ecc6234a6-01 outer:exit 2b-5cfa597c83f15ef16629bff66928390fba634479-7977ed50bb01a7f4-01
2021-08-24T05:15:03.864Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:15:03.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-8070e209655a3869d1c02309a275619645cc99ec-9c448f0cc6cc9842-01 outer:exit 2b-8070e209655a3869d1c02309a275619645cc99ec-97ca89e519eea70b-01
2021-08-24T05:15:03.873Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:15:03.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6b8936750f9c0bf14a105d097bf4dde91ca0d1f-1cbbe9aa38780958-01 outer:exit 2b-d6b8936750f9c0bf14a105d097bf4dde91ca0d1f-d23b249068edd5a2-01
2021-08-24T05:15:03.877Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:15:03.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-654dbf069c3b44d05a0ec1f77c8421238f3e49a6-6b5136c1b28e7518-01 outer:exit 2b-654dbf069c3b44d05a0ec1f77c8421238f3e49a6-7d6720c5070c4d32-01
2021-08-24T05:15:03.887Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:15:03.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6fad2730bd521cc297dde17da94082314488cd2-9a0b2e040a8a96a9-01 outer:exit 2b-c6fad2730bd521cc297dde17da94082314488cd2-263cffad36bd5c4c-01
2021-08-24T05:15:03.891Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:15:03.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c3c3357b1edde4625fb1e8fc94214254a580b29-5f8f30580cfff43c-01 outer:exit 2b-9c3c3357b1edde4625fb1e8fc94214254a580b29-5e7616bd3fc5dc9d-01
2021-08-24T05:15:03.929Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (340ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:09.219Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:09.220Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:09.220Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:09.221Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:09.288Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:09.335Z appoptics:patching patched crypto 
2021-08-24T05:15:09.358Z appoptics:patching patched https 
2021-08-24T05:15:09.359Z appoptics:patching patched http 
2021-08-24T05:15:09.410Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:09.411Z appoptics:patching patched fs 
2021-08-24T05:15:09.448Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v16.7.0)
2021-08-24T05:15:09.456Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2021-08-24T05:15:09.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-08190dddc0a1985c6885a4d9e1a97842ba5a6424-9b1c2f224546960e-01 outer:exit 2b-08190dddc0a1985c6885a4d9e1a97842ba5a6424-b24f8390eae55354-01
2021-08-24T05:15:09.609Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:15:09.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0e847aa2d9561a491a5fdf80315c7da05fc9be6-af85913e6b757bce-01 outer:exit 2b-d0e847aa2d9561a491a5fdf80315c7da05fc9be6-dfc30827828857e5-01
2021-08-24T05:15:09.674Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:15:09.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-b73a6237684943a1688aada2546d3bec93400513-4858bbba286189d1-01 outer:exit 2b-b73a6237684943a1688aada2546d3bec93400513-ff193e5d968a52fe-01
2021-08-24T05:15:09.679Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:15:09.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ca7c9573a8409858bfb43f1674981d377348e3d-f7352ba3024b675b-01 outer:exit 2b-7ca7c9573a8409858bfb43f1674981d377348e3d-3f8df35efceba480-01
2021-08-24T05:15:09.682Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:15:09.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f9ef526ea0fa9069d77fd19f01b7e168caba147-1622b4a401968baf-01 outer:exit 2b-0f9ef526ea0fa9069d77fd19f01b7e168caba147-d394ca5fb42cf545-01
2021-08-24T05:15:09.688Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:15:09.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c94fa65530bc7af31435d21ab93e21d1749fec-1bbe8abe78b94512-01 outer:exit 2b-65c94fa65530bc7af31435d21ab93e21d1749fec-a74364b155d2a00c-01
2021-08-24T05:15:09.691Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:15:09.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee015ca3b90345a8da00f64d891d1a1d007085eb-ffe03174044dccd2-01 outer:exit 2b-ee015ca3b90345a8da00f64d891d1a1d007085eb-5b7abc52be0b420e-01
2021-08-24T05:15:09.694Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:15:09.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-38a5664c733d879b09c52f3e9a1a6b769e6b770a-24174a36aae28592-01 outer:exit 2b-38a5664c733d879b09c52f3e9a1a6b769e6b770a-e5f5735aa19e6b67-01
2021-08-24T05:15:09.697Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:15:09.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-2014c62a36575c5004da345efce27e857bb400ba-ee43b909b75635e5-01 outer:exit 2b-2014c62a36575c5004da345efce27e857bb400ba-c0cfa496a16d557a-01
2021-08-24T05:15:09.700Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:15:09.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-67b231ec9584a99812783f4bd29750cbc0c53f35-58ed62f9513d788b-01 outer:exit 2b-67b231ec9584a99812783f4bd29750cbc0c53f35-6a90d9019d7e9fce-01
2021-08-24T05:15:09.703Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:15:09.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-013fd6cfa9d54d55903dd45db0597886dff9765a-8f5aff758a46f7fd-01 outer:exit 2b-013fd6cfa9d54d55903dd45db0597886dff9765a-325fee0f8b70f171-01
2021-08-24T05:15:09.708Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:15:09.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea53ce3427f8b871241b6eca9ac03764851f8fc2-ce9ad6fbc9dad5f5-01 outer:exit 2b-ea53ce3427f8b871241b6eca9ac03764851f8fc2-2c08c1b3bbadb769-01
2021-08-24T05:15:09.715Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:15:09.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e7602bedc9bde48a065e9dea1a1062943830d0b-028f047124159bc0-01 outer:exit 2b-0e7602bedc9bde48a065e9dea1a1062943830d0b-ec2669eaded2f696-01
2021-08-24T05:15:09.734Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:15:09.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b73ab24d1ba7b50e85a3fcd2af8dc884e319d2f-532616f340ccd783-01 outer:exit 2b-7b73ab24d1ba7b50e85a3fcd2af8dc884e319d2f-82352cbc9eb2ddfd-01
2021-08-24T05:15:09.772Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:15:09.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-858cfb6b7b36b223ec9e128d8252d73e7ba6b372-21004850ba35c356-01 outer:exit 2b-858cfb6b7b36b223ec9e128d8252d73e7ba6b372-e42f0aa60347f19b-01
2021-08-24T05:15:09.776Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:15:09.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fdfbadcc7c8d968720c26681bbed85f746b5f57-2435b751f6f7cf45-01 outer:exit 2b-9fdfbadcc7c8d968720c26681bbed85f746b5f57-6d85be40443b9489-01
2021-08-24T05:15:09.779Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:15:09.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-735b7657a21cbae7293032dfea8fe538f115bee0-8747bc95a78b6146-01 outer:exit 2b-735b7657a21cbae7293032dfea8fe538f115bee0-0281105b094f1c90-01
2021-08-24T05:15:09.783Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:15:09.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c47844963b4c733c8f6ee92de283ad936adeb75-717073d267fe0741-01 outer:exit 2b-1c47844963b4c733c8f6ee92de283ad936adeb75-d28ec4a1e7c36744-01
2021-08-24T05:15:09.785Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:15:09.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-0096a437766605678870cf59bad7efb94516639b-35a63653d2ea2fa4-01 outer:exit 2b-0096a437766605678870cf59bad7efb94516639b-e75cabe97e6880a1-01
2021-08-24T05:15:09.788Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:15:09.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0f020078c6e4f5d958a0e06c257f15d5efbb7c6-2b684a256723bf26-01 outer:exit 2b-c0f020078c6e4f5d958a0e06c257f15d5efbb7c6-5bbc3797c66f3d9a-01
2021-08-24T05:15:09.790Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:15:09.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-73d8703f934ab76e69ddec207815f6b9ab8a883e-4f8420c6a3b1abfe-01 outer:exit 2b-73d8703f934ab76e69ddec207815f6b9ab8a883e-3bd2a464a3386eed-01
2021-08-24T05:15:09.792Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:15:09.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-b134edf406ad08adb4554696cd867270ae4182e3-4c6ea1a5cef05e09-01 outer:exit 2b-b134edf406ad08adb4554696cd867270ae4182e3-94014047bce94368-01
2021-08-24T05:15:09.794Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:15:09.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb997327a82d58138390b200a45a6e2ddaaf0f98-4d1b96fcb4606049-01 outer:exit 2b-eb997327a82d58138390b200a45a6e2ddaaf0f98-fef9e4d74b5da654-01
2021-08-24T05:15:09.798Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:15:09.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-b346ca02576f5d81ad8ab8d8826c76877107c287-e08b1f248bbc014a-01 outer:exit 2b-b346ca02576f5d81ad8ab8d8826c76877107c287-883259f450954c46-01
2021-08-24T05:15:09.801Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:15:09.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-26006e397d698327963636a88f740c7779e2c51c-ae0b26b1da1984c9-01 outer:exit 2b-26006e397d698327963636a88f740c7779e2c51c-7ef249b1facf80b4-01
2021-08-24T05:15:09.803Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:15:09.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ff770ff9df3b297718bfd95a25b67e9aec6e49c-a0b5143dbf1dc6de-01 outer:exit 2b-1ff770ff9df3b297718bfd95a25b67e9aec6e49c-c47bdc1ae5a137f8-01
2021-08-24T05:15:09.806Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:15:09.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-224ce46595d2b043bcb8366dc5202b44f44c83c5-d2cb24ad4f4ec741-01 outer:exit 2b-224ce46595d2b043bcb8366dc5202b44f44c83c5-57981b92c6a0bcb0-01
2021-08-24T05:15:09.814Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:15:09.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-128c07c779aca2a595dfa08ac600d5718ed02d71-cfab071a93ea5649-01 outer:exit 2b-128c07c779aca2a595dfa08ac600d5718ed02d71-294777c1c50d28d7-01
2021-08-24T05:15:09.820Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:15:09.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8a93b189ce0df033343109dabc5af122b37f0c1-83b240d34c6b4b81-01 outer:exit 2b-d8a93b189ce0df033343109dabc5af122b37f0c1-cdd3e25a06ed481c-01
2021-08-24T05:15:09.829Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:15:09.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d624a3152dd831e6fd864d95b33886b3a3b9d6e-bce4aaf131081e4d-01 outer:exit 2b-3d624a3152dd831e6fd864d95b33886b3a3b9d6e-0ecd7a5853994ed1-01
2021-08-24T05:15:09.837Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:15:09.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-629c5492215612d22a730bd3abf177849cf3a1c0-b185e744495ac107-01 outer:exit 2b-629c5492215612d22a730bd3abf177849cf3a1c0-6e2dccac4696428c-01
2021-08-24T05:15:09.840Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:15:09.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-10b5ee3d03fd7dd27d13fc47479c1b7bc66c276a-b98aeeac3dbc1223-01 outer:exit 2b-10b5ee3d03fd7dd27d13fc47479c1b7bc66c276a-4205ede295ce6374-01
2021-08-24T05:15:09.843Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:15:09.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b6a58d6a6f6999b4682f78606351ab7f8d44e3e-feff5d59d4184349-01 outer:exit 2b-3b6a58d6a6f6999b4682f78606351ab7f8d44e3e-6df060be6185c78b-01
2021-08-24T05:15:09.851Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:15:09.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-48df1f291e7652a3d294d54b820359c9f9744c1a-024219ccfca7c9ae-01 outer:exit 2b-48df1f291e7652a3d294d54b820359c9f9744c1a-90a7219d6fd9f3bd-01
2021-08-24T05:15:09.853Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:15:09.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-162fb48ce011fabc9d22fb675b4822e2f8a8b4f4-71c852184adde961-01 outer:exit 2b-162fb48ce011fabc9d22fb675b4822e2f8a8b4f4-38b71d1fad238628-01
2021-08-24T05:15:09.855Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:15:09.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-813f212e537272c65293960e107ffb05d5c1fa4f-462a869620ce20b7-01 outer:exit 2b-813f212e537272c65293960e107ffb05d5c1fa4f-4ae817e1ce20a82c-01
2021-08-24T05:15:09.857Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:15:09.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-224999c738fb9b8d39f005a5437f41dc798dacb2-5649579efd667da0-01 outer:exit 2b-224999c738fb9b8d39f005a5437f41dc798dacb2-31aca8d2b55a3e65-01
2021-08-24T05:15:09.860Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:15:09.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfd3b295628340e8bef3996a24e01d32ab2dc3d8-48c43e25f7dd8c7c-01 outer:exit 2b-dfd3b295628340e8bef3996a24e01d32ab2dc3d8-8e8cdb7e47bc65fb-01
2021-08-24T05:15:09.862Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:15:09.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad26fb4aa63dad298e08848a9f110aa238520933-525a65b9972cd3dd-01 outer:exit 2b-ad26fb4aa63dad298e08848a9f110aa238520933-2af57de7f9f9504f-01
2021-08-24T05:15:09.872Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:15:09.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-7da75edf7663ec6a138f588a075152234099ef97-9df3b868dd4bdf8a-01 outer:exit 2b-7da75edf7663ec6a138f588a075152234099ef97-a8ceed30c9985b88-01
2021-08-24T05:15:09.883Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:15:09.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ba5d506daf98e2aca43a16dcbb6bb47de0f9a57-621f078591983977-01 outer:exit 2b-9ba5d506daf98e2aca43a16dcbb6bb47de0f9a57-15a02b11597472c7-01
2021-08-24T05:15:09.887Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:15:09.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-61b7fc310c6adbde5e91399289098cca23d4748e-2350beb0e361abf6-01 outer:exit 2b-61b7fc310c6adbde5e91399289098cca23d4748e-72629554c9c4d3e9-01
2021-08-24T05:15:09.891Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:15:09.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-b912598cee3216236e2c7108843ab9ed8a95f530-8736dc1bd671da9b-01 outer:exit 2b-b912598cee3216236e2c7108843ab9ed8a95f530-e8554a7429b1b73f-01
2021-08-24T05:15:09.893Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:15:09.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c6d19141fac4e79a1a36852201a3d3e836c87aa-0f256f463bbfd347-01 outer:exit 2b-8c6d19141fac4e79a1a36852201a3d3e836c87aa-d61f03c899bc3252-01
2021-08-24T05:15:09.933Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (366ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:16.042Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:16.043Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:16.043Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:16.044Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:16.124Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:16.182Z appoptics:patching patched crypto 
2021-08-24T05:15:16.207Z appoptics:patching patched https 
2021-08-24T05:15:16.208Z appoptics:patching patched http 
2021-08-24T05:15:16.265Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:16.265Z appoptics:patching patched fs 
2021-08-24T05:15:16.300Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v16.7.0)
2021-08-24T05:15:16.309Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2021-08-24T05:15:16.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-b89458bc61822e968fa6036913582e54df9baf8b-bbca0b5d9b8fe0eb-01 outer:exit 2b-b89458bc61822e968fa6036913582e54df9baf8b-6b7193e22b08c03b-01
2021-08-24T05:15:16.469Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-24T05:15:16.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c062257e392f036d5f2f344e539e15f4c3ef376-b8bc13561d1b1886-01 outer:exit 2b-6c062257e392f036d5f2f344e539e15f4c3ef376-6fc3d54ee2c9a180-01
2021-08-24T05:15:16.575Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-24T05:15:16.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-19671ad1243a614dcf0a21004e90e3b8be603965-99684b7ae8aec134-01 outer:exit 2b-19671ad1243a614dcf0a21004e90e3b8be603965-efd1491f43de310b-01
2021-08-24T05:15:16.580Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-24T05:15:16.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-bca8c956a04347ffec029382c68cad2084dede18-f5e66ab56007bd3a-01 outer:exit 2b-bca8c956a04347ffec029382c68cad2084dede18-30153f41911323a7-01
2021-08-24T05:15:16.584Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-24T05:15:16.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-b057df29dcd37efa8b48e444b6827340e175a952-8ed7358dbe417009-01 outer:exit 2b-b057df29dcd37efa8b48e444b6827340e175a952-305afe9d9285bef5-01
2021-08-24T05:15:16.589Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-24T05:15:16.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaa9fe2819c8a115ed6578c47162c1bcd017cfc9-cea6f0b41741f296-01 outer:exit 2b-eaa9fe2819c8a115ed6578c47162c1bcd017cfc9-c44d87fbdc34a0a0-01
2021-08-24T05:15:16.592Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-24T05:15:16.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-52525b5db2014f42df93c7d505ea238e4434a2da-324f9ea724a77ba8-01 outer:exit 2b-52525b5db2014f42df93c7d505ea238e4434a2da-218e945b158ac673-01
2021-08-24T05:15:16.595Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-24T05:15:16.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9a1b406ad6d281c7bce81a1289ea4cff469c58e-0a9c2365be802f13-01 outer:exit 2b-d9a1b406ad6d281c7bce81a1289ea4cff469c58e-e92166877f6510ce-01
2021-08-24T05:15:16.598Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-24T05:15:16.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-84e221a35400601b73a27ecb77e5e552c5dbfc66-afde30fbfa39efdd-01 outer:exit 2b-84e221a35400601b73a27ecb77e5e552c5dbfc66-6a2871835c39d208-01
2021-08-24T05:15:16.601Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-24T05:15:16.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-0144acb2226879cccbce445ed8f0947d97021b13-d41a8350bda5d36e-01 outer:exit 2b-0144acb2226879cccbce445ed8f0947d97021b13-93b7813c4d989f72-01
2021-08-24T05:15:16.604Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-24T05:15:16.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb8363a51338035e2093ce19adf157f2aeb4ca18-008a0e74a970b870-01 outer:exit 2b-fb8363a51338035e2093ce19adf157f2aeb4ca18-869e0bd2572991de-01
2021-08-24T05:15:16.608Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-24T05:15:16.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-e52f173c8c5a7c2bd51a9cb68a3ccda00c2d5a96-2a301182263f2645-01 outer:exit 2b-e52f173c8c5a7c2bd51a9cb68a3ccda00c2d5a96-b9784432aee0f900-01
2021-08-24T05:15:16.616Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-24T05:15:16.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-1df5ceb1af559fe8a094f36325983c6066e3a77e-bbd70cdc1770cc86-01 outer:exit 2b-1df5ceb1af559fe8a094f36325983c6066e3a77e-92351b972c7f5a01-01
2021-08-24T05:15:16.631Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-24T05:15:16.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4e36abcdbd64d99e38f45a7237f0aef2ec5b969-3d72903a55851d57-01 outer:exit 2b-c4e36abcdbd64d99e38f45a7237f0aef2ec5b969-186cacf37e48d2cd-01
2021-08-24T05:15:16.663Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-24T05:15:16.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bb6973b9c5b94c0b335c17ff937395c6029bfc5-8d3d628d18478939-01 outer:exit 2b-5bb6973b9c5b94c0b335c17ff937395c6029bfc5-08f0a585fdaa3c1b-01
2021-08-24T05:15:16.666Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-24T05:15:16.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6df2f4281eb04b829e64757fbe36fedabbf5c11-1eea8ac464a57843-01 outer:exit 2b-f6df2f4281eb04b829e64757fbe36fedabbf5c11-25cc5ffd80e58ac5-01
2021-08-24T05:15:16.669Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-24T05:15:16.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-e083ed59cb58c6bad1db621add08905d5662fd50-f449e0070f7c02b5-01 outer:exit 2b-e083ed59cb58c6bad1db621add08905d5662fd50-dc156a45b8d15912-01
2021-08-24T05:15:16.672Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-24T05:15:16.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-e55f7a007a071ebe4d4c585a657a21f6d1c66bfa-3c0851c20cac8908-01 outer:exit 2b-e55f7a007a071ebe4d4c585a657a21f6d1c66bfa-89fd5e29baa0cea1-01
2021-08-24T05:15:16.674Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-24T05:15:16.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc81d8ce13eb63cb06d310896372d2877dd8ff9c-4106d412243e9951-01 outer:exit 2b-bc81d8ce13eb63cb06d310896372d2877dd8ff9c-e7824580a934f573-01
2021-08-24T05:15:16.677Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-24T05:15:16.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b956a73ae92ca7a6f604a489703d47acee23276-3ec69c4110898c0e-01 outer:exit 2b-1b956a73ae92ca7a6f604a489703d47acee23276-ad9db17619189a14-01
2021-08-24T05:15:16.682Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-24T05:15:16.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-6290fc572455a3a7411820e9e017a502eac39d51-f0859643954d6891-01 outer:exit 2b-6290fc572455a3a7411820e9e017a502eac39d51-9a7f9b9e3a6c88f5-01
2021-08-24T05:15:16.684Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-24T05:15:16.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-8785db4b56622a614eed6b4621c635e98994f0d7-eb09f41336a7c839-01 outer:exit 2b-8785db4b56622a614eed6b4621c635e98994f0d7-859dbf7ae63c57fc-01
2021-08-24T05:15:16.686Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-24T05:15:16.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9005af43c5b4d175c30fbd40636389914aecebd-454c6ee5051dffb8-01 outer:exit 2b-e9005af43c5b4d175c30fbd40636389914aecebd-abc7db894d5595f6-01
2021-08-24T05:15:16.689Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-24T05:15:16.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f7e7d2f3950874254e6ccf0745cf3e99cee5449-4c842627a1e31109-01 outer:exit 2b-4f7e7d2f3950874254e6ccf0745cf3e99cee5449-8484402a22618139-01
2021-08-24T05:15:16.692Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-24T05:15:16.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-44c1262e74f99130e1d2cec7b21bf38f3e72b1d3-b46b3908910d2eaa-01 outer:exit 2b-44c1262e74f99130e1d2cec7b21bf38f3e72b1d3-0a269530d1e0ebe5-01
2021-08-24T05:15:16.695Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-24T05:15:16.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b6b8e9fe2a803566717c247ab5525d81c28b625-25a6439d5044b860-01 outer:exit 2b-8b6b8e9fe2a803566717c247ab5525d81c28b625-7955bebe72f8aead-01
2021-08-24T05:15:16.698Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-24T05:15:16.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3456abd75873407f6265b1866c52a1f7508d43c-aee1d342725a99ac-01 outer:exit 2b-c3456abd75873407f6265b1866c52a1f7508d43c-2b8eceba7b232643-01
2021-08-24T05:15:16.705Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-24T05:15:16.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-5386178585831cce35b04e0d4e5893ee9edc4450-ee82d0d527980d2d-01 outer:exit 2b-5386178585831cce35b04e0d4e5893ee9edc4450-0466089694374757-01
2021-08-24T05:15:16.710Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-24T05:15:16.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d553de8d254db3e9204e98f47146a26ac4e8047-d70ab054a8dd1ab6-01 outer:exit 2b-1d553de8d254db3e9204e98f47146a26ac4e8047-e91e88bc51439608-01
2021-08-24T05:15:16.720Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-24T05:15:16.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f8914f205ec4010b2e1a6640cc33ade9ba523a3-007f1abd058e9a2b-01 outer:exit 2b-3f8914f205ec4010b2e1a6640cc33ade9ba523a3-6be4396ce9cd92a3-01
2021-08-24T05:15:16.728Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-24T05:15:16.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9adf7cfd8b670c4d177a975e277a21ff28c334f-3ae58cc977c5578f-01 outer:exit 2b-c9adf7cfd8b670c4d177a975e277a21ff28c334f-6e132055992a4cec-01
2021-08-24T05:15:16.730Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-24T05:15:16.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6f12c4db468ffd8e6b04f1fed1dd083fc9723b6-cbf90856026fe8c4-01 outer:exit 2b-a6f12c4db468ffd8e6b04f1fed1dd083fc9723b6-cb2e0655d618461c-01
2021-08-24T05:15:16.734Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-24T05:15:16.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ef35d812ff3286c5de1d3d4432be858b4afc0a6-647165d22b04d9b1-01 outer:exit 2b-6ef35d812ff3286c5de1d3d4432be858b4afc0a6-c23ebcf5745315ca-01
2021-08-24T05:15:16.742Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-24T05:15:16.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-de9f7159e6ebfc59452260a5bbb8cc67e60c42c9-4b43d750d2a77610-01 outer:exit 2b-de9f7159e6ebfc59452260a5bbb8cc67e60c42c9-adb7408ef5e53f3c-01
2021-08-24T05:15:16.744Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-24T05:15:16.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-11ff232afe1690f178ce4bbd2eab78be5674e5d5-d56cee3fcddf5caf-01 outer:exit 2b-11ff232afe1690f178ce4bbd2eab78be5674e5d5-a9659f11a609ab4c-01
2021-08-24T05:15:16.747Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-24T05:15:16.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1d013884ece74e99708d91e03eb84a9b3464281-b5207a8752bfb7c3-01 outer:exit 2b-c1d013884ece74e99708d91e03eb84a9b3464281-bcb3a4cb027d6ab0-01
2021-08-24T05:15:16.749Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-24T05:15:16.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-4eff5e4f113ede6e00f1e6dfaf8b0219d2fe8f7c-c2a50cc17e381e08-01 outer:exit 2b-4eff5e4f113ede6e00f1e6dfaf8b0219d2fe8f7c-94217ee991a5b272-01
2021-08-24T05:15:16.751Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-24T05:15:16.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2824f62ccc9143f8e6cc18c2b3f5259280137f0-42b63e929f30e7c9-01 outer:exit 2b-f2824f62ccc9143f8e6cc18c2b3f5259280137f0-c043f8011588282c-01
2021-08-24T05:15:16.753Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-24T05:15:16.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d6cf2ca7baf5dd492628f0bdb61c6b397ea58b4-842108fe507886a4-01 outer:exit 2b-5d6cf2ca7baf5dd492628f0bdb61c6b397ea58b4-82eef279de1f5b8f-01
2021-08-24T05:15:16.765Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-24T05:15:16.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-239b54f31b0c90bd136eb528a811a96e8bf4ab74-c066d2b6afc4bb04-01 outer:exit 2b-239b54f31b0c90bd136eb528a811a96e8bf4ab74-df2cb4e23e96bddd-01
2021-08-24T05:15:16.774Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-24T05:15:16.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-20472b485f25a8fbbcb56aa65262bf51d0378a61-a2d6ec1ad8fe26c5-01 outer:exit 2b-20472b485f25a8fbbcb56aa65262bf51d0378a61-70a0fd0ad41c9cf8-01
2021-08-24T05:15:16.778Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-24T05:15:16.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-78b195e0c2328e44673d32e011fad4923e13dbaa-597d40d32d188a6f-01 outer:exit 2b-78b195e0c2328e44673d32e011fad4923e13dbaa-aae74e8e45997711-01
2021-08-24T05:15:16.781Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-24T05:15:16.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-1eb9e99a3b8fd7238d3294f2e566dea70a368cc0-d96ad91bbb4a759a-01 outer:exit 2b-1eb9e99a3b8fd7238d3294f2e566dea70a368cc0-800c8643938d0b91-01
2021-08-24T05:15:16.785Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-24T05:15:16.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-85016163f6040919e7ed4c8924886e63df2316f5-b41b5c5c84878a9e-01 outer:exit 2b-85016163f6040919e7ed4c8924886e63df2316f5-6970a99820b6114d-01
2021-08-24T05:15:16.815Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (386ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:22.675Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:22.676Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:22.676Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:22.677Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:22.804Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:22.893Z appoptics:patching patched crypto 
2021-08-24T05:15:22.942Z appoptics:patching patched https 
2021-08-24T05:15:22.942Z appoptics:patching patched http 
2021-08-24T05:15:23.007Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:23.007Z appoptics:patching patched fs 
2021-08-24T05:15:23.025Z appoptics:patching patched zlib 
2021-08-24T05:15:23.054Z appoptics:patching patched mongodb-core 3.0.0
2021-08-24T05:15:23.064Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group (41ms)
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (682ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:30.269Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:30.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:30.270Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:30.271Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:30.336Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:30.383Z appoptics:patching patched crypto 
2021-08-24T05:15:30.406Z appoptics:patching patched https 
2021-08-24T05:15:30.406Z appoptics:patching patched http 
2021-08-24T05:15:30.449Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:30.449Z appoptics:patching patched fs 
2021-08-24T05:15:30.465Z appoptics:patching patched zlib 
2021-08-24T05:15:30.491Z appoptics:patching patched mongodb-core 3.0.1
2021-08-24T05:15:30.497Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (345ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 10s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:41.695Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:41.695Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:41.695Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:41.696Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:41.762Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:41.808Z appoptics:patching patched crypto 
2021-08-24T05:15:41.832Z appoptics:patching patched https 
2021-08-24T05:15:41.832Z appoptics:patching patched http 
2021-08-24T05:15:41.879Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:41.880Z appoptics:patching patched fs 
2021-08-24T05:15:41.893Z appoptics:patching patched zlib 
2021-08-24T05:15:41.921Z appoptics:patching patched mongodb-core 3.0.2
2021-08-24T05:15:41.928Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (346ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:48.733Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:48.734Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:48.734Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:48.735Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:48.821Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:48.876Z appoptics:patching patched crypto 
2021-08-24T05:15:48.909Z appoptics:patching patched https 
2021-08-24T05:15:48.909Z appoptics:patching patched http 
2021-08-24T05:15:48.965Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:48.965Z appoptics:patching patched fs 
2021-08-24T05:15:48.978Z appoptics:patching patched zlib 
2021-08-24T05:15:49.008Z appoptics:patching patched mongodb-core 3.0.3
2021-08-24T05:15:49.016Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (477ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:15:55.150Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:15:55.151Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:15:55.151Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:15:55.152Z appoptics:debug using context provider: ace-context
2021-08-24T05:15:55.218Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:15:55.264Z appoptics:patching patched crypto 
2021-08-24T05:15:55.287Z appoptics:patching patched https 
2021-08-24T05:15:55.287Z appoptics:patching patched http 
2021-08-24T05:15:55.334Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:15:55.335Z appoptics:patching patched fs 
2021-08-24T05:15:55.348Z appoptics:patching patched zlib 
2021-08-24T05:15:55.377Z appoptics:patching patched mongodb-core 3.0.4
2021-08-24T05:15:55.384Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (484ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:02.111Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:02.111Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:02.111Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:02.112Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:02.190Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:02.237Z appoptics:patching patched crypto 
2021-08-24T05:16:02.259Z appoptics:patching patched https 
2021-08-24T05:16:02.259Z appoptics:patching patched http 
2021-08-24T05:16:02.306Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:02.307Z appoptics:patching patched fs 
2021-08-24T05:16:02.319Z appoptics:patching patched zlib 
2021-08-24T05:16:02.347Z appoptics:patching patched mongodb-core 3.0.5
2021-08-24T05:16:02.354Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (84ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (507ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:08.260Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:08.260Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:08.260Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:08.261Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:08.327Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:08.373Z appoptics:patching patched crypto 
2021-08-24T05:16:08.397Z appoptics:patching patched https 
2021-08-24T05:16:08.397Z appoptics:patching patched http 
2021-08-24T05:16:08.444Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:08.444Z appoptics:patching patched fs 
2021-08-24T05:16:08.457Z appoptics:patching patched zlib 
2021-08-24T05:16:08.487Z appoptics:patching patched mongodb-core 3.0.6
2021-08-24T05:16:08.494Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (75ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (377ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:15.206Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:15.211Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:15.211Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:15.212Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:15.295Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:15.350Z appoptics:patching patched crypto 
2021-08-24T05:16:15.374Z appoptics:patching patched https 
2021-08-24T05:16:15.375Z appoptics:patching patched http 
2021-08-24T05:16:15.423Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:15.424Z appoptics:patching patched fs 
2021-08-24T05:16:15.437Z appoptics:patching patched zlib 
2021-08-24T05:16:15.467Z appoptics:patching patched mongodb-core 3.0.7
2021-08-24T05:16:15.475Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (46ms)


  33 passing (510ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:21.306Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:21.307Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:21.307Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:21.308Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:21.373Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:21.419Z appoptics:patching patched crypto 
2021-08-24T05:16:21.441Z appoptics:patching patched https 
2021-08-24T05:16:21.441Z appoptics:patching patched http 
2021-08-24T05:16:21.495Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:21.495Z appoptics:patching patched fs 
2021-08-24T05:16:21.511Z appoptics:patching patched zlib 
2021-08-24T05:16:21.543Z appoptics:patching patched mongodb-core 3.0.8
2021-08-24T05:16:21.554Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (386ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:28.314Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:28.315Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:28.315Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:28.316Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:28.382Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:28.428Z appoptics:patching patched crypto 
2021-08-24T05:16:28.451Z appoptics:patching patched https 
2021-08-24T05:16:28.452Z appoptics:patching patched http 
2021-08-24T05:16:28.496Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:28.496Z appoptics:patching patched fs 
2021-08-24T05:16:28.512Z appoptics:patching patched zlib 
2021-08-24T05:16:28.541Z appoptics:patching patched mongodb-core 3.0.9
2021-08-24T05:16:28.548Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (458ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:34.596Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:34.597Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:34.597Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:34.598Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:34.684Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:34.732Z appoptics:patching patched crypto 
2021-08-24T05:16:34.756Z appoptics:patching patched https 
2021-08-24T05:16:34.757Z appoptics:patching patched http 
2021-08-24T05:16:34.806Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:34.806Z appoptics:patching patched fs 
2021-08-24T05:16:34.819Z appoptics:patching patched zlib 
2021-08-24T05:16:34.856Z appoptics:patching patched mongodb-core 3.0.11
2021-08-24T05:16:34.865Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (419ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:41.033Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:41.034Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:41.034Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:41.034Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:41.101Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:41.147Z appoptics:patching patched crypto 
2021-08-24T05:16:41.170Z appoptics:patching patched https 
2021-08-24T05:16:41.171Z appoptics:patching patched http 
2021-08-24T05:16:41.218Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:41.218Z appoptics:patching patched fs 
2021-08-24T05:16:41.231Z appoptics:patching patched zlib 
2021-08-24T05:16:41.265Z appoptics:patching patched mongodb-core 3.1.0
2021-08-24T05:16:41.272Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (286ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (7 low, 8 moderate, 12 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:47.605Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:47.606Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:47.606Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:47.607Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:47.672Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:47.719Z appoptics:patching patched crypto 
2021-08-24T05:16:47.742Z appoptics:patching patched https 
2021-08-24T05:16:47.742Z appoptics:patching patched http 
2021-08-24T05:16:47.787Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:47.787Z appoptics:patching patched fs 
2021-08-24T05:16:47.803Z appoptics:patching patched zlib 
2021-08-24T05:16:47.838Z appoptics:patching patched mongodb-core 3.1.1
2021-08-24T05:16:47.845Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (69ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (409ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 2 packages, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:16:54.166Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:16:54.167Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:16:54.167Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:16:54.168Z appoptics:debug using context provider: ace-context
2021-08-24T05:16:54.277Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:16:54.337Z appoptics:patching patched crypto 
2021-08-24T05:16:54.360Z appoptics:patching patched https 
2021-08-24T05:16:54.361Z appoptics:patching patched http 
2021-08-24T05:16:54.401Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:16:54.404Z appoptics:patching patched fs 
2021-08-24T05:16:54.419Z appoptics:patching patched zlib 
2021-08-24T05:16:54.453Z appoptics:patching patched mongodb-core 3.1.2
2021-08-24T05:16:54.460Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (59ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (43ms)


  33 passing (578ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:00.384Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:00.385Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:00.385Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:00.386Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:00.450Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:00.497Z appoptics:patching patched crypto 
2021-08-24T05:17:00.521Z appoptics:patching patched https 
2021-08-24T05:17:00.521Z appoptics:patching patched http 
2021-08-24T05:17:00.564Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:00.567Z appoptics:patching patched fs 
2021-08-24T05:17:00.582Z appoptics:patching patched zlib 
2021-08-24T05:17:00.616Z appoptics:patching patched mongodb-core 3.1.3
2021-08-24T05:17:00.622Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex (45ms)
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (442ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:07.414Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:07.414Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:07.414Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:07.416Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:07.481Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:07.528Z appoptics:patching patched crypto 
2021-08-24T05:17:07.551Z appoptics:patching patched https 
2021-08-24T05:17:07.552Z appoptics:patching patched http 
2021-08-24T05:17:07.594Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:07.597Z appoptics:patching patched fs 
2021-08-24T05:17:07.612Z appoptics:patching patched zlib 
2021-08-24T05:17:07.646Z appoptics:patching patched mongodb-core 3.1.4
2021-08-24T05:17:07.653Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (741ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:13.721Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:13.722Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:13.722Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:13.723Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:13.813Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:13.871Z appoptics:patching patched crypto 
2021-08-24T05:17:13.898Z appoptics:patching patched https 
2021-08-24T05:17:13.898Z appoptics:patching patched http 
2021-08-24T05:17:13.940Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:13.943Z appoptics:patching patched fs 
2021-08-24T05:17:13.959Z appoptics:patching patched zlib 
2021-08-24T05:17:13.994Z appoptics:patching patched mongodb-core 3.1.5
2021-08-24T05:17:14.002Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (532ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:20.559Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:20.560Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:20.560Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:20.561Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:20.626Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:20.674Z appoptics:patching patched crypto 
2021-08-24T05:17:20.698Z appoptics:patching patched https 
2021-08-24T05:17:20.698Z appoptics:patching patched http 
2021-08-24T05:17:20.740Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:20.742Z appoptics:patching patched fs 
2021-08-24T05:17:20.761Z appoptics:patching patched zlib 
2021-08-24T05:17:20.797Z appoptics:patching patched mongodb-core 3.1.6
2021-08-24T05:17:20.804Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (371ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:27.181Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:27.182Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:27.182Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:27.182Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:27.252Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:27.308Z appoptics:patching patched crypto 
2021-08-24T05:17:27.332Z appoptics:patching patched https 
2021-08-24T05:17:27.333Z appoptics:patching patched http 
2021-08-24T05:17:27.374Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:27.378Z appoptics:patching patched fs 
2021-08-24T05:17:27.393Z appoptics:patching patched zlib 
2021-08-24T05:17:27.465Z appoptics:patching patched mongodb-core 3.1.7
2021-08-24T05:17:27.473Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (663ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:33.540Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:33.541Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:33.541Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:33.541Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:33.607Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:33.653Z appoptics:patching patched crypto 
2021-08-24T05:17:33.675Z appoptics:patching patched https 
2021-08-24T05:17:33.676Z appoptics:patching patched http 
2021-08-24T05:17:33.717Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:33.718Z appoptics:patching patched fs 
2021-08-24T05:17:33.734Z appoptics:patching patched zlib 
2021-08-24T05:17:33.769Z appoptics:patching patched mongodb-core 3.1.8
2021-08-24T05:17:33.776Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (76ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (398ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:40.382Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:40.383Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:40.383Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:40.384Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:40.462Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:40.513Z appoptics:patching patched crypto 
2021-08-24T05:17:40.538Z appoptics:patching patched https 
2021-08-24T05:17:40.539Z appoptics:patching patched http 
2021-08-24T05:17:40.586Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:40.590Z appoptics:patching patched fs 
2021-08-24T05:17:40.604Z appoptics:patching patched zlib 
2021-08-24T05:17:40.638Z appoptics:patching patched mongodb-core 3.1.9
2021-08-24T05:17:40.645Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (77ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (385ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:46.640Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:46.641Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:46.641Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:46.642Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:46.710Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:46.761Z appoptics:patching patched crypto 
2021-08-24T05:17:46.785Z appoptics:patching patched https 
2021-08-24T05:17:46.786Z appoptics:patching patched http 
2021-08-24T05:17:46.826Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:46.829Z appoptics:patching patched fs 
2021-08-24T05:17:46.846Z appoptics:patching patched zlib 
2021-08-24T05:17:46.881Z appoptics:patching patched mongodb-core 3.1.10
2021-08-24T05:17:46.888Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (461ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:53.373Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:53.373Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:53.373Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:53.374Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:53.482Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:53.529Z appoptics:patching patched crypto 
2021-08-24T05:17:53.553Z appoptics:patching patched https 
2021-08-24T05:17:53.553Z appoptics:patching patched http 
2021-08-24T05:17:53.602Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:53.603Z appoptics:patching patched fs 
2021-08-24T05:17:53.617Z appoptics:patching patched zlib 
2021-08-24T05:17:53.652Z appoptics:patching patched mongodb-core 3.1.11
2021-08-24T05:17:53.659Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (276ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:17:59.419Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:17:59.419Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:17:59.419Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:17:59.420Z appoptics:debug using context provider: ace-context
2021-08-24T05:17:59.486Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:17:59.533Z appoptics:patching patched crypto 
2021-08-24T05:17:59.557Z appoptics:patching patched https 
2021-08-24T05:17:59.558Z appoptics:patching patched http 
2021-08-24T05:17:59.599Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:17:59.603Z appoptics:patching patched fs 
2021-08-24T05:17:59.617Z appoptics:patching patched zlib 
2021-08-24T05:17:59.660Z appoptics:patching patched mongodb-core 3.2.0
2021-08-24T05:17:59.667Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (469ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:06.507Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:06.507Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:06.508Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:06.508Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:06.574Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:06.620Z appoptics:patching patched crypto 
2021-08-24T05:18:06.643Z appoptics:patching patched https 
2021-08-24T05:18:06.644Z appoptics:patching patched http 
2021-08-24T05:18:06.684Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:06.687Z appoptics:patching patched fs 
2021-08-24T05:18:06.705Z appoptics:patching patched zlib 
2021-08-24T05:18:06.747Z appoptics:patching patched mongodb-core 3.2.1
2021-08-24T05:18:06.754Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (504ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:12.731Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:12.732Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:12.732Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:12.733Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:12.798Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:12.845Z appoptics:patching patched crypto 
2021-08-24T05:18:12.868Z appoptics:patching patched https 
2021-08-24T05:18:12.869Z appoptics:patching patched http 
2021-08-24T05:18:12.912Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:12.915Z appoptics:patching patched fs 
2021-08-24T05:18:12.939Z appoptics:patching patched zlib 
2021-08-24T05:18:12.991Z appoptics:patching patched mongodb-core 3.2.2
2021-08-24T05:18:13.001Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (349ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:19.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:19.637Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:19.637Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:19.638Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:19.704Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:19.751Z appoptics:patching patched crypto 
2021-08-24T05:18:19.774Z appoptics:patching patched https 
2021-08-24T05:18:19.775Z appoptics:patching patched http 
2021-08-24T05:18:19.817Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:19.821Z appoptics:patching patched fs 
2021-08-24T05:18:19.835Z appoptics:patching patched zlib 
2021-08-24T05:18:19.878Z appoptics:patching patched mongodb-core 3.2.3
2021-08-24T05:18:19.885Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (565ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:26.013Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:26.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:26.013Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:26.014Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:26.081Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:26.129Z appoptics:patching patched crypto 
2021-08-24T05:18:26.152Z appoptics:patching patched https 
2021-08-24T05:18:26.153Z appoptics:patching patched http 
2021-08-24T05:18:26.194Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:26.197Z appoptics:patching patched fs 
2021-08-24T05:18:26.214Z appoptics:patching patched zlib 
2021-08-24T05:18:26.259Z appoptics:patching patched mongodb-core 3.2.4
2021-08-24T05:18:26.267Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (355ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:32.531Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:32.532Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:32.532Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:32.533Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:32.601Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:32.648Z appoptics:patching patched crypto 
2021-08-24T05:18:32.673Z appoptics:patching patched https 
2021-08-24T05:18:32.674Z appoptics:patching patched http 
2021-08-24T05:18:32.714Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:32.718Z appoptics:patching patched fs 
2021-08-24T05:18:32.735Z appoptics:patching patched zlib 
2021-08-24T05:18:32.778Z appoptics:patching patched mongodb-core 3.2.5
2021-08-24T05:18:32.785Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (292ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:38.786Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:38.787Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:38.787Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:38.788Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:38.853Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:38.899Z appoptics:patching patched crypto 
2021-08-24T05:18:38.922Z appoptics:patching patched https 
2021-08-24T05:18:38.923Z appoptics:patching patched http 
2021-08-24T05:18:38.962Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:38.964Z appoptics:patching patched fs 
2021-08-24T05:18:38.981Z appoptics:patching patched zlib 
2021-08-24T05:18:39.024Z appoptics:patching patched mongodb-core 3.2.6
2021-08-24T05:18:39.031Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (554ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

changed 1 package, and audited 944 packages in 6s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-08-24T05:18:45.796Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-24T05:18:45.805Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-24T05:18:45.805Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-24T05:18:45.806Z appoptics:debug using context provider: ace-context
2021-08-24T05:18:45.874Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-24T05:18:45.922Z appoptics:patching patched crypto 
2021-08-24T05:18:45.946Z appoptics:patching patched https 
2021-08-24T05:18:45.946Z appoptics:patching patched http 
2021-08-24T05:18:45.988Z appoptics:patching fs.realpath - adding native method
2021-08-24T05:18:45.992Z appoptics:patching patched fs 
2021-08-24T05:18:46.006Z appoptics:patching patched zlib 
2021-08-24T05:18:46.048Z appoptics:patching patched mongodb-core 3.2.7
2021-08-24T05:18:46.055Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (59ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (452ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.7.0', npm: '7.20.3' }
npm WARN EBADENGINE }

up to date, audited 944 packages in 5s

32 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (7 low, 8 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
