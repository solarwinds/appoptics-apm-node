npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:15.409Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:15.409Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:15.409Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:15.410Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:15.482Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:15.611Z appoptics:patching patched crypto 
2022-04-20T15:27:15.646Z appoptics:patching patched https 
2022-04-20T15:27:15.646Z appoptics:patching patched http 
2022-04-20T15:27:15.688Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:15.689Z appoptics:patching patched fs 
2022-04-20T15:27:15.703Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v16.14.2)
2022-04-20T15:27:15.709Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2022-04-20T15:27:15.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b2376bc22c21e61fb311988a5db93a1a7745e87-0788eb0c8feb409a-01 outer:exit 2b-5b2376bc22c21e61fb311988a5db93a1a7745e87-4f261284fd43ef14-01
2022-04-20T15:27:15.761Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:27:15.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-0984859154a492ed4d39c60eb3be48f02da1f0b0-ef505e3147b79d70-01 outer:exit 2b-0984859154a492ed4d39c60eb3be48f02da1f0b0-e4dda2dd07628250-01
2022-04-20T15:27:15.815Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:27:15.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e828d2c22674ce19942a3b8b2796cf6d7eb1f92-f01e616cc591302a-01 outer:exit 2b-7e828d2c22674ce19942a3b8b2796cf6d7eb1f92-e7a9c2c926bfbf13-01
2022-04-20T15:27:15.824Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:27:15.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-b51bb74dd5a11ca484a959962f86a88414c08c12-ef24bbe3181a23e4-01 outer:exit 2b-b51bb74dd5a11ca484a959962f86a88414c08c12-6e97e9c17d0350a8-01
2022-04-20T15:27:15.827Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:27:15.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-d33d4dfc5d377b755c640bb75220d3f0aae0e40b-103e25ea185bf707-01 outer:exit 2b-d33d4dfc5d377b755c640bb75220d3f0aae0e40b-a1586551c5a84c7d-01
2022-04-20T15:27:15.833Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:27:15.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-41e82bed6f99ab85927ccb1c90ed571ff509b903-79080a8577bfa62d-01 outer:exit 2b-41e82bed6f99ab85927ccb1c90ed571ff509b903-7a6dcc68ddbe9d26-01
2022-04-20T15:27:15.838Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:27:15.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-020de98d2a8a3801f762690c93fb3afc1ee75639-21f3f124efe639f7-01 outer:exit 2b-020de98d2a8a3801f762690c93fb3afc1ee75639-58d7229a2e6caa80-01
2022-04-20T15:27:15.841Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:27:15.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-4269c718378170087afe3d9cc635fae267ed9a82-ac307fbb836bdedb-01 outer:exit 2b-4269c718378170087afe3d9cc635fae267ed9a82-7c58045352e898b4-01
2022-04-20T15:27:15.845Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:27:15.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-97063a997156890e645475c71616783f93c836eb-b3b14ddcf30ab966-01 outer:exit 2b-97063a997156890e645475c71616783f93c836eb-866e8014bab6a4a1-01
2022-04-20T15:27:15.848Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:27:15.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-118607cc1acaef9886428762ad261fe54a4b7e07-b30ed164d862aeb5-01 outer:exit 2b-118607cc1acaef9886428762ad261fe54a4b7e07-87e3a8c4ec20a3f2-01
2022-04-20T15:27:15.854Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:27:15.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a47601b7a854475067a50b77c22361e156043de-3c4381abbea0e0c0-01 outer:exit 2b-2a47601b7a854475067a50b77c22361e156043de-efbba2e5af223a2f-01
2022-04-20T15:27:15.858Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:27:15.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-76ed003c1df3d41651e930f5518deb5cbd988bc9-81154b71993266f8-01 outer:exit 2b-76ed003c1df3d41651e930f5518deb5cbd988bc9-2a44c11017460199-01
2022-04-20T15:27:15.895Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:27:15.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-ded6a33fdd0f5e670452c8c41a8094aba65ea926-6d7bc991ad7796e6-01 outer:exit 2b-ded6a33fdd0f5e670452c8c41a8094aba65ea926-720aa65952b0838d-01
2022-04-20T15:27:15.914Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:27:15.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ce04addd6a834cc61bc81e22b7376553705cefc-ceae69cd2ea6f919-01 outer:exit 2b-8ce04addd6a834cc61bc81e22b7376553705cefc-6930200b627f76e0-01
2022-04-20T15:27:15.957Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:27:15.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e0229743604fed04edc5b858e70e4e3840964cd-41120280a8c9efa0-01 outer:exit 2b-3e0229743604fed04edc5b858e70e4e3840964cd-ced68f610b13868e-01
2022-04-20T15:27:15.961Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:27:15.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e7db78d52c31359038c4890b4533fed98be8ebf-6a132b1832e404ba-01 outer:exit 2b-8e7db78d52c31359038c4890b4533fed98be8ebf-f195538d43ba96e8-01
2022-04-20T15:27:15.964Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:27:15.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b797bced507f6d2aca7787ab3f121ce12438821-02587b94112ed613-01 outer:exit 2b-0b797bced507f6d2aca7787ab3f121ce12438821-a28ebb018881ca18-01
2022-04-20T15:27:15.969Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:27:15.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc01573ae7ac9965d69580922174ccc55b093505-3e4d497101ed28bf-01 outer:exit 2b-bc01573ae7ac9965d69580922174ccc55b093505-00bbfcb00bd3d207-01
2022-04-20T15:27:15.972Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:27:15.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-50e4358ef3ae1782f08a9e14657341b881bf29ff-d3d058f1eea75c66-01 outer:exit 2b-50e4358ef3ae1782f08a9e14657341b881bf29ff-be9624dd7dc5ee80-01
2022-04-20T15:27:15.975Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:27:15.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-92b95eb4a6db4a7b0a271518204e23506dc6d6a7-ea2b580ddd71cab0-01 outer:exit 2b-92b95eb4a6db4a7b0a271518204e23506dc6d6a7-fd8408aac33bbf9a-01
2022-04-20T15:27:15.977Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:27:15.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-591c728cd3b4a1fa692b83327e41733aeeb605d1-b89509a80a325d7c-01 outer:exit 2b-591c728cd3b4a1fa692b83327e41733aeeb605d1-b459a4a3db6a745f-01
2022-04-20T15:27:15.979Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:27:15.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2cf766549482ad3d129e5e5e8e55114b3d08e4d-267a2d33d72c114b-01 outer:exit 2b-b2cf766549482ad3d129e5e5e8e55114b3d08e4d-995624b9a6454402-01
2022-04-20T15:27:15.981Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:27:15.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e5af1c6e883e50f2e3e40ceb9f1c9d7b2ecb045-4f0c171ccaec7615-01 outer:exit 2b-5e5af1c6e883e50f2e3e40ceb9f1c9d7b2ecb045-31c7f6bd66915d53-01
2022-04-20T15:27:15.986Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:27:15.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1fe036f1d16d01265903086d63c04556bf96fa9-640641ce71ad51a7-01 outer:exit 2b-d1fe036f1d16d01265903086d63c04556bf96fa9-4fa665d1c0b62ec5-01
2022-04-20T15:27:15.989Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:27:15.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a42e045482748416eba87a94e32d3f9a9949b42-8e8d0a4694eed752-01 outer:exit 2b-3a42e045482748416eba87a94e32d3f9a9949b42-d557e57fe4325b7a-01
2022-04-20T15:27:15.991Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:27:15.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-41f406455e5c369f599198f898fcf3fc355042fd-688b878d819eb0ec-01 outer:exit 2b-41f406455e5c369f599198f898fcf3fc355042fd-a7de8452c2024340-01
2022-04-20T15:27:15.993Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:27:16.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-56a67d0c4f609ea2e2f23f7eeb4a3880a4095f40-e7530d8325a9ec53-01 outer:exit 2b-56a67d0c4f609ea2e2f23f7eeb4a3880a4095f40-ef108ae0285a287f-01
2022-04-20T15:27:16.033Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:27:16.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b5089737456fc4484d72b127c6b5747e1bd79ba-305ca088b6d59e5b-01 outer:exit 2b-4b5089737456fc4484d72b127c6b5747e1bd79ba-c83fa782796cdd2c-01
2022-04-20T15:27:16.054Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:27:16.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-b07b0da363b7b7aa43a3ec023a40a3ee55bcfb7b-867191aaa3aa4e42-01 outer:exit 2b-b07b0da363b7b7aa43a3ec023a40a3ee55bcfb7b-63cd4067ac2dbd00-01
2022-04-20T15:27:16.065Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:27:16.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-62229d067cf40e23c3ebb3c6f4ddb482bca043e7-1aed1b7daa3700f3-01 outer:exit 2b-62229d067cf40e23c3ebb3c6f4ddb482bca043e7-f5a5717baf68692c-01
2022-04-20T15:27:16.093Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:27:16.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d66e76141a84cc7faed88ed9cb5740e9a465f7f-6c86167c7636c155-01 outer:exit 2b-2d66e76141a84cc7faed88ed9cb5740e9a465f7f-b62eea498d54b5e2-01
2022-04-20T15:27:16.098Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:27:16.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-2912bf2e8ed41515eaaf2b14642df0b3dec6d821-ac2307cbd9191350-01 outer:exit 2b-2912bf2e8ed41515eaaf2b14642df0b3dec6d821-3efe75a503ba4882-01
2022-04-20T15:27:16.101Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:27:16.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-11b300b58a85c3ae5424508ad1db37b90e2b12ed-b373fc660dfe0a23-01 outer:exit 2b-11b300b58a85c3ae5424508ad1db37b90e2b12ed-453d9f746b522b26-01
2022-04-20T15:27:16.109Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:27:16.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dff97abc34d4f43d157515e1088af560bca0158-8d7e422ffcd667a9-01 outer:exit 2b-3dff97abc34d4f43d157515e1088af560bca0158-7a818ccd60a77142-01
2022-04-20T15:27:16.116Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:27:16.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-85e6d71d8744f3454af00188660a2e274b1318d9-24d4db9cbdee11c8-01 outer:exit 2b-85e6d71d8744f3454af00188660a2e274b1318d9-1e8be3d8302db43c-01
2022-04-20T15:27:16.118Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:27:16.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-452f0ac022e1b1847b60a178565e34a3a61b928b-1d09d73ff5eaee25-01 outer:exit 2b-452f0ac022e1b1847b60a178565e34a3a61b928b-af74eac6e6556a9b-01
2022-04-20T15:27:16.121Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:27:16.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-50b3648b3d5b0d0b9444cfd3a6141725b402d5b3-afc5f2140de6ae5f-01 outer:exit 2b-50b3648b3d5b0d0b9444cfd3a6141725b402d5b3-21b90d38a31c6e35-01
2022-04-20T15:27:16.123Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:27:16.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-4111d58da1a06fcaf76ca7204da25e4706869b90-90ca7c0a6d09a2f1-01 outer:exit 2b-4111d58da1a06fcaf76ca7204da25e4706869b90-ea33e5c11636ee39-01
2022-04-20T15:27:16.124Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:27:16.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-9493599cfccda422772cb799bbf4521a549e4a38-136f7c45fff9be78-01 outer:exit 2b-9493599cfccda422772cb799bbf4521a549e4a38-c35150825ec40088-01
2022-04-20T15:27:16.133Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:27:16.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-affabbcd69b6dd2336293ffa82a5ab610d9a1fa7-9bc9c058a8162b89-01 outer:exit 2b-affabbcd69b6dd2336293ffa82a5ab610d9a1fa7-d88b81cc0b674c30-01
2022-04-20T15:27:16.141Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:27:16.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-bef21cca9b3559f086c31e01a5453764dc2f4a5f-852312e4f1c4b6c9-01 outer:exit 2b-bef21cca9b3559f086c31e01a5453764dc2f4a5f-cbe13db192e62d52-01
2022-04-20T15:27:16.144Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:27:16.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e21907576bb12f0ff84409b9054eceafc33e4aa-ac81c040fa038b5e-01 outer:exit 2b-1e21907576bb12f0ff84409b9054eceafc33e4aa-7faaaa7fc23aa31c-01
2022-04-20T15:27:16.147Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:27:16.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd20652f73904b7b1902965a79a803d78f9157d7-8bcb1e6f510f1ded-01 outer:exit 2b-fd20652f73904b7b1902965a79a803d78f9157d7-328d4803b4282121-01
2022-04-20T15:27:16.211Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:27:16.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-053b096a0e83e2bf17eee1ece4c2a12e75a29065-13764c3252c20824-01 outer:exit 2b-053b096a0e83e2bf17eee1ece4c2a12e75a29065-2d64a5b42e5135d9-01
2022-04-20T15:27:16.243Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (529ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:22.623Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:22.624Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:22.624Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:22.625Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:22.684Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:22.811Z appoptics:patching patched crypto 
2022-04-20T15:27:22.845Z appoptics:patching patched https 
2022-04-20T15:27:22.846Z appoptics:patching patched http 
2022-04-20T15:27:22.895Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:22.896Z appoptics:patching patched fs 
2022-04-20T15:27:22.909Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v16.14.2)
2022-04-20T15:27:22.915Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2022-04-20T15:27:22.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-f81c729ce13472e2377f5b10212239776dcde159-b1f4e7760cf7d75b-01 outer:exit 2b-f81c729ce13472e2377f5b10212239776dcde159-4400aeaa81c9b9c4-01
2022-04-20T15:27:22.956Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:27:22.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-181c7b3239b46b0d715cc0c15d972178ddb72f1f-d824b6e60fa7caff-01 outer:exit 2b-181c7b3239b46b0d715cc0c15d972178ddb72f1f-24e466378e6a0fde-01
2022-04-20T15:27:22.993Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:27:22.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-22f689c5f398450ba639ed587fc4117e87d87270-8c60758859bb65c7-01 outer:exit 2b-22f689c5f398450ba639ed587fc4117e87d87270-91f4e2840ebc0680-01
2022-04-20T15:27:22.996Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:27:22.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d5e1db757f6b93a809d73861f5795fb286bbf2d-009c1e400e194d61-01 outer:exit 2b-9d5e1db757f6b93a809d73861f5795fb286bbf2d-044dea2a182e89e0-01
2022-04-20T15:27:22.999Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:27:23.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b414fcb644c97878db54516f574b8623f19e293-138acaf672f0c653-01 outer:exit 2b-6b414fcb644c97878db54516f574b8623f19e293-c8b90521d52c6b6d-01
2022-04-20T15:27:23.004Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:27:23.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cea6884a3bb5dccc393bface9ce26b279ec6e43-82a8bb7d0fc22356-01 outer:exit 2b-5cea6884a3bb5dccc393bface9ce26b279ec6e43-92af999d1b8f71d0-01
2022-04-20T15:27:23.008Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:27:23.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-9379b928f660e1431f9fb98a32435d06e02369d9-7a1c678723620f2a-01 outer:exit 2b-9379b928f660e1431f9fb98a32435d06e02369d9-0acb23fd2f4c3d56-01
2022-04-20T15:27:23.011Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:27:23.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4c1a75e039eaaa934ea70751afc612a6aeafba2-058c64ba79d4e767-01 outer:exit 2b-b4c1a75e039eaaa934ea70751afc612a6aeafba2-3423e8f9b3e1dbfa-01
2022-04-20T15:27:23.013Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:27:23.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-b90d280b0b35cf243c7bbd030d74dde07c7df19c-84b23fae00dfaaea-01 outer:exit 2b-b90d280b0b35cf243c7bbd030d74dde07c7df19c-35f9fea1486661f5-01
2022-04-20T15:27:23.015Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:27:23.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eb0e53fffccebc6e2ec0afc42b7758e1de4f463-2da066fffd6ec0c9-01 outer:exit 2b-7eb0e53fffccebc6e2ec0afc42b7758e1de4f463-f5554ab01620a2cb-01
2022-04-20T15:27:23.018Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:27:23.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-97b53a875dbc5b235179b2795de8cde7b32c63f8-d1d30bcbe34bf869-01 outer:exit 2b-97b53a875dbc5b235179b2795de8cde7b32c63f8-a106a895e810fe78-01
2022-04-20T15:27:23.022Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:27:23.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6a1d5fa7226a14c8e237ee93cf44d7c469d2927-e7f01bed612af1fe-01 outer:exit 2b-c6a1d5fa7226a14c8e237ee93cf44d7c469d2927-219f43879a190ee0-01
2022-04-20T15:27:23.032Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:27:23.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-b92f88206987a36dbbef20eb06a886c33dc08762-32b0f4ba6c6583a4-01 outer:exit 2b-b92f88206987a36dbbef20eb06a886c33dc08762-27b04f02ca4924d9-01
2022-04-20T15:27:23.060Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:27:23.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ff4e5d3a806f9686c3ce6fdcd970af2776e60d5-9d3252868c8595a8-01 outer:exit 2b-5ff4e5d3a806f9686c3ce6fdcd970af2776e60d5-e9adb88ee0625a06-01
2022-04-20T15:27:23.098Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:27:23.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-f27a87edb06e74951de3c9e0b65db6f869abdaec-c89eee9eaf85504a-01 outer:exit 2b-f27a87edb06e74951de3c9e0b65db6f869abdaec-e061fbbe76ac580e-01
2022-04-20T15:27:23.101Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:27:23.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-356b03dcdc8e36e86bf3dc8ac650687f9836d761-255a0689675355b0-01 outer:exit 2b-356b03dcdc8e36e86bf3dc8ac650687f9836d761-f876e00bd407de48-01
2022-04-20T15:27:23.105Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:27:23.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-551341628273be6ad20f79d977391356da739c51-9057be651abf7a67-01 outer:exit 2b-551341628273be6ad20f79d977391356da739c51-40bc01b72af96285-01
2022-04-20T15:27:23.108Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:27:23.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-52f37b6494545c6a4b7fd3625332cf0684ff6832-e34b4f30cfcd076b-01 outer:exit 2b-52f37b6494545c6a4b7fd3625332cf0684ff6832-69418f35646a4470-01
2022-04-20T15:27:23.110Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:27:23.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f3ac7d6db2301047991f8e8a0a81378c26a9267-999977ad544e0723-01 outer:exit 2b-0f3ac7d6db2301047991f8e8a0a81378c26a9267-dd8e188e87c02960-01
2022-04-20T15:27:23.112Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:27:23.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-86690ac7955fb8db1b0a673ef1a26e538603b0e3-9e780efdc46303e7-01 outer:exit 2b-86690ac7955fb8db1b0a673ef1a26e538603b0e3-00bec0d6ba8f5c9e-01
2022-04-20T15:27:23.115Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:27:23.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-f864267e473856253bf76f5cf7ab636349eeeee4-0eb3030da66a2920-01 outer:exit 2b-f864267e473856253bf76f5cf7ab636349eeeee4-9f78a3f44999e251-01
2022-04-20T15:27:23.116Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:27:23.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b39b6091e1737690fb50a3fc26e6da423f46eda-25bcb31e9290585b-01 outer:exit 2b-5b39b6091e1737690fb50a3fc26e6da423f46eda-a1a1c0da49ab0668-01
2022-04-20T15:27:23.118Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:27:23.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-45cd45ff1670398ca6fe4f02a8f300cd57b10a8f-d9891a53d0a6e683-01 outer:exit 2b-45cd45ff1670398ca6fe4f02a8f300cd57b10a8f-a822aa768659da20-01
2022-04-20T15:27:23.121Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:27:23.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc3a2fb30c407864307c58e8df3dee2c9df8e8ee-5b677787f437d1f6-01 outer:exit 2b-fc3a2fb30c407864307c58e8df3dee2c9df8e8ee-eb195f2f7d6c4f6f-01
2022-04-20T15:27:23.124Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:27:23.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-6124831ffebb59852879be69dab7567b8fd2e6f2-607c4c61c3ac594d-01 outer:exit 2b-6124831ffebb59852879be69dab7567b8fd2e6f2-3f0844e712014e79-01
2022-04-20T15:27:23.126Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:27:23.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-25e77362fc3554c9854bc772868d93f36e26cbd1-a2a1d45dafb23705-01 outer:exit 2b-25e77362fc3554c9854bc772868d93f36e26cbd1-5513ba8ebbcf5600-01
2022-04-20T15:27:23.128Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:27:23.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-a62f6b8ae53139a977301590b3844af43edb1297-04e63df438bf0caa-01 outer:exit 2b-a62f6b8ae53139a977301590b3844af43edb1297-1aef0c42805a26e5-01
2022-04-20T15:27:23.137Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:27:23.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d14c2b3511c50f72af443a83abb9ae158c7bb8d-d3758591e95f95dc-01 outer:exit 2b-5d14c2b3511c50f72af443a83abb9ae158c7bb8d-647297a8f1f47f97-01
2022-04-20T15:27:23.141Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:27:23.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-e187574797e651024d7fd0f3f98383430421546e-e83813454f08a676-01 outer:exit 2b-e187574797e651024d7fd0f3f98383430421546e-59f6bd3887a62675-01
2022-04-20T15:27:23.149Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:27:23.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d1ceb50a06f922c334045ad2ce837334648afe9-48b7eee2cbfc07d8-01 outer:exit 2b-2d1ceb50a06f922c334045ad2ce837334648afe9-0138255ca43e0335-01
2022-04-20T15:27:23.155Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:27:23.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb64b4b531be5a7a06fe87ef5cf2e0186f9bdf2a-4405fec4a573b021-01 outer:exit 2b-bb64b4b531be5a7a06fe87ef5cf2e0186f9bdf2a-d5bb9347d06dd93c-01
2022-04-20T15:27:23.157Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:27:23.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-11b177519b20db3593a9a7039e2036da2f11acc0-f585f8545f100bbb-01 outer:exit 2b-11b177519b20db3593a9a7039e2036da2f11acc0-061bb2559063a505-01
2022-04-20T15:27:23.161Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:27:23.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-a13d4d48c06eef09171c6d0b1ca2ecca760e1c82-7516c7d38b682974-01 outer:exit 2b-a13d4d48c06eef09171c6d0b1ca2ecca760e1c82-5bdc3c73fc2dfcf3-01
2022-04-20T15:27:23.168Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:27:23.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-f66bd3ae7e82ca76d62c0ca8b655da525c50ae39-987ee97ca8679d48-01 outer:exit 2b-f66bd3ae7e82ca76d62c0ca8b655da525c50ae39-bd7ab8f4cb9060f8-01
2022-04-20T15:27:23.170Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:27:23.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2034edf9380d6f44b5d53e07c3efde78e765335-3c519269948d9387-01 outer:exit 2b-f2034edf9380d6f44b5d53e07c3efde78e765335-f7ffb0d9496298fe-01
2022-04-20T15:27:23.171Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:27:23.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-6243697bb1cacb0d994938e938cbdff45a8cf923-6f425acc12a4b70d-01 outer:exit 2b-6243697bb1cacb0d994938e938cbdff45a8cf923-f24538e74c282d21-01
2022-04-20T15:27:23.174Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:27:23.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd36f1e7d0e5e6698ad93dfcc4848604f8542c54-0f9a6a96492c64f3-01 outer:exit 2b-bd36f1e7d0e5e6698ad93dfcc4848604f8542c54-7046aa0dae4fca0c-01
2022-04-20T15:27:23.176Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:27:23.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-60e392fa645c20b4d7eb4224ecd54b23a863e73c-1cc78c3c475aac95-01 outer:exit 2b-60e392fa645c20b4d7eb4224ecd54b23a863e73c-14a7cf475422987c-01
2022-04-20T15:27:23.178Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:27:23.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3a58117af0907892da566fd028628d34a33abdf-bb3e082c4c6ea04c-01 outer:exit 2b-e3a58117af0907892da566fd028628d34a33abdf-c829377d1531dfed-01
2022-04-20T15:27:23.186Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:27:23.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcc70976194ff8da9b4b774b5b1d12a5d8448c33-bb8f4fb21c210d4a-01 outer:exit 2b-fcc70976194ff8da9b4b774b5b1d12a5d8448c33-a53c21667da6ddfd-01
2022-04-20T15:27:23.194Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:27:23.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-4956d76496a7a5932824add42aaa502bb6c23c6f-ccf88f82e8f2c0f9-01 outer:exit 2b-4956d76496a7a5932824add42aaa502bb6c23c6f-62ecb53895b7019f-01
2022-04-20T15:27:23.196Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:27:23.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-077298bb1b2597931fe7934a0a69febaa349e7a1-6551888fa5675187-01 outer:exit 2b-077298bb1b2597931fe7934a0a69febaa349e7a1-e7cc27cbd4b2e96c-01
2022-04-20T15:27:23.198Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:27:23.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2116ae5833bcf0752d9c0d4c2ed7521b6cc6c61-89684e1705db04ef-01 outer:exit 2b-e2116ae5833bcf0752d9c0d4c2ed7521b6cc6c61-807219316e36bcfa-01
2022-04-20T15:27:23.201Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:27:23.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-10f008d1051eed7c7b0102c81299e02c0a2a4c16-7373ef7502afd881-01 outer:exit 2b-10f008d1051eed7c7b0102c81299e02c0a2a4c16-26c582863bff01c3-01
2022-04-20T15:27:23.251Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (330ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:28.997Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:28.997Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:28.997Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:28.998Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:29.055Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:29.164Z appoptics:patching patched crypto 
2022-04-20T15:27:29.182Z appoptics:patching patched https 
2022-04-20T15:27:29.183Z appoptics:patching patched http 
2022-04-20T15:27:29.226Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:29.226Z appoptics:patching patched fs 
2022-04-20T15:27:29.239Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v16.14.2)
2022-04-20T15:27:29.245Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2022-04-20T15:27:29.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-bca30272e444f4e718c31c2fdf96f07baf486e6d-e7fe47908b3be7d1-01 outer:exit 2b-bca30272e444f4e718c31c2fdf96f07baf486e6d-9f0efc78d18104a9-01
2022-04-20T15:27:29.285Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:27:29.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-f75977f7d6687210f0be76784c85f690703c2bab-ff13b3613e246a5e-01 outer:exit 2b-f75977f7d6687210f0be76784c85f690703c2bab-c7897187faa61027-01
2022-04-20T15:27:29.323Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:27:29.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fc142fe8f8644423c3a9863a0fd1df177bb2cbf-8c6677d81bfc3b2b-01 outer:exit 2b-9fc142fe8f8644423c3a9863a0fd1df177bb2cbf-bd6ae4e0a789d9c9-01
2022-04-20T15:27:29.326Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:27:29.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dcb5c193aeb1ca326ea2f95c8461d30c0a5375c-fa46a22d7e68a12f-01 outer:exit 2b-4dcb5c193aeb1ca326ea2f95c8461d30c0a5375c-87f5f316570b32d4-01
2022-04-20T15:27:29.329Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:27:29.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-54b230e245eeef520204f01dec34eb2e9b6b85ef-f6bda42fc0a4529b-01 outer:exit 2b-54b230e245eeef520204f01dec34eb2e9b6b85ef-9f294e792fdc313c-01
2022-04-20T15:27:29.334Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:27:29.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-6af66bd22c028e859041a908623dc51635e92c11-96634fa37d9cd880-01 outer:exit 2b-6af66bd22c028e859041a908623dc51635e92c11-8fd0a956d670c0c1-01
2022-04-20T15:27:29.337Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:27:29.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-708c3fb26daf8fb5a334b09224bec7295e769b88-27edbd013aa47f16-01 outer:exit 2b-708c3fb26daf8fb5a334b09224bec7295e769b88-c0d95c280e13f22f-01
2022-04-20T15:27:29.339Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:27:29.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-865eb6eb9cb5b86eb4777da7fc7ab5196badba21-89b4f4bf53c70923-01 outer:exit 2b-865eb6eb9cb5b86eb4777da7fc7ab5196badba21-03bdd59fbe41c916-01
2022-04-20T15:27:29.342Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:27:29.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee1bf29572722daa47a7200b635b1d629040a7c8-0331c87f6582fc56-01 outer:exit 2b-ee1bf29572722daa47a7200b635b1d629040a7c8-7328690ac068e105-01
2022-04-20T15:27:29.344Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:27:29.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-1db2ce2fba8062130aa4b8eefca46dc4423dbb17-8855e35dce8acca6-01 outer:exit 2b-1db2ce2fba8062130aa4b8eefca46dc4423dbb17-a80f54e73fae1a76-01
2022-04-20T15:27:29.347Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:27:29.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-478a2203cbbed38d87d23c58bddb6beef0fdb2bf-2513149007258b63-01 outer:exit 2b-478a2203cbbed38d87d23c58bddb6beef0fdb2bf-d93ecce955c8a126-01
2022-04-20T15:27:29.351Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:27:29.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-b58edcea64198b2f3099ec1df16d101136697f3e-1c0d6eb734f57f4f-01 outer:exit 2b-b58edcea64198b2f3099ec1df16d101136697f3e-f9a10de306465a49-01
2022-04-20T15:27:29.357Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:27:29.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9433c09f817f004f9e577d924a7226fa29a1081-2035d25ee31755fb-01 outer:exit 2b-f9433c09f817f004f9e577d924a7226fa29a1081-4562ef3886a4eb9b-01
2022-04-20T15:27:29.370Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:27:29.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8d1c1ef526ab9694a2b77a12dd4f90574f67f77-a0d81552dd9195d7-01 outer:exit 2b-f8d1c1ef526ab9694a2b77a12dd4f90574f67f77-fc530d53f063923f-01
2022-04-20T15:27:29.404Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:27:29.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-554ce77d922d8db695a9b44051df769cc0812a3a-99001461d4d24ef9-01 outer:exit 2b-554ce77d922d8db695a9b44051df769cc0812a3a-d9b1271010fadace-01
2022-04-20T15:27:29.406Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:27:29.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbb46251c1e3359dac7a037352d9edd1aa0063ec-19aa693f63d6208c-01 outer:exit 2b-bbb46251c1e3359dac7a037352d9edd1aa0063ec-7df28e71fd5ba16a-01
2022-04-20T15:27:29.408Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:27:29.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-eadea90472c66e9c7fe63646add6ad3840c34703-e88b3546a3853e20-01 outer:exit 2b-eadea90472c66e9c7fe63646add6ad3840c34703-3774957ade420dc2-01
2022-04-20T15:27:29.413Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:27:29.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-72ac5473d43bfd7d006388cb6117a3f9148d56e9-bb2da9826ee69cd0-01 outer:exit 2b-72ac5473d43bfd7d006388cb6117a3f9148d56e9-e84267b00b444557-01
2022-04-20T15:27:29.414Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:27:29.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-a524bac6eb7c81406cee82b4a87d7140eedebea9-72f30de68bc17f30-01 outer:exit 2b-a524bac6eb7c81406cee82b4a87d7140eedebea9-2d458d8029b78165-01
2022-04-20T15:27:29.416Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:27:29.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fbb62ac68338d8d9d4a08bd6d5efdb0fe85b15a-f76c25f74c3ff34f-01 outer:exit 2b-5fbb62ac68338d8d9d4a08bd6d5efdb0fe85b15a-cf27aabed64cfce2-01
2022-04-20T15:27:29.418Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:27:29.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-632ec71088136e1c58eafc45c780c52647799aef-2e60931fd528cdfd-01 outer:exit 2b-632ec71088136e1c58eafc45c780c52647799aef-1d590bf69e09aee1-01
2022-04-20T15:27:29.420Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:27:29.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d4d9cda918bb44135adbc1af14a85e86c75e804-5b22efc956a06d61-01 outer:exit 2b-6d4d9cda918bb44135adbc1af14a85e86c75e804-95153d8a8e8f6c41-01
2022-04-20T15:27:29.422Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:27:29.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-063551366e02839ecd5d60b4161468f9e01a51b9-14137fbe16ebdfa4-01 outer:exit 2b-063551366e02839ecd5d60b4161468f9e01a51b9-cc31852e601697f1-01
2022-04-20T15:27:29.424Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:27:29.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-c321ab2faa903e7c1d5994854479e123ccd7436d-38448778159531d9-01 outer:exit 2b-c321ab2faa903e7c1d5994854479e123ccd7436d-003505cbb73fed63-01
2022-04-20T15:27:29.427Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:27:29.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ca35790ef9452ed6a6de1e7647ba6c38a522f21-20d6416b090aa74b-01 outer:exit 2b-3ca35790ef9452ed6a6de1e7647ba6c38a522f21-f167a0000d88fa2d-01
2022-04-20T15:27:29.429Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:27:29.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd90cd68ffdf3593373946c7cdf8fecea0c15dac-e99467c1937947db-01 outer:exit 2b-cd90cd68ffdf3593373946c7cdf8fecea0c15dac-80a7faba586662fe-01
2022-04-20T15:27:29.431Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:27:29.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-e04c7b028c892566256c650aeb610f88ffac76fa-4260212d4cd2f75b-01 outer:exit 2b-e04c7b028c892566256c650aeb610f88ffac76fa-08ef74e8ae5306b3-01
2022-04-20T15:27:29.436Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:27:29.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-03ad442cac17746cb5d5335eb129b3525061c8a2-6414e2249e9761d5-01 outer:exit 2b-03ad442cac17746cb5d5335eb129b3525061c8a2-99b11687c98ebbba-01
2022-04-20T15:27:29.440Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:27:29.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-6660d1c0b53da7ff7ffc868e35306e3f64178f2c-bf23268332524a6d-01 outer:exit 2b-6660d1c0b53da7ff7ffc868e35306e3f64178f2c-abea8bba578bb996-01
2022-04-20T15:27:29.446Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:27:29.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-01d70c488c2ed3e0f94fdac800f13b9904db7b81-de8549522b229a87-01 outer:exit 2b-01d70c488c2ed3e0f94fdac800f13b9904db7b81-8aeae62591ab8c93-01
2022-04-20T15:27:29.454Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:27:29.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba9ce53e70f5d916cf4f8ff25f67b478c1fab58c-9708dfc6885592d4-01 outer:exit 2b-ba9ce53e70f5d916cf4f8ff25f67b478c1fab58c-2ad22ff970a7c0df-01
2022-04-20T15:27:29.457Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:27:29.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-376c376ef2b673b398a72dab0c1041d60dc3f292-25bb6eb953b42195-01 outer:exit 2b-376c376ef2b673b398a72dab0c1041d60dc3f292-520c393611af0753-01
2022-04-20T15:27:29.459Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:27:29.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-82a8d348d4b1d82dbb44a7ee28834a16c93f64ee-1c48dcacd2218b3a-01 outer:exit 2b-82a8d348d4b1d82dbb44a7ee28834a16c93f64ee-5d7b2a4006582a99-01
2022-04-20T15:27:29.465Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:27:29.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-73710826005a634c0bc32fe3432c5190fcc93148-ad8dedd8243d9ef5-01 outer:exit 2b-73710826005a634c0bc32fe3432c5190fcc93148-f2ae14f13a9eb280-01
2022-04-20T15:27:29.467Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:27:29.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad3ae0f10c5c7b22f20e933771200508873daec1-30c901d9c204b176-01 outer:exit 2b-ad3ae0f10c5c7b22f20e933771200508873daec1-872bc900554da681-01
2022-04-20T15:27:29.468Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:27:29.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-d012e173cd54df23908214ad49f8da5e8d1ab1bc-dcb70c446d98d562-01 outer:exit 2b-d012e173cd54df23908214ad49f8da5e8d1ab1bc-8a82d4742b83238b-01
2022-04-20T15:27:29.470Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:27:29.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7579784afddc10cb4ffaf1c0a1810a4a98a3194-999d56b0c93728a5-01 outer:exit 2b-b7579784afddc10cb4ffaf1c0a1810a4a98a3194-c9619c9bb2612670-01
2022-04-20T15:27:29.471Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:27:29.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-59fe658d4e0d074dfb6a014d4f5f1cb6bd1f02e5-45e9ce3f16bae761-01 outer:exit 2b-59fe658d4e0d074dfb6a014d4f5f1cb6bd1f02e5-6246ff1571cc00d0-01
2022-04-20T15:27:29.473Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:27:29.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-97184d7892611469dc8e93dc732ea3fad15d0ae5-95a002b1e7722c96-01 outer:exit 2b-97184d7892611469dc8e93dc732ea3fad15d0ae5-03cc2dc073c68674-01
2022-04-20T15:27:29.481Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:27:29.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b96e152c960d1689695d30bdb9984f585071e70-141f95ba789437fa-01 outer:exit 2b-6b96e152c960d1689695d30bdb9984f585071e70-c60e2b30adc9ad8f-01
2022-04-20T15:27:29.489Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:27:29.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-86433dbce5658122143c37c7dec17721aea0f9b8-8812ebebaa2c2862-01 outer:exit 2b-86433dbce5658122143c37c7dec17721aea0f9b8-33c919eb81a29722-01
2022-04-20T15:27:29.491Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:27:29.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa12b661b7330a69cd3ad3e65307d3e813f52ba1-ce19f0cbc17a1b9d-01 outer:exit 2b-aa12b661b7330a69cd3ad3e65307d3e813f52ba1-d2353fa7ca88c607-01
2022-04-20T15:27:29.493Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:27:29.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbfbadf39a84189db66ff0566c59c53829a96859-2b458b07121560a8-01 outer:exit 2b-dbfbadf39a84189db66ff0566c59c53829a96859-68c3c07e0547b008-01
2022-04-20T15:27:29.495Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:27:29.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-9db176f123cbe0ef1f93350e10f76f0246e48f7d-ee2b6d63369d276d-01 outer:exit 2b-9db176f123cbe0ef1f93350e10f76f0246e48f7d-2f782eac9d533992-01
2022-04-20T15:27:29.521Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (270ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:36.084Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:36.085Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:36.085Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:36.086Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:36.145Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:36.253Z appoptics:patching patched crypto 
2022-04-20T15:27:36.280Z appoptics:patching patched https 
2022-04-20T15:27:36.281Z appoptics:patching patched http 
2022-04-20T15:27:36.322Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:36.323Z appoptics:patching patched fs 
2022-04-20T15:27:36.336Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v16.14.2)
2022-04-20T15:27:36.342Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2022-04-20T15:27:36.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e5933a1094f294d87ddc73b39fd45d0c3b7e31e-942810ae65d9155e-01 outer:exit 2b-5e5933a1094f294d87ddc73b39fd45d0c3b7e31e-b10451ec5a045b31-01
2022-04-20T15:27:36.393Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:27:36.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e05c814245907cbae50d81fb7190780ddf4d874-dd20aaad69ffc49b-01 outer:exit 2b-0e05c814245907cbae50d81fb7190780ddf4d874-c112846a4abb8f2f-01
2022-04-20T15:27:36.433Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:27:36.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e2076ec898635360eb42b54a7227cd6c440c9ad-8ae7fd91fab495fa-01 outer:exit 2b-7e2076ec898635360eb42b54a7227cd6c440c9ad-d05b110cd506ac53-01
2022-04-20T15:27:36.437Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:27:36.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9ce79b1fad5a326ac462bdf2c75a52a7c3b606c-c04d2b28e22d4bd8-01 outer:exit 2b-f9ce79b1fad5a326ac462bdf2c75a52a7c3b606c-285ac127ea2216af-01
2022-04-20T15:27:36.446Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:27:36.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-59cd468db1c35c119d643b77c9ca9894a0f8f888-bce78d06af67b824-01 outer:exit 2b-59cd468db1c35c119d643b77c9ca9894a0f8f888-00986347e44131a7-01
2022-04-20T15:27:36.453Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:27:36.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d50cb2d80c9374375020cab2f3f69ffa11ca736-51a23f02f22e5af6-01 outer:exit 2b-4d50cb2d80c9374375020cab2f3f69ffa11ca736-bef311969dba74bb-01
2022-04-20T15:27:36.456Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:27:36.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-348a6ac710faf880c436fe0dd4414380a1536fc6-95d2adbd4b7ff915-01 outer:exit 2b-348a6ac710faf880c436fe0dd4414380a1536fc6-d55b07f38def6708-01
2022-04-20T15:27:36.460Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:27:36.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-7beb6f99078d8900700d083ce85f77a279906844-cfbe3af553ad70b1-01 outer:exit 2b-7beb6f99078d8900700d083ce85f77a279906844-dc772d23aeebd400-01
2022-04-20T15:27:36.463Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:27:36.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ff9e4678bf7a98007cbc62465628f8ccda6d99a-865a0fda850a80f6-01 outer:exit 2b-5ff9e4678bf7a98007cbc62465628f8ccda6d99a-aaca768d1ecfceb1-01
2022-04-20T15:27:36.466Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:27:36.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6b150145f0f97812c241e98506b6b9c72734b92-adab03e152d66d48-01 outer:exit 2b-e6b150145f0f97812c241e98506b6b9c72734b92-686fce86c9cfe9ba-01
2022-04-20T15:27:36.469Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:27:36.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-527a1c5a7bafdcdbbe26405e4f8b22b29044954f-3477b3047f7ebeb5-01 outer:exit 2b-527a1c5a7bafdcdbbe26405e4f8b22b29044954f-81458024b9115b3b-01
2022-04-20T15:27:36.475Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:27:36.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-d467d0eb6a42027b5be2def5b0385afc382572fd-85bcf696ca8614f6-01 outer:exit 2b-d467d0eb6a42027b5be2def5b0385afc382572fd-2763140ba3a735b9-01
2022-04-20T15:27:36.481Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:27:36.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-15ed69a26cb53f551500f3455e3928e4bd6ea46a-aed198f5647f8935-01 outer:exit 2b-15ed69a26cb53f551500f3455e3928e4bd6ea46a-d611965097972c6d-01
2022-04-20T15:27:36.495Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:27:36.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a3e0fa7a673934be9b9a59545baa0613ce429d8-36c0d1ee32b5d5c1-01 outer:exit 2b-6a3e0fa7a673934be9b9a59545baa0613ce429d8-3e4f7a495de497d4-01
2022-04-20T15:27:36.528Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:27:36.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-d349e72c9435e792867497e9e2041e2924c8b863-f116c79b46668e48-01 outer:exit 2b-d349e72c9435e792867497e9e2041e2924c8b863-7189eaa7a12f816f-01
2022-04-20T15:27:36.530Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:27:36.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0d89fd575cb0cbb1956a014fba9f7a85b9bb71a-bb8b9b1e147fedfa-01 outer:exit 2b-c0d89fd575cb0cbb1956a014fba9f7a85b9bb71a-507330d3d50f0b34-01
2022-04-20T15:27:36.533Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:27:36.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e69639facc3f30f0e4e66bda1b59a22f0c7604f-490e8629286a12ba-01 outer:exit 2b-9e69639facc3f30f0e4e66bda1b59a22f0c7604f-90cf72bf2917bc5b-01
2022-04-20T15:27:36.537Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:27:36.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-62f0d7f534d43cfc59a0acd7de921568a0b3782e-44879a7c4dce8b0b-01 outer:exit 2b-62f0d7f534d43cfc59a0acd7de921568a0b3782e-09cd8dbf830388c3-01
2022-04-20T15:27:36.539Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:27:36.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-7769fc5dac88753125bcb9b88f463121b972b074-0976bc8f1554156c-01 outer:exit 2b-7769fc5dac88753125bcb9b88f463121b972b074-843051a31f2ccf96-01
2022-04-20T15:27:36.541Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:27:36.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-85677378a4fb2f7bc3720ffc5ffe3d1bcf4da01d-72562a379cb3546c-01 outer:exit 2b-85677378a4fb2f7bc3720ffc5ffe3d1bcf4da01d-673d7a95a76c7da0-01
2022-04-20T15:27:36.543Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:27:36.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-5846a570dcc0fe46ae35de43842f8d577f64ca10-2d938f929dd8b1bd-01 outer:exit 2b-5846a570dcc0fe46ae35de43842f8d577f64ca10-f3fcfd45eef74520-01
2022-04-20T15:27:36.545Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:27:36.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7ea8b117161039c0500a3b05e57d8c7e378d953-3b1c669d59106d88-01 outer:exit 2b-e7ea8b117161039c0500a3b05e57d8c7e378d953-432d670570746fc8-01
2022-04-20T15:27:36.546Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:27:36.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ebe2f38608bf432b3710bd8b4b0ba91e9c6687e-97c2796f535c297c-01 outer:exit 2b-3ebe2f38608bf432b3710bd8b4b0ba91e9c6687e-412bcdddb2d91b5a-01
2022-04-20T15:27:36.549Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:27:36.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-40ba5eba386f586597d2b2bd588f0af400629a7f-ca568790dc6db572-01 outer:exit 2b-40ba5eba386f586597d2b2bd588f0af400629a7f-2ef955f9edae7a25-01
2022-04-20T15:27:36.551Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:27:36.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-208b7811b254845ca5f32c5d71320e5a0329c89a-72763cddee6b61d3-01 outer:exit 2b-208b7811b254845ca5f32c5d71320e5a0329c89a-4855b280c3657997-01
2022-04-20T15:27:36.553Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:27:36.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8a2b9c59ea35b72af43d88ed2079fa39266fdb9-ec1b4f9fa7d731c5-01 outer:exit 2b-e8a2b9c59ea35b72af43d88ed2079fa39266fdb9-b7eccb1c7f54c8a9-01
2022-04-20T15:27:36.555Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:27:36.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-99bc080b203f5ce72d20910c3ac83cf8426992d2-554e264ce932edc4-01 outer:exit 2b-99bc080b203f5ce72d20910c3ac83cf8426992d2-738b31362070a28d-01
2022-04-20T15:27:36.560Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:27:36.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-2166010ec743d55e08de77cbe0b1cfbbc4a72267-c69d5a3b73127d4d-01 outer:exit 2b-2166010ec743d55e08de77cbe0b1cfbbc4a72267-944aa524f87ba97d-01
2022-04-20T15:27:36.564Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:27:36.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e00361ce752e9949a9a320a02fec45030f44876-dd3f23c7375a7b1e-01 outer:exit 2b-8e00361ce752e9949a9a320a02fec45030f44876-e9447a4093d7d29f-01
2022-04-20T15:27:36.572Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:27:36.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3c7d1cb92ffedd5a13d3ae325feeb9474768b01-c36d8a95a0680477-01 outer:exit 2b-a3c7d1cb92ffedd5a13d3ae325feeb9474768b01-8c2e3e81ff867836-01
2022-04-20T15:27:36.578Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:27:36.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-59dd5785031b260ce915eeb3482eaeb7251a7e51-13b0d93e83ebc647-01 outer:exit 2b-59dd5785031b260ce915eeb3482eaeb7251a7e51-fe1545c75cb79692-01
2022-04-20T15:27:36.580Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:27:36.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-6942b148a572cc9a4c4c398bb5c84223db49201a-88a87d4de7beff03-01 outer:exit 2b-6942b148a572cc9a4c4c398bb5c84223db49201a-386d336d80e16274-01
2022-04-20T15:27:36.582Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:27:36.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-864755cc4e48069c7d10851abe8d1b63081fa987-9df9a1046cdbf616-01 outer:exit 2b-864755cc4e48069c7d10851abe8d1b63081fa987-a913a1ea9ab818d3-01
2022-04-20T15:27:36.589Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:27:36.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-5729fcba98da739342fe841a50eae03ad948ef3d-a7c54f621a88b899-01 outer:exit 2b-5729fcba98da739342fe841a50eae03ad948ef3d-56fabb4322ad2f4f-01
2022-04-20T15:27:36.590Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:27:36.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-6067d467af5c799eb428a530d8b68eeb546b3ce4-75353a0775b48cac-01 outer:exit 2b-6067d467af5c799eb428a530d8b68eeb546b3ce4-247b4cf82141a9c8-01
2022-04-20T15:27:36.592Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:27:36.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad4023159012586fe27d7441a97e12327f5ea68e-21b5c2349839cf52-01 outer:exit 2b-ad4023159012586fe27d7441a97e12327f5ea68e-392eb70fbfcf0582-01
2022-04-20T15:27:36.594Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:27:36.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-b63280b8035b5375e14f64596f784ba554b260ca-e7f4f450cef9b8b4-01 outer:exit 2b-b63280b8035b5375e14f64596f784ba554b260ca-e170a8a1995ce7e4-01
2022-04-20T15:27:36.595Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:27:36.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-2134666b0aeb8d5f8f1b8ef2a814331af0708a2b-06a4e99a0cabc5ac-01 outer:exit 2b-2134666b0aeb8d5f8f1b8ef2a814331af0708a2b-1c8c1cc6b825329d-01
2022-04-20T15:27:36.597Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:27:36.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-00863690b646e06c78e42a05ff14817e967eb159-ad5f8c41da5cb36e-01 outer:exit 2b-00863690b646e06c78e42a05ff14817e967eb159-1534211326931240-01
2022-04-20T15:27:36.605Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:27:36.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cea79165192458c51d5c73c62abb9500bbb6829-f51f1bb489aacdf8-01 outer:exit 2b-6cea79165192458c51d5c73c62abb9500bbb6829-f638e0025e25e1c3-01
2022-04-20T15:27:36.612Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:27:36.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e4247568f003ca967bc8963cad2be7c818b229d-3941a281c2f7396b-01 outer:exit 2b-0e4247568f003ca967bc8963cad2be7c818b229d-8e27e1b0233ce880-01
2022-04-20T15:27:36.614Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:27:36.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-429d7c973de7f92fdd820f510892b8cde108452a-f1538830d95afc64-01 outer:exit 2b-429d7c973de7f92fdd820f510892b8cde108452a-9e8aab08db610dcb-01
2022-04-20T15:27:36.617Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:27:36.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-7aec9aa4a158ec9698d1a8aab6b0aea1232076e5-9036cbe8f8560439-01 outer:exit 2b-7aec9aa4a158ec9698d1a8aab6b0aea1232076e5-f9003d61d4ca93ce-01
2022-04-20T15:27:36.619Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:27:36.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-774433c90bf076ddb4a2120529cebccf6db29ebd-21d2a27ee5446c6b-01 outer:exit 2b-774433c90bf076ddb4a2120529cebccf6db29ebd-1410b6d46a5a2c8e-01
2022-04-20T15:27:36.646Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (299ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 4s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:41.471Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:41.472Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:41.472Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:41.473Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:41.530Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:41.637Z appoptics:patching patched crypto 
2022-04-20T15:27:41.654Z appoptics:patching patched https 
2022-04-20T15:27:41.654Z appoptics:patching patched http 
2022-04-20T15:27:41.694Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:41.695Z appoptics:patching patched fs 
2022-04-20T15:27:41.708Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v16.14.2)
2022-04-20T15:27:41.713Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2022-04-20T15:27:41.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-66fe472eca12078eb1896446b54b411cbb1add3e-f2ff63680231bc14-01 outer:exit 2b-66fe472eca12078eb1896446b54b411cbb1add3e-9ba090a8700c78ed-01
2022-04-20T15:27:41.758Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:27:41.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6e5439dbe7a0eda24fd97704df52c69254e1e78-bc8917da8a58e88c-01 outer:exit 2b-c6e5439dbe7a0eda24fd97704df52c69254e1e78-49c971fe456b5ddf-01
2022-04-20T15:27:41.795Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:27:41.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-13dc9d239e9f4816488e8e5cb8fb5ab5cbb24163-e09d2095016e56dd-01 outer:exit 2b-13dc9d239e9f4816488e8e5cb8fb5ab5cbb24163-01b15db8e4e04f50-01
2022-04-20T15:27:41.798Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:27:41.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2a2b64c1795704d3944d59a669b6cdc8ec36b79-4af50dcb58526b6d-01 outer:exit 2b-c2a2b64c1795704d3944d59a669b6cdc8ec36b79-4feef9c521dd3565-01
2022-04-20T15:27:41.801Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:27:41.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-59ff8a1efd76e14b6b89509874a3b5e7d8f149d9-2842124424cca466-01 outer:exit 2b-59ff8a1efd76e14b6b89509874a3b5e7d8f149d9-e02bb768e385c7ac-01
2022-04-20T15:27:41.805Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:27:41.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-acac08a15ef2968948728e76bd5b970f13785f44-abf2d41cd0dfb1bf-01 outer:exit 2b-acac08a15ef2968948728e76bd5b970f13785f44-d3cf932f912a7d66-01
2022-04-20T15:27:41.808Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:27:41.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6a12869065c1239f82fe7132764942d4480a489-68a0ab2556e16705-01 outer:exit 2b-d6a12869065c1239f82fe7132764942d4480a489-062b17a6cab41f27-01
2022-04-20T15:27:41.811Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:27:41.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-245cdf388c740e99091167988e9c1f6bd36be9ae-325a752375afbaea-01 outer:exit 2b-245cdf388c740e99091167988e9c1f6bd36be9ae-d2ba8205abfa7a0d-01
2022-04-20T15:27:41.813Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:27:41.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bda15786f6292c5b58dd2e165ce1a021a08f07a-f49173f4b9807ff6-01 outer:exit 2b-0bda15786f6292c5b58dd2e165ce1a021a08f07a-ee0c48d2b5d31191-01
2022-04-20T15:27:41.815Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:27:41.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-414d8f9a43e27a97007bb155b42f9ca9f2fc44a9-bbb730fdaaf6dc9d-01 outer:exit 2b-414d8f9a43e27a97007bb155b42f9ca9f2fc44a9-a80f77ac08464aa9-01
2022-04-20T15:27:41.818Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:27:41.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-98d551c7b885900a9359c3447213473dd41e3403-01a2c6ba97c49941-01 outer:exit 2b-98d551c7b885900a9359c3447213473dd41e3403-e6dc8284e05d2507-01
2022-04-20T15:27:41.823Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:27:41.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-da11faa8f04b0fd84b67887984012848ce70052d-bf36ca3fecd3af5d-01 outer:exit 2b-da11faa8f04b0fd84b67887984012848ce70052d-fd26e74157cff163-01
2022-04-20T15:27:41.829Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:27:41.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdd64b21a7159f6df566e80ca924ea9171ad9ae9-f96ca1773438b644-01 outer:exit 2b-fdd64b21a7159f6df566e80ca924ea9171ad9ae9-d0c69f1b8e86ed8d-01
2022-04-20T15:27:41.843Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:27:41.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-39ae48a82b5c0159d27d30c003c1a631dd359bbb-0c0f981eb6dfd0c4-01 outer:exit 2b-39ae48a82b5c0159d27d30c003c1a631dd359bbb-0f8270005eba2267-01
2022-04-20T15:27:41.874Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:27:41.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-0535e8d72164a2f9ba371ba45f7304a68b8affdd-36ce6af279e459b7-01 outer:exit 2b-0535e8d72164a2f9ba371ba45f7304a68b8affdd-2319321c84de12fa-01
2022-04-20T15:27:41.877Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:27:41.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1160a5d7401ced213d6334da30601a8f9e87bdb-7a01494760ca4be2-01 outer:exit 2b-d1160a5d7401ced213d6334da30601a8f9e87bdb-38c5504f7d8f9c1e-01
2022-04-20T15:27:41.879Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:27:41.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d05042472ccc805732cfead58846de74e55dd6b-638a8352b526f394-01 outer:exit 2b-1d05042472ccc805732cfead58846de74e55dd6b-c5dc2fdccff02897-01
2022-04-20T15:27:41.881Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:27:41.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b260c5f3b60c5c50ec81c5c0ddc4ba5ee4199b9-5fa76ddf8e785df0-01 outer:exit 2b-4b260c5f3b60c5c50ec81c5c0ddc4ba5ee4199b9-50e0914be22db7ba-01
2022-04-20T15:27:41.883Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:27:41.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-025fb12aa3090062b79a28a52301c80eba8d0f45-d6174ea08fb346eb-01 outer:exit 2b-025fb12aa3090062b79a28a52301c80eba8d0f45-38d04760697dfccf-01
2022-04-20T15:27:41.885Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:27:41.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-8376330884dfed13e6fea89e1674a8d92a37b206-47a917b709cdafc2-01 outer:exit 2b-8376330884dfed13e6fea89e1674a8d92a37b206-30d3d41c9a73fe44-01
2022-04-20T15:27:41.887Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:27:41.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f531bbdeecd266d67385532d02126fa43c3c046-c6c44e46bca9012d-01 outer:exit 2b-8f531bbdeecd266d67385532d02126fa43c3c046-4e6b68664f34e670-01
2022-04-20T15:27:41.889Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:27:41.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5c341d201aa1eabf5a40ad57ec7551a6b06d4ab-9bb00491fc97edb5-01 outer:exit 2b-e5c341d201aa1eabf5a40ad57ec7551a6b06d4ab-6d1711e2931d96d0-01
2022-04-20T15:27:41.891Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:27:41.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb91770ab5d7f83635db7e18199ce5a47eab7cf0-1f4112cc0801eaf4-01 outer:exit 2b-cb91770ab5d7f83635db7e18199ce5a47eab7cf0-e087e030e8fb0da3-01
2022-04-20T15:27:41.894Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:27:41.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-4103b8a79e6f0fd6ca5664d5967edc41081b5d6a-744eedca95d2cf14-01 outer:exit 2b-4103b8a79e6f0fd6ca5664d5967edc41081b5d6a-ff293fc4b945cdce-01
2022-04-20T15:27:41.896Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:27:41.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e0d0f85a93500a97a9135bdb554b9d8021a7913-f562e9d0220eb8cd-01 outer:exit 2b-3e0d0f85a93500a97a9135bdb554b9d8021a7913-6de1bcae2a71840c-01
2022-04-20T15:27:41.898Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:27:41.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef33fb2a004a4e9f529e37018e8c0d8cc4fe8d21-1888a077be645077-01 outer:exit 2b-ef33fb2a004a4e9f529e37018e8c0d8cc4fe8d21-942fa1779a20ff33-01
2022-04-20T15:27:41.900Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:27:41.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-03c7c75ce375a653780ecf911a4e06c4ba01990d-ec46cbb5fa9e95b8-01 outer:exit 2b-03c7c75ce375a653780ecf911a4e06c4ba01990d-744868d1a2946d09-01
2022-04-20T15:27:41.905Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:27:41.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2065005cc409b4674c4613023415e04bd16a4ec-37acf7e11e9559d0-01 outer:exit 2b-d2065005cc409b4674c4613023415e04bd16a4ec-76348ddc23d0ecdc-01
2022-04-20T15:27:41.908Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:27:41.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-20541916457196bae5f2d18d288fae48a485c220-e644632e01355275-01 outer:exit 2b-20541916457196bae5f2d18d288fae48a485c220-6ba937d84a09a7db-01
2022-04-20T15:27:41.915Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:27:41.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-02da3fd229cfb24095e9efe9dec2e843d8c3f168-d75f7624b853f398-01 outer:exit 2b-02da3fd229cfb24095e9efe9dec2e843d8c3f168-39b31baa14edf3f6-01
2022-04-20T15:27:41.922Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:27:41.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-94767f7ff223d7f5833cd695ba9bcb8524cb4454-30d9169553eb8376-01 outer:exit 2b-94767f7ff223d7f5833cd695ba9bcb8524cb4454-d7f28168c2d20f9a-01
2022-04-20T15:27:41.924Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:27:41.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7e1473f20da00cabb1b55e313eff0defa504da3-9ccad5efe6330c8e-01 outer:exit 2b-d7e1473f20da00cabb1b55e313eff0defa504da3-50008498a225cbb7-01
2022-04-20T15:27:41.926Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:27:41.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-a87dfbbec171946f2ad8509f6366678c638a192f-b8e4b25507597e1c-01 outer:exit 2b-a87dfbbec171946f2ad8509f6366678c638a192f-d6fdab47ee74ba89-01
2022-04-20T15:27:41.932Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:27:41.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-a71708a0b1d0a84f537f62c1215eff27a0f6580d-60e8b73e6c45c091-01 outer:exit 2b-a71708a0b1d0a84f537f62c1215eff27a0f6580d-bc0dd03af78fe125-01
2022-04-20T15:27:41.934Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:27:41.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee57b2a2dc23cd44936462070029757048858fdc-deb3d897714dc899-01 outer:exit 2b-ee57b2a2dc23cd44936462070029757048858fdc-faaaf823be40990d-01
2022-04-20T15:27:41.935Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:27:41.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d35e16fe1562b682dbe06b933d6bec394ea6270-3ff91afee0bf91c4-01 outer:exit 2b-2d35e16fe1562b682dbe06b933d6bec394ea6270-f7e6cca5d45edc85-01
2022-04-20T15:27:41.937Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:27:41.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fe5a18d98abe50599b69c0e809e30d9f4b5c4ce-f55642491789002e-01 outer:exit 2b-4fe5a18d98abe50599b69c0e809e30d9f4b5c4ce-579d8d682a7dd3d1-01
2022-04-20T15:27:41.938Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:27:41.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c479faf6152bbf373b878ec445b995d450cf466-4a00c8196f991165-01 outer:exit 2b-3c479faf6152bbf373b878ec445b995d450cf466-da2023cb790219e0-01
2022-04-20T15:27:41.940Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:27:41.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-df473ebe82ac2db8da955d40d3f953d299bbcfb2-ee6d858d6b085bd5-01 outer:exit 2b-df473ebe82ac2db8da955d40d3f953d299bbcfb2-06ced06ff7cb6db1-01
2022-04-20T15:27:41.948Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:27:41.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-f874cd0e5d77d50d32473d1bfcf2fd6aaeb3cc30-d6ae9c6a98fb4d99-01 outer:exit 2b-f874cd0e5d77d50d32473d1bfcf2fd6aaeb3cc30-afec0bbcb8f584dd-01
2022-04-20T15:27:41.956Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:27:41.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-75938f15ae0ede49ca8fb4536910061e31147e4d-b7147609022de0e4-01 outer:exit 2b-75938f15ae0ede49ca8fb4536910061e31147e4d-ddd325ae74e0996d-01
2022-04-20T15:27:41.959Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:27:41.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6d0900718ba91c8a4f9632a86cf727f68be7a56-3015f06e12381611-01 outer:exit 2b-f6d0900718ba91c8a4f9632a86cf727f68be7a56-4c9a5eebfef8a2b3-01
2022-04-20T15:27:41.961Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:27:41.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca4497a5b1c9dddc554ddff866ce9b878988fdab-7328b9555cd8e8a5-01 outer:exit 2b-ca4497a5b1c9dddc554ddff866ce9b878988fdab-659f04a13c0548e3-01
2022-04-20T15:27:41.964Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:27:41.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-25fe721e5072b537ecf73a2babcc4bc6a5519944-8e9b23e6c35ad7c3-01 outer:exit 2b-25fe721e5072b537ecf73a2babcc4bc6a5519944-88960d918ce2c5c0-01
2022-04-20T15:27:41.990Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (271ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:48.332Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:48.332Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:48.332Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:48.333Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:48.390Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:48.498Z appoptics:patching patched crypto 
2022-04-20T15:27:48.514Z appoptics:patching patched https 
2022-04-20T15:27:48.515Z appoptics:patching patched http 
2022-04-20T15:27:48.557Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:48.557Z appoptics:patching patched fs 
2022-04-20T15:27:48.570Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v16.14.2)
2022-04-20T15:27:48.576Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2022-04-20T15:27:48.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-86abd069091c9d6a06690bdacfc94f5542a8c852-6b60e7db86522eaa-01 outer:exit 2b-86abd069091c9d6a06690bdacfc94f5542a8c852-8c408f35b2158f03-01
2022-04-20T15:27:48.617Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:27:48.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaa0c70adb094df74b408a39d1e49bd8096a5bba-8892264e6ec6365d-01 outer:exit 2b-aaa0c70adb094df74b408a39d1e49bd8096a5bba-504c81f4c7973a43-01
2022-04-20T15:27:48.653Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:27:48.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-907e25dbdd33628bb688bfc0d0f7f60f8be71dda-bb8811e54ad79057-01 outer:exit 2b-907e25dbdd33628bb688bfc0d0f7f60f8be71dda-1a53c851bc6a12c2-01
2022-04-20T15:27:48.656Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:27:48.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cfe899cf4ad5aa2dbf795408baea0562ff00fe5-2ac38da2d8f6b962-01 outer:exit 2b-3cfe899cf4ad5aa2dbf795408baea0562ff00fe5-f30834c2cf6e3acd-01
2022-04-20T15:27:48.659Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:27:48.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-aac319e28f1fba47850db83adc1b3846cb4a7364-e11800e2a19c9b31-01 outer:exit 2b-aac319e28f1fba47850db83adc1b3846cb4a7364-6b9114e67f8da706-01
2022-04-20T15:27:48.663Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:27:48.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1840aa1470f8a355272755a66c5a497868de936-ec7a3711eb19daab-01 outer:exit 2b-a1840aa1470f8a355272755a66c5a497868de936-76aece14c3c844aa-01
2022-04-20T15:27:48.666Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:27:48.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-99444e208a9d30e7c21779bc0f1469aa00233b82-bb5d4cd42c4b9b16-01 outer:exit 2b-99444e208a9d30e7c21779bc0f1469aa00233b82-b873ef0babe8c0d2-01
2022-04-20T15:27:48.669Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:27:48.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ba397fc3a9fe5cf1fa478258ffd95182b76f366-b7655d248602387e-01 outer:exit 2b-9ba397fc3a9fe5cf1fa478258ffd95182b76f366-38ca4fd88c20e836-01
2022-04-20T15:27:48.671Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:27:48.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e3c13e967c50315aceaaf549db73a259c4df882-36e926709f694ad9-01 outer:exit 2b-7e3c13e967c50315aceaaf549db73a259c4df882-e87f9759c617af5a-01
2022-04-20T15:27:48.674Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:27:48.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5bec1c557826527b3b383540751897a75abc9af-7dadf302ae744159-01 outer:exit 2b-c5bec1c557826527b3b383540751897a75abc9af-93cce3f0945c153e-01
2022-04-20T15:27:48.677Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:27:48.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c500c8e307b168d505de3aaabd3c0b1584f3fa2-900ba6a6a6fd88c5-01 outer:exit 2b-4c500c8e307b168d505de3aaabd3c0b1584f3fa2-2542a64c6dc7d50c-01
2022-04-20T15:27:48.682Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:27:48.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e8a83ac20044556e1fb0cea6cf11825715da220-4728198b8247a4b3-01 outer:exit 2b-2e8a83ac20044556e1fb0cea6cf11825715da220-f12f682f8dd14a63-01
2022-04-20T15:27:48.687Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:27:48.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f6082e1e7d07c4b851ad94afe42e37e5d2163a1-f3cc48dc68395949-01 outer:exit 2b-2f6082e1e7d07c4b851ad94afe42e37e5d2163a1-a6587abb73dc902f-01
2022-04-20T15:27:48.701Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:27:48.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a6846d79ef71386d3cea005dd24961f2a567baa-36a827bcea0a7eb2-01 outer:exit 2b-3a6846d79ef71386d3cea005dd24961f2a567baa-d015fd3bc555eed2-01
2022-04-20T15:27:48.734Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:27:48.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3f904050729407dd064b0eb012e2d224bb0e5a2-c76c499530931600-01 outer:exit 2b-a3f904050729407dd064b0eb012e2d224bb0e5a2-826a869221f1523c-01
2022-04-20T15:27:48.737Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:27:48.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cfb19ed8f3040fc7cccad4908c3c2577a23a1b3-ea8ad3692932947c-01 outer:exit 2b-3cfb19ed8f3040fc7cccad4908c3c2577a23a1b3-53bc23527762d74e-01
2022-04-20T15:27:48.739Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:27:48.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbfe8d7e6ef060a124f244a287467bba333aeb8c-d34174a9c87aa407-01 outer:exit 2b-bbfe8d7e6ef060a124f244a287467bba333aeb8c-e9bdf025d4773985-01
2022-04-20T15:27:48.741Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:27:48.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc1451ed543cd3611962c5d0a51d352037103658-509312f661b71926-01 outer:exit 2b-cc1451ed543cd3611962c5d0a51d352037103658-4d319bb44043fb0e-01
2022-04-20T15:27:48.743Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:27:48.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8de8bd9929e17661a86a1b05319416624f0a058-3ef5cebd38c13ab2-01 outer:exit 2b-b8de8bd9929e17661a86a1b05319416624f0a058-f4737b983656529a-01
2022-04-20T15:27:48.744Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:27:48.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-4075d3432a0f6094ca1abd78486af9b80f55c9db-2b0c59bc4a2d350a-01 outer:exit 2b-4075d3432a0f6094ca1abd78486af9b80f55c9db-2b1e54dabb4da452-01
2022-04-20T15:27:48.746Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:27:48.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f482e04df2b4ee9eb6f2cf6a3f51263d7410cf2-48b064c61fde0e66-01 outer:exit 2b-9f482e04df2b4ee9eb6f2cf6a3f51263d7410cf2-2fae9267d2d38aa4-01
2022-04-20T15:27:48.748Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:27:48.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ccdfe814864b278e17344e99a3836a8394aca0c-278986494d331fc1-01 outer:exit 2b-3ccdfe814864b278e17344e99a3836a8394aca0c-abf479e5d1763f78-01
2022-04-20T15:27:48.750Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:27:48.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8567c1893df3f563178d6e7b1738d963db21756-bcd43516634b7e93-01 outer:exit 2b-d8567c1893df3f563178d6e7b1738d963db21756-4f6cb385494e85e6-01
2022-04-20T15:27:48.752Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:27:48.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-97488afc045bc3ebc8d09649efa42f887eeea69c-9b9d0b6c809b5ddc-01 outer:exit 2b-97488afc045bc3ebc8d09649efa42f887eeea69c-6c292819f10b530a-01
2022-04-20T15:27:48.755Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:27:48.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-73daba868f7acf4115616bf987f445c72963003c-6b7a81672613889a-01 outer:exit 2b-73daba868f7acf4115616bf987f445c72963003c-eafd5527cf9165bf-01
2022-04-20T15:27:48.757Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:27:48.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-48f8fcc14aae92621faecfee4e7156632f2f9d00-7dae0a32885169a0-01 outer:exit 2b-48f8fcc14aae92621faecfee4e7156632f2f9d00-1fdf1458d0df6c6c-01
2022-04-20T15:27:48.759Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:27:48.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-dad939b92632d66a75138cd295c8a8e98c0c0339-e0aa0b65c0894f54-01 outer:exit 2b-dad939b92632d66a75138cd295c8a8e98c0c0339-e6e61894ffead77f-01
2022-04-20T15:27:48.764Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:27:48.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f0b113c4df41d34c5090ad2365421da109e8e6d-81938756a1de1433-01 outer:exit 2b-4f0b113c4df41d34c5090ad2365421da109e8e6d-08c891bbc0fbdf7f-01
2022-04-20T15:27:48.767Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:27:48.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcf5067fa19bf840786598fd161a252d62c53aee-851e0112c0b02be0-01 outer:exit 2b-dcf5067fa19bf840786598fd161a252d62c53aee-a1325bf18d1a713a-01
2022-04-20T15:27:48.774Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:27:48.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7b14adddd485526822af4d576b0b3bd94f35cac-8c32ec4642f385c5-01 outer:exit 2b-e7b14adddd485526822af4d576b0b3bd94f35cac-81c5f5ee8f686158-01
2022-04-20T15:27:48.780Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:27:48.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-eda5f59c920b4b6cea545d5cea8fd4c88d5dafea-c4ea0533f902129e-01 outer:exit 2b-eda5f59c920b4b6cea545d5cea8fd4c88d5dafea-f6424b074e778091-01
2022-04-20T15:27:48.782Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:27:48.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-575baf9ab6a4235de6cc572c394e0fd270aa1369-ec40d7559724dc70-01 outer:exit 2b-575baf9ab6a4235de6cc572c394e0fd270aa1369-3781820d64de675e-01
2022-04-20T15:27:48.784Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:27:48.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d0ebe3dcbac6d588d6353766441f2b4a350df46-315c255606ef2ae7-01 outer:exit 2b-9d0ebe3dcbac6d588d6353766441f2b4a350df46-073b3b89c601662a-01
2022-04-20T15:27:48.790Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:27:48.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-91ab44292b3b4425873a12cd7fb771bad721de6c-5b51944ed4241419-01 outer:exit 2b-91ab44292b3b4425873a12cd7fb771bad721de6c-eac300b24f8bb0e1-01
2022-04-20T15:27:48.792Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:27:48.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-d649878655b6dc8dbe26c389066f65e8d3a6ade2-8d4f0326d67f6198-01 outer:exit 2b-d649878655b6dc8dbe26c389066f65e8d3a6ade2-a8afa1af1a926102-01
2022-04-20T15:27:48.793Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:27:48.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-984af980e50a9e39a3effd61e2c0da35b414e4e8-ccb578e588ac1689-01 outer:exit 2b-984af980e50a9e39a3effd61e2c0da35b414e4e8-2c01e92ffbfec87f-01
2022-04-20T15:27:48.795Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:27:48.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f89a92d524444ff5f1362d85a82b18e12017196-0247ffd30f1b0c42-01 outer:exit 2b-4f89a92d524444ff5f1362d85a82b18e12017196-4ec67af5ef865510-01
2022-04-20T15:27:48.796Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:27:48.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-30e95c66f5e55ca680711a45c8bc4620f9d144fa-420633ac6b26af6a-01 outer:exit 2b-30e95c66f5e55ca680711a45c8bc4620f9d144fa-25bdef69ed0101ba-01
2022-04-20T15:27:48.798Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:27:48.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-786fb6102601f0ec93b3edd7adb160460adc61cf-92d42dcabf33aec7-01 outer:exit 2b-786fb6102601f0ec93b3edd7adb160460adc61cf-c0e5b25514629d69-01
2022-04-20T15:27:48.806Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:27:48.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6047bcb91711e7a21bd7bad41f8839a2760e3be-96d1c8f36047f614-01 outer:exit 2b-f6047bcb91711e7a21bd7bad41f8839a2760e3be-324e9667a316963d-01
2022-04-20T15:27:48.813Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:27:48.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-d19e28012d2ae365d721f58ecdc305639195042c-6773d7a3eaf46b63-01 outer:exit 2b-d19e28012d2ae365d721f58ecdc305639195042c-3aea902dc3803b20-01
2022-04-20T15:27:48.815Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:27:48.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7853e2a562271d168368fa0b1fccdaa775220c3-06078e5ef38ae169-01 outer:exit 2b-c7853e2a562271d168368fa0b1fccdaa775220c3-0d136fc3943924b7-01
2022-04-20T15:27:48.817Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:27:48.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-575cafd77e7a2d39e8840c0641be9cad8e99f9ce-29d2ef6c4bc4c23c-01 outer:exit 2b-575cafd77e7a2d39e8840c0641be9cad8e99f9ce-6451d5829a7dcb00-01
2022-04-20T15:27:48.819Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:27:48.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-74b05acb91d5d5c084165678da397a98bb5d3994-9b64ff93c98b7327-01 outer:exit 2b-74b05acb91d5d5c084165678da397a98bb5d3994-fc3cd18f49ab2d81-01
2022-04-20T15:27:48.846Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (264ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 4s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:53.670Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:53.671Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:53.671Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:53.672Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:53.729Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:53.839Z appoptics:patching patched crypto 
2022-04-20T15:27:53.856Z appoptics:patching patched https 
2022-04-20T15:27:53.856Z appoptics:patching patched http 
2022-04-20T15:27:53.898Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:53.898Z appoptics:patching patched fs 
2022-04-20T15:27:53.911Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v16.14.2)
2022-04-20T15:27:53.916Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2022-04-20T15:27:53.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2b9eda47943c824ed00e175be1a97716a07f8ab-46a6a12670c65c3d-01 outer:exit 2b-a2b9eda47943c824ed00e175be1a97716a07f8ab-d9c2900a7ea4cc42-01
2022-04-20T15:27:53.957Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:27:53.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-a93d38e60d2f2f47d55a964d88cb6ef76be2f989-3910d4e1ecc56f47-01 outer:exit 2b-a93d38e60d2f2f47d55a964d88cb6ef76be2f989-c8e084b48b542b79-01
2022-04-20T15:27:53.993Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:27:53.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-e179c5cf337555d2be0a77a1eb8001812f56ed2e-fbfca1950e5f0342-01 outer:exit 2b-e179c5cf337555d2be0a77a1eb8001812f56ed2e-fceb53aedd37b825-01
2022-04-20T15:27:53.998Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:27:54.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-8760ce4871d851e07c7cdb4652b8aa87a757c9e2-11c041670b1d9b40-01 outer:exit 2b-8760ce4871d851e07c7cdb4652b8aa87a757c9e2-21c276c1841cb4ff-01
2022-04-20T15:27:54.001Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:27:54.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-7209a0c0dc6a9012cf082ebd5ec8ee06575da79a-1bd79042a07d70f6-01 outer:exit 2b-7209a0c0dc6a9012cf082ebd5ec8ee06575da79a-4905dd72602ffb12-01
2022-04-20T15:27:54.006Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:27:54.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e426119feaf8b8a06454ffc2c6d7d5c7e472bc5-e558906a7629e4d0-01 outer:exit 2b-5e426119feaf8b8a06454ffc2c6d7d5c7e472bc5-918f3989afd9b501-01
2022-04-20T15:27:54.009Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:27:54.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-40bc612baaf038b18bc645aa9a140564184d7357-0451473c31bf4e5d-01 outer:exit 2b-40bc612baaf038b18bc645aa9a140564184d7357-b4ca7d88680f099c-01
2022-04-20T15:27:54.011Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:27:54.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-21e1fcfa62d6cff50bd2313fa84003ba3d8bfb91-dd71041aee068438-01 outer:exit 2b-21e1fcfa62d6cff50bd2313fa84003ba3d8bfb91-8b518a0250c7d74e-01
2022-04-20T15:27:54.013Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:27:54.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-b43fbd2d7e9dbd8e33943a37f9b71d0118a6a897-9d973f7803b4cd1c-01 outer:exit 2b-b43fbd2d7e9dbd8e33943a37f9b71d0118a6a897-3699024dfd0f7a87-01
2022-04-20T15:27:54.016Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:27:54.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-29c5cd5252a9b32f8800e0f4bfff612c29825745-fd5430f80e6beac2-01 outer:exit 2b-29c5cd5252a9b32f8800e0f4bfff612c29825745-96c0395e895a8085-01
2022-04-20T15:27:54.019Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:27:54.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-b983c76fb043b8f664b23043dfd1746d0ae5927b-261b7e5ae80787f1-01 outer:exit 2b-b983c76fb043b8f664b23043dfd1746d0ae5927b-55fbdf64c5391337-01
2022-04-20T15:27:54.023Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:27:54.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-97a0c0092eb2e7b5f2d0fc3892037794e079c9fb-7e8709b52004c3e0-01 outer:exit 2b-97a0c0092eb2e7b5f2d0fc3892037794e079c9fb-281fd12424d062cb-01
2022-04-20T15:27:54.030Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:27:54.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7deb5e594a5357a9347b6cee5ab990754cea832-258ffe09df580e40-01 outer:exit 2b-e7deb5e594a5357a9347b6cee5ab990754cea832-b698ddc9c979a46e-01
2022-04-20T15:27:54.044Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:27:54.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-b811ad9a834dc8474c40641dedc4e00ce8641b3f-72faca24130a6f0d-01 outer:exit 2b-b811ad9a834dc8474c40641dedc4e00ce8641b3f-0064ea9f8671c302-01
2022-04-20T15:27:54.076Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:27:54.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-071ca8fd8e64e800687c810af31d66bccfbc70a3-d2abcf9846ecde85-01 outer:exit 2b-071ca8fd8e64e800687c810af31d66bccfbc70a3-b8d47ec56af4a59c-01
2022-04-20T15:27:54.079Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:27:54.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-26d7ea797389828ee79fc10f0c99b9c7bd7057bb-7f080209c832a1c6-01 outer:exit 2b-26d7ea797389828ee79fc10f0c99b9c7bd7057bb-63fa9072bddcd286-01
2022-04-20T15:27:54.081Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:27:54.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-950cd4711b4dc9ae938c10a9ffc69d6255cc346e-12a67aebbb0aa516-01 outer:exit 2b-950cd4711b4dc9ae938c10a9ffc69d6255cc346e-8bc71625b1f4bd94-01
2022-04-20T15:27:54.083Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:27:54.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5a38c35fd69df37817708190365bd7b0b3b4394-72facaad5c87d6f3-01 outer:exit 2b-d5a38c35fd69df37817708190365bd7b0b3b4394-60bf6af3b08ab75f-01
2022-04-20T15:27:54.085Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:27:54.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-51ac8f2164aa44a5a21c867a6191bd6c7e344bd5-6821e370b4890b1b-01 outer:exit 2b-51ac8f2164aa44a5a21c867a6191bd6c7e344bd5-300eb0d67e1241b1-01
2022-04-20T15:27:54.087Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:27:54.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-9da2dce17eab000fbcca5e839a4b36ed1ea5f7be-4691bcbf48edfee0-01 outer:exit 2b-9da2dce17eab000fbcca5e839a4b36ed1ea5f7be-6dba32f0f8863f4a-01
2022-04-20T15:27:54.089Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:27:54.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5c7744cd23e39c40b686fbdd9f6a67404891b05-2e02609eaf6a2361-01 outer:exit 2b-a5c7744cd23e39c40b686fbdd9f6a67404891b05-11e05b8a5bff01ba-01
2022-04-20T15:27:54.091Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:27:54.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-e14268af4011e644f535b68cfb205409c787a865-4e54b720f7440adc-01 outer:exit 2b-e14268af4011e644f535b68cfb205409c787a865-4b402e29c26cea08-01
2022-04-20T15:27:54.092Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:27:54.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-c37cf239cf603d6b4c4ee4cb850d41664aada219-e00f3f57ec92c7cf-01 outer:exit 2b-c37cf239cf603d6b4c4ee4cb850d41664aada219-26a267b68dff445a-01
2022-04-20T15:27:54.095Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:27:54.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b4f30c9f4eb258ef4d179280b2958344b1478ff-614065106774f5aa-01 outer:exit 2b-4b4f30c9f4eb258ef4d179280b2958344b1478ff-37ee700d2a799afa-01
2022-04-20T15:27:54.097Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:27:54.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bf19ce32a13abfcffb56163e12041d6209c982f-3f6e29d5d0b6384e-01 outer:exit 2b-6bf19ce32a13abfcffb56163e12041d6209c982f-f3c7f526702d6c33-01
2022-04-20T15:27:54.100Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:27:54.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cb071dbcd8f83aae4e86265480c1ba26b234419-dd418edfe53aa7e5-01 outer:exit 2b-1cb071dbcd8f83aae4e86265480c1ba26b234419-d02c460fff058628-01
2022-04-20T15:27:54.102Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:27:54.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-f136a05e86d0245bf98071af07a3f3a1c60dab2c-8b810dacda661ca8-01 outer:exit 2b-f136a05e86d0245bf98071af07a3f3a1c60dab2c-bc992e4179e29b75-01
2022-04-20T15:27:54.107Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:27:54.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-928ed5fecbef7e0963efd26d943969c944bd7777-0aa5bafecdd0d906-01 outer:exit 2b-928ed5fecbef7e0963efd26d943969c944bd7777-a68eb4341bd3e4bb-01
2022-04-20T15:27:54.110Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:27:54.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aaf9ba8402467f446521644bef7b79b46a0aefd-46cdb286d5989fb9-01 outer:exit 2b-0aaf9ba8402467f446521644bef7b79b46a0aefd-12e37f999f82cc5e-01
2022-04-20T15:27:54.117Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:27:54.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b957a4bc82b076ff276c906aef5855b6671b3f6-a9677368f5644a82-01 outer:exit 2b-6b957a4bc82b076ff276c906aef5855b6671b3f6-91109c1234c60e24-01
2022-04-20T15:27:54.124Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:27:54.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-1511fe1f656641398b9b20988f8b866a5675cd13-11110f3def322cab-01 outer:exit 2b-1511fe1f656641398b9b20988f8b866a5675cd13-d050920edaadadfa-01
2022-04-20T15:27:54.126Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:27:54.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-03122b6bcc4eb2d027de94580011da69fe549cfd-917423828d958fe5-01 outer:exit 2b-03122b6bcc4eb2d027de94580011da69fe549cfd-4579156921085d07-01
2022-04-20T15:27:54.128Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:27:54.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e437e0ce74814a29ae7b2f843d5a9c38ffa926f-c72b9e22240d31e5-01 outer:exit 2b-4e437e0ce74814a29ae7b2f843d5a9c38ffa926f-1b9d3281a0eca646-01
2022-04-20T15:27:54.134Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:27:54.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-a56c6bf49c63769db786b6d2cf3b3366f4e589aa-2671af857e6623fd-01 outer:exit 2b-a56c6bf49c63769db786b6d2cf3b3366f4e589aa-458f6bdb5fd2509a-01
2022-04-20T15:27:54.136Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:27:54.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4e7f16657c74998a65b999a569eca327a31d709-c6b29eb43c9f11e9-01 outer:exit 2b-e4e7f16657c74998a65b999a569eca327a31d709-ceb0ae0a8ad25d23-01
2022-04-20T15:27:54.138Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:27:54.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-00a3dbec8043005f61412e65616f6a29a2708af7-6e49a735963791c4-01 outer:exit 2b-00a3dbec8043005f61412e65616f6a29a2708af7-ae2a2ce5ab37f8b3-01
2022-04-20T15:27:54.140Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:27:54.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-efe7fde9dbee7d6510df9ad168ad19c79577c3e8-5f43373c3aa96f59-01 outer:exit 2b-efe7fde9dbee7d6510df9ad168ad19c79577c3e8-e1d19432a09ddf4e-01
2022-04-20T15:27:54.141Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:27:54.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-441d21d813ea80783605413d03fdbe584dd1098b-48431d3fe3851a1b-01 outer:exit 2b-441d21d813ea80783605413d03fdbe584dd1098b-6c99b1d398b2757d-01
2022-04-20T15:27:54.143Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:27:54.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-24425cd0a64abeaed6c6e4f34355f833a0586cad-3d89a58f8373b5da-01 outer:exit 2b-24425cd0a64abeaed6c6e4f34355f833a0586cad-19cfacdb7855fab3-01
2022-04-20T15:27:54.150Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:27:54.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed5846bd1753fc3129d6bb8213d710ba5f8e1709-a28d4ca133d38b33-01 outer:exit 2b-ed5846bd1753fc3129d6bb8213d710ba5f8e1709-519d9f9a82b5688b-01
2022-04-20T15:27:54.158Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:27:54.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b6cd7e1b1dd362a0941cfa1a1b33a24234b6af9-fb0774c9e30552a5-01 outer:exit 2b-0b6cd7e1b1dd362a0941cfa1a1b33a24234b6af9-4306ac900797515e-01
2022-04-20T15:27:54.160Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:27:54.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-f58c102aebaf4219fdc3e2e2a93e51b5a9727525-d72794486fa02474-01 outer:exit 2b-f58c102aebaf4219fdc3e2e2a93e51b5a9727525-d72e4ddd020ec164-01
2022-04-20T15:27:54.162Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:27:54.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-41798ce9b0febd01c51fb88ec471054e6d6f4050-19f1bf774efcd339-01 outer:exit 2b-41798ce9b0febd01c51fb88ec471054e6d6f4050-a0089dd83559fb43-01
2022-04-20T15:27:54.164Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:27:54.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-09ff56852ff6a1cf1e7b794690037669b0ec0b3d-9975425b11b51b0b-01 outer:exit 2b-09ff56852ff6a1cf1e7b794690037669b0ec0b3d-27fe5f2eecaca22a-01
2022-04-20T15:27:54.190Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (268ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:00.591Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:00.592Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:00.592Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:00.593Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:00.650Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:00.759Z appoptics:patching patched crypto 
2022-04-20T15:28:00.776Z appoptics:patching patched https 
2022-04-20T15:28:00.777Z appoptics:patching patched http 
2022-04-20T15:28:00.818Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:00.819Z appoptics:patching patched fs 
2022-04-20T15:28:00.832Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v16.14.2)
2022-04-20T15:28:00.837Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2022-04-20T15:28:00.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-3929136f3d362350248d92cac1d207f83730c764-68ab6fe064e2f4b3-01 outer:exit 2b-3929136f3d362350248d92cac1d207f83730c764-c070ec481cd0d98d-01
2022-04-20T15:28:00.879Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:00.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf9e243623e87593ce85b8184105ead60b8b84de-8c494f0e0bee0c84-01 outer:exit 2b-cf9e243623e87593ce85b8184105ead60b8b84de-a478915ebe7a0fd2-01
2022-04-20T15:28:00.916Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:00.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3140e2676c1c5292710a2f80862170bc9948cc0-4c6d7519481f4038-01 outer:exit 2b-f3140e2676c1c5292710a2f80862170bc9948cc0-0f4c86402ccc80d8-01
2022-04-20T15:28:00.920Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:00.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-f370853150dc8a8faf01ebeb3ff0f4f14d37b8d2-498a894581e798a7-01 outer:exit 2b-f370853150dc8a8faf01ebeb3ff0f4f14d37b8d2-c3ede285b1eea8ef-01
2022-04-20T15:28:00.923Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:00.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1822670880d4f040283eac79a7aa9c78ea35359-2088a4b46f1d5e31-01 outer:exit 2b-f1822670880d4f040283eac79a7aa9c78ea35359-babef32540587e27-01
2022-04-20T15:28:00.927Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:00.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4db39e57515a216ea50e50a8ba1251b04e52bb2-f0c69d924c1923e0-01 outer:exit 2b-a4db39e57515a216ea50e50a8ba1251b04e52bb2-4aab59429eb953c1-01
2022-04-20T15:28:00.930Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:00.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-d362e0376607e76694ae4e1633b5c214bb6c9529-633eb1bb411416ff-01 outer:exit 2b-d362e0376607e76694ae4e1633b5c214bb6c9529-43af61672c56c5b6-01
2022-04-20T15:28:00.933Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:00.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-a85db35ffae70016c4320969ff787c1bd84e94d7-7abf75acadf61eaf-01 outer:exit 2b-a85db35ffae70016c4320969ff787c1bd84e94d7-d174ce339babf920-01
2022-04-20T15:28:00.935Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:00.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-963947511726b858260961474e5c57a64eb91109-05a14a30d1d1117f-01 outer:exit 2b-963947511726b858260961474e5c57a64eb91109-f437ca61283af9e7-01
2022-04-20T15:28:00.938Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:00.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-59f62bd5187bebf2cec534790ebd710430572a9e-34162da9c30b6f20-01 outer:exit 2b-59f62bd5187bebf2cec534790ebd710430572a9e-b4fe538c11d97967-01
2022-04-20T15:28:00.941Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:00.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2bfdc63e46c53e803b92b3bec458e90b35603d3-c72e4b6708fa87a7-01 outer:exit 2b-f2bfdc63e46c53e803b92b3bec458e90b35603d3-0800b2e1c60696cc-01
2022-04-20T15:28:00.945Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:00.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-a510611a5bdf078adc8176be69dce927ea8fa147-4ef2b06572e413f5-01 outer:exit 2b-a510611a5bdf078adc8176be69dce927ea8fa147-3031da7c28563091-01
2022-04-20T15:28:00.952Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:00.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-961e319379aa35420682cc6f3e23ef93fe5638c6-beee232f849bba57-01 outer:exit 2b-961e319379aa35420682cc6f3e23ef93fe5638c6-7282ed480c4493ee-01
2022-04-20T15:28:00.966Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:00.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3e4a6fdae14c3151aaf6410c669fb8eee7f503f-3d5f651e5f1ac70d-01 outer:exit 2b-e3e4a6fdae14c3151aaf6410c669fb8eee7f503f-a82ae89a81451e6a-01
2022-04-20T15:28:00.998Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:01.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef78fae3a3b13f3a805c7632d6af6746798525d7-e2850d4dd5347b39-01 outer:exit 2b-ef78fae3a3b13f3a805c7632d6af6746798525d7-8aafa7db5505ef36-01
2022-04-20T15:28:01.001Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:01.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e0fa9f459aad5ec0557ae70e922520bdc0da3fa-980a159321fbba41-01 outer:exit 2b-4e0fa9f459aad5ec0557ae70e922520bdc0da3fa-f7295b5320ec11fb-01
2022-04-20T15:28:01.003Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:01.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfaf9c6c937a25da830d11092688bb9b6b985aab-12c9541a015fbc07-01 outer:exit 2b-cfaf9c6c937a25da830d11092688bb9b6b985aab-e78823c41b2f027b-01
2022-04-20T15:28:01.006Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:01.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d86f421c43561f6aa07529a5dc250adb90dd56d-d4390e07035d8738-01 outer:exit 2b-3d86f421c43561f6aa07529a5dc250adb90dd56d-3e5866f655d7170b-01
2022-04-20T15:28:01.008Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:01.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-d005b0cd8462f6d56e2871fcafaf0fb9cb24d8af-13c9f5acc4e2fe92-01 outer:exit 2b-d005b0cd8462f6d56e2871fcafaf0fb9cb24d8af-aa49e00d60b6f4c9-01
2022-04-20T15:28:01.009Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:01.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ff99c6eed811746b14a33067318fb010a88709c-5c9d39fd0d0e35cc-01 outer:exit 2b-9ff99c6eed811746b14a33067318fb010a88709c-0ac983a436e0920e-01
2022-04-20T15:28:01.011Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:01.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-50eedc23871a84d3c5cec833030e8bf6509dfbd4-8ad6e104d579f2e2-01 outer:exit 2b-50eedc23871a84d3c5cec833030e8bf6509dfbd4-3c9f505e25b12c94-01
2022-04-20T15:28:01.013Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:01.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a31d7ca2b3382d5f773777fff5bb72302c2b4a1-33c1e38a75eed2df-01 outer:exit 2b-8a31d7ca2b3382d5f773777fff5bb72302c2b4a1-6a3d44013bc55b6a-01
2022-04-20T15:28:01.015Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:01.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-b35b37a8124176fa911b179e27a090226665bf60-66d304d78adcafa5-01 outer:exit 2b-b35b37a8124176fa911b179e27a090226665bf60-76914445935f2efd-01
2022-04-20T15:28:01.017Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:01.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-03d10bcae2d2ad6dae90a889375f5502fdfe4848-5d1d63a357e2535b-01 outer:exit 2b-03d10bcae2d2ad6dae90a889375f5502fdfe4848-88183082d48c35b5-01
2022-04-20T15:28:01.020Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:01.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-73cbd34b49f267945ea918cef249959a186951d3-6d52bf589618f972-01 outer:exit 2b-73cbd34b49f267945ea918cef249959a186951d3-cab10dd5d5490ebb-01
2022-04-20T15:28:01.022Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:01.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-be8cd5861d2a7c28185d32ece99a321e4cf46ade-b53b4201a86857fc-01 outer:exit 2b-be8cd5861d2a7c28185d32ece99a321e4cf46ade-28c7ab6ee6de0248-01
2022-04-20T15:28:01.024Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:01.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-30b5b36d17bf10e4170556215cefe4fceff6f585-f197e7882393317b-01 outer:exit 2b-30b5b36d17bf10e4170556215cefe4fceff6f585-f86a72ae8a3eca40-01
2022-04-20T15:28:01.029Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:01.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f999d6b08a74978c3f7bae562fb302d44456f8f-c9f20bbc6341d1d7-01 outer:exit 2b-1f999d6b08a74978c3f7bae562fb302d44456f8f-db9971227d19c964-01
2022-04-20T15:28:01.032Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:01.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4c08c98205aa95a683806ef390cc6576443e091-54ee39b9210279c0-01 outer:exit 2b-b4c08c98205aa95a683806ef390cc6576443e091-43eb15faeef84457-01
2022-04-20T15:28:01.039Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:01.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-46670205d8a0cd83cee42ba30123841cdbcfbd08-7a948def4242ec43-01 outer:exit 2b-46670205d8a0cd83cee42ba30123841cdbcfbd08-12a6f218176fba04-01
2022-04-20T15:28:01.045Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:01.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-d809e9a0ab4b7b1bcadafbcce51df924ebfa1830-7292eba1cbe1dac3-01 outer:exit 2b-d809e9a0ab4b7b1bcadafbcce51df924ebfa1830-9f6c6b72459887e2-01
2022-04-20T15:28:01.047Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:01.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ee5a510b02d157786f535e01a3abfda89a194cf-42befbabe38ea8d2-01 outer:exit 2b-4ee5a510b02d157786f535e01a3abfda89a194cf-61968ee0e5b8c1fd-01
2022-04-20T15:28:01.050Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:01.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-5741d78eedb5b4bc3205d2689f1bdc34885a31f8-4cbb179190c1aa39-01 outer:exit 2b-5741d78eedb5b4bc3205d2689f1bdc34885a31f8-6fd58e75d29d98f7-01
2022-04-20T15:28:01.057Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:01.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8d54db16e1a48adfe7df2595573e22e1897b3b3-9a161b6aa7c39f00-01 outer:exit 2b-b8d54db16e1a48adfe7df2595573e22e1897b3b3-db40267d4064d997-01
2022-04-20T15:28:01.058Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:01.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc0ee0448d9f72f4de331a951f316d3a12d96ab5-3e35fc5da7ec4d23-01 outer:exit 2b-dc0ee0448d9f72f4de331a951f316d3a12d96ab5-625eb195375c30ba-01
2022-04-20T15:28:01.060Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:01.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-9deead3aab93a17088116a8498eca13c2a07c0c6-0dcc8490cad55103-01 outer:exit 2b-9deead3aab93a17088116a8498eca13c2a07c0c6-5661c41350b78a6a-01
2022-04-20T15:28:01.062Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:01.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-f43b6ff269831299b81ea713f285acbf3521a48e-c885344b8ded1194-01 outer:exit 2b-f43b6ff269831299b81ea713f285acbf3521a48e-a989458e177e92c7-01
2022-04-20T15:28:01.063Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:01.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-c336c1abf1b57bba1cc47698506e4991e57b173d-80e55b2bafac4178-01 outer:exit 2b-c336c1abf1b57bba1cc47698506e4991e57b173d-31e20d5c556c841d-01
2022-04-20T15:28:01.065Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:01.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-82378a3c83533c7ac48f1ccf8c7664fe731468f1-4e38626c980b4561-01 outer:exit 2b-82378a3c83533c7ac48f1ccf8c7664fe731468f1-4aa906e3aef0ab07-01
2022-04-20T15:28:01.073Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:01.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b13b6dc1737f2fea45fd2f519eadc516bfb8dfc-a18635d56215a5b5-01 outer:exit 2b-2b13b6dc1737f2fea45fd2f519eadc516bfb8dfc-180fd698a5cc0efb-01
2022-04-20T15:28:01.081Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:01.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d197d010cbee4c7339368911b990c8c711f2b36-8d88bab067ab3935-01 outer:exit 2b-6d197d010cbee4c7339368911b990c8c711f2b36-c96574e86a868fe3-01
2022-04-20T15:28:01.083Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:01.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ebaf8de3c383eac63b5d61054c1891eeba61561-e2b45cb35f1489dd-01 outer:exit 2b-2ebaf8de3c383eac63b5d61054c1891eeba61561-5b9523f0cba5644f-01
2022-04-20T15:28:01.085Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:01.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d37a7b648836de1c6dacab9d0fbbf9bc6f4bc12-c9855d4f73127f8d-01 outer:exit 2b-8d37a7b648836de1c6dacab9d0fbbf9bc6f4bc12-3d97c43fe02b908c-01
2022-04-20T15:28:01.087Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:01.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-161c2b80cc8edebf1cf8ae12ee529bdc3235972d-cbb0189eb60d0009-01 outer:exit 2b-161c2b80cc8edebf1cf8ae12ee529bdc3235972d-346af9b93942f39b-01
2022-04-20T15:28:01.113Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (270ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:06.334Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:06.335Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:06.335Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:06.336Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:06.393Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:06.502Z appoptics:patching patched crypto 
2022-04-20T15:28:06.519Z appoptics:patching patched https 
2022-04-20T15:28:06.520Z appoptics:patching patched http 
2022-04-20T15:28:06.561Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:06.561Z appoptics:patching patched fs 
2022-04-20T15:28:06.575Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v16.14.2)
2022-04-20T15:28:06.580Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2022-04-20T15:28:06.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-13b5f78fb56bbeed815123efaae63b0f5ee997d1-a17bb4f0d7eade04-01 outer:exit 2b-13b5f78fb56bbeed815123efaae63b0f5ee997d1-d0a353ab5d54156e-01
2022-04-20T15:28:06.621Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:06.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cf0c79b0fd83b03acbbe99d45e36c8f0c0fe0b5-735fcded9f016dab-01 outer:exit 2b-9cf0c79b0fd83b03acbbe99d45e36c8f0c0fe0b5-4d7b82880e9ad179-01
2022-04-20T15:28:06.660Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:06.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-a18be53ef0342ff1f6d94ce12926706a31a37b33-a0daffcb6ab45194-01 outer:exit 2b-a18be53ef0342ff1f6d94ce12926706a31a37b33-9f02110b0c6400c9-01
2022-04-20T15:28:06.663Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:06.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-e54cbf1653f7e23dbb32ab6e6efe205dfa4af54b-41585b210b8f8b15-01 outer:exit 2b-e54cbf1653f7e23dbb32ab6e6efe205dfa4af54b-9428d61b3a169794-01
2022-04-20T15:28:06.666Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:06.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-6635e46ab2413fa1e209f6492d40d58657212f38-23be19a434b5f26c-01 outer:exit 2b-6635e46ab2413fa1e209f6492d40d58657212f38-72703049d191c6c5-01
2022-04-20T15:28:06.671Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:06.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-57fa60ac9be9ab2add3259ca1c9a70cc3aa99e81-df6fd7d32f68f97b-01 outer:exit 2b-57fa60ac9be9ab2add3259ca1c9a70cc3aa99e81-295fe47514428381-01
2022-04-20T15:28:06.674Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:06.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-387c909593b334bee476e785c76f756bac375395-195f17fccf9c2e75-01 outer:exit 2b-387c909593b334bee476e785c76f756bac375395-514b9a093105e39e-01
2022-04-20T15:28:06.676Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:06.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-71a2f0025e86d327ccf4870a74e1ea99444749c0-90eed60d5b6ad296-01 outer:exit 2b-71a2f0025e86d327ccf4870a74e1ea99444749c0-5aa286a06e7eabf4-01
2022-04-20T15:28:06.679Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:06.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-34bc8f690abfa1cb256f2398c402304746a56cc8-587c653dce1fe8b6-01 outer:exit 2b-34bc8f690abfa1cb256f2398c402304746a56cc8-647076d698c98b7d-01
2022-04-20T15:28:06.681Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:06.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-77f792236d9699f4ba957f1c3891e883cc7ce529-c25a63ac1f6119e3-01 outer:exit 2b-77f792236d9699f4ba957f1c3891e883cc7ce529-4c58dffbdb30ec5c-01
2022-04-20T15:28:06.684Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:06.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-219bbf0098f2dfd1c362878963c94083b39f1312-faf2e4920c18004a-01 outer:exit 2b-219bbf0098f2dfd1c362878963c94083b39f1312-c506128430030621-01
2022-04-20T15:28:06.688Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:06.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-71dd69c34c1eade605f81bdf2511e9832ac5f3f2-816a84c0527276b2-01 outer:exit 2b-71dd69c34c1eade605f81bdf2511e9832ac5f3f2-dcf8fc08632dd486-01
2022-04-20T15:28:06.696Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:06.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-3150da8b7be2401996707cccf4f4a8c95656424e-8dc3b279698974d2-01 outer:exit 2b-3150da8b7be2401996707cccf4f4a8c95656424e-ce5cd0e9e8303986-01
2022-04-20T15:28:06.710Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:06.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fb8dcfc71bf8a5d98df4852e4c0a88dcec1a18c-9cd4a1116ba481ad-01 outer:exit 2b-6fb8dcfc71bf8a5d98df4852e4c0a88dcec1a18c-5f34bc3dc45ed7b8-01
2022-04-20T15:28:06.743Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:06.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-5915996e2a23680b67a213975565e52de2aa2e48-b9c1adfbb9cfe183-01 outer:exit 2b-5915996e2a23680b67a213975565e52de2aa2e48-162cecbd1f897bd2-01
2022-04-20T15:28:06.746Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:06.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-c62055977d4ffb787914f2c6df87ac3e87e1e4e1-e60c98df56424a93-01 outer:exit 2b-c62055977d4ffb787914f2c6df87ac3e87e1e4e1-d1c7052f580b1a06-01
2022-04-20T15:28:06.748Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:06.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c778c75954efc9254fb3e6c31e82a137ac592b2-e3f0e97664ce0a5f-01 outer:exit 2b-2c778c75954efc9254fb3e6c31e82a137ac592b2-b89b75cd215c7dd6-01
2022-04-20T15:28:06.750Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:06.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-56723101e2b36ffd601a1a04ba8e8f4fc91d5e63-da8030e0723b8442-01 outer:exit 2b-56723101e2b36ffd601a1a04ba8e8f4fc91d5e63-909a4b24b30f1520-01
2022-04-20T15:28:06.752Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:06.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-21282723b35235e7292800312015ed0d24c07708-503e736abe0816b7-01 outer:exit 2b-21282723b35235e7292800312015ed0d24c07708-3e48bbefbda487ab-01
2022-04-20T15:28:06.754Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:06.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-0687fabe9ffa52259169c49cd3dcf062138fe29d-e2b916f06743a675-01 outer:exit 2b-0687fabe9ffa52259169c49cd3dcf062138fe29d-c77f6d7b8ba9b1f7-01
2022-04-20T15:28:06.756Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:06.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-2afc0950fb20d07f9cf5d9c07d20381f7c31985f-5783d8686e2af812-01 outer:exit 2b-2afc0950fb20d07f9cf5d9c07d20381f7c31985f-a3356b1328b9958d-01
2022-04-20T15:28:06.758Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:06.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-357a7fa198a2cf4160879d46cb98081e8316cc6a-84805434eb8ff8ed-01 outer:exit 2b-357a7fa198a2cf4160879d46cb98081e8316cc6a-de1ddc9b729cccd3-01
2022-04-20T15:28:06.760Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:06.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b7369cf81b93ca7450f6b16091b9c1cd67137ee-efaf94112174ebce-01 outer:exit 2b-6b7369cf81b93ca7450f6b16091b9c1cd67137ee-d402b00c1c21204f-01
2022-04-20T15:28:06.762Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:06.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-20c72efcfc46ec9695dbf0bed9f91cabdda89cdc-1ceac56df527f6c5-01 outer:exit 2b-20c72efcfc46ec9695dbf0bed9f91cabdda89cdc-a1056bf9190374b9-01
2022-04-20T15:28:06.764Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:06.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cd6a7d8c0ba679325621173be54c7e409bc81fe-9ae8c61ca8c77283-01 outer:exit 2b-8cd6a7d8c0ba679325621173be54c7e409bc81fe-97edb0752617cb01-01
2022-04-20T15:28:06.766Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:06.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-41588845a5cb88615c7658a129cb7647e5e175a3-573dad36aa46890c-01 outer:exit 2b-41588845a5cb88615c7658a129cb7647e5e175a3-a1d16d83465226db-01
2022-04-20T15:28:06.769Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:06.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-91d8578b7ae6d9afc8b9e57820f1abc7ccbeb828-8004db9d1bf05d26-01 outer:exit 2b-91d8578b7ae6d9afc8b9e57820f1abc7ccbeb828-cb6be1f527eb06f7-01
2022-04-20T15:28:06.775Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:06.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-46df6ed7dcb26c9c60dc0d10216d233d8e67e79c-d731662228fcbe14-01 outer:exit 2b-46df6ed7dcb26c9c60dc0d10216d233d8e67e79c-18fcec2c071682b6-01
2022-04-20T15:28:06.778Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:06.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-83a665ace40f74e37a95d9d28968253c40e107c7-4667058e2cab2c48-01 outer:exit 2b-83a665ace40f74e37a95d9d28968253c40e107c7-4260ab8fb17055af-01
2022-04-20T15:28:06.785Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:06.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ec10d651df4b94e23359423fdd5896b20abd2ea-ff1eeb25ce4188b8-01 outer:exit 2b-9ec10d651df4b94e23359423fdd5896b20abd2ea-34021d0d217f0f4d-01
2022-04-20T15:28:06.791Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:06.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b0a66d02b50eebe85056ee4b9d337fb2d0072b9-ee496fdcd3f39c0c-01 outer:exit 2b-4b0a66d02b50eebe85056ee4b9d337fb2d0072b9-2d186387feccf5cd-01
2022-04-20T15:28:06.793Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:06.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-53a3f56a17d5bec085c5a649caf9ea28c820c00e-eee7105033fafcf0-01 outer:exit 2b-53a3f56a17d5bec085c5a649caf9ea28c820c00e-bb2fc4cc289cc304-01
2022-04-20T15:28:06.795Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:06.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-55bcfbe8c285db5889f9484ee5ed03b75fadeaf5-09c583af3b664eb2-01 outer:exit 2b-55bcfbe8c285db5889f9484ee5ed03b75fadeaf5-c1ba61850890ecab-01
2022-04-20T15:28:06.801Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:06.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bef58834bb7a2a9961755b95989af418e53d167-d5ecc9a31c661901-01 outer:exit 2b-8bef58834bb7a2a9961755b95989af418e53d167-479e779391d0737c-01
2022-04-20T15:28:06.803Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:06.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-16663dc968e64ebda6c3ba32ef2ed82748f39902-0b6be84807fb9cdd-01 outer:exit 2b-16663dc968e64ebda6c3ba32ef2ed82748f39902-148476b805981781-01
2022-04-20T15:28:06.805Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:06.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-457293676f90ab977f4ee3bff675d6580e47e097-02e65c590b94c2ff-01 outer:exit 2b-457293676f90ab977f4ee3bff675d6580e47e097-e815ba65c2b58597-01
2022-04-20T15:28:06.806Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:06.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-be8e6fa19730829b9b794ff44efd8fc9ab333fba-0dd96a1e6a945049-01 outer:exit 2b-be8e6fa19730829b9b794ff44efd8fc9ab333fba-577c465210ec04ec-01
2022-04-20T15:28:06.808Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:06.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-61407d7ff55b198c3807118dfaabcb526a77840f-1bb7392189e76489-01 outer:exit 2b-61407d7ff55b198c3807118dfaabcb526a77840f-b63963f29a78daac-01
2022-04-20T15:28:06.809Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:06.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-f61675301ac606b2c99ed1fd602d765674955a60-76f3db1eda172c9e-01 outer:exit 2b-f61675301ac606b2c99ed1fd602d765674955a60-69a1ec778684ab02-01
2022-04-20T15:28:06.818Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:06.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc6a4129d9a31187a1930097beda3a91e655cd11-bf5b93ba1d4af4aa-01 outer:exit 2b-dc6a4129d9a31187a1930097beda3a91e655cd11-c234dce4272c1076-01
2022-04-20T15:28:06.825Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:06.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0c85aab9cd0553f69b83f803d7f298c89a86aff-34bbc9e4fc9104f2-01 outer:exit 2b-f0c85aab9cd0553f69b83f803d7f298c89a86aff-08371c4e8f9b5342-01
2022-04-20T15:28:06.828Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:06.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-20a2cb805a89ae8e0b7d16601b20dd7586e887f6-a4aa579050a53674-01 outer:exit 2b-20a2cb805a89ae8e0b7d16601b20dd7586e887f6-b11dc8a5af618115-01
2022-04-20T15:28:06.830Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:06.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcd8c7af28202156c66e4026b76b1b3d0818bdcb-5a3e10b0350641e8-01 outer:exit 2b-dcd8c7af28202156c66e4026b76b1b3d0818bdcb-0f3acbb9e8dc8e20-01
2022-04-20T15:28:06.832Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:06.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-75cd9ab365b1215b100e5c5610fc1a90bf5dfc1c-5265ea6cf1d889ee-01 outer:exit 2b-75cd9ab365b1215b100e5c5610fc1a90bf5dfc1c-f14caee4b7a01235-01
2022-04-20T15:28:06.858Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (272ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:12.551Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:12.551Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:12.551Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:12.552Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:12.609Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:12.716Z appoptics:patching patched crypto 
2022-04-20T15:28:12.733Z appoptics:patching patched https 
2022-04-20T15:28:12.733Z appoptics:patching patched http 
2022-04-20T15:28:12.775Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:12.776Z appoptics:patching patched fs 
2022-04-20T15:28:12.789Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v16.14.2)
2022-04-20T15:28:12.794Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2022-04-20T15:28:12.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-54ffe64c223de400e24fd55ec2150e0f7932cf5b-cefbd4e386596c96-01 outer:exit 2b-54ffe64c223de400e24fd55ec2150e0f7932cf5b-3efb5d1ea1c41e60-01
2022-04-20T15:28:12.842Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:12.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-4751aa3b61bd5cc5216b3dacd218e3ac26652114-2e0b4a1d915bfa9e-01 outer:exit 2b-4751aa3b61bd5cc5216b3dacd218e3ac26652114-9b1c5645ae9702bc-01
2022-04-20T15:28:12.880Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:12.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c611b7b557720981165692cc96fd943b47628ba-30604ac4b148d61e-01 outer:exit 2b-1c611b7b557720981165692cc96fd943b47628ba-1d9f65c2f03317c4-01
2022-04-20T15:28:12.884Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:12.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b7c652bac58951f4526cd6222907b6ff5836bf9-cecfb3b07d34ece6-01 outer:exit 2b-4b7c652bac58951f4526cd6222907b6ff5836bf9-57840ebd142c99e7-01
2022-04-20T15:28:12.887Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:12.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f6507c0398b8ed780e61f94e75281b0171fa5a9-38822c095f1953e9-01 outer:exit 2b-3f6507c0398b8ed780e61f94e75281b0171fa5a9-48e566de22a92638-01
2022-04-20T15:28:12.891Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:12.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-491b5b4b385ae41c166db569c23d7d7f7e2bb953-273d22170f73800b-01 outer:exit 2b-491b5b4b385ae41c166db569c23d7d7f7e2bb953-f36247c16eb00e2c-01
2022-04-20T15:28:12.894Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:12.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-eea3386397d6734b07b99b3f179531f88bcccd87-1d91f513c3e3a044-01 outer:exit 2b-eea3386397d6734b07b99b3f179531f88bcccd87-12999be49a0e4046-01
2022-04-20T15:28:12.897Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:12.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b48eb505eceb0fdeeed2db31b80d931fe19d8b7-6af540843465eca2-01 outer:exit 2b-3b48eb505eceb0fdeeed2db31b80d931fe19d8b7-7322f367b7c118cd-01
2022-04-20T15:28:12.899Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:12.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ca93fac162a8ee851da79cb996e6a509865de7f-b999c0a6265e203d-01 outer:exit 2b-6ca93fac162a8ee851da79cb996e6a509865de7f-4941daad74e98c2b-01
2022-04-20T15:28:12.901Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:12.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee4b78edb25df6ba0e70c0cde2e3fb32214c2c53-e3fcd475aacdaafe-01 outer:exit 2b-ee4b78edb25df6ba0e70c0cde2e3fb32214c2c53-359aabb4e3f53336-01
2022-04-20T15:28:12.904Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:12.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-afac7708f3b3e1c7c524ee2f403422a660bb6d22-f377937afda30ea6-01 outer:exit 2b-afac7708f3b3e1c7c524ee2f403422a660bb6d22-c34939413879a9c9-01
2022-04-20T15:28:12.908Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:12.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-89c6f0d7459b06265da0d9b83aad017e5d3da53d-a66166d2ba29e681-01 outer:exit 2b-89c6f0d7459b06265da0d9b83aad017e5d3da53d-479c6267505ab0b3-01
2022-04-20T15:28:12.914Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:12.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-5116aac8ae9312d715dbd76398e5db2d99170e07-9dd385ac8e6d5c7d-01 outer:exit 2b-5116aac8ae9312d715dbd76398e5db2d99170e07-b4b29b42a567fc95-01
2022-04-20T15:28:12.928Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:12.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-90ecef8a425f59e8a80e0fc84193d6a93c322263-6c5783f0bec438dd-01 outer:exit 2b-90ecef8a425f59e8a80e0fc84193d6a93c322263-f10677c60476685e-01
2022-04-20T15:28:12.961Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:12.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-717aed26437846078029492ff981f188147ba5ad-d6069744e29129bc-01 outer:exit 2b-717aed26437846078029492ff981f188147ba5ad-69c9828c87e85942-01
2022-04-20T15:28:12.963Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:12.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-02b1e854d2d94366e624e3016248ae4ff0dcad4f-dd6a4d7ffa4906f9-01 outer:exit 2b-02b1e854d2d94366e624e3016248ae4ff0dcad4f-0dd0b4aafed158e8-01
2022-04-20T15:28:12.967Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:12.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-29d85d31c5bb50a7995764bd16fe275840b336b4-2215b98e9c0152d3-01 outer:exit 2b-29d85d31c5bb50a7995764bd16fe275840b336b4-24635e4f1a542590-01
2022-04-20T15:28:12.969Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:12.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-c61f534dd0d2bf2dc966abc5398af532985cc7b8-2e163c19ee7d4ba7-01 outer:exit 2b-c61f534dd0d2bf2dc966abc5398af532985cc7b8-4e25f7a9ad1c1c8c-01
2022-04-20T15:28:12.971Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:12.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-7db6a74664aa9bb7e631b18c8312612ef1990bc4-895b72313bc37b59-01 outer:exit 2b-7db6a74664aa9bb7e631b18c8312612ef1990bc4-c5fbf1a4abd5acb5-01
2022-04-20T15:28:12.973Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:12.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-436ea778bc9287c78125850a9f8aae052039300e-1e8f41853c7fcf76-01 outer:exit 2b-436ea778bc9287c78125850a9f8aae052039300e-012b7174a72c1ed8-01
2022-04-20T15:28:12.975Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:12.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb9805ffd334f113df6851232f9b60c1ec42ea8b-7d5b78a10a820c77-01 outer:exit 2b-fb9805ffd334f113df6851232f9b60c1ec42ea8b-5e694d403ee7ae4b-01
2022-04-20T15:28:12.977Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:12.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-d175898d9d625517ad0a3e2b3c1791852e448e10-02e9fb4c1539c4fa-01 outer:exit 2b-d175898d9d625517ad0a3e2b3c1791852e448e10-040294fd8aaff03b-01
2022-04-20T15:28:12.978Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:12.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-35fbb6daf59cbebeccf96de33ff968c71e2b17ac-10dc78a035700ce9-01 outer:exit 2b-35fbb6daf59cbebeccf96de33ff968c71e2b17ac-b2ecde9e8563efb9-01
2022-04-20T15:28:12.981Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:12.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d061aab118314bfd4cc303d6fb3a24c265fdb4e-d4801da037fae336-01 outer:exit 2b-9d061aab118314bfd4cc303d6fb3a24c265fdb4e-0999430382f6c5e9-01
2022-04-20T15:28:12.983Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:12.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b5c8063521c995b47ca42fd13238b0a34295f70-3558ceabd5d047f2-01 outer:exit 2b-1b5c8063521c995b47ca42fd13238b0a34295f70-117c9fe6f5fc1c1d-01
2022-04-20T15:28:12.985Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:12.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-156506de70f81f2847bbec1d6b9dde8e70b898f5-cddd53ecaee2f583-01 outer:exit 2b-156506de70f81f2847bbec1d6b9dde8e70b898f5-a8c0f80871988b7e-01
2022-04-20T15:28:12.987Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:12.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-af3c283926f81cff1ed3c37060e2f45805535577-bb9a9edba84e04c8-01 outer:exit 2b-af3c283926f81cff1ed3c37060e2f45805535577-62c0ba87252a114c-01
2022-04-20T15:28:12.992Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:12.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-358cb39e6a18d1432365c13eae50c736ea6c80f2-e986ff2b4b0ed4a5-01 outer:exit 2b-358cb39e6a18d1432365c13eae50c736ea6c80f2-8c1b31ec07105019-01
2022-04-20T15:28:12.996Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:13.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-cee3754d8f5ddedef8830339ec3bf7308e6c2b65-efd6833e7e097d96-01 outer:exit 2b-cee3754d8f5ddedef8830339ec3bf7308e6c2b65-e8644267902fca38-01
2022-04-20T15:28:13.004Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:13.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-6715cb348d9706e944d20c076060a82f97d28cf8-33397cd04de53fd8-01 outer:exit 2b-6715cb348d9706e944d20c076060a82f97d28cf8-f06170028a049135-01
2022-04-20T15:28:13.010Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:13.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-003bec6ad97bf6b98ce35a53693b1cd62cd24793-36537034c854464b-01 outer:exit 2b-003bec6ad97bf6b98ce35a53693b1cd62cd24793-7dd0e87481b5d1f1-01
2022-04-20T15:28:13.012Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:13.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-00e97707c7a206022e427ee7ddfc0ad9f4509955-45a2c482c3a33126-01 outer:exit 2b-00e97707c7a206022e427ee7ddfc0ad9f4509955-8ff9102840cf5752-01
2022-04-20T15:28:13.014Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:13.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-72bcd64be8fcef23204f3e27028e67d5633d46cf-92e43715ceede39f-01 outer:exit 2b-72bcd64be8fcef23204f3e27028e67d5633d46cf-436f02b75bea5289-01
2022-04-20T15:28:13.019Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:13.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c9d645ba97f9e7590126cd4a5f9be18815e2a4b-d0a32ad4492b79de-01 outer:exit 2b-5c9d645ba97f9e7590126cd4a5f9be18815e2a4b-b1f02e0cd775e343-01
2022-04-20T15:28:13.021Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:13.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-50c81cad5bb24d97d8305035971b7bf23380c9c3-f183b6b30385854b-01 outer:exit 2b-50c81cad5bb24d97d8305035971b7bf23380c9c3-cfb98e5a4db78349-01
2022-04-20T15:28:13.023Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:13.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3a3a51b2a5260464ce7d9e8ff3972680b7b1d7c-0788cd95af256269-01 outer:exit 2b-f3a3a51b2a5260464ce7d9e8ff3972680b7b1d7c-416a7c41e8da7fbb-01
2022-04-20T15:28:13.024Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:13.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f96074ce97ff2abe67879e1bb946d704226861f-dc94fc1cbc26f49a-01 outer:exit 2b-5f96074ce97ff2abe67879e1bb946d704226861f-d9795630fff07c1b-01
2022-04-20T15:28:13.026Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:13.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-f017dca1ee19bb6143ef4106eca9596b87ac5bff-b29f1dcdf6a855e2-01 outer:exit 2b-f017dca1ee19bb6143ef4106eca9596b87ac5bff-3abc045309f5778f-01
2022-04-20T15:28:13.028Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:13.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-de6395a2a664e8d3cfe7218ba568c3be2a166f8f-f79eeb065da40624-01 outer:exit 2b-de6395a2a664e8d3cfe7218ba568c3be2a166f8f-a3de927e0fe0a576-01
2022-04-20T15:28:13.036Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:13.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd8cafe5a50526a20d6aba473b851fd8920fcc17-735b32d74d481264-01 outer:exit 2b-cd8cafe5a50526a20d6aba473b851fd8920fcc17-d76f6a783f2dce00-01
2022-04-20T15:28:13.043Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:13.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-53a0c5af4104785754f0394783536e2e85429dc6-40a570aac4ffee3b-01 outer:exit 2b-53a0c5af4104785754f0394783536e2e85429dc6-cdbab397ef8f1847-01
2022-04-20T15:28:13.045Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:13.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-a03c262434012795b14f7443a6c749c231b66ed1-b5cbcd80b432a6f9-01 outer:exit 2b-a03c262434012795b14f7443a6c749c231b66ed1-fe3af6fdfa024c83-01
2022-04-20T15:28:13.047Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:13.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-0193e04443d5e30ed1e2e187a79a330cc7a7321c-78cf9a55fcd81f34-01 outer:exit 2b-0193e04443d5e30ed1e2e187a79a330cc7a7321c-0bf283eed6a689fa-01
2022-04-20T15:28:13.050Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:13.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ce884b8c0e88814415246c96f381947222e5365-76751b8641820861-01 outer:exit 2b-0ce884b8c0e88814415246c96f381947222e5365-ec1936a4c2126501-01
2022-04-20T15:28:13.076Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (277ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:18.575Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:18.575Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:18.576Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:18.576Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:18.653Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:18.774Z appoptics:patching patched crypto 
2022-04-20T15:28:18.807Z appoptics:patching patched https 
2022-04-20T15:28:18.808Z appoptics:patching patched http 
2022-04-20T15:28:18.852Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:18.852Z appoptics:patching patched fs 
2022-04-20T15:28:18.869Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v16.14.2)
2022-04-20T15:28:18.874Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2022-04-20T15:28:18.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-5940137dd1aa057802ba1d6b6d83960f531d2054-ee57a6dd4cc60f18-01 outer:exit 2b-5940137dd1aa057802ba1d6b6d83960f531d2054-88ae764f21675e5b-01
2022-04-20T15:28:18.919Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:18.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0a6778cbc52c7f460704a656601ec9d84b1b221-e36e13be9a082f8e-01 outer:exit 2b-a0a6778cbc52c7f460704a656601ec9d84b1b221-69397a7464995521-01
2022-04-20T15:28:18.958Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:18.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fbc843752a952ce30b7833b9dfb4efdfacc08e5-27d028b7998f97d3-01 outer:exit 2b-2fbc843752a952ce30b7833b9dfb4efdfacc08e5-f6043f08dcb83395-01
2022-04-20T15:28:18.961Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:18.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b135ebdf7f5def70c62cfee380ff82abb5bda3f-401f8617193e1aac-01 outer:exit 2b-7b135ebdf7f5def70c62cfee380ff82abb5bda3f-7c19ec835e6c532e-01
2022-04-20T15:28:18.964Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:18.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-3db26673b70ff1dde16a16600ce754de8fc6322c-0d63c02b19bc1ad5-01 outer:exit 2b-3db26673b70ff1dde16a16600ce754de8fc6322c-fab4c96795c8792d-01
2022-04-20T15:28:18.971Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:18.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a8d759acbb9f28ca9ca64013068c099fcf9fc87-0a557f590bb1e9e2-01 outer:exit 2b-0a8d759acbb9f28ca9ca64013068c099fcf9fc87-edc09f1992ac5765-01
2022-04-20T15:28:18.974Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:18.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8ab1c0120a8cc06100291851f9741716619b8c3-5c610780cc42caba-01 outer:exit 2b-a8ab1c0120a8cc06100291851f9741716619b8c3-78e8b5c0b671e609-01
2022-04-20T15:28:18.977Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:18.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fb0ae218cd24085992cf952d5acf2affdea4f7d-ab681dc04e40c8f6-01 outer:exit 2b-8fb0ae218cd24085992cf952d5acf2affdea4f7d-e3bd26c716527ec4-01
2022-04-20T15:28:18.980Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:18.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae48d9a769b8a65e1078c0d966b1e5e14a20813c-81e1fe4037f2c82a-01 outer:exit 2b-ae48d9a769b8a65e1078c0d966b1e5e14a20813c-7330f5d413f09bb7-01
2022-04-20T15:28:18.982Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:18.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d0a5ab222ee71ec6151a68582a87de51926cd66-5e8853fdd1eae89f-01 outer:exit 2b-2d0a5ab222ee71ec6151a68582a87de51926cd66-c95f66ad4db0d2ae-01
2022-04-20T15:28:18.985Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:18.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e4b98690a2c9fc070e6ef141d904f68c90ea56e-f845b780f6881f4e-01 outer:exit 2b-9e4b98690a2c9fc070e6ef141d904f68c90ea56e-ebf270d5ae1de420-01
2022-04-20T15:28:18.989Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:18.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f07dcf37670aec04cd1a7b98da7f95e97f98dcd-a3d511397ae365a1-01 outer:exit 2b-1f07dcf37670aec04cd1a7b98da7f95e97f98dcd-34137f0608b3d936-01
2022-04-20T15:28:18.995Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:19.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7caa847a3946c9414eee35bc05fcf28ffa9a677-c3f9b73ba310a601-01 outer:exit 2b-c7caa847a3946c9414eee35bc05fcf28ffa9a677-91342c43bd28b110-01
2022-04-20T15:28:19.011Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:19.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1c97aa8758b5d8f3d88bec8aac2be5cb4425ea3-9393c2894238e2d0-01 outer:exit 2b-e1c97aa8758b5d8f3d88bec8aac2be5cb4425ea3-052d8e155b3c10a1-01
2022-04-20T15:28:19.045Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:19.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-5937378d738dc682a0ca5f40a5f223aad7ecc561-5106fe6e6dfb81c6-01 outer:exit 2b-5937378d738dc682a0ca5f40a5f223aad7ecc561-f094e5602d1e6da8-01
2022-04-20T15:28:19.047Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:19.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-47d86f55c12f183b8e4940155a0831796508882f-6d80c122b89c296e-01 outer:exit 2b-47d86f55c12f183b8e4940155a0831796508882f-444ecc64bfdacdfe-01
2022-04-20T15:28:19.049Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:19.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-81b3db638a9348d6de55f9be71355c905a5d4e07-910cffa06f462532-01 outer:exit 2b-81b3db638a9348d6de55f9be71355c905a5d4e07-c668c88b3be5379d-01
2022-04-20T15:28:19.052Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:19.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-594a8165a1d9f19cba466b490f8f758df3fc9f52-0f70c6952aec15b4-01 outer:exit 2b-594a8165a1d9f19cba466b490f8f758df3fc9f52-737fcf17a398397c-01
2022-04-20T15:28:19.055Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:19.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cf590da5da5a91325289d9c1ba29bf8de638cf0-eee9bf2351c40f4a-01 outer:exit 2b-5cf590da5da5a91325289d9c1ba29bf8de638cf0-597fa42681d196a0-01
2022-04-20T15:28:19.057Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:19.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-4293db4e9d6c7fcb5ad748b72058257af77fd46f-b5a221beccca73c6-01 outer:exit 2b-4293db4e9d6c7fcb5ad748b72058257af77fd46f-774adb846eb2d1f3-01
2022-04-20T15:28:19.059Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:19.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aa47d92707937093490680709cd7702885606e4-6bb67ff5c72ec982-01 outer:exit 2b-8aa47d92707937093490680709cd7702885606e4-1bf87e511243a3b5-01
2022-04-20T15:28:19.063Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:19.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac053e604f9ddac95c1662d9a4bba1478b81edac-a76bca78983c593a-01 outer:exit 2b-ac053e604f9ddac95c1662d9a4bba1478b81edac-b3f7fdd9bd6c7a36-01
2022-04-20T15:28:19.065Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:19.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-e32bc99ee8dc7dc0e15b79781cf14920e11a356d-5687129d7080dc6f-01 outer:exit 2b-e32bc99ee8dc7dc0e15b79781cf14920e11a356d-70d05503df58b717-01
2022-04-20T15:28:19.069Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:19.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-c932dd39e00366c1613321e928d8e61b3e6ab0c6-4a805faeafff4940-01 outer:exit 2b-c932dd39e00366c1613321e928d8e61b3e6ab0c6-79e7c18f7a5a0af3-01
2022-04-20T15:28:19.073Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:19.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-b88f0ac7687c3cc6faece7fa22dc8b0ca794839c-66d2f5e9aacefaed-01 outer:exit 2b-b88f0ac7687c3cc6faece7fa22dc8b0ca794839c-a9fed7a4a4730715-01
2022-04-20T15:28:19.076Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:19.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-211f815873f83e5cd28332058284888de59a35aa-3cb902879ab0e742-01 outer:exit 2b-211f815873f83e5cd28332058284888de59a35aa-0b3f21df606e83cb-01
2022-04-20T15:28:19.080Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:19.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0b2dc9aab43634bc9e5c2bfa7dcb844bb5832a0-70376f16f6edab63-01 outer:exit 2b-a0b2dc9aab43634bc9e5c2bfa7dcb844bb5832a0-c5b46968253ecf45-01
2022-04-20T15:28:19.089Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:19.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-6090c2760f0ef42a0758471a35a472ea6d61916a-e1b51ed708ef1087-01 outer:exit 2b-6090c2760f0ef42a0758471a35a472ea6d61916a-fb1751e4ed872585-01
2022-04-20T15:28:19.094Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:19.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1d26ef051169613068d23913618fbe73b7d86ff-57867c9a73106804-01 outer:exit 2b-d1d26ef051169613068d23913618fbe73b7d86ff-1722dc19119ddf01-01
2022-04-20T15:28:19.104Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:19.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f2b7fabfa3af2f85fab4b077cd73ed37f6d25f3-18ba79be0b75a671-01 outer:exit 2b-7f2b7fabfa3af2f85fab4b077cd73ed37f6d25f3-c417d6af420b5fba-01
2022-04-20T15:28:19.110Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:19.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-77b372f81d5b8e4a96f7b7c3c838624978ff25b2-c5986410e99342f4-01 outer:exit 2b-77b372f81d5b8e4a96f7b7c3c838624978ff25b2-59f4b52531883a5c-01
2022-04-20T15:28:19.112Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:19.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-5293befac5eb90b6a148ee6426f690505bbd5a32-deda905d5c0411e7-01 outer:exit 2b-5293befac5eb90b6a148ee6426f690505bbd5a32-198af285131a9b57-01
2022-04-20T15:28:19.115Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:19.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9dd633fdc04d1e718ee26487474800047da8d92-902473d559380378-01 outer:exit 2b-d9dd633fdc04d1e718ee26487474800047da8d92-7a99737987e66712-01
2022-04-20T15:28:19.121Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:19.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-87ced1c4b08ca0cb9dfc288521595c258ca1364f-4cee3db2278c19f8-01 outer:exit 2b-87ced1c4b08ca0cb9dfc288521595c258ca1364f-518001baf9cc9ed1-01
2022-04-20T15:28:19.123Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:19.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cd9d5eb080c5a09f065cd36c66281da99fbb502-fbbf702c66bce756-01 outer:exit 2b-4cd9d5eb080c5a09f065cd36c66281da99fbb502-8e5f2bce4477673b-01
2022-04-20T15:28:19.125Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:19.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdfc2260bf2d643cba332ae8110cdc02abee8530-ae7985a4a8e273f3-01 outer:exit 2b-cdfc2260bf2d643cba332ae8110cdc02abee8530-a1a23bf49e7465c1-01
2022-04-20T15:28:19.127Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:19.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2cb0b743734500b0c77b6cd7867e44db6f3604d-974601ebd64cfd08-01 outer:exit 2b-e2cb0b743734500b0c77b6cd7867e44db6f3604d-8df3764759393237-01
2022-04-20T15:28:19.128Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:19.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-99e9c7e240aefa73eea58e0e27f062081736b5cf-9e721b8bc739912b-01 outer:exit 2b-99e9c7e240aefa73eea58e0e27f062081736b5cf-b1c8155e4a2c22ce-01
2022-04-20T15:28:19.130Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:19.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-8279e2b4428d0eba8bf16c1c8a65af54924bf98b-3a6d1556785cb0c7-01 outer:exit 2b-8279e2b4428d0eba8bf16c1c8a65af54924bf98b-bfd836a3661aece9-01
2022-04-20T15:28:19.138Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:19.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-93be24171875e4b4c276ed24b741d21a033d5689-ff7f9f2c3ae234ce-01 outer:exit 2b-93be24171875e4b4c276ed24b741d21a033d5689-c0b3c4ad613e3195-01
2022-04-20T15:28:19.146Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:19.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-4564585d70be546dff863f53ca6315fd84f6ae5d-6356e641c73e5743-01 outer:exit 2b-4564585d70be546dff863f53ca6315fd84f6ae5d-18ef99ed70a1bfae-01
2022-04-20T15:28:19.149Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:19.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-4256802cb7d1faa603fdd739923696cab526fda3-9e0cb04d37d7c531-01 outer:exit 2b-4256802cb7d1faa603fdd739923696cab526fda3-13d674cc89dd4e41-01
2022-04-20T15:28:19.151Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:19.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd0e4585aff8d5defd30b17ad1961d4a719727b7-290b08a52cb18e46-01 outer:exit 2b-fd0e4585aff8d5defd30b17ad1961d4a719727b7-13905fe30f0c8df8-01
2022-04-20T15:28:19.154Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:19.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-771437e0cf38e4296ce137dc69c6098f1efb9372-7832ab58e48bada9-01 outer:exit 2b-771437e0cf38e4296ce137dc69c6098f1efb9372-4aa71c8ad5b9d31f-01
2022-04-20T15:28:19.182Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (302ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:25.108Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:25.108Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:25.108Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:25.109Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:25.167Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:25.274Z appoptics:patching patched crypto 
2022-04-20T15:28:25.291Z appoptics:patching patched https 
2022-04-20T15:28:25.291Z appoptics:patching patched http 
2022-04-20T15:28:25.333Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:25.333Z appoptics:patching patched fs 
2022-04-20T15:28:25.350Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v16.14.2)
2022-04-20T15:28:25.363Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2022-04-20T15:28:25.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ea8d0cd2a2cd312f4623ca7cf573b3d920854d9-f1f4f00e22620044-01 outer:exit 2b-4ea8d0cd2a2cd312f4623ca7cf573b3d920854d9-2600de407ad0d5b8-01
2022-04-20T15:28:25.409Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:25.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-29c71802d0b861ae7f7cc2b34f9f30cb94a156fb-a95cc99f664e9c9f-01 outer:exit 2b-29c71802d0b861ae7f7cc2b34f9f30cb94a156fb-79af18ebb06ccb0a-01
2022-04-20T15:28:25.450Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:25.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-415b2ef21a62f7a28439c406991097b4939a11cf-ba2947826df35780-01 outer:exit 2b-415b2ef21a62f7a28439c406991097b4939a11cf-6ab893c91a3400f0-01
2022-04-20T15:28:25.453Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:25.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-f581b2e841c935cc41d15076834a96b755880c92-ba2ec9e7f399e366-01 outer:exit 2b-f581b2e841c935cc41d15076834a96b755880c92-40eb730211255998-01
2022-04-20T15:28:25.456Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:25.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5de3a914cb8821bcc361f8de8b943cda861a80a-745e30c862897e6c-01 outer:exit 2b-b5de3a914cb8821bcc361f8de8b943cda861a80a-22da3ff6499004f1-01
2022-04-20T15:28:25.460Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:25.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-434b6b5bb47e718d8b77bffda381970f861e529e-16ebcec397b944b9-01 outer:exit 2b-434b6b5bb47e718d8b77bffda381970f861e529e-2bf3344be10f1a48-01
2022-04-20T15:28:25.463Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:25.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-f122fa71af749af8ed330ba705de728851005382-6c967ac0d98f206a-01 outer:exit 2b-f122fa71af749af8ed330ba705de728851005382-1895270e0cf79f20-01
2022-04-20T15:28:25.466Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:25.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9ba55753f3a394f02a254f839c8429937ce8160-6a6398c3b52d78be-01 outer:exit 2b-f9ba55753f3a394f02a254f839c8429937ce8160-e0bad89ce25da325-01
2022-04-20T15:28:25.468Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:25.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3ded4a88933ded8c466518aa41f93724f31055e-d07545893f48a05c-01 outer:exit 2b-e3ded4a88933ded8c466518aa41f93724f31055e-9eb4242b129d5d54-01
2022-04-20T15:28:25.471Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:25.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bfe910984e0185fffd809a47398d9f7b8d984d4-20deaef2cd27de3f-01 outer:exit 2b-3bfe910984e0185fffd809a47398d9f7b8d984d4-b0f9510398f09c10-01
2022-04-20T15:28:25.474Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:25.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6b9611bd203f35c6def10b4dc641fdc6560f56d-71ceff17490f27a5-01 outer:exit 2b-a6b9611bd203f35c6def10b4dc641fdc6560f56d-ae4d55de8b8e9216-01
2022-04-20T15:28:25.478Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:25.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-b565e1eca8d16b314b4e432914ace96447c6afe6-13227ed06f73261c-01 outer:exit 2b-b565e1eca8d16b314b4e432914ace96447c6afe6-eae1da81d0725901-01
2022-04-20T15:28:25.483Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:25.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-92f2fcd8d6d29e88ed9ff3dfe8a66952582e3951-89b94f0e338d055f-01 outer:exit 2b-92f2fcd8d6d29e88ed9ff3dfe8a66952582e3951-f302e0ed36d59051-01
2022-04-20T15:28:25.504Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:25.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-5060a7e4ef2aef19038fe487b33f44fb04b7fa04-9f7bd8f1ffddf546-01 outer:exit 2b-5060a7e4ef2aef19038fe487b33f44fb04b7fa04-2f5fee9ac2ab94ed-01
2022-04-20T15:28:25.546Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:25.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dac830def30359283e4078555144475005a13e4-c745abe24b9dfffa-01 outer:exit 2b-1dac830def30359283e4078555144475005a13e4-db1495dcaef5a2fe-01
2022-04-20T15:28:25.548Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:25.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-c92544290251d11c71570c9f0c0db2ab546f07f2-f6ea87ce2da600d7-01 outer:exit 2b-c92544290251d11c71570c9f0c0db2ab546f07f2-ff828982ac3abb21-01
2022-04-20T15:28:25.553Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:25.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9e29ae6706924b5d82dbea56531bc2090facb34-5f816e58694aa3d4-01 outer:exit 2b-e9e29ae6706924b5d82dbea56531bc2090facb34-d1123d34d44d82e4-01
2022-04-20T15:28:25.556Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:25.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ffb34ae1bf8aa97e065a91c69b28c8a39cb20c0-ae2e1ea9a162d22b-01 outer:exit 2b-0ffb34ae1bf8aa97e065a91c69b28c8a39cb20c0-12061e5f277107be-01
2022-04-20T15:28:25.557Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:25.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-6278166748fd21ebf75a09186a6512f309520b3a-2407187e986d2fce-01 outer:exit 2b-6278166748fd21ebf75a09186a6512f309520b3a-2f50d0d83f49792e-01
2022-04-20T15:28:25.559Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:25.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-64ce099fd495710897324c2a73aa36f2879c2b44-19293bcf8d8ce2c9-01 outer:exit 2b-64ce099fd495710897324c2a73aa36f2879c2b44-cc85570d14e7b81a-01
2022-04-20T15:28:25.562Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:25.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-3514d115ff7a1ffe9973f261d383794e465e4f42-74786885ad79e9fd-01 outer:exit 2b-3514d115ff7a1ffe9973f261d383794e465e4f42-ff18375db5c5e378-01
2022-04-20T15:28:25.566Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:25.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-53c621d0379f60e143862c886bc4fe4f49cb56a4-8efe8a4fcb10800a-01 outer:exit 2b-53c621d0379f60e143862c886bc4fe4f49cb56a4-3216668dda2d5316-01
2022-04-20T15:28:25.568Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:25.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8ef056c7b2c4352c15d1191e329aff239bbddd8-c140c41728c9854a-01 outer:exit 2b-c8ef056c7b2c4352c15d1191e329aff239bbddd8-995ba9a3bdbde93c-01
2022-04-20T15:28:25.574Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:25.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ee1688dcadfe5ffc4ede4f68dc0f418f31721de-4b6d120b97ddd41c-01 outer:exit 2b-6ee1688dcadfe5ffc4ede4f68dc0f418f31721de-9dc7c9290608613b-01
2022-04-20T15:28:25.576Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:25.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-59625e9b7f461aa012fdfe9fde6fc6b52545cf4b-8881112c2bbb9d4e-01 outer:exit 2b-59625e9b7f461aa012fdfe9fde6fc6b52545cf4b-7a261b3fb8caf609-01
2022-04-20T15:28:25.579Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:25.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-44a93fcfe16245394cb64f1c15d29885de7ecf70-aa55085cb4921d3c-01 outer:exit 2b-44a93fcfe16245394cb64f1c15d29885de7ecf70-6b36393a6a4386da-01
2022-04-20T15:28:25.582Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:25.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-2042865dbe717b219b37dd9d65d0a5383f6e5e44-b588ba093d3a0db8-01 outer:exit 2b-2042865dbe717b219b37dd9d65d0a5383f6e5e44-efc9085e83767942-01
2022-04-20T15:28:25.587Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:25.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1ea8c6d1570e4726428fc5aed46be70f10761da-0feac700521396e4-01 outer:exit 2b-a1ea8c6d1570e4726428fc5aed46be70f10761da-b2543458c9942d3c-01
2022-04-20T15:28:25.593Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:25.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-201f8b1c50d34be411a4cb6a0bc4a979ae370f88-811baaac53365b94-01 outer:exit 2b-201f8b1c50d34be411a4cb6a0bc4a979ae370f88-f157529cf2036be6-01
2022-04-20T15:28:25.606Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:25.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-c18cb1ac6fd1f630627598582d2b22d874a46caa-7f847831b819fdf5-01 outer:exit 2b-c18cb1ac6fd1f630627598582d2b22d874a46caa-ff2c2bc5eeb552ff-01
2022-04-20T15:28:25.617Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:25.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-107569b86defc49a1b09597f4bb08aa9c713974e-dc32efce23478cf8-01 outer:exit 2b-107569b86defc49a1b09597f4bb08aa9c713974e-1b3a106faf6e3b67-01
2022-04-20T15:28:25.622Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:25.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-01c0655e457d23fbd60bdc3e1b1201c12114fabe-23a303745f5ceda0-01 outer:exit 2b-01c0655e457d23fbd60bdc3e1b1201c12114fabe-ac69631277adcccd-01
2022-04-20T15:28:25.624Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:25.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a5ab2172aef086c8c76ca86cab16459f8f7e96a-904dd0101eaa7e5e-01 outer:exit 2b-9a5ab2172aef086c8c76ca86cab16459f8f7e96a-792be30ffd0cff6f-01
2022-04-20T15:28:25.632Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:25.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-de29477b14ea0f18c7ca2f88fe6f6066685cc141-04790146c1b7e778-01 outer:exit 2b-de29477b14ea0f18c7ca2f88fe6f6066685cc141-d8b6b9a261642515-01
2022-04-20T15:28:25.634Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:25.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-18d4e7ee03c58e0935075099846c1cc9603b25b2-24eed1b574c9daed-01 outer:exit 2b-18d4e7ee03c58e0935075099846c1cc9603b25b2-f041b2f702c68903-01
2022-04-20T15:28:25.636Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:25.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-70d430f113a55cd2878cb335c83b86476186cd1e-abe46cfc720d34e7-01 outer:exit 2b-70d430f113a55cd2878cb335c83b86476186cd1e-dc16183961f3da20-01
2022-04-20T15:28:25.639Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:25.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-b68bb3ae2deac0ab98786f487261b76df0f5b27a-461fc6fd4360c55c-01 outer:exit 2b-b68bb3ae2deac0ab98786f487261b76df0f5b27a-5fc6ae10097b89b1-01
2022-04-20T15:28:25.641Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:25.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-971d21cd07f77fb14a822b4550d622e0980219ab-321f7d624f965592-01 outer:exit 2b-971d21cd07f77fb14a822b4550d622e0980219ab-476d58c71f1d141c-01
2022-04-20T15:28:25.643Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:25.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb36641389a6d348cbe4e6a1d88f44e15f3f1d7f-07d23b5d5b30ecc9-01 outer:exit 2b-bb36641389a6d348cbe4e6a1d88f44e15f3f1d7f-8c53fddc2238d989-01
2022-04-20T15:28:25.655Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:25.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-87ba3e171984e033209dd96d1cc9289ccab7ae04-91cb6fa6abe16109-01 outer:exit 2b-87ba3e171984e033209dd96d1cc9289ccab7ae04-5f1ab12e2b088b21-01
2022-04-20T15:28:25.665Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:25.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a56dd40a69775802b88c0ca39a6cd2cc8e39a31-2403385d83f5a93b-01 outer:exit 2b-7a56dd40a69775802b88c0ca39a6cd2cc8e39a31-730fd5908d173c07-01
2022-04-20T15:28:25.667Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:25.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-18e63839e7bb16fd43f36ecfc6a2483e07eca24d-766d234a01a4e93a-01 outer:exit 2b-18e63839e7bb16fd43f36ecfc6a2483e07eca24d-4fbd1c296dc1f16c-01
2022-04-20T15:28:25.670Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:25.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-75eabb942818e2505a3979d8145fae0a34568a9f-aba31db4e77bf05e-01 outer:exit 2b-75eabb942818e2505a3979d8145fae0a34568a9f-6e7d4cb7853fa227-01
2022-04-20T15:28:25.673Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:25.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-4da3204fc4770de5e2805a47d7b4547d550bf5ff-d50b8822c0e4e167-01 outer:exit 2b-4da3204fc4770de5e2805a47d7b4547d550bf5ff-6f9645624149cb6f-01
2022-04-20T15:28:25.701Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (332ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:30.731Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:30.732Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:30.732Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:30.733Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:30.789Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:30.898Z appoptics:patching patched crypto 
2022-04-20T15:28:30.915Z appoptics:patching patched https 
2022-04-20T15:28:30.916Z appoptics:patching patched http 
2022-04-20T15:28:30.957Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:30.958Z appoptics:patching patched fs 
2022-04-20T15:28:30.971Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v16.14.2)
2022-04-20T15:28:30.976Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2022-04-20T15:28:31.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-c81369a2815eb3e573e5d51b8102f1e263347615-aef39bb5f5a585bb-01 outer:exit 2b-c81369a2815eb3e573e5d51b8102f1e263347615-b63994d1f2460b43-01
2022-04-20T15:28:31.017Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:31.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b9fc259784ee6feceba489a8a0442d665bc7736-60441cbf8e243c63-01 outer:exit 2b-9b9fc259784ee6feceba489a8a0442d665bc7736-7d7d47bde51f9733-01
2022-04-20T15:28:31.054Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:31.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebcee4e125e4e494c716effb9ce5fbfde979c009-54d7914827e13adf-01 outer:exit 2b-ebcee4e125e4e494c716effb9ce5fbfde979c009-c24f24975000af2e-01
2022-04-20T15:28:31.058Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:31.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-a153b0419b6acb48d9be9904c7bcdd06c7e1f4d8-99a2be0b644050f9-01 outer:exit 2b-a153b0419b6acb48d9be9904c7bcdd06c7e1f4d8-d639cecf949455ff-01
2022-04-20T15:28:31.060Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:31.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-618c39604ce9c86e8c1dbbc82af722160cfee8e2-d3499e70b856cc1d-01 outer:exit 2b-618c39604ce9c86e8c1dbbc82af722160cfee8e2-66546f7641ac575a-01
2022-04-20T15:28:31.065Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:31.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d3599d1cf3c31ab0817e082cae37b58ab659150-28e93345b6d3ff3c-01 outer:exit 2b-8d3599d1cf3c31ab0817e082cae37b58ab659150-122c3a7a187a0592-01
2022-04-20T15:28:31.068Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:31.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-59345070f89404527b826cb32cfaf4c3f7856678-c8def5dfa800cb1b-01 outer:exit 2b-59345070f89404527b826cb32cfaf4c3f7856678-0ca0d732a66dc856-01
2022-04-20T15:28:31.071Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:31.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-48c311b9060c9d0f6c8414da4b899c3751b06ea5-f922cc7fdb374690-01 outer:exit 2b-48c311b9060c9d0f6c8414da4b899c3751b06ea5-f5f9ed19b82538e7-01
2022-04-20T15:28:31.073Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:31.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-88b4758f63e9bad5ac0939f513b399c3bb279531-781eac508ad23102-01 outer:exit 2b-88b4758f63e9bad5ac0939f513b399c3bb279531-913b408c98ace4e7-01
2022-04-20T15:28:31.075Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:31.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4a6a49d63be33a88d74a49e3862e2a895de644-60ac8b52ad0244e3-01 outer:exit 2b-5d4a6a49d63be33a88d74a49e3862e2a895de644-a46a84a43abd0308-01
2022-04-20T15:28:31.078Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:31.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-901c05ec5c8f13da9ecbadc71bd006f579cc7cfb-e81aac97c0932895-01 outer:exit 2b-901c05ec5c8f13da9ecbadc71bd006f579cc7cfb-fe29a5d062399056-01
2022-04-20T15:28:31.082Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:31.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b680259b45ad9b6ae4174e62a87c888fd267351-24d7d65a05f2bce1-01 outer:exit 2b-4b680259b45ad9b6ae4174e62a87c888fd267351-89892ec19cafd8df-01
2022-04-20T15:28:31.100Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:31.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e6b29b31844c6f7857ce07a48c056457abb5551-4af5ab619424e69b-01 outer:exit 2b-7e6b29b31844c6f7857ce07a48c056457abb5551-97040b6cbc3686ef-01
2022-04-20T15:28:31.115Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:31.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-a746673e1f3ba0aaaee889be98da30a999c967e0-c3497067b8e5730f-01 outer:exit 2b-a746673e1f3ba0aaaee889be98da30a999c967e0-c4da184b0a2878e6-01
2022-04-20T15:28:31.148Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:31.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b6b29d9c0b4df3845016770e3b8b453cefdcd3f-83f424cdeab343e4-01 outer:exit 2b-5b6b29d9c0b4df3845016770e3b8b453cefdcd3f-2804390f26b9c318-01
2022-04-20T15:28:31.151Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:31.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-763d6b3ecddb4b31b02fa33bfa6cd30b70beae05-39e7a29ac726def1-01 outer:exit 2b-763d6b3ecddb4b31b02fa33bfa6cd30b70beae05-7da17bcdd7351a99-01
2022-04-20T15:28:31.153Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:31.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef4aceffabe6bee666588a1d60a6896dafcfc460-c2a1688df08bc1aa-01 outer:exit 2b-ef4aceffabe6bee666588a1d60a6896dafcfc460-3c7688a72f3c04ff-01
2022-04-20T15:28:31.155Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:31.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-e33de4e69ce41701100e026120ba36b9c47f7829-d14d26cfa84c3296-01 outer:exit 2b-e33de4e69ce41701100e026120ba36b9c47f7829-d2ec58838edf9e49-01
2022-04-20T15:28:31.157Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:31.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecd7227d5e73dfe9bb6b7578c606d5dc736cedd7-38d3eaf6b3d75157-01 outer:exit 2b-ecd7227d5e73dfe9bb6b7578c606d5dc736cedd7-433529e6250a5770-01
2022-04-20T15:28:31.159Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:31.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba1eb70f68a8d5e042d45c7cd799d32423c5024a-2aa35ff44d0f2591-01 outer:exit 2b-ba1eb70f68a8d5e042d45c7cd799d32423c5024a-d62b78dc1597e758-01
2022-04-20T15:28:31.161Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:31.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f821332e7be7c228cf28c915070a4fb8b31882c-47b1b23d7a083514-01 outer:exit 2b-5f821332e7be7c228cf28c915070a4fb8b31882c-22e711e4a115ac8a-01
2022-04-20T15:28:31.163Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:31.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-965ec7890c43065023d4e8008f5a7075ade194f2-602ffac052590507-01 outer:exit 2b-965ec7890c43065023d4e8008f5a7075ade194f2-d30a0e82fdb25352-01
2022-04-20T15:28:31.165Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:31.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-af1b1cfae4c8c1c9a71a3aeaab05e34658f0cde6-c03d8dc96d542f25-01 outer:exit 2b-af1b1cfae4c8c1c9a71a3aeaab05e34658f0cde6-717f23015fede6cf-01
2022-04-20T15:28:31.167Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:31.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-074e78e18c71e0a5c5d36aac49d9da715cd1f4fb-a4911c5206196b74-01 outer:exit 2b-074e78e18c71e0a5c5d36aac49d9da715cd1f4fb-17d8e5224afeb138-01
2022-04-20T15:28:31.169Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:31.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-900b46d2bf41887378a6dcd91982e978d6fa4496-7067c12701b19823-01 outer:exit 2b-900b46d2bf41887378a6dcd91982e978d6fa4496-0571806017822b8f-01
2022-04-20T15:28:31.171Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:31.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-1518699e953563969a1d923fafaa64cc1e79d8b2-14bd7517aa1684c8-01 outer:exit 2b-1518699e953563969a1d923fafaa64cc1e79d8b2-8818cef3c04bf391-01
2022-04-20T15:28:31.174Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:31.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-4796ccc3b11fc2710a6005e425265ae27a10a8ce-548a89d54f127fbf-01 outer:exit 2b-4796ccc3b11fc2710a6005e425265ae27a10a8ce-def0425dfb83191e-01
2022-04-20T15:28:31.191Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:31.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3f9d83f4db85c1f3a7012280c0e0d06260b81e2-67986e7527fc100c-01 outer:exit 2b-d3f9d83f4db85c1f3a7012280c0e0d06260b81e2-46b78ebb8dc2f932-01
2022-04-20T15:28:31.207Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:31.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-754f9c1798d3347660d4d004677cf04765b97d0f-56411c321593b25c-01 outer:exit 2b-754f9c1798d3347660d4d004677cf04765b97d0f-ba94e5a1033d57fa-01
2022-04-20T15:28:31.216Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:31.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-638bd4913c99f342f1f627aaa0d052e03f7b0485-6ab8df020042a9d5-01 outer:exit 2b-638bd4913c99f342f1f627aaa0d052e03f7b0485-35bfac461529d6c7-01
2022-04-20T15:28:31.222Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:31.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f404e7c80759dd6b6ab1472ddbd2d4ba32bdabc-dbd579913ec82677-01 outer:exit 2b-0f404e7c80759dd6b6ab1472ddbd2d4ba32bdabc-a49c76926a5121fe-01
2022-04-20T15:28:31.223Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:31.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d88679754f09f3659d7db7a77721d1a5544f64e-b53c972f1a914759-01 outer:exit 2b-6d88679754f09f3659d7db7a77721d1a5544f64e-96f0b4f654cd8057-01
2022-04-20T15:28:31.226Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:31.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-f57c45a24e140fa994c97ca866cd8d9aa22bc8ef-18c88a319af03ba5-01 outer:exit 2b-f57c45a24e140fa994c97ca866cd8d9aa22bc8ef-8db77dee1af42841-01
2022-04-20T15:28:31.232Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:31.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-4502b6ea2bb4dfc2f43489ef96cd6bc8397d279e-25958845b427d023-01 outer:exit 2b-4502b6ea2bb4dfc2f43489ef96cd6bc8397d279e-43ebd0080c6b856f-01
2022-04-20T15:28:31.234Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:31.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-0962ab738cd76c3cc7daa0c1f4d243911872f682-4a0afe3aee74130e-01 outer:exit 2b-0962ab738cd76c3cc7daa0c1f4d243911872f682-b43c8ffcd796a721-01
2022-04-20T15:28:31.236Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:31.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-97bb18f85c8a94a213071c62489d743c82bb24f8-ac05e2324bc818c6-01 outer:exit 2b-97bb18f85c8a94a213071c62489d743c82bb24f8-1f0de19c3060106d-01
2022-04-20T15:28:31.237Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:31.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-541a067112ddc53876f9890afd00be3cd300e280-fa98b7ec79274a7d-01 outer:exit 2b-541a067112ddc53876f9890afd00be3cd300e280-cbed53924b087670-01
2022-04-20T15:28:31.239Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:31.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef9385bef1d893d5663a56e31f44b1a6d64d7be1-ec114158c5047656-01 outer:exit 2b-ef9385bef1d893d5663a56e31f44b1a6d64d7be1-4582eb0799856289-01
2022-04-20T15:28:31.240Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:31.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-93a9e1b7e662b7de20e11ba019b7c5e2c9e26a10-aed47ebf4b46cfbc-01 outer:exit 2b-93a9e1b7e662b7de20e11ba019b7c5e2c9e26a10-7ea3fea820af897e-01
2022-04-20T15:28:31.248Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:31.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-58ba2bab5e8ac7555a393b8b7e60d9fe153c689b-4a21c2c4aea7f0bc-01 outer:exit 2b-58ba2bab5e8ac7555a393b8b7e60d9fe153c689b-2ddf89c8efb8aca0-01
2022-04-20T15:28:31.256Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:31.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dd185df52908b1dba7f065ab53a578ce5bc92c0-4f6ca8f3f9846bf1-01 outer:exit 2b-5dd185df52908b1dba7f065ab53a578ce5bc92c0-823a39aa3feafa79-01
2022-04-20T15:28:31.258Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:31.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-10bf1381920a903390816cdfe9009a8838a939ce-2cf981c1df9c00bf-01 outer:exit 2b-10bf1381920a903390816cdfe9009a8838a939ce-47c516accdfc78d1-01
2022-04-20T15:28:31.260Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:31.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d7d58eea20595ff8a33e92dc20cd62337b0b8da-8d87c4b9acb3bc75-01 outer:exit 2b-8d7d58eea20595ff8a33e92dc20cd62337b0b8da-5b0a475cc664e42d-01
2022-04-20T15:28:31.275Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:31.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dbf81c88233ae07cd2556f7804e2c50749857ea-2575a9c3cbaddf4f-01 outer:exit 2b-1dbf81c88233ae07cd2556f7804e2c50749857ea-f4932ba603abdf32-01
2022-04-20T15:28:31.302Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (320ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:36.977Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:36.978Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:36.978Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:36.979Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:37.036Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:37.145Z appoptics:patching patched crypto 
2022-04-20T15:28:37.163Z appoptics:patching patched https 
2022-04-20T15:28:37.163Z appoptics:patching patched http 
2022-04-20T15:28:37.207Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:37.207Z appoptics:patching patched fs 
2022-04-20T15:28:37.221Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v16.14.2)
2022-04-20T15:28:37.227Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2022-04-20T15:28:37.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-3aaf65c0a582ebec005f1a924e0c3ba0e7660ead-507f224936c39d55-01 outer:exit 2b-3aaf65c0a582ebec005f1a924e0c3ba0e7660ead-ae31fc5140d06baa-01
2022-04-20T15:28:37.270Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:37.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-54fdca40f1fe4402678a406a2c78918a60a04bc6-96e4303f5060db83-01 outer:exit 2b-54fdca40f1fe4402678a406a2c78918a60a04bc6-f3ccc451ecac2924-01
2022-04-20T15:28:37.308Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:37.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0790ff0845ae16bba617aa97c886d1d0bbade41-93ed38c6fd480ede-01 outer:exit 2b-d0790ff0845ae16bba617aa97c886d1d0bbade41-c2cc8fde37563324-01
2022-04-20T15:28:37.311Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:37.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-f079097dfabe947d014dd742d6897b4605c58b1c-1bd85493e1ef0aa1-01 outer:exit 2b-f079097dfabe947d014dd742d6897b4605c58b1c-4c89e204c9ea11b1-01
2022-04-20T15:28:37.314Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:37.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b4269091466a10b95c7775346d0bed7e8a33ddd-bcf194854eefeb8e-01 outer:exit 2b-3b4269091466a10b95c7775346d0bed7e8a33ddd-aaf478c71a8a84a2-01
2022-04-20T15:28:37.319Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:37.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-244736a979eb9bc7a93e2c8da2a38601896f08f7-e41db5de9d63c5dd-01 outer:exit 2b-244736a979eb9bc7a93e2c8da2a38601896f08f7-aba62f443889d537-01
2022-04-20T15:28:37.321Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:37.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0b46c40153189cd6f1865b6b3003b564a61452c-704320ddebf27fa7-01 outer:exit 2b-a0b46c40153189cd6f1865b6b3003b564a61452c-a4b41f6c4b2f02a6-01
2022-04-20T15:28:37.324Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:37.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2919081fb3a5f259ddb82d420860e3499990243-083ea3bb12ed4107-01 outer:exit 2b-b2919081fb3a5f259ddb82d420860e3499990243-7654375f68386872-01
2022-04-20T15:28:37.327Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:37.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf256a8ee2e47b861675b6f1279ab34cf2ed942b-2c1e235c41fa9dd2-01 outer:exit 2b-bf256a8ee2e47b861675b6f1279ab34cf2ed942b-2f56e5d6aa884bd8-01
2022-04-20T15:28:37.329Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:37.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-814e5e66eae1aef918e1371d5345b6f644b03021-d2084cbf863cc54b-01 outer:exit 2b-814e5e66eae1aef918e1371d5345b6f644b03021-7cb05124a473e297-01
2022-04-20T15:28:37.333Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:37.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-76f14daf65a46543cc5ca5d8cb70f4e60df78d85-6feb5aecc6a94aee-01 outer:exit 2b-76f14daf65a46543cc5ca5d8cb70f4e60df78d85-a2aa7115b593444e-01
2022-04-20T15:28:37.337Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:37.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-70e9732acd73f1b7b92b8de7b923683f75961540-cd984f5da5baf68b-01 outer:exit 2b-70e9732acd73f1b7b92b8de7b923683f75961540-de91cf7f871d7837-01
2022-04-20T15:28:37.343Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:37.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-b892086577f8e64eb8d40847c83284527b038129-918582fbb952129e-01 outer:exit 2b-b892086577f8e64eb8d40847c83284527b038129-011b78b522c35b45-01
2022-04-20T15:28:37.356Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:37.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffcaed661da7ae38e0c31973453be9167bd4b019-3235f9f610e7a61b-01 outer:exit 2b-ffcaed661da7ae38e0c31973453be9167bd4b019-275d1164d0f2cc59-01
2022-04-20T15:28:37.389Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:37.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f451bd87fef6d462ca0aad65aefbd36a3c58c95-cf6660c8a9cb1923-01 outer:exit 2b-4f451bd87fef6d462ca0aad65aefbd36a3c58c95-a6e3fd5b0c58703e-01
2022-04-20T15:28:37.392Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:37.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9373bc86c40fd9a02949a6f896e97584a885fb4-3abee197a4b518a7-01 outer:exit 2b-a9373bc86c40fd9a02949a6f896e97584a885fb4-7c307f3d6fa1eb7a-01
2022-04-20T15:28:37.394Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:37.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eef69fcdde38838999b181f1bd50588c88080e3-aaae5c2ba7a1425b-01 outer:exit 2b-0eef69fcdde38838999b181f1bd50588c88080e3-643977616a014d60-01
2022-04-20T15:28:37.396Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:37.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7fa63d730bcb9b4ce22c38b6d17f5f268ec3fd8-503101878ee30b9e-01 outer:exit 2b-f7fa63d730bcb9b4ce22c38b6d17f5f268ec3fd8-d2c8311e116fcf85-01
2022-04-20T15:28:37.398Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:37.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd97e459cf418a717a921ece7239ab81ef655b6f-fd696f630536de7f-01 outer:exit 2b-fd97e459cf418a717a921ece7239ab81ef655b6f-28fa3949b281dcf4-01
2022-04-20T15:28:37.400Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:37.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-171411e1c8689d1cb04d2916e0686d06df0b5f4e-164668048ead97e8-01 outer:exit 2b-171411e1c8689d1cb04d2916e0686d06df0b5f4e-7ff248bf6f51a675-01
2022-04-20T15:28:37.402Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:37.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5cd3bbea68f4ba2b64c9e3db64c1bfef362b3b1-7199e65d807dfcd5-01 outer:exit 2b-c5cd3bbea68f4ba2b64c9e3db64c1bfef362b3b1-0d6c169ee6eaeba2-01
2022-04-20T15:28:37.404Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:37.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-a977a2f59014a1cdbf54bcd68f5071c8aa370866-a64f7d3a7bf2cb55-01 outer:exit 2b-a977a2f59014a1cdbf54bcd68f5071c8aa370866-9c0699a5f8b0eade-01
2022-04-20T15:28:37.405Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:37.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c30af5762652771a5d73a383ca75f25a1493783-fcf0bce29bf90a53-01 outer:exit 2b-4c30af5762652771a5d73a383ca75f25a1493783-a332f65104699033-01
2022-04-20T15:28:37.408Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:37.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-c461a1a1753d4319d3807df935f53ec137cd2041-ceeee3fe4206788a-01 outer:exit 2b-c461a1a1753d4319d3807df935f53ec137cd2041-8e089c6d990426b0-01
2022-04-20T15:28:37.410Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:37.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b1aa52263472ba7fc5ee2db67c5e9f9d8951d19-c3436408d1c20070-01 outer:exit 2b-3b1aa52263472ba7fc5ee2db67c5e9f9d8951d19-699e5ff46c705432-01
2022-04-20T15:28:37.412Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:37.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-6037ab55cc4c189391d353700883a3434ee8d872-56e35483fb96f21e-01 outer:exit 2b-6037ab55cc4c189391d353700883a3434ee8d872-de960cff22d908fd-01
2022-04-20T15:28:37.414Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:37.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f9ee3da8b4f4d4861186d45556d45e1a491cdf7-95e2bfc93e1d1d04-01 outer:exit 2b-0f9ee3da8b4f4d4861186d45556d45e1a491cdf7-e8b78fddd1b27104-01
2022-04-20T15:28:37.420Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:37.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-568d2470522b40d60a0e1bb7156773f3650f251e-9702c00ebe7868dd-01 outer:exit 2b-568d2470522b40d60a0e1bb7156773f3650f251e-21485a732b46afc8-01
2022-04-20T15:28:37.425Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:37.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d39d3c9e8199088d3f33ce14f2f4ce4532bf960-e11ddc14f358c325-01 outer:exit 2b-0d39d3c9e8199088d3f33ce14f2f4ce4532bf960-965c8fedb005d812-01
2022-04-20T15:28:37.431Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:37.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb02dd52a883f815d16a049e31cd879230cfbcce-03541b293816f3a8-01 outer:exit 2b-bb02dd52a883f815d16a049e31cd879230cfbcce-3b5c043189c75794-01
2022-04-20T15:28:37.436Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:37.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a8db9fa6e7c44b9e71915d7c709db4ab2affee3-34f271d9b2b2212d-01 outer:exit 2b-7a8db9fa6e7c44b9e71915d7c709db4ab2affee3-0f356206549b2305-01
2022-04-20T15:28:37.438Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:37.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-90595f44c5e2c4b6121e23af1a9bcf01e66fb77e-a0c14d33ea08964a-01 outer:exit 2b-90595f44c5e2c4b6121e23af1a9bcf01e66fb77e-318ec6b893294b50-01
2022-04-20T15:28:37.441Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:37.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa4071f569df9e080e20a1a5897d9ffca59e8bba-4042fafed05eb739-01 outer:exit 2b-fa4071f569df9e080e20a1a5897d9ffca59e8bba-3e05bc968be39a5b-01
2022-04-20T15:28:37.449Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:37.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-62972e053e1c3631dd535afaf11df48745c38250-d1d4ddb679062aaf-01 outer:exit 2b-62972e053e1c3631dd535afaf11df48745c38250-fb8c265271c76666-01
2022-04-20T15:28:37.451Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:37.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb086025c90e075c044cf56a3262b8cf0aa512ba-e6920da8ae4c9df5-01 outer:exit 2b-eb086025c90e075c044cf56a3262b8cf0aa512ba-cb122f357e5a04cc-01
2022-04-20T15:28:37.453Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:37.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-c69583b39d6d9e4071ca9404fde8ee118b30d110-206df7c13838abd7-01 outer:exit 2b-c69583b39d6d9e4071ca9404fde8ee118b30d110-a6db3888ed2e32d4-01
2022-04-20T15:28:37.457Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:37.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d157cbbe957b753d8f9dc77364837fc12c5d976-6b3f142c4245aa45-01 outer:exit 2b-4d157cbbe957b753d8f9dc77364837fc12c5d976-4df2bc5bfa1f9d05-01
2022-04-20T15:28:37.459Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:37.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-f967d9437a65bb04a14786c9c08702d782f6d53c-0c7bbbdf18430380-01 outer:exit 2b-f967d9437a65bb04a14786c9c08702d782f6d53c-88749062de193f05-01
2022-04-20T15:28:37.461Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:37.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-56aeef7546b2fedba008c2dd2e2366e5a2366b75-6818c142ab54d995-01 outer:exit 2b-56aeef7546b2fedba008c2dd2e2366e5a2366b75-0e9cc6f8efbaa8ce-01
2022-04-20T15:28:37.475Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:37.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-0934bf0d5b60add98da52b07626d2a2a80897b03-0b7fabcccac4e9ae-01 outer:exit 2b-0934bf0d5b60add98da52b07626d2a2a80897b03-19ad153927117bde-01
2022-04-20T15:28:37.482Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:37.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7b449d782ddf67b37681e53ea58848fab76633a-20d1285d4af943af-01 outer:exit 2b-c7b449d782ddf67b37681e53ea58848fab76633a-73e049f126c5c27f-01
2022-04-20T15:28:37.487Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:37.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-20c2b1172aab25552a1ef4fe3d2e4205922e653f-c5172b7564566e46-01 outer:exit 2b-20c2b1172aab25552a1ef4fe3d2e4205922e653f-bb6c078ad0f29073-01
2022-04-20T15:28:37.493Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:37.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffbfe267445ee3732a38bd490ab5c2f6184bd461-089079f141a89db6-01 outer:exit 2b-ffbfe267445ee3732a38bd490ab5c2f6184bd461-ff4b05dfb0aaba67-01
2022-04-20T15:28:37.495Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:37.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-c212884fb015d10fbc98777c4bb1bd636f2e07c8-87b15be278d610f5-01 outer:exit 2b-c212884fb015d10fbc98777c4bb1bd636f2e07c8-d6e1bdd7026b5b38-01
2022-04-20T15:28:37.528Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (296ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:42.622Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:42.623Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:42.623Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:42.624Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:42.679Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:42.787Z appoptics:patching patched crypto 
2022-04-20T15:28:42.804Z appoptics:patching patched https 
2022-04-20T15:28:42.805Z appoptics:patching patched http 
2022-04-20T15:28:42.848Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:42.848Z appoptics:patching patched fs 
2022-04-20T15:28:42.861Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v16.14.2)
2022-04-20T15:28:42.866Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2022-04-20T15:28:42.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-8eb751653b427cc182bbda8733b95da310bb2fb6-cbf32ca698a9f996-01 outer:exit 2b-8eb751653b427cc182bbda8733b95da310bb2fb6-a6950badef76327f-01
2022-04-20T15:28:42.910Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:42.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0741dbc49b83d96338a4d159854f6978f9d41bd-a49fff31b0f7ad4a-01 outer:exit 2b-c0741dbc49b83d96338a4d159854f6978f9d41bd-358cc0bd14a16e43-01
2022-04-20T15:28:42.948Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:42.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-070c44623af73063b94f7827874e8ec25355728c-ee7f0e99f936cfc4-01 outer:exit 2b-070c44623af73063b94f7827874e8ec25355728c-fb7e648ef387ac4c-01
2022-04-20T15:28:42.951Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:42.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-b75124c70aed1eb56ba6e68c76b41f086ce3cd9e-30fbb8e43ece0842-01 outer:exit 2b-b75124c70aed1eb56ba6e68c76b41f086ce3cd9e-dfb28fb2ebc57f4c-01
2022-04-20T15:28:42.954Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:42.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cb891efa0fe6256a0b3226f8ccf1ea173f1ba14-ceddb613c2b865da-01 outer:exit 2b-2cb891efa0fe6256a0b3226f8ccf1ea173f1ba14-04a2d719389b23e9-01
2022-04-20T15:28:42.959Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:42.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-450ee02c1b4ce4f8623f19cbf229df04972bf521-5390a7a3fd21eb78-01 outer:exit 2b-450ee02c1b4ce4f8623f19cbf229df04972bf521-593a60537b06296f-01
2022-04-20T15:28:42.961Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:42.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd759a6d58355092b21e8a3375e81ea6b41d1629-bb1dda70f8fccf88-01 outer:exit 2b-fd759a6d58355092b21e8a3375e81ea6b41d1629-dc8b814fc8df0f0b-01
2022-04-20T15:28:42.964Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:42.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-76448b7b22c9765863e88ec515548be9448e5de3-be007da8da80f5c7-01 outer:exit 2b-76448b7b22c9765863e88ec515548be9448e5de3-3f16b72cbd46757d-01
2022-04-20T15:28:42.966Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:42.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-330b05757cd02e2ae6564db200351fb5bbcd5c31-b29d436f5ef908e0-01 outer:exit 2b-330b05757cd02e2ae6564db200351fb5bbcd5c31-f356ffc51d956963-01
2022-04-20T15:28:42.969Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:42.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-f96c61fdae76e6d58fc0c828db3f8aee3695ef56-10bcdd4f4d500be8-01 outer:exit 2b-f96c61fdae76e6d58fc0c828db3f8aee3695ef56-4a3c92c29b6a99b6-01
2022-04-20T15:28:42.972Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:42.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6e70739cb2a91f6dddadcc90c92b8c9c4fbb1c3-407a7c513feff8ca-01 outer:exit 2b-c6e70739cb2a91f6dddadcc90c92b8c9c4fbb1c3-2c4b0a33e31df4a1-01
2022-04-20T15:28:42.976Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:42.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a514276da158034eed1e7e564e6ca2f67f06c0e-b2fee783ef49840e-01 outer:exit 2b-2a514276da158034eed1e7e564e6ca2f67f06c0e-947ad8eec611b87a-01
2022-04-20T15:28:42.981Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:42.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-a414b927fb4eba49dadc1c6f3a19a4653a9a4cbb-8bafbec191f2d8f2-01 outer:exit 2b-a414b927fb4eba49dadc1c6f3a19a4653a9a4cbb-6eae6f79fde6f13b-01
2022-04-20T15:28:42.995Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:43.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f52b7cb0b6c1eb292ca1d647dc50d2afce54716-733580e0a3e47a01-01 outer:exit 2b-0f52b7cb0b6c1eb292ca1d647dc50d2afce54716-bc8fe6185cf47d07-01
2022-04-20T15:28:43.029Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:43.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-23dae7d4267d927e4e62d110e66a6538813ce405-483ff07e583a3e44-01 outer:exit 2b-23dae7d4267d927e4e62d110e66a6538813ce405-57c4b30e3846a857-01
2022-04-20T15:28:43.033Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:43.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-80de05a5b1d971d781a6c85ca14be24480399de6-50b15844a4c40522-01 outer:exit 2b-80de05a5b1d971d781a6c85ca14be24480399de6-86a981624edce375-01
2022-04-20T15:28:43.035Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:43.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-587f0df9a9c9bbb2ffd0a28040bf0d3ab866ec47-403dee84e8c40b92-01 outer:exit 2b-587f0df9a9c9bbb2ffd0a28040bf0d3ab866ec47-d5183d28347562c6-01
2022-04-20T15:28:43.037Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:43.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e7db0c5162cfb315dd860e540bf1be68a9973b4-4812fb0f53d58b09-01 outer:exit 2b-8e7db0c5162cfb315dd860e540bf1be68a9973b4-82526dc2d22c67a0-01
2022-04-20T15:28:43.039Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:43.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d4764201574f2df64550d94fa3270b7f85b1fc7-c19fd3811ad8c3c6-01 outer:exit 2b-4d4764201574f2df64550d94fa3270b7f85b1fc7-332b59107d5e725d-01
2022-04-20T15:28:43.041Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:43.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b774ef3d2a6e3c11e6bfe7e9d37b4811d81e39a-238745a3997125bf-01 outer:exit 2b-9b774ef3d2a6e3c11e6bfe7e9d37b4811d81e39a-d6b0a6596fc56204-01
2022-04-20T15:28:43.043Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:43.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc8cc0a9229ffca03a1424279c6d3a58c1d27d3f-d360d91ca5c89249-01 outer:exit 2b-cc8cc0a9229ffca03a1424279c6d3a58c1d27d3f-e4019a33314bedc8-01
2022-04-20T15:28:43.045Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:43.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bf7caac641622effd60e85f1d7ebdbb927cb324-769b8ad68e8951b8-01 outer:exit 2b-7bf7caac641622effd60e85f1d7ebdbb927cb324-7cf96bb7bfdbce1b-01
2022-04-20T15:28:43.046Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:43.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-232d6da3b82e94b5afeaf20ed42f3d955a17341c-933c8b39beadb0c5-01 outer:exit 2b-232d6da3b82e94b5afeaf20ed42f3d955a17341c-abbb9787aa999b15-01
2022-04-20T15:28:43.049Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:43.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c0f65183c485d14e67b9a88532e496d6dc02790-5d065562b15ca350-01 outer:exit 2b-6c0f65183c485d14e67b9a88532e496d6dc02790-17e13505d486ee55-01
2022-04-20T15:28:43.052Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:43.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb9d012d937862113fa173add9f15318343cb10d-58b8412bbb8d83cb-01 outer:exit 2b-bb9d012d937862113fa173add9f15318343cb10d-443529b6308d2760-01
2022-04-20T15:28:43.054Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:43.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b3e98dd5004f64712cb73eb3606bea5cc881732-e94a0495e802f305-01 outer:exit 2b-2b3e98dd5004f64712cb73eb3606bea5cc881732-0e8d21efd512cd96-01
2022-04-20T15:28:43.056Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:43.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-33a55e956c9c0409a03bdc833e214b08b53c4dbb-6cf7620fd110ace8-01 outer:exit 2b-33a55e956c9c0409a03bdc833e214b08b53c4dbb-eee7b92e7e890558-01
2022-04-20T15:28:43.061Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:43.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-78edd719098bdc92d89cc83b9614a9fa35d3894e-cf9baeec99919e3b-01 outer:exit 2b-78edd719098bdc92d89cc83b9614a9fa35d3894e-19d4970a0e6b45ef-01
2022-04-20T15:28:43.066Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:43.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b9e67917b718a936a3a26519f2cffa24ef89b51-2f108081256403d0-01 outer:exit 2b-1b9e67917b718a936a3a26519f2cffa24ef89b51-f2a5ad599e599139-01
2022-04-20T15:28:43.073Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:43.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-77087abe4cf2e30473e4f962079c8bdf3c145d23-f4071e2a31934cec-01 outer:exit 2b-77087abe4cf2e30473e4f962079c8bdf3c145d23-c0d7325d455e1994-01
2022-04-20T15:28:43.079Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:43.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-723e97dd50e0cc6774202a2c0a12dc1fae42396c-6349cdd1bdfe1408-01 outer:exit 2b-723e97dd50e0cc6774202a2c0a12dc1fae42396c-36cc8cd5569ee17e-01
2022-04-20T15:28:43.081Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:43.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-81c052ccf5fd7bd37dd68be77033cd8cdf47b38f-a036a11d7694ff8f-01 outer:exit 2b-81c052ccf5fd7bd37dd68be77033cd8cdf47b38f-f6e064eb87de92d3-01
2022-04-20T15:28:43.083Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:43.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-be4ec523698a9bc298d8dc66649baf7e7d257be2-89ca6af03f866666-01 outer:exit 2b-be4ec523698a9bc298d8dc66649baf7e7d257be2-8158315c1f1daaa6-01
2022-04-20T15:28:43.089Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:43.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac70a7d55e2fab894de6fb9c4eba4a5e02a32248-b7b71b4ea9016ffc-01 outer:exit 2b-ac70a7d55e2fab894de6fb9c4eba4a5e02a32248-6a032a29a00b8c7c-01
2022-04-20T15:28:43.091Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:43.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-83307529355a2801bc6b310be8695cf7ad3d0b4d-d397a7d7f6eb1d1a-01 outer:exit 2b-83307529355a2801bc6b310be8695cf7ad3d0b4d-a7619f92235d9932-01
2022-04-20T15:28:43.093Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:43.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-986cbb2251c14b04b2ab69924efab401a435b2a9-194179139ee98239-01 outer:exit 2b-986cbb2251c14b04b2ab69924efab401a435b2a9-5fbb9047f622bfc0-01
2022-04-20T15:28:43.094Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:43.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-987ad834cb930470bda6a0186e5bf3e5a99d3ed8-f09a7b9f81b9252e-01 outer:exit 2b-987ad834cb930470bda6a0186e5bf3e5a99d3ed8-98cfd087789cbcfb-01
2022-04-20T15:28:43.096Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:43.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ad28a9cedd06175e76f1af5146f946eb40849d6-22cf219614b9da9a-01 outer:exit 2b-2ad28a9cedd06175e76f1af5146f946eb40849d6-58e445f4c2ae8224-01
2022-04-20T15:28:43.097Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:43.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3fa265e006a8d7e3ff03d80d96403b29408f66e-15d399c57e82cf4f-01 outer:exit 2b-f3fa265e006a8d7e3ff03d80d96403b29408f66e-64589fcd20104428-01
2022-04-20T15:28:43.107Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:43.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-edcdd9b1eda78de0c22f8307dab123e09d07b350-1b3eaf55c4bdea9d-01 outer:exit 2b-edcdd9b1eda78de0c22f8307dab123e09d07b350-52d5060c3877977b-01
2022-04-20T15:28:43.115Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:43.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8c5a4d42ab5f5c742082a253be35ab3928e55e1-cf75bbe72b673479-01 outer:exit 2b-f8c5a4d42ab5f5c742082a253be35ab3928e55e1-ae29fe08d0dde663-01
2022-04-20T15:28:43.117Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:43.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-105db69de140fe13980010fa02cf8746dff08a0c-c7c61d71afc1d92b-01 outer:exit 2b-105db69de140fe13980010fa02cf8746dff08a0c-677afefca38e6270-01
2022-04-20T15:28:43.119Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:43.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e245cac19a96ae69c9ba38a5e03b9f9ebd86297-9418b19245a5fc67-01 outer:exit 2b-3e245cac19a96ae69c9ba38a5e03b9f9ebd86297-83228d1beb48ca29-01
2022-04-20T15:28:43.121Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:43.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8c8f97d7727dff8f4939e7947411a7f8fd280fc-a5aa806107e904d8-01 outer:exit 2b-d8c8f97d7727dff8f4939e7947411a7f8fd280fc-cc6fb3750b86722c-01
2022-04-20T15:28:43.147Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (276ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:48.894Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:48.895Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:48.895Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:48.896Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:48.953Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:49.060Z appoptics:patching patched crypto 
2022-04-20T15:28:49.077Z appoptics:patching patched https 
2022-04-20T15:28:49.078Z appoptics:patching patched http 
2022-04-20T15:28:49.117Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:49.117Z appoptics:patching patched fs 
2022-04-20T15:28:49.140Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v16.14.2)
2022-04-20T15:28:49.146Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2022-04-20T15:28:49.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-345e914864df5879756464a394a3408e1ec1a017-bc486289324ab85b-01 outer:exit 2b-345e914864df5879756464a394a3408e1ec1a017-9cc80c73301ebb34-01
2022-04-20T15:28:49.191Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:49.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c970613ca223d6a611cb25fee4263672e2aae78-3609e667738c4b43-01 outer:exit 2b-9c970613ca223d6a611cb25fee4263672e2aae78-2047a0da8069c200-01
2022-04-20T15:28:49.228Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:49.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-a65ceca70a9422b400d69be11105e96c9dec11cb-56b14e3887dc8d4e-01 outer:exit 2b-a65ceca70a9422b400d69be11105e96c9dec11cb-f13deff8edbd617a-01
2022-04-20T15:28:49.232Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:49.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2ce648025983fa1f21be7e0f9f7203f0b6c8bf7-475e85d2b4196726-01 outer:exit 2b-e2ce648025983fa1f21be7e0f9f7203f0b6c8bf7-9875763626d2466b-01
2022-04-20T15:28:49.235Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:49.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a07231c988389f6c8413ffb9afc9f2c24ee3d0d-5d6f4b9f44c959d7-01 outer:exit 2b-2a07231c988389f6c8413ffb9afc9f2c24ee3d0d-1b1e73e5a00f4d11-01
2022-04-20T15:28:49.239Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:49.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-f657c86c1e99077618c01d6d2da7715c4c9aba18-46867b8e87ebaf30-01 outer:exit 2b-f657c86c1e99077618c01d6d2da7715c4c9aba18-5a179261d47101c8-01
2022-04-20T15:28:49.242Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:49.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-235b5a40c695cf7065fd51214c125569d60479e2-eb5d5969108b4d1b-01 outer:exit 2b-235b5a40c695cf7065fd51214c125569d60479e2-5e73f96ec285b691-01
2022-04-20T15:28:49.245Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:49.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-3efaec72b6b68735848c94001051e095c6a0d784-dc913b51724009fc-01 outer:exit 2b-3efaec72b6b68735848c94001051e095c6a0d784-e87802e2aaf985dc-01
2022-04-20T15:28:49.247Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:49.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e045201ccf73b7e94d7be213cb605aa73fb62cd-0875ae3a211de824-01 outer:exit 2b-8e045201ccf73b7e94d7be213cb605aa73fb62cd-4eec87b0b9a7781a-01
2022-04-20T15:28:49.250Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:49.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a6f23dc917aa693616139dd28194e8744480fb6-1bbb32081cb04dc8-01 outer:exit 2b-0a6f23dc917aa693616139dd28194e8744480fb6-b7924fcad4926740-01
2022-04-20T15:28:49.253Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:49.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ad0d5db457072d268b3f3c97288cfb38970f4fa-fe43be51c15b31b6-01 outer:exit 2b-8ad0d5db457072d268b3f3c97288cfb38970f4fa-91b389f4f92f7f91-01
2022-04-20T15:28:49.257Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:49.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8d37e46903445c0c39438af8d6a7565ebcf1fa9-365674b8a3b15a51-01 outer:exit 2b-a8d37e46903445c0c39438af8d6a7565ebcf1fa9-d7c0863ad4e806ed-01
2022-04-20T15:28:49.262Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:49.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf6d8261cf23766aad1095625f2881a860f0340e-d900bf0379c619f7-01 outer:exit 2b-cf6d8261cf23766aad1095625f2881a860f0340e-e3aec195770dca9d-01
2022-04-20T15:28:49.279Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:49.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-69df49eec4d089f947693022d060061c6424fe91-2c89449af4b5a0fa-01 outer:exit 2b-69df49eec4d089f947693022d060061c6424fe91-121d76397d2a5403-01
2022-04-20T15:28:49.312Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:49.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-215ccb813d8f6dab2f424cc4e6de7aa1c0d97700-c81bc80fa9dab8a7-01 outer:exit 2b-215ccb813d8f6dab2f424cc4e6de7aa1c0d97700-2b5e28b3db64ecb0-01
2022-04-20T15:28:49.315Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:49.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-44a1588049fbedea6b85d64fec1a46884dcc2854-371418e53904b0c4-01 outer:exit 2b-44a1588049fbedea6b85d64fec1a46884dcc2854-5bf16063d5d8550a-01
2022-04-20T15:28:49.317Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:49.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ddaf9eb46ecd8a74b93d6f8bf12a50393b1eb23-b2f8861c558cc81c-01 outer:exit 2b-0ddaf9eb46ecd8a74b93d6f8bf12a50393b1eb23-13b6d1393f17257a-01
2022-04-20T15:28:49.319Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:49.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-b47706af0e021becc5da7d9970a3f162a499deff-5f0eb183baa747ea-01 outer:exit 2b-b47706af0e021becc5da7d9970a3f162a499deff-8c4f0498230df2aa-01
2022-04-20T15:28:49.322Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:49.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-9197e109b64cafae4fd64580b004afd96e60d0b3-830e7a18003442d3-01 outer:exit 2b-9197e109b64cafae4fd64580b004afd96e60d0b3-8fd01ac3603425a7-01
2022-04-20T15:28:49.323Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:49.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-963e5ac29388c1f904462a44e4dd8edd1ecfc4c0-5df200ee01baae60-01 outer:exit 2b-963e5ac29388c1f904462a44e4dd8edd1ecfc4c0-2464809b54b6cb81-01
2022-04-20T15:28:49.325Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:49.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfe53c66e888bca7b90d7822842cf07be142e672-b42c335aaa9f2234-01 outer:exit 2b-cfe53c66e888bca7b90d7822842cf07be142e672-0516784aad3e2489-01
2022-04-20T15:28:49.327Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:49.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-23e07ca7bde5e0fb2e8cd3793bfac1a9cb2f0497-7a463cc4e446ed76-01 outer:exit 2b-23e07ca7bde5e0fb2e8cd3793bfac1a9cb2f0497-d42868b1c170e381-01
2022-04-20T15:28:49.329Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:49.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bd002d3d4cfbf594bbb2ac1217c0259ca267f51-ab2380e69517e7b9-01 outer:exit 2b-8bd002d3d4cfbf594bbb2ac1217c0259ca267f51-aafad15f5168536e-01
2022-04-20T15:28:49.331Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:49.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-160daa1a8d06624cf954bacb150513ee98d63e60-18d4a37d9933f9e8-01 outer:exit 2b-160daa1a8d06624cf954bacb150513ee98d63e60-21a02ca8ecb345dd-01
2022-04-20T15:28:49.334Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:49.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ef0673ef090145ea0af391ee8616926c83ec35f-39a762640756ce5b-01 outer:exit 2b-6ef0673ef090145ea0af391ee8616926c83ec35f-3bc87f3a1fef73f8-01
2022-04-20T15:28:49.336Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:49.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e8dc4a3f6ca16ccd5ba81cf8f8e4ed0d8bef2bc-7671f95ad0432bc8-01 outer:exit 2b-4e8dc4a3f6ca16ccd5ba81cf8f8e4ed0d8bef2bc-6bf03775cebcc3c3-01
2022-04-20T15:28:49.338Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:49.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-45cf52aafb8c3fc59ba0f30f74afc648b2e100a6-c9a4c8aac0bd0d47-01 outer:exit 2b-45cf52aafb8c3fc59ba0f30f74afc648b2e100a6-5337165d926704f1-01
2022-04-20T15:28:49.343Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:49.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-9deb6f676a3e31a59aa11eac54a5774e9f5ce05a-e8c1c6874e973f58-01 outer:exit 2b-9deb6f676a3e31a59aa11eac54a5774e9f5ce05a-6ebf4cb3d768be50-01
2022-04-20T15:28:49.347Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:49.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-c526faeaba35f3b92400646bde97a269b21642d3-0c46a3d024798356-01 outer:exit 2b-c526faeaba35f3b92400646bde97a269b21642d3-cf7b8908fe9f8481-01
2022-04-20T15:28:49.354Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:49.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-cae796c9cb046b931d330b3b4b2b4cc3f5c7083a-deae377cabc68294-01 outer:exit 2b-cae796c9cb046b931d330b3b4b2b4cc3f5c7083a-9289f073e825cfb5-01
2022-04-20T15:28:49.359Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:49.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad794db5503e9ab43862ff9ed398ef381f56cca9-b9cf63332a49ecb8-01 outer:exit 2b-ad794db5503e9ab43862ff9ed398ef381f56cca9-e4aec0f3507722c2-01
2022-04-20T15:28:49.361Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:49.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5bdf1598d5e5480852cf1a842463fc826f78de0-1e661e7b81ba8a85-01 outer:exit 2b-b5bdf1598d5e5480852cf1a842463fc826f78de0-1b667b7d8ff03282-01
2022-04-20T15:28:49.365Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:49.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-c752bea8ca8b4b182441657037d12842e73be9fd-7c38353c634cd441-01 outer:exit 2b-c752bea8ca8b4b182441657037d12842e73be9fd-f196572f61bde30c-01
2022-04-20T15:28:49.370Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:49.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-da979fd1ec6b73814570bc10f08ab6938549d8e5-ea5d2fc4060a368d-01 outer:exit 2b-da979fd1ec6b73814570bc10f08ab6938549d8e5-315be01437eb5a19-01
2022-04-20T15:28:49.372Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:49.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff8e726ec6c138b54f6de2980e3b51b8dc893dce-50d6d24adbed4340-01 outer:exit 2b-ff8e726ec6c138b54f6de2980e3b51b8dc893dce-238bdbad6df00c37-01
2022-04-20T15:28:49.374Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:49.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7950580ac8ae307f7497963467eebd049c84b72-da641902f74e0e56-01 outer:exit 2b-d7950580ac8ae307f7497963467eebd049c84b72-d9e1eb6d675f641c-01
2022-04-20T15:28:49.375Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:49.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f9ba662bbe4ab99d0da4043e48adf069caa6b00-a1469382746e2f67-01 outer:exit 2b-4f9ba662bbe4ab99d0da4043e48adf069caa6b00-e24a62fd478730ba-01
2022-04-20T15:28:49.377Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:49.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0997687aa6d1d75cacb5625b2d9e858244255a1-4101f5bd8225be61-01 outer:exit 2b-d0997687aa6d1d75cacb5625b2d9e858244255a1-db7a933e1683af13-01
2022-04-20T15:28:49.378Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:49.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebb568fb0c320a7c5945d55b51051397244d3993-c3f4b833ecfac42f-01 outer:exit 2b-ebb568fb0c320a7c5945d55b51051397244d3993-27b0e5c967a53889-01
2022-04-20T15:28:49.387Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:49.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-2775092fda0eb3cc623169ea306d682586113e59-dceca7506adb506b-01 outer:exit 2b-2775092fda0eb3cc623169ea306d682586113e59-50cf3031967667cc-01
2022-04-20T15:28:49.394Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:49.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-c644f551eb33089e8ad0790223343b040a3a5f40-44e50fc9f604f220-01 outer:exit 2b-c644f551eb33089e8ad0790223343b040a3a5f40-705cbf28c71f1df3-01
2022-04-20T15:28:49.397Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:49.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-7788cc192dd41ad673b2d88f4c46d453012701d3-ca553a4190ec3881-01 outer:exit 2b-7788cc192dd41ad673b2d88f4c46d453012701d3-406f3bb23ccc5040-01
2022-04-20T15:28:49.399Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:49.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3077b7d2c53c0acd82a912cf553371bf58eaff7-e150ae6846fe777b-01 outer:exit 2b-e3077b7d2c53c0acd82a912cf553371bf58eaff7-51c238837676193e-01
2022-04-20T15:28:49.401Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:49.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f3e1f118c96551d8f9c2554c9c6993ba72276cc-f41686139e8eda7a-01 outer:exit 2b-9f3e1f118c96551d8f9c2554c9c6993ba72276cc-7dbf4e99f52d9147-01
2022-04-20T15:28:49.428Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (276ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:54.568Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:54.569Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:54.569Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:54.569Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:54.627Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:54.734Z appoptics:patching patched crypto 
2022-04-20T15:28:54.750Z appoptics:patching patched https 
2022-04-20T15:28:54.751Z appoptics:patching patched http 
2022-04-20T15:28:54.789Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:54.790Z appoptics:patching patched fs 
2022-04-20T15:28:54.812Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v16.14.2)
2022-04-20T15:28:54.819Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2022-04-20T15:28:54.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-78eb9e172c87d18939d1cc15bda2549f8291d9d5-ef0575cb3226a9fc-01 outer:exit 2b-78eb9e172c87d18939d1cc15bda2549f8291d9d5-0a0be668e5bf8fbf-01
2022-04-20T15:28:54.861Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:54.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-da923588a81a4e07f508a7c866ebdc85f2009ed0-6a4377fe2d938052-01 outer:exit 2b-da923588a81a4e07f508a7c866ebdc85f2009ed0-22dde6786dee2ca3-01
2022-04-20T15:28:54.899Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:54.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e6dcafec7ea7b48cb37711bd5bdfc11507e9424-4a70ed6d8bfd0172-01 outer:exit 2b-9e6dcafec7ea7b48cb37711bd5bdfc11507e9424-7ed03aa0b1c18e53-01
2022-04-20T15:28:54.902Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:54.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d806613e3b53035ff410490590acfc242931200-0389c5543525a3b7-01 outer:exit 2b-5d806613e3b53035ff410490590acfc242931200-18b2aab7a0dde2f7-01
2022-04-20T15:28:54.905Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:54.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d75f3c81a8c9907742d6505e44113cce143250c-1b0f8da6419c6f01-01 outer:exit 2b-7d75f3c81a8c9907742d6505e44113cce143250c-239bf68f7b3fc8fa-01
2022-04-20T15:28:54.910Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:54.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb3d1e6c14e8b7a90ed2e833360de8ae0c993a09-a737dec310ea7a5a-01 outer:exit 2b-eb3d1e6c14e8b7a90ed2e833360de8ae0c993a09-71a846183e1b8193-01
2022-04-20T15:28:54.912Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:54.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b0bad099da41a5ee54e19289d814d350296236b-42c58028ce560d4d-01 outer:exit 2b-9b0bad099da41a5ee54e19289d814d350296236b-f09a200920db6b22-01
2022-04-20T15:28:54.915Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:54.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-04382b1506df4cc913515f8d34b54152520ee8c3-4953f892920d778c-01 outer:exit 2b-04382b1506df4cc913515f8d34b54152520ee8c3-651845bb6e76da0f-01
2022-04-20T15:28:54.918Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:54.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe9a78b7c5922c198794a35c23b76745cb7c81c0-05239b48816763f8-01 outer:exit 2b-fe9a78b7c5922c198794a35c23b76745cb7c81c0-169c399a8f7f0515-01
2022-04-20T15:28:54.920Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:54.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d897f213ce21be21d646b9d0cf36ae09c907228-b36e00df665d9c67-01 outer:exit 2b-3d897f213ce21be21d646b9d0cf36ae09c907228-8210d657fd85d8b6-01
2022-04-20T15:28:54.923Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:54.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a886e10ffceb8ce7afe423e6b901dfc7af90210-a6f8afa5739a3486-01 outer:exit 2b-0a886e10ffceb8ce7afe423e6b901dfc7af90210-cb3f9734b18c26df-01
2022-04-20T15:28:54.927Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:54.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-9478e5efb9fa82bbe8c5e20ee8e760909b849f15-8f0418611106575d-01 outer:exit 2b-9478e5efb9fa82bbe8c5e20ee8e760909b849f15-db9b36c237e3a0c8-01
2022-04-20T15:28:54.933Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:54.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-a40aee60a647a3977dc0132856cb990c125c2897-14c1d0ba103a5c19-01 outer:exit 2b-a40aee60a647a3977dc0132856cb990c125c2897-090243bbb8b46216-01
2022-04-20T15:28:54.949Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:54.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7972c4c57904018d992ded411fe44f4758aabd2-eccbc5ca82313724-01 outer:exit 2b-f7972c4c57904018d992ded411fe44f4758aabd2-db742801e1f29254-01
2022-04-20T15:28:54.983Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:54.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d6833ae1d135713f5b18b336fd5020373ca020f-22287aed52e598b4-01 outer:exit 2b-4d6833ae1d135713f5b18b336fd5020373ca020f-692d148343eeca7c-01
2022-04-20T15:28:54.985Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:54.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cd2a867b9261974d0a8e49c053561680b794a5a-81f9dfdd979ca11c-01 outer:exit 2b-1cd2a867b9261974d0a8e49c053561680b794a5a-39862c1bdb9ffd1a-01
2022-04-20T15:28:54.988Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:54.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f5349f0e499b942d3cc8fbdef30da2d78354915-27cba6bae3471658-01 outer:exit 2b-9f5349f0e499b942d3cc8fbdef30da2d78354915-afb9beb3f7f734a1-01
2022-04-20T15:28:54.990Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:54.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed991e2d03d68f076136eb0650c6d9a6eaca99b0-564c3727d78222e0-01 outer:exit 2b-ed991e2d03d68f076136eb0650c6d9a6eaca99b0-094c0daadc907a55-01
2022-04-20T15:28:54.992Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:54.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-61dbc10c39277a58501ee1a8e7473ed200d87eb9-aab0e70e1bc121a7-01 outer:exit 2b-61dbc10c39277a58501ee1a8e7473ed200d87eb9-5cbffa48808e39c3-01
2022-04-20T15:28:54.994Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:54.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fdecec432b5a1614ce04b3240773f08c7779801-20357a04723a9947-01 outer:exit 2b-0fdecec432b5a1614ce04b3240773f08c7779801-ef7d798e5abe1c11-01
2022-04-20T15:28:54.996Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:54.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f2f465c5f3edbff0bc2df240bb61f58977b27c5-57a4e8741630d33a-01 outer:exit 2b-2f2f465c5f3edbff0bc2df240bb61f58977b27c5-cacd425839243b51-01
2022-04-20T15:28:54.998Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:54.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-d01c7db9d2950dcb2657836611f86e4195524a3f-ed0f553eff282b40-01 outer:exit 2b-d01c7db9d2950dcb2657836611f86e4195524a3f-91593479fb01a78e-01
2022-04-20T15:28:54.999Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:55.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-2912531407da68c34b92bb40763e4c134d4c54d8-9f4f75bdd367fe14-01 outer:exit 2b-2912531407da68c34b92bb40763e4c134d4c54d8-df61a32915b14852-01
2022-04-20T15:28:55.002Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:55.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-789da5577c33c1139c7da5ff08b5d16af3f87180-c5c5ff126c60cad6-01 outer:exit 2b-789da5577c33c1139c7da5ff08b5d16af3f87180-7463bddef6a5330e-01
2022-04-20T15:28:55.009Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:55.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a855aa4ad469d12e35b8e3de7081c3584101ed5-e75e0c8b9bb66adf-01 outer:exit 2b-4a855aa4ad469d12e35b8e3de7081c3584101ed5-a31be6737061fb6c-01
2022-04-20T15:28:55.011Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:55.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-66c4d9bbced9bfc644e39f03a751a73492ff907d-899da3fb2d3cdb09-01 outer:exit 2b-66c4d9bbced9bfc644e39f03a751a73492ff907d-784a7e57f3d6ffb7-01
2022-04-20T15:28:55.013Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:55.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fb6a7b0787b143d2b47de05051ed0d00138d039-4c9ec99c5dd7fdeb-01 outer:exit 2b-3fb6a7b0787b143d2b47de05051ed0d00138d039-e43a7b6c5f8998c9-01
2022-04-20T15:28:55.019Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:55.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f1888247dc86761be771a8d7e6fc2a5bf34eb0c-8aa794a74f614085-01 outer:exit 2b-1f1888247dc86761be771a8d7e6fc2a5bf34eb0c-4008ac6d37c05b9e-01
2022-04-20T15:28:55.023Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:55.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-e054ef2fcd70ad6fef1874acea83e40db484e713-691eebd15194c82e-01 outer:exit 2b-e054ef2fcd70ad6fef1874acea83e40db484e713-13b876c434f20bc4-01
2022-04-20T15:28:55.029Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:55.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc2bc70f98a8dd49a48c1f1361ab2618e6f9234d-89840ee1176f2319-01 outer:exit 2b-cc2bc70f98a8dd49a48c1f1361ab2618e6f9234d-9c0d16c66d96ab7b-01
2022-04-20T15:28:55.035Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:55.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-e996159756fd57b54f8aaba4592336584b0e6570-7b96511ac9f7f64d-01 outer:exit 2b-e996159756fd57b54f8aaba4592336584b0e6570-82e3d1499b00640f-01
2022-04-20T15:28:55.037Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:55.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-317edbb2f0911d882027a583c198e419baf9e975-231e06de56f58ee0-01 outer:exit 2b-317edbb2f0911d882027a583c198e419baf9e975-92a900e29f12e376-01
2022-04-20T15:28:55.040Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:55.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-c965b4c66d44c38d38e5b2d9be6b76650caa646f-cef6718cba00e0b1-01 outer:exit 2b-c965b4c66d44c38d38e5b2d9be6b76650caa646f-13948c30355135d0-01
2022-04-20T15:28:55.045Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:55.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6009ed3b530e7627f7ee1f71442f7a85dbdc1c2-540f64929fddb021-01 outer:exit 2b-a6009ed3b530e7627f7ee1f71442f7a85dbdc1c2-c4c4c1179f27b898-01
2022-04-20T15:28:55.047Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:55.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-17d578fc95abf3239844b149bd28c94e61aaeb7f-37b893727ea286bd-01 outer:exit 2b-17d578fc95abf3239844b149bd28c94e61aaeb7f-560ca72b1f9b0cd7-01
2022-04-20T15:28:55.049Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:55.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd45fa28d225a555304809076407cf91af0d754e-9da7a677fd333d8f-01 outer:exit 2b-dd45fa28d225a555304809076407cf91af0d754e-4bae972fdd9f42e2-01
2022-04-20T15:28:55.051Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:55.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-69caca48ec42a5ea0702373b423a25ff471a73f7-d9a048f75e0a12ab-01 outer:exit 2b-69caca48ec42a5ea0702373b423a25ff471a73f7-2dd1fc45e84943b0-01
2022-04-20T15:28:55.052Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:55.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8f980c481ceb99050faeb04a2ac4e1a521291cc-909fc0c485cbcb08-01 outer:exit 2b-f8f980c481ceb99050faeb04a2ac4e1a521291cc-b5eb854b06d797c1-01
2022-04-20T15:28:55.054Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:55.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc060009d1855c5d92db9aa3f60974a801121460-a5076a735d7f37e7-01 outer:exit 2b-fc060009d1855c5d92db9aa3f60974a801121460-9e4005e112afc23d-01
2022-04-20T15:28:55.062Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:55.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a9ffacfe210c384e62d15bd30b531501439919f-000e6bc1cae6017c-01 outer:exit 2b-6a9ffacfe210c384e62d15bd30b531501439919f-8ed102eb691fcc8e-01
2022-04-20T15:28:55.069Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:55.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd8acdafb0702179bdcc8f1a1eea1259fa5e2aeb-ede2037f36ea1f74-01 outer:exit 2b-cd8acdafb0702179bdcc8f1a1eea1259fa5e2aeb-55eb031a6d45f1e9-01
2022-04-20T15:28:55.072Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:55.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-72014d348c2b094404d8f59325a49148ab2577c6-7ba1ca493c6523b2-01 outer:exit 2b-72014d348c2b094404d8f59325a49148ab2577c6-6863f07eb2771bfe-01
2022-04-20T15:28:55.074Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:55.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8d7cabaa31f92e895d9cb17ad1eba7624fb3287-ac278ca5ca3f1ad6-01 outer:exit 2b-d8d7cabaa31f92e895d9cb17ad1eba7624fb3287-3592a3e9598ad0f5-01
2022-04-20T15:28:55.076Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:55.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-22cfa9b585b7b8e32725b2b342f635ca57ef27bb-ff6f483b13dbc2ed-01 outer:exit 2b-22cfa9b585b7b8e32725b2b342f635ca57ef27bb-50579cf13eefe023-01
2022-04-20T15:28:55.101Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (277ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:00.654Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:00.655Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:00.655Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:00.656Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:00.713Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:00.822Z appoptics:patching patched crypto 
2022-04-20T15:29:00.839Z appoptics:patching patched https 
2022-04-20T15:29:00.839Z appoptics:patching patched http 
2022-04-20T15:29:00.877Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:00.878Z appoptics:patching patched fs 
2022-04-20T15:29:00.900Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v16.14.2)
2022-04-20T15:29:00.907Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2022-04-20T15:29:00.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-3750c68c35dda2aab44004ccfec0ddeda9cffded-15591f3d40f3cb42-01 outer:exit 2b-3750c68c35dda2aab44004ccfec0ddeda9cffded-738c8d61e1dc5403-01
2022-04-20T15:29:00.951Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:00.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-b03542e6a90f377764585a1a6990739f8184dd4a-5bc9a36218c32026-01 outer:exit 2b-b03542e6a90f377764585a1a6990739f8184dd4a-d25abc6702f4b3a1-01
2022-04-20T15:29:00.989Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:00.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-76ed7982a0bb96004b4a46fb1ef6d981920d4e4f-c4f9e1fd1c1125ee-01 outer:exit 2b-76ed7982a0bb96004b4a46fb1ef6d981920d4e4f-b767bd55bb1022ba-01
2022-04-20T15:29:00.992Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:00.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ed35530c2a3d8c7e651de30e8053d701f2d97cf-7d5e9bd9534b38d0-01 outer:exit 2b-6ed35530c2a3d8c7e651de30e8053d701f2d97cf-0c64205840cdd2e9-01
2022-04-20T15:29:00.995Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:00.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8262bcc1bf57b4d40889ae9d068556749e4a0af-5ac231d5981060b6-01 outer:exit 2b-e8262bcc1bf57b4d40889ae9d068556749e4a0af-d26351d1fa58efa0-01
2022-04-20T15:29:00.999Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:01.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-5eab0d7c8573da5cbd87e97201ef9b122e5855f9-e56a66cd67180b3c-01 outer:exit 2b-5eab0d7c8573da5cbd87e97201ef9b122e5855f9-a5f1fcea521be975-01
2022-04-20T15:29:01.002Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:01.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6b7135e91e0ad0bfd8520bd59294ef629b01da7-0cf83376be708991-01 outer:exit 2b-c6b7135e91e0ad0bfd8520bd59294ef629b01da7-754e7c5470782487-01
2022-04-20T15:29:01.005Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:01.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-f194809a4640692a61a11d6c290f2c19d9efbc25-b05fd366780dc1e7-01 outer:exit 2b-f194809a4640692a61a11d6c290f2c19d9efbc25-100d2cedec4ec903-01
2022-04-20T15:29:01.010Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:01.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccd66f34aa07dff29f4d1ef0effac270faa624ff-227bf780b6d3a1f9-01 outer:exit 2b-ccd66f34aa07dff29f4d1ef0effac270faa624ff-936b7de54b0afb2e-01
2022-04-20T15:29:01.013Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:01.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ba11cd8f08875f12ae4335ff564e5f7686ef663-63de6f7ef867668d-01 outer:exit 2b-9ba11cd8f08875f12ae4335ff564e5f7686ef663-060572e61874ccf4-01
2022-04-20T15:29:01.016Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:01.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-f66d9a0164df7add123cb25e7dfbd022ce1979d1-0209ceb302caeede-01 outer:exit 2b-f66d9a0164df7add123cb25e7dfbd022ce1979d1-436f75a441f5b97f-01
2022-04-20T15:29:01.020Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:01.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-f17ef40e011d5b024db6685487982fc3ea710a77-9adffb5259479633-01 outer:exit 2b-f17ef40e011d5b024db6685487982fc3ea710a77-d67f596a6c55c738-01
2022-04-20T15:29:01.025Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:01.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-80bf1761c0f7fc83169fc6b8b7304db455c2bbf1-8d91da763c1e3dbe-01 outer:exit 2b-80bf1761c0f7fc83169fc6b8b7304db455c2bbf1-c5163fb7254ab863-01
2022-04-20T15:29:01.039Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:01.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a65f6a51d5d1b8ebe08f8af0a843fbf8e85a08e-a91f7c47afda1d23-01 outer:exit 2b-2a65f6a51d5d1b8ebe08f8af0a843fbf8e85a08e-76437cd7a9e6dc34-01
2022-04-20T15:29:01.073Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:01.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-c03b165045bc8ad5c0499da9e44c4a747f32841a-be1d16128d419966-01 outer:exit 2b-c03b165045bc8ad5c0499da9e44c4a747f32841a-eb9202c6226562a1-01
2022-04-20T15:29:01.075Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:01.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ba7caf3d94683763245f770c64d2a1948b57934-1bc38c07700ad18d-01 outer:exit 2b-2ba7caf3d94683763245f770c64d2a1948b57934-ebeff7ecb2fb85dc-01
2022-04-20T15:29:01.077Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:01.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec3e70dbecdfdcbf4a5b58864fad15e1182febce-9fb797b28a875c26-01 outer:exit 2b-ec3e70dbecdfdcbf4a5b58864fad15e1182febce-344d3d87529b11b0-01
2022-04-20T15:29:01.081Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:01.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dcce795f74f2eeeb5cf7d9bb038b3160f3d74e3-6bd7dcd32fda2ffb-01 outer:exit 2b-3dcce795f74f2eeeb5cf7d9bb038b3160f3d74e3-1684762f3700bbed-01
2022-04-20T15:29:01.083Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:01.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-75b0668b5c7ecdf347edc9f1dd7f12b3b3f66bec-992368415a1ffc2f-01 outer:exit 2b-75b0668b5c7ecdf347edc9f1dd7f12b3b3f66bec-c2a053e5b096e3a8-01
2022-04-20T15:29:01.085Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:01.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-a37e98588a0164927ce32ac1f5981b404ae01d82-4c38a2e5a88f6504-01 outer:exit 2b-a37e98588a0164927ce32ac1f5981b404ae01d82-5c35b6b0587bcc16-01
2022-04-20T15:29:01.086Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:01.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-0addebea7b162fb97a4191dfdcc56e5596893ebc-c4d70d5bf4d04d37-01 outer:exit 2b-0addebea7b162fb97a4191dfdcc56e5596893ebc-8ed10586b330a4f2-01
2022-04-20T15:29:01.088Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:01.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-740194b22434b87a8df52074f0499d7604071eec-2c3879f9f85f5da8-01 outer:exit 2b-740194b22434b87a8df52074f0499d7604071eec-65769d1546ca11a1-01
2022-04-20T15:29:01.090Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:01.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-2df4be6716e0da3aff855297e1f006b044c157ca-000a65232d353288-01 outer:exit 2b-2df4be6716e0da3aff855297e1f006b044c157ca-1a5eeeb6c2c2163f-01
2022-04-20T15:29:01.092Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:01.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-055f3c61d6b05f7e08cb8c21815b107fd1f0d63e-aae4b2a8b5ea455b-01 outer:exit 2b-055f3c61d6b05f7e08cb8c21815b107fd1f0d63e-a0a3b0334de44b23-01
2022-04-20T15:29:01.095Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:01.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-113d6a51f93bcc4d66afc0d4e30e62a034f4b732-2801579cff32c4a0-01 outer:exit 2b-113d6a51f93bcc4d66afc0d4e30e62a034f4b732-c195f3c788b65bcb-01
2022-04-20T15:29:01.097Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:01.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-43c1cfedb7abd4eee265cdc9fb1862e348462564-53d401cc53eebb87-01 outer:exit 2b-43c1cfedb7abd4eee265cdc9fb1862e348462564-c62897f77fa80f06-01
2022-04-20T15:29:01.099Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:01.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c8539a31ba4ec639ec5d8801c75cdb610160660-cc716fe6ec7e2800-01 outer:exit 2b-4c8539a31ba4ec639ec5d8801c75cdb610160660-f4a7971d67ce6dbc-01
2022-04-20T15:29:01.104Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:01.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-93543779f1e54326932002a6702aa56d102de3fa-26a78b9dec6aa5ff-01 outer:exit 2b-93543779f1e54326932002a6702aa56d102de3fa-921a7a4e535f5ef5-01
2022-04-20T15:29:01.109Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:01.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-2458772abbf16ceda73d1160880d4e9b67b7ae93-b42f557041c34e8e-01 outer:exit 2b-2458772abbf16ceda73d1160880d4e9b67b7ae93-b9dda675f228bc34-01
2022-04-20T15:29:01.117Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:01.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ed74b8c5fb30c59e3faed9c620cd334f423f256-1cbf1bf35da1ec2e-01 outer:exit 2b-2ed74b8c5fb30c59e3faed9c620cd334f423f256-4961b8502162a2b9-01
2022-04-20T15:29:01.123Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:01.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-f98c2a37970be346d5b2051a41a84c219be98cbc-32243aa155075bbe-01 outer:exit 2b-f98c2a37970be346d5b2051a41a84c219be98cbc-aaa942cf3897d2f1-01
2022-04-20T15:29:01.125Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:01.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-259b49dc05a1c110844672e22565b9d6898a9c46-85fdbcc9fe806f47-01 outer:exit 2b-259b49dc05a1c110844672e22565b9d6898a9c46-d1fa567e414a5121-01
2022-04-20T15:29:01.127Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:01.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-5673fe03bf47d925f3fb42fd96905734f1ff0ace-493783b301306a88-01 outer:exit 2b-5673fe03bf47d925f3fb42fd96905734f1ff0ace-5451721097311616-01
2022-04-20T15:29:01.133Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:01.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-af64d02746c3028623c9c40b024480bfb9876587-eda96ee81e7c38cf-01 outer:exit 2b-af64d02746c3028623c9c40b024480bfb9876587-be0c28e119c9137c-01
2022-04-20T15:29:01.135Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:01.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-d072fbd91c23912d469dad25b1ba335fd6538352-bcdaa753564a5f52-01 outer:exit 2b-d072fbd91c23912d469dad25b1ba335fd6538352-9e792a35470c236e-01
2022-04-20T15:29:01.137Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:01.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-e495a48b975762ba7b7e225e5071c9a84fc3d250-9dea2f85c06fbc9b-01 outer:exit 2b-e495a48b975762ba7b7e225e5071c9a84fc3d250-0e1151fdfd639139-01
2022-04-20T15:29:01.138Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:01.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a7f034707ea350b588b0c1e031016a1e5db036f-d5b485a4f9540481-01 outer:exit 2b-4a7f034707ea350b588b0c1e031016a1e5db036f-739a5c743cceca9c-01
2022-04-20T15:29:01.140Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:01.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e88acdae03e1b36e98b70b2b7ff7cd86eae1d38-c817a319de841547-01 outer:exit 2b-4e88acdae03e1b36e98b70b2b7ff7cd86eae1d38-a1666793718be611-01
2022-04-20T15:29:01.141Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:01.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a5b1a465a657dc28aa4bc210d6af5892c335ae3-c1bd36d27ed76b6c-01 outer:exit 2b-0a5b1a465a657dc28aa4bc210d6af5892c335ae3-6756a9d8f39819b7-01
2022-04-20T15:29:01.150Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:01.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6c31dfbc3404fcff34f302eaed1d1e06bc22c22-4426b9f1f6a09196-01 outer:exit 2b-b6c31dfbc3404fcff34f302eaed1d1e06bc22c22-ea3895a9a4558163-01
2022-04-20T15:29:01.160Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:01.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e289dfcb5ac9d0321a85ebf62f74b3798c5eef3-45bad35a8eb35678-01 outer:exit 2b-7e289dfcb5ac9d0321a85ebf62f74b3798c5eef3-c5dfee53d818f975-01
2022-04-20T15:29:01.163Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:01.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-07fe6b334ab1854a0e6264df1693637c6a1b835f-566f461ae1de2f66-01 outer:exit 2b-07fe6b334ab1854a0e6264df1693637c6a1b835f-74f16f2ca69ab8b7-01
2022-04-20T15:29:01.165Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:01.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a3bb35829889a51eac7d9ef6ff5580ea6716dbd-369232e87c7618f4-01 outer:exit 2b-7a3bb35829889a51eac7d9ef6ff5580ea6716dbd-96e727cd8c47879d-01
2022-04-20T15:29:01.167Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:01.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-e410c0679999ce8dbea4f785cdb42ec12130dd28-c7b8e7708b54ee6c-01 outer:exit 2b-e410c0679999ce8dbea4f785cdb42ec12130dd28-f2cebbc2b1db7f77-01
2022-04-20T15:29:01.194Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (282ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:06.702Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:06.703Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:06.703Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:06.704Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:06.761Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:06.869Z appoptics:patching patched crypto 
2022-04-20T15:29:06.886Z appoptics:patching patched https 
2022-04-20T15:29:06.886Z appoptics:patching patched http 
2022-04-20T15:29:06.924Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:06.925Z appoptics:patching patched fs 
2022-04-20T15:29:06.947Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v16.14.2)
2022-04-20T15:29:06.954Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2022-04-20T15:29:06.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3471fe3d934d2df183524f58301e34a1db4453e-42e7f6edec7aafa0-01 outer:exit 2b-f3471fe3d934d2df183524f58301e34a1db4453e-ce61c821ac1ca12e-01
2022-04-20T15:29:06.997Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:07.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba0e2183c35729f7975f911c82b1a9a391b85e1c-e6781cd0e1ce3902-01 outer:exit 2b-ba0e2183c35729f7975f911c82b1a9a391b85e1c-051dc9b1779b7e67-01
2022-04-20T15:29:07.035Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:07.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-be26bcb740388ce798250598790cfa7e7ccdf563-9811b6e3d7c89d27-01 outer:exit 2b-be26bcb740388ce798250598790cfa7e7ccdf563-5918e9d5a1b96d60-01
2022-04-20T15:29:07.038Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:07.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb724b5c69f07222c6972222991d801932400beb-6c8d1c0c49c1b2fd-01 outer:exit 2b-eb724b5c69f07222c6972222991d801932400beb-f14048e88c5168f7-01
2022-04-20T15:29:07.041Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:07.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc45b6ac8d9e696f0d1cca1e6a9f40d3332f9a4a-7ac3522a0038d1c9-01 outer:exit 2b-cc45b6ac8d9e696f0d1cca1e6a9f40d3332f9a4a-a0d56f1b7ac3066c-01
2022-04-20T15:29:07.045Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:07.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-0669b510bc9316f8445050dfef900eca353627c3-697e3b9382fc8c86-01 outer:exit 2b-0669b510bc9316f8445050dfef900eca353627c3-deb64ae305c622b8-01
2022-04-20T15:29:07.048Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:07.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-04b000e54beb60deac737398a05fd0bbe21f6b7f-6ca36b3499704bd6-01 outer:exit 2b-04b000e54beb60deac737398a05fd0bbe21f6b7f-f3a75e632a3e4331-01
2022-04-20T15:29:07.051Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:07.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d195afa4f74f520efba7ad7dde865841b7c0005-3fea997bca45336b-01 outer:exit 2b-6d195afa4f74f520efba7ad7dde865841b7c0005-2f017e93df5dec43-01
2022-04-20T15:29:07.054Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:07.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d24454a7b655ea23c5afaca5c8ae6cc09e6a931-288e6117e1e4c7f8-01 outer:exit 2b-1d24454a7b655ea23c5afaca5c8ae6cc09e6a931-001d43b7e07e2e9a-01
2022-04-20T15:29:07.056Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:07.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-6918c58f7f1f847be8113020dad63beaa1be07c0-36a18fe8f2a81def-01 outer:exit 2b-6918c58f7f1f847be8113020dad63beaa1be07c0-a1cfe181273ac144-01
2022-04-20T15:29:07.059Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:07.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a9f20dddf168925f4e04be35eb508bf12e5c969-b321b5ea0ef4958f-01 outer:exit 2b-4a9f20dddf168925f4e04be35eb508bf12e5c969-427eae5298ec2030-01
2022-04-20T15:29:07.063Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:07.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8d9fe0431972f428e090afa148e53a5dab62bc6-4501f38560bee10e-01 outer:exit 2b-d8d9fe0431972f428e090afa148e53a5dab62bc6-3161a67ee302d0bb-01
2022-04-20T15:29:07.069Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:07.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4f6ca99e02b8faf1e0704cd5a7d289a7a50034e-3379633cb38d0e31-01 outer:exit 2b-c4f6ca99e02b8faf1e0704cd5a7d289a7a50034e-cb3f8c6daf61ba51-01
2022-04-20T15:29:07.084Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:07.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-524ec221817f14ade6fe0f1961981efba67ce1f1-ade24dcb5b8497c7-01 outer:exit 2b-524ec221817f14ade6fe0f1961981efba67ce1f1-694d26196950598f-01
2022-04-20T15:29:07.118Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:07.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cbcbcaaf4cd1d8351fa60bfa580f6bca80406f1-07eef8c3d930ee4f-01 outer:exit 2b-5cbcbcaaf4cd1d8351fa60bfa580f6bca80406f1-5665f4828555cf14-01
2022-04-20T15:29:07.120Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:07.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-739c68a28a3ec070093b80d0e289a7fc613079b3-20e3e313879ddae7-01 outer:exit 2b-739c68a28a3ec070093b80d0e289a7fc613079b3-cc598092bee017d1-01
2022-04-20T15:29:07.123Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:07.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-c93f981659092f7835dcfdefbddd768705ce55e8-22f385ef2394604c-01 outer:exit 2b-c93f981659092f7835dcfdefbddd768705ce55e8-3cf9e0ed38767a9d-01
2022-04-20T15:29:07.126Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:07.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-be7da67e46e2216da297d6fd045a60e00d27f524-314f0a388ec5f355-01 outer:exit 2b-be7da67e46e2216da297d6fd045a60e00d27f524-66d283a43cb17c4f-01
2022-04-20T15:29:07.128Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:07.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ae1a46d66bbca75f6f230f5eba36666cbd23726-bb781cddbfa591e3-01 outer:exit 2b-6ae1a46d66bbca75f6f230f5eba36666cbd23726-4a3dd1794270465c-01
2022-04-20T15:29:07.130Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:07.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-3af0ad1e520fd992808b28785f8faa76a37bccab-b04d9fbd45d9c2ef-01 outer:exit 2b-3af0ad1e520fd992808b28785f8faa76a37bccab-4bb4345e20c6948d-01
2022-04-20T15:29:07.132Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:07.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-397304eb60d06153133de4e940bfa4225e4c8e9e-a796cecf45d7bd5d-01 outer:exit 2b-397304eb60d06153133de4e940bfa4225e4c8e9e-1271eb26fc96d00e-01
2022-04-20T15:29:07.134Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:07.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad9029f77b75cf0cb6150933045dd1ff50f332eb-1d429a66487ca322-01 outer:exit 2b-ad9029f77b75cf0cb6150933045dd1ff50f332eb-69179f447981bddb-01
2022-04-20T15:29:07.135Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:07.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-e84af96fb7ce869fa52a20d6ea73dc0ab3de2846-9502af873b562764-01 outer:exit 2b-e84af96fb7ce869fa52a20d6ea73dc0ab3de2846-d79aee16d92778aa-01
2022-04-20T15:29:07.138Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:07.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d5bc756fc7a26c9983add8a73eea81b65d8899a-d25fcef980746353-01 outer:exit 2b-0d5bc756fc7a26c9983add8a73eea81b65d8899a-95febedc0838f35a-01
2022-04-20T15:29:07.140Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:07.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-60d7990554eb61f6d5c248e0a0770f10720dbc7a-aa43bf3b6b0c1b0c-01 outer:exit 2b-60d7990554eb61f6d5c248e0a0770f10720dbc7a-b78a4ab4169bb328-01
2022-04-20T15:29:07.142Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:07.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-f510cf97247af28140546f5b5f28d691f1148159-39d3ff49c43e75a4-01 outer:exit 2b-f510cf97247af28140546f5b5f28d691f1148159-b41a023025673491-01
2022-04-20T15:29:07.144Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:07.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-8013a75509c90e3cc257e1b9c20d39591fe030eb-eab243491b309cf9-01 outer:exit 2b-8013a75509c90e3cc257e1b9c20d39591fe030eb-d5627ff90d9ce1ef-01
2022-04-20T15:29:07.149Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:07.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-3168d743360912f3a156b511cb920d60c5df0ef2-e869fbd7893defa8-01 outer:exit 2b-3168d743360912f3a156b511cb920d60c5df0ef2-cd20f62a5ed1c6a6-01
2022-04-20T15:29:07.155Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:07.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3b567afc34dc97cb681dda28b1839b2582d1212-6f880cc411681e6e-01 outer:exit 2b-b3b567afc34dc97cb681dda28b1839b2582d1212-3e901e6dc72685cc-01
2022-04-20T15:29:07.162Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:07.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd4248528f2579a26db97ecaef1fa296a16fe8db-0a87e4c208a08310-01 outer:exit 2b-cd4248528f2579a26db97ecaef1fa296a16fe8db-1b622aa6c4c2d28b-01
2022-04-20T15:29:07.169Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:07.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c5c7b89d81311e51380499ea4287a25d2df4874-05fce58d0f7ee0a4-01 outer:exit 2b-0c5c7b89d81311e51380499ea4287a25d2df4874-23ce1c2a4019ff97-01
2022-04-20T15:29:07.171Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:07.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7857e3f4f5ff9ed6edccf16d732c15fb73bd520-1cdb81c21cc38c60-01 outer:exit 2b-c7857e3f4f5ff9ed6edccf16d732c15fb73bd520-254e74831858bd41-01
2022-04-20T15:29:07.173Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:07.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8a18676acae80a27711a2363b79df88de3ba738-0ff4925743e1b2f5-01 outer:exit 2b-d8a18676acae80a27711a2363b79df88de3ba738-911f0c25b2d6cc48-01
2022-04-20T15:29:07.178Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:07.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-45e526333ada169dc34870d7f05caf86e259b629-deaccdda7ddb158a-01 outer:exit 2b-45e526333ada169dc34870d7f05caf86e259b629-b6dfaac5a1852c9d-01
2022-04-20T15:29:07.180Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:07.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a995d57d46da7da333c250c5726c8462bc7b21a-a223076d6ff3dfc2-01 outer:exit 2b-2a995d57d46da7da333c250c5726c8462bc7b21a-6386154475d99bc9-01
2022-04-20T15:29:07.182Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:07.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-796bc021480173bc3bedbdf66725b4f164c201eb-06dc71b1ece1dcf2-01 outer:exit 2b-796bc021480173bc3bedbdf66725b4f164c201eb-67bedb8cfdff77b7-01
2022-04-20T15:29:07.184Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:07.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7f8392b0e6195056396208a99d0e18bb24180fd-a66e9a2cbff74a87-01 outer:exit 2b-a7f8392b0e6195056396208a99d0e18bb24180fd-a63f539c35e5010b-01
2022-04-20T15:29:07.185Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:07.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-af2aa37042bcc10251952523bb75025d5ad9669d-1e69b9ced56066bb-01 outer:exit 2b-af2aa37042bcc10251952523bb75025d5ad9669d-8e36a23df7a92884-01
2022-04-20T15:29:07.187Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:07.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed7bb3d24dd4a8654657a5262129e6f90a60ec64-553266b9d3569e57-01 outer:exit 2b-ed7bb3d24dd4a8654657a5262129e6f90a60ec64-b36e51b7ddda18d6-01
2022-04-20T15:29:07.195Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:07.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd6f3a80e79a0471050c02ad50fed4b858c9c364-60fc1a3802e0bec8-01 outer:exit 2b-fd6f3a80e79a0471050c02ad50fed4b858c9c364-7af05f7f2961ece4-01
2022-04-20T15:29:07.203Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:07.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f8313ea833a685087da6415a8ff1d2da1f7469a-1f16b12cdde6c626-01 outer:exit 2b-5f8313ea833a685087da6415a8ff1d2da1f7469a-805e18c7ef9b708e-01
2022-04-20T15:29:07.205Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:07.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-60eb3ab29c9206b2f33400998d14c7b63ea09ae1-72aba7f9ffca3809-01 outer:exit 2b-60eb3ab29c9206b2f33400998d14c7b63ea09ae1-12e8538613b1a9b7-01
2022-04-20T15:29:07.207Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:07.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e4d083ac0aaf8136512b311299ae4a99874bb9d-b4a361be53b4e9c9-01 outer:exit 2b-0e4d083ac0aaf8136512b311299ae4a99874bb9d-0082f364ef900f5d-01
2022-04-20T15:29:07.210Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:07.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb73f7d84ddb0122ead894ab3412fcde87a6c56e-33c0442ec612f1e7-01 outer:exit 2b-eb73f7d84ddb0122ead894ab3412fcde87a6c56e-16796e34dcec8e74-01
2022-04-20T15:29:07.235Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (275ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:12.626Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:12.627Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:12.627Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:12.627Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:12.684Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:12.815Z appoptics:patching patched crypto 
2022-04-20T15:29:12.832Z appoptics:patching patched https 
2022-04-20T15:29:12.832Z appoptics:patching patched http 
2022-04-20T15:29:12.880Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:12.880Z appoptics:patching patched fs 
2022-04-20T15:29:12.907Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v16.14.2)
2022-04-20T15:29:12.913Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2022-04-20T15:29:12.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-b21fa8883aabd8e01bbc399e320332f03ca50df2-b910d5f7a0be0c1d-01 outer:exit 2b-b21fa8883aabd8e01bbc399e320332f03ca50df2-4970d76849a63581-01
2022-04-20T15:29:12.961Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:13.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-70e8ec54eca8a6ad05a35849df81e4cfb1e1418f-15ef7fbee243e352-01 outer:exit 2b-70e8ec54eca8a6ad05a35849df81e4cfb1e1418f-3ffb92902ab8b02c-01
2022-04-20T15:29:13.001Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:13.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c77535d65738291188f62dab8022b4c5e6804a2-a0cd85961527e0e5-01 outer:exit 2b-0c77535d65738291188f62dab8022b4c5e6804a2-0547d24d96356f75-01
2022-04-20T15:29:13.005Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:13.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-eee327327253dca6122d8aa1269e7682d5c45afc-3f1491629d038c15-01 outer:exit 2b-eee327327253dca6122d8aa1269e7682d5c45afc-0c5dd20321cebf3d-01
2022-04-20T15:29:13.008Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:13.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-af9060616da1c772b2ff3736b9ac6cde8eaa4611-0a68e580e10de3aa-01 outer:exit 2b-af9060616da1c772b2ff3736b9ac6cde8eaa4611-a1de6e55a7155542-01
2022-04-20T15:29:13.014Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:13.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-e637d63e5b2f7c2af87edbf193cb32b79a0b9ae9-e566659330cfe411-01 outer:exit 2b-e637d63e5b2f7c2af87edbf193cb32b79a0b9ae9-ebedc4b4702af06a-01
2022-04-20T15:29:13.017Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:13.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbba77a5cb8a5ed657fb896a433b854d16889982-3460b0f590441519-01 outer:exit 2b-dbba77a5cb8a5ed657fb896a433b854d16889982-248eef3409c85cc7-01
2022-04-20T15:29:13.020Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:13.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fa07c18c6f93e75f7e36143256237aeca6d263b-d6e13f593c66797a-01 outer:exit 2b-8fa07c18c6f93e75f7e36143256237aeca6d263b-d929189c0ee5a5a3-01
2022-04-20T15:29:13.024Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:13.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-73e5874756b7e5e0a0170c69ba674d1cbe222835-0252399462a3f751-01 outer:exit 2b-73e5874756b7e5e0a0170c69ba674d1cbe222835-ea58bb02564fe5c1-01
2022-04-20T15:29:13.027Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:13.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-ead10df93f935c19399ce4718ce537651d933101-d0e144758c196b3c-01 outer:exit 2b-ead10df93f935c19399ce4718ce537651d933101-43f3778d70b0fc51-01
2022-04-20T15:29:13.031Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:13.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-f005659546f12c1c94e1b406d92e771f18ca98ff-5ec14af23443820b-01 outer:exit 2b-f005659546f12c1c94e1b406d92e771f18ca98ff-d12a6af10ca628f9-01
2022-04-20T15:29:13.035Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:13.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-279516dedbaf50d9fd8c97f64b0f9fc73ca581ce-ff65b1bfa9b2e214-01 outer:exit 2b-279516dedbaf50d9fd8c97f64b0f9fc73ca581ce-8b52e53b3e1c082f-01
2022-04-20T15:29:13.040Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:13.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-80dafff0f9fbbdb0c4c8c279435e2e5580952adc-bc4c5bcb2bcba7bc-01 outer:exit 2b-80dafff0f9fbbdb0c4c8c279435e2e5580952adc-9aa3101f36b1b73c-01
2022-04-20T15:29:13.056Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:13.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-4af796ca79c9c3cae74af4fe23d01fa3ee40ff7a-cbb91fe50bf53319-01 outer:exit 2b-4af796ca79c9c3cae74af4fe23d01fa3ee40ff7a-484ce693d0f6d64b-01
2022-04-20T15:29:13.090Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:13.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1315f02206df43419c8c5af27ea7341a4ac917c-1bbd61eb09e38ba3-01 outer:exit 2b-e1315f02206df43419c8c5af27ea7341a4ac917c-8fd33874b1b753d4-01
2022-04-20T15:29:13.093Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:13.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3598fa0826e4bd2eac6cd425ca1f3d0b664d7b1-537ffba8dbaa7cfb-01 outer:exit 2b-d3598fa0826e4bd2eac6cd425ca1f3d0b664d7b1-562300ba31b9faf1-01
2022-04-20T15:29:13.095Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:13.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbba1d29a1e3bb0087d38187ebc034dc22ab4129-694883c5a79c1ad4-01 outer:exit 2b-fbba1d29a1e3bb0087d38187ebc034dc22ab4129-6b08c9d96a45759b-01
2022-04-20T15:29:13.098Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:13.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-40ac16b79ed7cb7529066253f0405a3735cb1d14-d666aff804a841b0-01 outer:exit 2b-40ac16b79ed7cb7529066253f0405a3735cb1d14-6bb925c969794946-01
2022-04-20T15:29:13.100Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:13.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b46c9f5386c15288f2c686c10d9a59f04512b21-ab03c38a17b7593d-01 outer:exit 2b-5b46c9f5386c15288f2c686c10d9a59f04512b21-ad926dfc61abec46-01
2022-04-20T15:29:13.102Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:13.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-0009c5e36f1a3c3a13c3b1400a3583b6f678025e-f181c526491c3c5f-01 outer:exit 2b-0009c5e36f1a3c3a13c3b1400a3583b6f678025e-96989027e7643119-01
2022-04-20T15:29:13.103Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:13.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fd717d200a54d007e16475e54475b252521b2ec-1cc2d233deed462e-01 outer:exit 2b-9fd717d200a54d007e16475e54475b252521b2ec-3372edcbc8ecccd2-01
2022-04-20T15:29:13.106Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:13.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b72484a9027160628a28bed250cff73c5d22f34-959ffa9624726eaa-01 outer:exit 2b-1b72484a9027160628a28bed250cff73c5d22f34-677286bb47e4c794-01
2022-04-20T15:29:13.110Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:13.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-d688ad25252a1c11095bc05a0f427084d590a6c7-70b2e9223526f513-01 outer:exit 2b-d688ad25252a1c11095bc05a0f427084d590a6c7-2c6b37faa5977910-01
2022-04-20T15:29:13.114Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:13.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dab15393db30bf46c2a45fe55749e43c096a368-42fa3bccccf574cc-01 outer:exit 2b-9dab15393db30bf46c2a45fe55749e43c096a368-24560f8bea832086-01
2022-04-20T15:29:13.118Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:13.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ac070efe8f0e606a4046923b4780b1b7fd82c91-629af5bcaecee705-01 outer:exit 2b-4ac070efe8f0e606a4046923b4780b1b7fd82c91-5c19568ba0a81a6d-01
2022-04-20T15:29:13.120Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:13.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-f056db42281836c0c96f4345eb51aafbacc64bf6-d2f89611e20403fb-01 outer:exit 2b-f056db42281836c0c96f4345eb51aafbacc64bf6-036ae1d9c0f6ebf0-01
2022-04-20T15:29:13.123Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:13.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-87151511ca836d59cb2b10d357757d65efd6fed1-76171f39407c2e67-01 outer:exit 2b-87151511ca836d59cb2b10d357757d65efd6fed1-1060b8fa646edd85-01
2022-04-20T15:29:13.130Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:13.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-36f53a8e902205352a46aecb4fb377f74029d104-d4adf64d3e140497-01 outer:exit 2b-36f53a8e902205352a46aecb4fb377f74029d104-f16e3a2e98a795ca-01
2022-04-20T15:29:13.137Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:13.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f13aec9470921a17607192448f6bdbbfcc86ac6-1a4b50c90e5ce4d9-01 outer:exit 2b-2f13aec9470921a17607192448f6bdbbfcc86ac6-cf64918efc4edfe9-01
2022-04-20T15:29:13.148Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:13.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-7026a48e0c687e18604fe1c238fe74890c4a99dc-5275c03061947bf2-01 outer:exit 2b-7026a48e0c687e18604fe1c238fe74890c4a99dc-f82b561798a3a527-01
2022-04-20T15:29:13.153Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:13.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e3367c58a0a734d53d3281998d8292f6f953f71-8bbe4fdf9ac8638d-01 outer:exit 2b-7e3367c58a0a734d53d3281998d8292f6f953f71-c0a1cd9622e2876b-01
2022-04-20T15:29:13.156Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:13.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-f89ff1356f123da6dfe7125630ee71467b788137-4499721b62263a9d-01 outer:exit 2b-f89ff1356f123da6dfe7125630ee71467b788137-7865c77da8fc319a-01
2022-04-20T15:29:13.159Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:13.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7f732a8fca8bac61d6e913fff99cc1125033718-eb5faa22c9f6bd64-01 outer:exit 2b-f7f732a8fca8bac61d6e913fff99cc1125033718-7b069d616a4e53a7-01
2022-04-20T15:29:13.165Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:13.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd7e05ee5841c29e35087952091ba86a306536c1-2a1c53b4235e042e-01 outer:exit 2b-dd7e05ee5841c29e35087952091ba86a306536c1-651f853f69c4137e-01
2022-04-20T15:29:13.167Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:13.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-487fad62650fe72b63fb230d4057d11e47297d24-41ba163117c640c8-01 outer:exit 2b-487fad62650fe72b63fb230d4057d11e47297d24-d52f42798794cd1b-01
2022-04-20T15:29:13.168Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:13.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-20dcab2f914e6ec987db052d01fb0ade8207e851-7cafd1d8410ddb9f-01 outer:exit 2b-20dcab2f914e6ec987db052d01fb0ade8207e851-fa1a2e29fd843861-01
2022-04-20T15:29:13.170Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:13.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-e78ec077347898fa36f3804cec1c0208dd010b6a-5827dae28810c858-01 outer:exit 2b-e78ec077347898fa36f3804cec1c0208dd010b6a-5a52cc9c50f75e32-01
2022-04-20T15:29:13.171Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:13.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6e5513aafe21629c6c2d27e7c1b2af40a75dd57-54ac9823817f690a-01 outer:exit 2b-c6e5513aafe21629c6c2d27e7c1b2af40a75dd57-84605b558d2d3a11-01
2022-04-20T15:29:13.173Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:13.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c49cbd4bede94d5ca020109f5e5bdb55a420840-b4639a96ce633f35-01 outer:exit 2b-5c49cbd4bede94d5ca020109f5e5bdb55a420840-ff7e040dc61a75ef-01
2022-04-20T15:29:13.182Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:13.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-01d85445d98b252e7edb270b94923bd3e03098e2-7af965c683c4c27d-01 outer:exit 2b-01d85445d98b252e7edb270b94923bd3e03098e2-a8b8bcaf3a65df06-01
2022-04-20T15:29:13.190Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:13.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-18be02715086ae60de82cfdca588c6279268a838-268128238c17d655-01 outer:exit 2b-18be02715086ae60de82cfdca588c6279268a838-2a72d4ece00b6d5f-01
2022-04-20T15:29:13.192Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:13.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-84d2d6fef752e6f1343eaee74f2d210da470df15-8a8c719e6ffca45a-01 outer:exit 2b-84d2d6fef752e6f1343eaee74f2d210da470df15-2cc345724b8e92d3-01
2022-04-20T15:29:13.195Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:13.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c64e9fd78f421e2ac03ddcee4b541b0c782b540-2d5c75d51a035a95-01 outer:exit 2b-1c64e9fd78f421e2ac03ddcee4b541b0c782b540-d4e707886d1b10c8-01
2022-04-20T15:29:13.197Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:13.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-e885a26f8a8ab1167de61d0c76a4d61825ef0e19-17f5492ab537ace3-01 outer:exit 2b-e885a26f8a8ab1167de61d0c76a4d61825ef0e19-ef473f5cac3d6af9-01
2022-04-20T15:29:13.224Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (306ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:18.312Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:18.313Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:18.313Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:18.314Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:18.371Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:18.479Z appoptics:patching patched crypto 
2022-04-20T15:29:18.495Z appoptics:patching patched https 
2022-04-20T15:29:18.495Z appoptics:patching patched http 
2022-04-20T15:29:18.532Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:18.532Z appoptics:patching patched fs 
2022-04-20T15:29:18.555Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v16.14.2)
2022-04-20T15:29:18.561Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2022-04-20T15:29:18.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-432dda35f913781fd03f1d25ad96c1579c527f9b-41d9072340c42815-01 outer:exit 2b-432dda35f913781fd03f1d25ad96c1579c527f9b-f68767a2da4bc5b3-01
2022-04-20T15:29:18.603Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:18.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-09687a6ff4b04277c7012a955c2d138bbab6265b-d0471d78d1cd6258-01 outer:exit 2b-09687a6ff4b04277c7012a955c2d138bbab6265b-950f471202d36eb3-01
2022-04-20T15:29:18.641Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:18.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-f81a808ae71326f6c4dbe312540451603624b561-9ed373929b8194dc-01 outer:exit 2b-f81a808ae71326f6c4dbe312540451603624b561-5451ac207feedab3-01
2022-04-20T15:29:18.645Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:18.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb6851ae1635f6363422f3a77527ee118eb074c6-b0b58676168babf0-01 outer:exit 2b-eb6851ae1635f6363422f3a77527ee118eb074c6-cacb0fb3238ad591-01
2022-04-20T15:29:18.648Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:18.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-5959fc045ef25c43a3d9dcd2c388ba40bdb7806f-16bdcd72a0da3a1c-01 outer:exit 2b-5959fc045ef25c43a3d9dcd2c388ba40bdb7806f-cfea81ced39c05db-01
2022-04-20T15:29:18.652Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:18.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-485d971c5c987d1ce3336648b8b52231a0273ea2-7c2f27e7939ba9a4-01 outer:exit 2b-485d971c5c987d1ce3336648b8b52231a0273ea2-0d15044d6150ec56-01
2022-04-20T15:29:18.655Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:18.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-8521edc6cf366196b72abf7d213bde0c2e3d69b2-e75a87581d4d5ef4-01 outer:exit 2b-8521edc6cf366196b72abf7d213bde0c2e3d69b2-60034d8180ab2160-01
2022-04-20T15:29:18.658Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:18.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-67f996adef9818ec205441403c7655fdca139dcf-7cd1403f99dfd8d8-01 outer:exit 2b-67f996adef9818ec205441403c7655fdca139dcf-cfc29eecb3ac6a29-01
2022-04-20T15:29:18.662Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:18.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee570af9016c7dc6a1e28c021feb62ac84af3561-a11461e07991cad5-01 outer:exit 2b-ee570af9016c7dc6a1e28c021feb62ac84af3561-bbf67b3e69ef077c-01
2022-04-20T15:29:18.665Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:18.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ea75753776efe5eafb8500dc94a19228253e463-c097664b8ca7ac29-01 outer:exit 2b-3ea75753776efe5eafb8500dc94a19228253e463-633a6c111f491994-01
2022-04-20T15:29:18.670Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:18.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-795eb9cc4a58d79bf638c3b6edbacdc9ac01d609-98c5a369913852c0-01 outer:exit 2b-795eb9cc4a58d79bf638c3b6edbacdc9ac01d609-7c55f68c04d1b63f-01
2022-04-20T15:29:18.673Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:18.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-0863c4d7133f5d3a30a7701ddf5b81119e2bba80-8aa2c15df880fa88-01 outer:exit 2b-0863c4d7133f5d3a30a7701ddf5b81119e2bba80-157afa058f894434-01
2022-04-20T15:29:18.679Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:18.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f62a0aec3d37f760f9f866b6a2774348f257116-da6a212d6ca833e4-01 outer:exit 2b-9f62a0aec3d37f760f9f866b6a2774348f257116-2d53df41be179249-01
2022-04-20T15:29:18.693Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:18.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-147f35e3d276faa56f89cf22aa75b48c4dfb4092-47d5b41e7f6ca67e-01 outer:exit 2b-147f35e3d276faa56f89cf22aa75b48c4dfb4092-2e29fea79aaa0e02-01
2022-04-20T15:29:18.727Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:18.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f8d4f64265e9af6e564f5f25621efac0b399de4-32914681e6710f6d-01 outer:exit 2b-5f8d4f64265e9af6e564f5f25621efac0b399de4-361c17fe6c370202-01
2022-04-20T15:29:18.729Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:18.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e0a34956428f9bd744487b3e0aad2a516db5718-5ba2ea003e22c823-01 outer:exit 2b-8e0a34956428f9bd744487b3e0aad2a516db5718-5ac2fc9defc07517-01
2022-04-20T15:29:18.731Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:18.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-491098704f8bc7bdeeabe5e50b329168768adaf4-60dcf5b88c5124af-01 outer:exit 2b-491098704f8bc7bdeeabe5e50b329168768adaf4-eb302fe17be9a7ed-01
2022-04-20T15:29:18.734Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:18.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e8ac23c76e1c01e4e3409b0ec8526b8568d1e57-5cebb62d81d4c845-01 outer:exit 2b-1e8ac23c76e1c01e4e3409b0ec8526b8568d1e57-5da9b6deb23bed0f-01
2022-04-20T15:29:18.736Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:18.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7b0f604c490f329614e13f4e77033d3721cad70-45c7571ad3ce7b1d-01 outer:exit 2b-e7b0f604c490f329614e13f4e77033d3721cad70-1d3ab0a62aee26d1-01
2022-04-20T15:29:18.738Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:18.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-b95eb0aaafa36e921c305eedd8436524044f7fec-dc4fe95700541e1c-01 outer:exit 2b-b95eb0aaafa36e921c305eedd8436524044f7fec-1ce36c170a252e11-01
2022-04-20T15:29:18.739Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:18.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-963b5afe40435f82decf6c6469b73c519acd8c8b-f5df8c4f2e9d204f-01 outer:exit 2b-963b5afe40435f82decf6c6469b73c519acd8c8b-fd4ea8618fa3822c-01
2022-04-20T15:29:18.741Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:18.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-73f05201ad38a093d3570e246287b0ff7b0fd28d-5992cd6237f11ec6-01 outer:exit 2b-73f05201ad38a093d3570e246287b0ff7b0fd28d-67ddce6329c6561f-01
2022-04-20T15:29:18.743Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:18.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-97129cf75743e31864cb24a700590845c0917bc0-b16ee81247bd23dc-01 outer:exit 2b-97129cf75743e31864cb24a700590845c0917bc0-a05c391cc5ca96f2-01
2022-04-20T15:29:18.745Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:18.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ce53689ad81229e93495e7f5c93d35f51cc072e-93f26a6b6fbad1c8-01 outer:exit 2b-9ce53689ad81229e93495e7f5c93d35f51cc072e-77f6f4cffa79b046-01
2022-04-20T15:29:18.748Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:18.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e44c5c69bfc5719dde358edac6b2a719a58439c-9ef9af770e572590-01 outer:exit 2b-4e44c5c69bfc5719dde358edac6b2a719a58439c-c6858f5862df435b-01
2022-04-20T15:29:18.750Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:18.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-95d9536b3c50f0f100eba4a4ccaaad04ced30b33-d3eb8724082fd740-01 outer:exit 2b-95d9536b3c50f0f100eba4a4ccaaad04ced30b33-de214499bad49f02-01
2022-04-20T15:29:18.752Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:18.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-209ac40fba849e76f54d6c641d3b02898caf14b0-db3aed8e7195c590-01 outer:exit 2b-209ac40fba849e76f54d6c641d3b02898caf14b0-65ebd81c3cd87227-01
2022-04-20T15:29:18.757Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:18.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c8ee73aab8b729d626043d41acb9763db1d6e25-4c16d8b66278fff2-01 outer:exit 2b-0c8ee73aab8b729d626043d41acb9763db1d6e25-7243e1fe397d0918-01
2022-04-20T15:29:18.762Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:18.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad2955a078d415423b695dd01cd792e22728d020-d2fdf4bf0e5499d4-01 outer:exit 2b-ad2955a078d415423b695dd01cd792e22728d020-69d15a97af94bab0-01
2022-04-20T15:29:18.770Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:18.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-9721ea79378bf11e7bda19c61f31b40816e2cf46-cf285442efc77997-01 outer:exit 2b-9721ea79378bf11e7bda19c61f31b40816e2cf46-c60571c1616edf53-01
2022-04-20T15:29:18.776Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:18.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-48c81c6fd18bc0489e95d998543a7456a6fc7aab-c91920f337a04324-01 outer:exit 2b-48c81c6fd18bc0489e95d998543a7456a6fc7aab-1282c1f6c0e86456-01
2022-04-20T15:29:18.778Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:18.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-e50af865f8adc6311704e9d8f282efd772f18753-dd601a62ba915ca5-01 outer:exit 2b-e50af865f8adc6311704e9d8f282efd772f18753-05f05a2f948c3b75-01
2022-04-20T15:29:18.781Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:18.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c031203a8b5ad114bdb37f70e49419fc9d94e28-7352b371c4517959-01 outer:exit 2b-4c031203a8b5ad114bdb37f70e49419fc9d94e28-2c064da9d009e56a-01
2022-04-20T15:29:18.786Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:18.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-a73eddd559c26d30b3f9edc86644fbbed06a85b1-98d3850e782fd1c4-01 outer:exit 2b-a73eddd559c26d30b3f9edc86644fbbed06a85b1-f6906cdb278c3f44-01
2022-04-20T15:29:18.788Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:18.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-de0cb6e18b35636abea0a9457c5bcd8cfd9b4e59-34d31d4ab3b62c76-01 outer:exit 2b-de0cb6e18b35636abea0a9457c5bcd8cfd9b4e59-2abb6f425ccb77f6-01
2022-04-20T15:29:18.790Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:18.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb8b1cb173b693d53a63c5444e96d3ed08fd6bbb-29a75084dbda4936-01 outer:exit 2b-cb8b1cb173b693d53a63c5444e96d3ed08fd6bbb-ff2a099f18fb55ed-01
2022-04-20T15:29:18.792Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:18.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-036465d77d2b4203c0ba824a3c236224cbf114b4-c2d5c4b06cfd91cf-01 outer:exit 2b-036465d77d2b4203c0ba824a3c236224cbf114b4-90572a26574a8c43-01
2022-04-20T15:29:18.793Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:18.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f99f295eb6a1d62ea06a4098c6150a077ea2e89-57ad5b62d308dd94-01 outer:exit 2b-1f99f295eb6a1d62ea06a4098c6150a077ea2e89-8041d302fb507de5-01
2022-04-20T15:29:18.795Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:18.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3d846e2f491bb33bc1c60220a273a8cba701df9-88a6ff743ed5eb5a-01 outer:exit 2b-e3d846e2f491bb33bc1c60220a273a8cba701df9-1e115bb1ff33db16-01
2022-04-20T15:29:18.803Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:18.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-803063383718613b75f17b51a79eb6303b454bd8-b0b647d7c4edb554-01 outer:exit 2b-803063383718613b75f17b51a79eb6303b454bd8-d119a90073946f05-01
2022-04-20T15:29:18.810Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:18.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-158e83cce59bb8d4acd7d2f9b80953f172c18a81-f8904a850ae1c65a-01 outer:exit 2b-158e83cce59bb8d4acd7d2f9b80953f172c18a81-3b9f339127b9e005-01
2022-04-20T15:29:18.812Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:18.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f7c2a26dc66c6914f5d801f395c5495b045e980-cde89d86ff38cc2e-01 outer:exit 2b-8f7c2a26dc66c6914f5d801f395c5495b045e980-32bfe6a45e3a04cf-01
2022-04-20T15:29:18.814Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:18.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-49f2f66b0446a72c8ca81a097a1864ed63d82a2d-c217f39795660635-01 outer:exit 2b-49f2f66b0446a72c8ca81a097a1864ed63d82a2d-3c2749df9a6f9120-01
2022-04-20T15:29:18.817Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:18.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6e0bee26f0d2c3f56883b91a4d066d401c6b726-0e14a478185bdab6-01 outer:exit 2b-b6e0bee26f0d2c3f56883b91a4d066d401c6b726-fb9410994a27fefe-01
2022-04-20T15:29:18.843Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (276ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:24.406Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:24.407Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:24.407Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:24.407Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:24.465Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:24.579Z appoptics:patching patched crypto 
2022-04-20T15:29:24.596Z appoptics:patching patched https 
2022-04-20T15:29:24.597Z appoptics:patching patched http 
2022-04-20T15:29:24.635Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:24.636Z appoptics:patching patched fs 
2022-04-20T15:29:24.669Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v16.14.2)
2022-04-20T15:29:24.675Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2022-04-20T15:29:24.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f42a628e1acbf6c58c7a6dbfe67f20559c2200a-1db856f9bbd9c05c-01 outer:exit 2b-0f42a628e1acbf6c58c7a6dbfe67f20559c2200a-6f934d3d7a71abe8-01
2022-04-20T15:29:24.736Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:24.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-84535a0d93c77ec587c78b4f22cb43af2ccfcc04-bef3b92c3d9bf892-01 outer:exit 2b-84535a0d93c77ec587c78b4f22cb43af2ccfcc04-43bd4d82d777d69f-01
2022-04-20T15:29:24.776Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:24.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-efcdfbc9f0ccefb9efe37ca851aba6817859042e-1274f5d12411c8d1-01 outer:exit 2b-efcdfbc9f0ccefb9efe37ca851aba6817859042e-65c8743943532b25-01
2022-04-20T15:29:24.780Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:24.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb29de5a9c82900c69847fcaaedc7cb1ea4fac67-15aa85ba3067f343-01 outer:exit 2b-fb29de5a9c82900c69847fcaaedc7cb1ea4fac67-c88745d45774e44a-01
2022-04-20T15:29:24.783Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:24.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-38885c5d6a8393cd6e8deee5ca3128c44e585321-c797fd056d13b499-01 outer:exit 2b-38885c5d6a8393cd6e8deee5ca3128c44e585321-cb105d6b7e801743-01
2022-04-20T15:29:24.788Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:24.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7ab766ee8f287a8e83485f0a9599cc008c32d1b-7e92b8a1e10931df-01 outer:exit 2b-e7ab766ee8f287a8e83485f0a9599cc008c32d1b-4cf41ddce3d9c7ec-01
2022-04-20T15:29:24.792Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:24.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-c92d888336b2c3096be49307981bdcfabd6a8938-938d96a5e4e567ba-01 outer:exit 2b-c92d888336b2c3096be49307981bdcfabd6a8938-e7f52b34baf649ef-01
2022-04-20T15:29:24.794Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:24.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae047a8b0ab38c5c0d672132775db63a549731d0-021bd6e13724cbf9-01 outer:exit 2b-ae047a8b0ab38c5c0d672132775db63a549731d0-fa969fd44099f37d-01
2022-04-20T15:29:24.797Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:24.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-7664e6c5a3511840d20a571c4362d214d7e915ca-0990482f8ced9e71-01 outer:exit 2b-7664e6c5a3511840d20a571c4362d214d7e915ca-883054557de75739-01
2022-04-20T15:29:24.799Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:24.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-15e54bafd06bd1c714cb847ce7abf6b6c14b026d-daf66c0c33f341bf-01 outer:exit 2b-15e54bafd06bd1c714cb847ce7abf6b6c14b026d-ff13e3acb82faa9c-01
2022-04-20T15:29:24.803Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:24.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1e772872c04c036f44fc21a6ac8cdf190516364-cc46e60b66489018-01 outer:exit 2b-c1e772872c04c036f44fc21a6ac8cdf190516364-6f7ab4bdae4bc5d9-01
2022-04-20T15:29:24.807Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:24.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bb4030a7393e3e36ebf00ec1d3549e9a59caf7a-4539cbfee254df29-01 outer:exit 2b-1bb4030a7393e3e36ebf00ec1d3549e9a59caf7a-63f0e8ce1436a822-01
2022-04-20T15:29:24.814Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:24.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-3814f23353fc18e271c7179a6a02ed7991bcfb66-af0365064076785a-01 outer:exit 2b-3814f23353fc18e271c7179a6a02ed7991bcfb66-71303290df15b22e-01
2022-04-20T15:29:24.828Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:24.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f38f2b31a56be5959e25db880bd8aac3e017596-b8e8a381c736d09a-01 outer:exit 2b-8f38f2b31a56be5959e25db880bd8aac3e017596-ae186c4c5275adf8-01
2022-04-20T15:29:24.862Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:24.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-a34efea06006d9fb81a5dcacc417078b89ac538f-088dd4bc1d0fc4dd-01 outer:exit 2b-a34efea06006d9fb81a5dcacc417078b89ac538f-0f926c35ca755ae6-01
2022-04-20T15:29:24.865Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:24.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-29b0387190130f44aafb75b7f4f665bff1471d9d-70ef62920a7785ad-01 outer:exit 2b-29b0387190130f44aafb75b7f4f665bff1471d9d-e767d56f6b4a37c5-01
2022-04-20T15:29:24.867Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:24.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fd552198bdb8ec94665528d536d7a0fbe31ff17-0a686717123fd0bc-01 outer:exit 2b-7fd552198bdb8ec94665528d536d7a0fbe31ff17-599e47a83cc872a1-01
2022-04-20T15:29:24.869Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:24.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-167f8cd8e732757fd43a6e2a0fb391af3206dbe3-bcc73160cde881d2-01 outer:exit 2b-167f8cd8e732757fd43a6e2a0fb391af3206dbe3-e6402536d3dd0a68-01
2022-04-20T15:29:24.872Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:24.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-f22dea2a4285bd0c85de1998a5a3e6ef39331a69-b3517702ed6e7de4-01 outer:exit 2b-f22dea2a4285bd0c85de1998a5a3e6ef39331a69-e63371c8b19ab2d7-01
2022-04-20T15:29:24.874Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:24.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-27f7b1d875515d70d3e6d07b0143462260a94f27-e3aecf9bc794a6bd-01 outer:exit 2b-27f7b1d875515d70d3e6d07b0143462260a94f27-31c404fa3c8ae66b-01
2022-04-20T15:29:24.876Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:24.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-1338d7db42a7a42cebf4c49d0189c27d40287412-eb9d97089ece2233-01 outer:exit 2b-1338d7db42a7a42cebf4c49d0189c27d40287412-4c7cc00617245311-01
2022-04-20T15:29:24.878Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:24.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bf5de7c9748abefdce89951a8ced4e6e68344ec-f3b21129f95e110b-01 outer:exit 2b-8bf5de7c9748abefdce89951a8ced4e6e68344ec-43900e474f02d1ea-01
2022-04-20T15:29:24.879Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:24.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2211781178de134425b6c8a963fc4a36e4009c0-c66a2d0bb6b7c260-01 outer:exit 2b-b2211781178de134425b6c8a963fc4a36e4009c0-b73e50a6a43c9491-01
2022-04-20T15:29:24.882Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:24.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-f69e6e944cedaf6ab2a647031e5f745774bdab31-15645810f4ad250e-01 outer:exit 2b-f69e6e944cedaf6ab2a647031e5f745774bdab31-7c106c2d6507e811-01
2022-04-20T15:29:24.884Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:24.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b2c5a6a46d3de6ce937704088eb99a9df9c7932-345b7ef0dd778d17-01 outer:exit 2b-7b2c5a6a46d3de6ce937704088eb99a9df9c7932-3ceb9db45b03716f-01
2022-04-20T15:29:24.886Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:24.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-322ee9eca433eac4222b17354146066d6850cc4e-644729c360e800f9-01 outer:exit 2b-322ee9eca433eac4222b17354146066d6850cc4e-257ac93a8396a56d-01
2022-04-20T15:29:24.888Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:24.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-e54a57802d9e97b2d47164df0b48181a3e838664-7ff33f36f4194250-01 outer:exit 2b-e54a57802d9e97b2d47164df0b48181a3e838664-9ef173063c13f683-01
2022-04-20T15:29:24.894Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:24.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-d35baeeb57ac658431a1fe24c7e1168064c11d6d-ba277c495dc87d2f-01 outer:exit 2b-d35baeeb57ac658431a1fe24c7e1168064c11d6d-1984bf52f90cd969-01
2022-04-20T15:29:24.899Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:24.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-781731ea23c32387eedd1ed529efea44f3ce7db9-70c7d9539cf0d2e5-01 outer:exit 2b-781731ea23c32387eedd1ed529efea44f3ce7db9-580cda8dd098bc71-01
2022-04-20T15:29:24.906Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:24.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7293dde5d4fc71e9686f319e5087505ec8a8069-756f8c9dbdefb547-01 outer:exit 2b-c7293dde5d4fc71e9686f319e5087505ec8a8069-1fe46c14ec4b9c6e-01
2022-04-20T15:29:24.912Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:24.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-e739417422f7c9418e188368defd681607ed3ed8-4ff02da89ff0b722-01 outer:exit 2b-e739417422f7c9418e188368defd681607ed3ed8-ca8167f477960968-01
2022-04-20T15:29:24.914Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:24.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-30931abdaa04339bd6e5e4357978c87ee94140ed-947ec2e16c6d142b-01 outer:exit 2b-30931abdaa04339bd6e5e4357978c87ee94140ed-129e3afd0c4d9362-01
2022-04-20T15:29:24.917Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:24.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba897ede62efe592c162b1e3b5d763516a470f0e-646057838b82f332-01 outer:exit 2b-ba897ede62efe592c162b1e3b5d763516a470f0e-abf79e2d49a06b0d-01
2022-04-20T15:29:24.922Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:24.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbf4886db9e66beacee08862f1a22f31637b83cd-0c6d0f1461215e83-01 outer:exit 2b-fbf4886db9e66beacee08862f1a22f31637b83cd-7c0469ed973ada05-01
2022-04-20T15:29:24.924Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:24.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-9165a80a4a9a8fa01e4aa05d9c18d51db89416f4-87302e8dc9ddac45-01 outer:exit 2b-9165a80a4a9a8fa01e4aa05d9c18d51db89416f4-ad334350cc68dae3-01
2022-04-20T15:29:24.926Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:24.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-2384c9eb43a026a3a2e5e6e9ac1b088cf7850564-4f3e676ffd1e4764-01 outer:exit 2b-2384c9eb43a026a3a2e5e6e9ac1b088cf7850564-e5cca2e182048ffc-01
2022-04-20T15:29:24.927Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:24.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dc206bdf139e8718e3df41b8d13ec13ab73fa20-41b175bf7ac88584-01 outer:exit 2b-8dc206bdf139e8718e3df41b8d13ec13ab73fa20-773c31a423bf6c69-01
2022-04-20T15:29:24.929Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:24.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d4817a2ef424b38450ddb6766f0cc18d00f0d37-114862f60d63ec9d-01 outer:exit 2b-3d4817a2ef424b38450ddb6766f0cc18d00f0d37-d1cf97cd333eba46-01
2022-04-20T15:29:24.931Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:24.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-d34a11d50e1cffb1dd4c4a33655d609017d7fdf3-ea2a42fdf53bb13b-01 outer:exit 2b-d34a11d50e1cffb1dd4c4a33655d609017d7fdf3-b1bac4cc027b746b-01
2022-04-20T15:29:24.939Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:24.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f6b11a3f8ee5851ca4ccfb864aa53a67255c1bf-50b8c2fe70fc1475-01 outer:exit 2b-5f6b11a3f8ee5851ca4ccfb864aa53a67255c1bf-afe19c8891e15f5c-01
2022-04-20T15:29:24.947Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:24.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7b336db182444a13d8bfec84cb1440e6a5907b3-2849420dfb370fa6-01 outer:exit 2b-a7b336db182444a13d8bfec84cb1440e6a5907b3-8c564eed25554b77-01
2022-04-20T15:29:24.949Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:24.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c7c35fae040fc1a657e76e30553241fba505563-96147d580f41e7d3-01 outer:exit 2b-0c7c35fae040fc1a657e76e30553241fba505563-1fa985253d447da2-01
2022-04-20T15:29:24.951Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:24.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-604217f5f1c0a17af69592b5fc38d49bd4f16fef-91141dfab95ede60-01 outer:exit 2b-604217f5f1c0a17af69592b5fc38d49bd4f16fef-1f813b4d97c79c6c-01
2022-04-20T15:29:24.953Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:24.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-a08e1604bbff10e0cb71b23c97a2bc9fcc794bcb-c15b5faae6743f36-01 outer:exit 2b-a08e1604bbff10e0cb71b23c97a2bc9fcc794bcb-923ea3d6d16c6c82-01
2022-04-20T15:29:24.979Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (299ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:29.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:29.883Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:29.883Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:29.883Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:29.941Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:30.050Z appoptics:patching patched crypto 
2022-04-20T15:29:30.082Z appoptics:patching patched https 
2022-04-20T15:29:30.082Z appoptics:patching patched http 
2022-04-20T15:29:30.124Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:30.125Z appoptics:patching patched fs 
2022-04-20T15:29:30.147Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v16.14.2)
2022-04-20T15:29:30.153Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2022-04-20T15:29:30.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-369598a7078e1906b3f244d284b1cd8c7d7bfd90-e0d1dc2023411dfa-01 outer:exit 2b-369598a7078e1906b3f244d284b1cd8c7d7bfd90-731f75593b97a1d5-01
2022-04-20T15:29:30.198Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:30.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-83551be8ed58576f18f4cc816a6abcc0b8a02216-48576f8dce7a97f9-01 outer:exit 2b-83551be8ed58576f18f4cc816a6abcc0b8a02216-17d98f496adf9b75-01
2022-04-20T15:29:30.236Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:30.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac746ac426e56a7fd38e5905d5a809953359f8ae-a39ce45644867162-01 outer:exit 2b-ac746ac426e56a7fd38e5905d5a809953359f8ae-4d707f155f648853-01
2022-04-20T15:29:30.240Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:30.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-01b8f95a65fd0a939a50405f548fb2af8edd9d72-6aa338ba0104004e-01 outer:exit 2b-01b8f95a65fd0a939a50405f548fb2af8edd9d72-ad108c6e506f1134-01
2022-04-20T15:29:30.243Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:30.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5d3f50aa30456bdd17717719fe992587625edfd-ff08ef05fac3744b-01 outer:exit 2b-a5d3f50aa30456bdd17717719fe992587625edfd-b6b7d911b225c48c-01
2022-04-20T15:29:30.247Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:30.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-a45dbc6f132dcddad44876b1600ff6ede9a8c1ed-ebc540b1d6ad2a72-01 outer:exit 2b-a45dbc6f132dcddad44876b1600ff6ede9a8c1ed-a410c3b4bb72e1bc-01
2022-04-20T15:29:30.251Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:30.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-017ca31c9a297d162c675245e452cd71a748c48a-f89c752aa5be4756-01 outer:exit 2b-017ca31c9a297d162c675245e452cd71a748c48a-2aabdeee9041cb06-01
2022-04-20T15:29:30.254Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:30.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb6af1dac55e002961ff0477a734564301e2640d-3d1f6172b5bc0094-01 outer:exit 2b-eb6af1dac55e002961ff0477a734564301e2640d-3eb4848bc4a84428-01
2022-04-20T15:29:30.256Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:30.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ead13ff422e54bfff112ada07a8cd0648ebbad2-f314ed8ee40894c3-01 outer:exit 2b-5ead13ff422e54bfff112ada07a8cd0648ebbad2-7273fe24ece93b03-01
2022-04-20T15:29:30.259Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:30.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-2012c7ec27d6fab66594100f96c951208fe369c9-d79bb9bd8560b7a3-01 outer:exit 2b-2012c7ec27d6fab66594100f96c951208fe369c9-4db5701137aefbe7-01
2022-04-20T15:29:30.262Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:30.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f501cec76a9ae72bab379ffcbd32b07b43a57a4-4cf62519eab7a093-01 outer:exit 2b-7f501cec76a9ae72bab379ffcbd32b07b43a57a4-e61fb5283616ac3c-01
2022-04-20T15:29:30.266Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:30.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-258f9b6242db492cebe717357f2b525e88927d0d-1cbe618199075572-01 outer:exit 2b-258f9b6242db492cebe717357f2b525e88927d0d-767bf6a941d07268-01
2022-04-20T15:29:30.271Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:30.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1d6588bcda70c888f276b122bc2b035ad7a17f8-b32d2796aab03d00-01 outer:exit 2b-f1d6588bcda70c888f276b122bc2b035ad7a17f8-5af1ee2415836d59-01
2022-04-20T15:29:30.285Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:30.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee10fbc8ba670ba5b0f292f337980df924558db8-2c85e0bb2f30f8e9-01 outer:exit 2b-ee10fbc8ba670ba5b0f292f337980df924558db8-a268d901898cb4b9-01
2022-04-20T15:29:30.320Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:30.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-675841dcabe49197b6a3aa47f80b2d375168ca9b-5f34013f8971f8cb-01 outer:exit 2b-675841dcabe49197b6a3aa47f80b2d375168ca9b-0e7ffae8e6eab229-01
2022-04-20T15:29:30.323Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:30.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e945badbe16c694806e57e97cfd7a0846d91c99-ccec5b9401261189-01 outer:exit 2b-3e945badbe16c694806e57e97cfd7a0846d91c99-e06d08fac0518a8f-01
2022-04-20T15:29:30.325Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:30.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b6c0f1cce29f10ebf23b56350a9d28efa215e4b-a018a81db53b0440-01 outer:exit 2b-2b6c0f1cce29f10ebf23b56350a9d28efa215e4b-7a5198506b4af324-01
2022-04-20T15:29:30.327Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:30.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-b987c592f17a87fd7ce66d3303d37d4e0cf8108a-da12fc76d9976bf4-01 outer:exit 2b-b987c592f17a87fd7ce66d3303d37d4e0cf8108a-17fa290be6e856e2-01
2022-04-20T15:29:30.330Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:30.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-e888597f89c33127e835877945a164650238cc53-f6bbbe1d517ec1c0-01 outer:exit 2b-e888597f89c33127e835877945a164650238cc53-c4f37c1f60d2d2a8-01
2022-04-20T15:29:30.331Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:30.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-307a275d908c1ca62eb715b8cb0f9cd02df5f6da-b38810d07d6edaaf-01 outer:exit 2b-307a275d908c1ca62eb715b8cb0f9cd02df5f6da-868dd92c45d45239-01
2022-04-20T15:29:30.333Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:30.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-a74d1b5c22ec597ec51243c96b4a998dd2184409-fcc5b42ad466209e-01 outer:exit 2b-a74d1b5c22ec597ec51243c96b4a998dd2184409-9b564ab6f1edf1b8-01
2022-04-20T15:29:30.335Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:30.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-37160fcbe08e175385a0016dd212e2221b6e6b5c-94d22c9230fb093d-01 outer:exit 2b-37160fcbe08e175385a0016dd212e2221b6e6b5c-d1c9f96bcb071d45-01
2022-04-20T15:29:30.337Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:30.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-58869123c04568cf02223936baea854ac6bc8718-5bfb5a17aeefea98-01 outer:exit 2b-58869123c04568cf02223936baea854ac6bc8718-873e886a409daf73-01
2022-04-20T15:29:30.339Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:30.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e25d754d03ea2f6eb6a5f390f7391507eb90df7-a2f4fe4b503d90a3-01 outer:exit 2b-6e25d754d03ea2f6eb6a5f390f7391507eb90df7-034bc84a1d2a1926-01
2022-04-20T15:29:30.341Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:30.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-2464207ef85849ee709ad2197521051beafacdd9-23c8dbd94b04f78a-01 outer:exit 2b-2464207ef85849ee709ad2197521051beafacdd9-04ab9ef6a5d2b07c-01
2022-04-20T15:29:30.343Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:30.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfc83f423470b8ce81b24070a44812bb7d0e86c5-e656f42471e40332-01 outer:exit 2b-cfc83f423470b8ce81b24070a44812bb7d0e86c5-3e4054388fc162ae-01
2022-04-20T15:29:30.345Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:30.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e517fc89014119eddcb4236c47c88366694f6c6-5a8e56ac59a5486a-01 outer:exit 2b-6e517fc89014119eddcb4236c47c88366694f6c6-1729aae8519055f8-01
2022-04-20T15:29:30.351Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:30.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc429a8dc76c006f1587a8a3e762086aa0c7e092-0af83dfe9cbaf1bc-01 outer:exit 2b-dc429a8dc76c006f1587a8a3e762086aa0c7e092-4822185edbed8a72-01
2022-04-20T15:29:30.355Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:30.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0aa8389c553d85e584a91178cfa6688947a5e01-a82642caa155425c-01 outer:exit 2b-a0aa8389c553d85e584a91178cfa6688947a5e01-9593f9d3a59b4b8e-01
2022-04-20T15:29:30.362Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:30.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-17d683409db80ff67c87d927f7cdd683cdee9afe-ffaf7944dcb36492-01 outer:exit 2b-17d683409db80ff67c87d927f7cdd683cdee9afe-5c598505411d5f0d-01
2022-04-20T15:29:30.368Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:30.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b0eddf90263d00a57891661338a84b985f22f86-6e2fb82dab6ed218-01 outer:exit 2b-4b0eddf90263d00a57891661338a84b985f22f86-bdb1beafe6e0c4ce-01
2022-04-20T15:29:30.370Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:30.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb391507f5b573b1837f7c98f919c832410f3f80-3176879829d5c5b2-01 outer:exit 2b-eb391507f5b573b1837f7c98f919c832410f3f80-212f5d15b4e4fa18-01
2022-04-20T15:29:30.372Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:30.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-65978be110501f2681833428195bec61c0548d40-3eab5cf1ac14dd60-01 outer:exit 2b-65978be110501f2681833428195bec61c0548d40-212109b419bf4953-01
2022-04-20T15:29:30.379Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:30.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bf820b120956650718683637fbb7fe4110a59e4-7404af8d8496457e-01 outer:exit 2b-1bf820b120956650718683637fbb7fe4110a59e4-fd6679652e69c7c1-01
2022-04-20T15:29:30.381Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:30.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-3023f2d24dc2c6055547dc52a007487d84691b43-36b9182c53903d02-01 outer:exit 2b-3023f2d24dc2c6055547dc52a007487d84691b43-e5b6ed9b7a63cd52-01
2022-04-20T15:29:30.382Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:30.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-32f8163c0ad0b8bfd2f5e35310daae2f00041502-a687301ee818f175-01 outer:exit 2b-32f8163c0ad0b8bfd2f5e35310daae2f00041502-677119a7be155f03-01
2022-04-20T15:29:30.384Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:30.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7aeb72358f54f8e3e8b01c22c2cb6b02b4b5584-959096c28be2708f-01 outer:exit 2b-d7aeb72358f54f8e3e8b01c22c2cb6b02b4b5584-2dc8623cace32e60-01
2022-04-20T15:29:30.386Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:30.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-55b2e505cbd392ba13b5faca5763a65594c133b8-fa619fe25d22167e-01 outer:exit 2b-55b2e505cbd392ba13b5faca5763a65594c133b8-1c6ddd36326e1cac-01
2022-04-20T15:29:30.387Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:30.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-aeaa65fa46a6ec9d7f6cfc5ed139e7956b3c7f0d-4c5caab104c7b559-01 outer:exit 2b-aeaa65fa46a6ec9d7f6cfc5ed139e7956b3c7f0d-c3a051b00adba46f-01
2022-04-20T15:29:30.395Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:30.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-4acc4869cffa7f862278643fb006dcb7f965ca9b-6e664029ba7b5c42-01 outer:exit 2b-4acc4869cffa7f862278643fb006dcb7f965ca9b-40e35dcdbf77c76d-01
2022-04-20T15:29:30.403Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:30.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2a3173c9142579b0c007b8d43321cfbf8dc12d8-d517ab9190aab63a-01 outer:exit 2b-f2a3173c9142579b0c007b8d43321cfbf8dc12d8-aaa220ebb67949bc-01
2022-04-20T15:29:30.405Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:30.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-032ad56ea24d820872744e4bf58cf7b06f6f9162-f4f2958cb8e65fe5-01 outer:exit 2b-032ad56ea24d820872744e4bf58cf7b06f6f9162-61d78003548d8c9a-01
2022-04-20T15:29:30.408Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:30.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-284075aeff3758aabc0e08674fd9645ba241e995-d039131b20af5330-01 outer:exit 2b-284075aeff3758aabc0e08674fd9645ba241e995-54dedf35bab2e3b4-01
2022-04-20T15:29:30.410Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:30.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d80e1fd55ac56f5b7c78194950191f4b3d75bed-29980d6137cfdc41-01 outer:exit 2b-4d80e1fd55ac56f5b7c78194950191f4b3d75bed-0d5e124f5c0879e8-01
2022-04-20T15:29:30.436Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (277ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:36.232Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:36.232Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:36.232Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:36.233Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:36.290Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:36.444Z appoptics:patching patched crypto 
2022-04-20T15:29:36.491Z appoptics:patching patched https 
2022-04-20T15:29:36.491Z appoptics:patching patched http 
2022-04-20T15:29:36.532Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:36.533Z appoptics:patching patched fs 
2022-04-20T15:29:36.555Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v16.14.2)
2022-04-20T15:29:36.561Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2022-04-20T15:29:36.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-d647f796ed578f31ae32cc16de2ca90bea4c4de3-96a5d21bd3e07607-01 outer:exit 2b-d647f796ed578f31ae32cc16de2ca90bea4c4de3-87e13b830896e345-01
2022-04-20T15:29:36.604Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:36.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-acbb0b10c89a1ca0c172ff6321e7aeea12131b49-203611f37fc5189c-01 outer:exit 2b-acbb0b10c89a1ca0c172ff6321e7aeea12131b49-0d66f622b318957a-01
2022-04-20T15:29:36.642Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:36.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ffffc1c41bd925434fdbf6a951edf0486366b0b-e024af5029fde226-01 outer:exit 2b-9ffffc1c41bd925434fdbf6a951edf0486366b0b-e22f5b85753c44a5-01
2022-04-20T15:29:36.645Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:36.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-04807234914ced36d8ace26c5d877ade950b4521-a60156ef41fbf7d4-01 outer:exit 2b-04807234914ced36d8ace26c5d877ade950b4521-504677f38626719f-01
2022-04-20T15:29:36.648Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:36.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-e230c9c944bcdfd139bf54c704cf17e4e84bcc4b-b7ac1809099aebb8-01 outer:exit 2b-e230c9c944bcdfd139bf54c704cf17e4e84bcc4b-b4e87b0df53458c6-01
2022-04-20T15:29:36.652Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:36.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-092ca2a96795726735f6708704cb9bbea25dab57-4e8da7e09b0bf5f6-01 outer:exit 2b-092ca2a96795726735f6708704cb9bbea25dab57-5a6a0ce4674ed8ab-01
2022-04-20T15:29:36.655Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:36.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-5df1ff3039ca4cf1a8362ebe23ada500337c9caa-5766a821443f26f2-01 outer:exit 2b-5df1ff3039ca4cf1a8362ebe23ada500337c9caa-a458a4a3827e9937-01
2022-04-20T15:29:36.658Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:36.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-67d2d2d97cea881bc8ed9fb91861376c06fa445b-75416ef33e1fc744-01 outer:exit 2b-67d2d2d97cea881bc8ed9fb91861376c06fa445b-318c9f3beddf62cb-01
2022-04-20T15:29:36.662Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:36.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc80d9f447fe4cace104f29d72cf5334c754c674-c151314bee4948f3-01 outer:exit 2b-cc80d9f447fe4cace104f29d72cf5334c754c674-d3f5b8f226df681a-01
2022-04-20T15:29:36.665Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:36.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d7005222a57878e28433c43f675b19da0e17aa3-24d1d709976eb583-01 outer:exit 2b-7d7005222a57878e28433c43f675b19da0e17aa3-6abf5ae9ec5b64e6-01
2022-04-20T15:29:36.668Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:36.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-faaa4cb85c47d13f5cb5374668018c0c9dadc1b5-777a2c46f18d030b-01 outer:exit 2b-faaa4cb85c47d13f5cb5374668018c0c9dadc1b5-43f440cf533f1ed5-01
2022-04-20T15:29:36.671Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:36.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ecbd72f3ed6ca8ae08f6bc6ba0bfe055650889c-419659a02838cddd-01 outer:exit 2b-9ecbd72f3ed6ca8ae08f6bc6ba0bfe055650889c-a9419e8726a95dc6-01
2022-04-20T15:29:36.677Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:36.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-46b4cde2f0c3e7ed5254721e47209bb3ceb194cf-022d328dc2d80df2-01 outer:exit 2b-46b4cde2f0c3e7ed5254721e47209bb3ceb194cf-4980b5812920dc1f-01
2022-04-20T15:29:36.690Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:36.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e88bf078613595efd826ab5419112be47895714-9ab48d8a46714c09-01 outer:exit 2b-4e88bf078613595efd826ab5419112be47895714-79c940fdc2076ee1-01
2022-04-20T15:29:36.724Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:36.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7aca81cf782d33019a36c068b1f3b593eb443ee-a620f1738dc37978-01 outer:exit 2b-e7aca81cf782d33019a36c068b1f3b593eb443ee-d7d4fe9aad06fdfc-01
2022-04-20T15:29:36.726Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:36.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-92b9d209e8cff9185ed66d138e147735dea452e5-5e2baa4a3b71be80-01 outer:exit 2b-92b9d209e8cff9185ed66d138e147735dea452e5-8c5ea48aec61b00c-01
2022-04-20T15:29:36.728Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:36.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9a72f7f37a848718e0d1c95f5fb51aa4175d7d2-fbe8b148a70d5802-01 outer:exit 2b-b9a72f7f37a848718e0d1c95f5fb51aa4175d7d2-0153762a6d2b2770-01
2022-04-20T15:29:36.731Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:36.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eb76d3ae5f4a6f72c76f6c077f4f831fc4ea07a-f517cd167812256b-01 outer:exit 2b-3eb76d3ae5f4a6f72c76f6c077f4f831fc4ea07a-2bb5f6237d7cab5a-01
2022-04-20T15:29:36.733Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:36.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5f777bf9141ddbb2a9d6a55f4838f58184e310f-ced7593cb058d990-01 outer:exit 2b-f5f777bf9141ddbb2a9d6a55f4838f58184e310f-bcea9ed3e7344474-01
2022-04-20T15:29:36.735Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:36.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-a02d4cde58e803ca4402ae5b96f0cf905a57fdd1-20c793c56bb84f2b-01 outer:exit 2b-a02d4cde58e803ca4402ae5b96f0cf905a57fdd1-3fe0d0ab4003a519-01
2022-04-20T15:29:36.737Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:36.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-92beebb6aa69a789fcf7329a09bfc23c13ca4405-76dbfefaaad88415-01 outer:exit 2b-92beebb6aa69a789fcf7329a09bfc23c13ca4405-5604b48d4b178acf-01
2022-04-20T15:29:36.738Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:36.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fcaa80d25f741f329bfac0f16b9503103b1ce93-dfd14256d892e48f-01 outer:exit 2b-4fcaa80d25f741f329bfac0f16b9503103b1ce93-3f3c446790384b25-01
2022-04-20T15:29:36.740Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:36.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-e25d0b3aa32d250e5515908d6ebd878163905985-895fbaa14f60a0a0-01 outer:exit 2b-e25d0b3aa32d250e5515908d6ebd878163905985-aecfe31d53887f52-01
2022-04-20T15:29:36.743Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:36.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-29f7b0f54eb8e433e41f5caf6f007df374265804-a9ebb1f528f38956-01 outer:exit 2b-29f7b0f54eb8e433e41f5caf6f007df374265804-9ddb39a398ae6521-01
2022-04-20T15:29:36.745Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:36.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7fce14f1ae1bc56c5610f3f31ab7e4ebf9d8c84-b9603be97aa7df45-01 outer:exit 2b-f7fce14f1ae1bc56c5610f3f31ab7e4ebf9d8c84-e43bc4a70f436c57-01
2022-04-20T15:29:36.747Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:36.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f5ce43c57aa80c6b2b9260272db0d1450c299d3-93dcb24d25ee7e70-01 outer:exit 2b-2f5ce43c57aa80c6b2b9260272db0d1450c299d3-14a98a0559734810-01
2022-04-20T15:29:36.749Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:36.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-81919399cef9891adf90a64605c40d47987b2338-15db59a144a99a09-01 outer:exit 2b-81919399cef9891adf90a64605c40d47987b2338-279533cf4f2f3838-01
2022-04-20T15:29:36.754Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:36.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca6300c15556e6046545c7f986d017b13085e69f-00bf4953cd2138a0-01 outer:exit 2b-ca6300c15556e6046545c7f986d017b13085e69f-3f3d3fc75c3a60d0-01
2022-04-20T15:29:36.759Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:36.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-d769a41728d75b089b35b6c34c646e074dcf56a1-e2c76805a2da0941-01 outer:exit 2b-d769a41728d75b089b35b6c34c646e074dcf56a1-6f35ddb6195afcbd-01
2022-04-20T15:29:36.766Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:36.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-06e8e75d02ce96d1055455ad370db7fe966c7bcb-57f7bf2a227bcc85-01 outer:exit 2b-06e8e75d02ce96d1055455ad370db7fe966c7bcb-701aa4ffdf04a53a-01
2022-04-20T15:29:36.772Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:36.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f2199c7807336eddb31c8acd28abf6da5787f50-be7a7e722caff804-01 outer:exit 2b-6f2199c7807336eddb31c8acd28abf6da5787f50-773d2327d740c6a4-01
2022-04-20T15:29:36.774Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:36.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-992ee8198f7c40d5e4068b72d9f8792f313f447b-0ca2475f62739a9d-01 outer:exit 2b-992ee8198f7c40d5e4068b72d9f8792f313f447b-6e5f541089873d6b-01
2022-04-20T15:29:36.777Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:36.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-e12a0df8d0b368201714ba72a681b10a631fdeff-144d598aa2b4fa96-01 outer:exit 2b-e12a0df8d0b368201714ba72a681b10a631fdeff-d11103ed62492105-01
2022-04-20T15:29:36.783Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:36.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e6036e1b7bf071100603517ddc49ee3b24db502-f5a2bdaf4640459c-01 outer:exit 2b-8e6036e1b7bf071100603517ddc49ee3b24db502-d045d3fbbee33915-01
2022-04-20T15:29:36.785Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:36.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bf7b13c5b270fd12cc079fd37b53d79afae12ff-b501d56737261676-01 outer:exit 2b-3bf7b13c5b270fd12cc079fd37b53d79afae12ff-ef345b1519b2d848-01
2022-04-20T15:29:36.787Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:36.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-af6c8e983cffb8fef335738b3ac1b774bd89fe79-c0733bec2fa1f6c8-01 outer:exit 2b-af6c8e983cffb8fef335738b3ac1b774bd89fe79-7a7ad25f07a08b72-01
2022-04-20T15:29:36.789Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:36.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a7e4319be32434292c31bd206b6cc24eafe7e4b-ff5d082d067fc139-01 outer:exit 2b-8a7e4319be32434292c31bd206b6cc24eafe7e4b-1c38090a5e239ffb-01
2022-04-20T15:29:36.790Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:36.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf4164e07b47f601d6d4980d7d32b8579a4fafc1-b97748c84d6bb020-01 outer:exit 2b-cf4164e07b47f601d6d4980d7d32b8579a4fafc1-2cded26fcb1a6fae-01
2022-04-20T15:29:36.792Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:36.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdcd3f060a6c3729be21eac498e6d960e8c2640f-7479853f681a1115-01 outer:exit 2b-cdcd3f060a6c3729be21eac498e6d960e8c2640f-dea2dc0f50b5218d-01
2022-04-20T15:29:36.800Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:36.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ea5f26bbc04a1b1367dc04d23b5d0ac2f877517-2a3d47ea95bba4c7-01 outer:exit 2b-5ea5f26bbc04a1b1367dc04d23b5d0ac2f877517-f988b54b0104c210-01
2022-04-20T15:29:36.809Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:36.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0d07a18e9eabdb5ac0beaba9a4b4706792ed305-681538431d93d94f-01 outer:exit 2b-b0d07a18e9eabdb5ac0beaba9a4b4706792ed305-75a91e13ca94b1b6-01
2022-04-20T15:29:36.811Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:36.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-843e588a5318ec6e62887ee4cc7aa5cbea1a820d-76591349b9cf398b-01 outer:exit 2b-843e588a5318ec6e62887ee4cc7aa5cbea1a820d-923880b56a5696f6-01
2022-04-20T15:29:36.813Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:36.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab11b13d809b27f06852951ca4cf1287b1f40da0-6cb6e09f972bbc11-01 outer:exit 2b-ab11b13d809b27f06852951ca4cf1287b1f40da0-97b33214c2780d33-01
2022-04-20T15:29:36.817Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:36.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4bac8ba15635db538b230090290dff78f299446-62ed9c75a4e3ba5d-01 outer:exit 2b-e4bac8ba15635db538b230090290dff78f299446-603becf72e2288f1-01
2022-04-20T15:29:36.843Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (277ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 4s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:41.647Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:41.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:41.647Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:41.648Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:41.706Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:41.815Z appoptics:patching patched crypto 
2022-04-20T15:29:41.832Z appoptics:patching patched https 
2022-04-20T15:29:41.832Z appoptics:patching patched http 
2022-04-20T15:29:41.870Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:41.870Z appoptics:patching patched fs 
2022-04-20T15:29:41.892Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v16.14.2)
2022-04-20T15:29:41.898Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2022-04-20T15:29:41.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-9380bdf52474e225b0c21912354af5d2d23b3e97-51738fb0e3556584-01 outer:exit 2b-9380bdf52474e225b0c21912354af5d2d23b3e97-10ed3eac2466090e-01
2022-04-20T15:29:41.943Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:41.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0bf2bfd57564484d10385530e9bec5db89844ab-005762131c2f5ef1-01 outer:exit 2b-b0bf2bfd57564484d10385530e9bec5db89844ab-7c0f211b46516023-01
2022-04-20T15:29:41.982Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:41.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-b07a68f292ce50b79cbc1875b929aa7fa87db24b-3388b20931e96c3d-01 outer:exit 2b-b07a68f292ce50b79cbc1875b929aa7fa87db24b-51b0a147d57ce90b-01
2022-04-20T15:29:41.985Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:41.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec475d78b42ed8806c600d36f011bcc7ee7bd865-564b875f872d52ab-01 outer:exit 2b-ec475d78b42ed8806c600d36f011bcc7ee7bd865-997d1c4787b1b028-01
2022-04-20T15:29:41.988Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:41.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-a20adf7c5c8f164bec12c7ecfc20bfa0cc17b539-853606c925d1fa21-01 outer:exit 2b-a20adf7c5c8f164bec12c7ecfc20bfa0cc17b539-8d38dc2070ac1f22-01
2022-04-20T15:29:41.993Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:41.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-e469d06d7945105993ff3da00945c42f48d54c6b-8bb196cbbcd76bde-01 outer:exit 2b-e469d06d7945105993ff3da00945c42f48d54c6b-6d53cae43fed0783-01
2022-04-20T15:29:41.996Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:41.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-630915033bfcfe9788ebb778eaf1cadaabfe5499-06bf8ba886bf8f74-01 outer:exit 2b-630915033bfcfe9788ebb778eaf1cadaabfe5499-88fda1840ca9ea28-01
2022-04-20T15:29:41.999Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:42.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7b93cc071dceae49a505fc73af378479cfdee71-5bbb597f908c0717-01 outer:exit 2b-e7b93cc071dceae49a505fc73af378479cfdee71-bcd52b5a33091c5b-01
2022-04-20T15:29:42.003Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:42.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ecf00cb7b7a4cc78a3fa77e3092cc6861d11eec-dd7612ac0be3eb98-01 outer:exit 2b-5ecf00cb7b7a4cc78a3fa77e3092cc6861d11eec-56a1cd496687da34-01
2022-04-20T15:29:42.006Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:42.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-5da4b2273143cfd8aa2e9950bfef6b428a498594-124b1e22a3b03b42-01 outer:exit 2b-5da4b2273143cfd8aa2e9950bfef6b428a498594-260eafaf94cd8acd-01
2022-04-20T15:29:42.011Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:42.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-990e686d3ca14a067fcba5e9b8e8118678ba57c8-31687c5c9979b494-01 outer:exit 2b-990e686d3ca14a067fcba5e9b8e8118678ba57c8-29c48fe966b914d1-01
2022-04-20T15:29:42.014Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:42.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-0719b89de2ff0a0e7a6024056e412b4a7cb9bc04-0cc4a092fc4e366e-01 outer:exit 2b-0719b89de2ff0a0e7a6024056e412b4a7cb9bc04-6767003900b62b68-01
2022-04-20T15:29:42.032Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:42.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-e79164b632066403fcacacb83c3437bd2284b54d-91063fc10bd86547-01 outer:exit 2b-e79164b632066403fcacacb83c3437bd2284b54d-44070eceee646fc8-01
2022-04-20T15:29:42.046Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:42.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea200e85d7677e80c7e186798dd27a8d579a5ada-8e98a8bd63a9555b-01 outer:exit 2b-ea200e85d7677e80c7e186798dd27a8d579a5ada-49f0726b417231b2-01
2022-04-20T15:29:42.081Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:42.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-8774de206d777aaf9f25c05027a338f29a43aae6-bb38535605c8143e-01 outer:exit 2b-8774de206d777aaf9f25c05027a338f29a43aae6-b51464d48ca65a7f-01
2022-04-20T15:29:42.083Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:42.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-727e32cb27dacff903eb4f01fba6259cebf0b3ea-4702b80b0b5e30e3-01 outer:exit 2b-727e32cb27dacff903eb4f01fba6259cebf0b3ea-2c131d5a4daef111-01
2022-04-20T15:29:42.085Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:42.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-2709276215f02682452751802a00e9cae77e1f02-98518c5d011d0ee2-01 outer:exit 2b-2709276215f02682452751802a00e9cae77e1f02-88d1834011f1a3c3-01
2022-04-20T15:29:42.088Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:42.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd285d5584d87a9e9c5fe4f82b8e017f809e9d4d-26d00b2332696cae-01 outer:exit 2b-fd285d5584d87a9e9c5fe4f82b8e017f809e9d4d-6de40973f772cfcb-01
2022-04-20T15:29:42.090Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:42.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3c21a8606a672abd62b89d84b8e48806153fea6-c702c0dfd50f48a2-01 outer:exit 2b-e3c21a8606a672abd62b89d84b8e48806153fea6-3afcaeb348b8f96c-01
2022-04-20T15:29:42.093Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:42.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbea3aa8fd2a8c677814a19c6dca30725fb5803d-2a5c1079871c9601-01 outer:exit 2b-bbea3aa8fd2a8c677814a19c6dca30725fb5803d-8a97c4b889113787-01
2022-04-20T15:29:42.095Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:42.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c719bd76da29f8fb4515c07b1a37dad42e6f734-13ab39efa14cf750-01 outer:exit 2b-1c719bd76da29f8fb4515c07b1a37dad42e6f734-b0ebc821ba3bfcc2-01
2022-04-20T15:29:42.096Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:42.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-6520a092ab2bc2272664d56e1dc5b93d8d7c983d-77857cc6dc861aa8-01 outer:exit 2b-6520a092ab2bc2272664d56e1dc5b93d8d7c983d-9fa2a37e5e497246-01
2022-04-20T15:29:42.098Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:42.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-de973bd8a2db81c2ca4ecd6b899e0c9ca8e31edc-5e2b901a3798c4cd-01 outer:exit 2b-de973bd8a2db81c2ca4ecd6b899e0c9ca8e31edc-8cc0d8102a836ba7-01
2022-04-20T15:29:42.101Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:42.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cc32bd9155599a629e125279e00bace338fc653-ad99a8149d571bf0-01 outer:exit 2b-1cc32bd9155599a629e125279e00bace338fc653-dd04b05568a0a577-01
2022-04-20T15:29:42.103Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:42.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-e02aa5b1e7f99ca750e8b5b52023d4537d16a9f0-4228a0393c6a4bae-01 outer:exit 2b-e02aa5b1e7f99ca750e8b5b52023d4537d16a9f0-76e57b272f4aa0aa-01
2022-04-20T15:29:42.105Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:42.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-58c9d462cf6d869ae225eec93193f96fe32d25c7-042a62f3d18ebfbd-01 outer:exit 2b-58c9d462cf6d869ae225eec93193f96fe32d25c7-66d2bce6fde883f2-01
2022-04-20T15:29:42.107Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:42.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-073e0943e881297458ad0443891bfdb9d4b312f6-71b1f4305280808e-01 outer:exit 2b-073e0943e881297458ad0443891bfdb9d4b312f6-b20074e8bbac4668-01
2022-04-20T15:29:42.125Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:42.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f6bd3e636d6994255dfe7de3f18d3903c535605-2aab384b81aa105d-01 outer:exit 2b-9f6bd3e636d6994255dfe7de3f18d3903c535605-6a2386aa1081a78c-01
2022-04-20T15:29:42.143Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:42.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-43db339d79376351382f14929147e0c774f4e820-fd8703f819552d2c-01 outer:exit 2b-43db339d79376351382f14929147e0c774f4e820-fd5fd6ebb1246e85-01
2022-04-20T15:29:42.151Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:42.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-0202b58ee52f35b65d3c49e21fce35f45064d5f3-2217df205e277ffe-01 outer:exit 2b-0202b58ee52f35b65d3c49e21fce35f45064d5f3-e936615ad554d83d-01
2022-04-20T15:29:42.157Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:42.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d206e1e63e24af8e786b71a14439792d6e7c9b7-428e1f6b5468994c-01 outer:exit 2b-2d206e1e63e24af8e786b71a14439792d6e7c9b7-b42a220b35556ae9-01
2022-04-20T15:29:42.159Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:42.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-c40f76d52e7fa4e9e156cc019e385a8a43322149-75278881c46a537d-01 outer:exit 2b-c40f76d52e7fa4e9e156cc019e385a8a43322149-062e9c192705c7a0-01
2022-04-20T15:29:42.161Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:42.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-de320c238b3a31aa8a9d0dad69b298c2b5cfbb20-31cd7015e6873deb-01 outer:exit 2b-de320c238b3a31aa8a9d0dad69b298c2b5cfbb20-4119f9d0652d5837-01
2022-04-20T15:29:42.167Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:42.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c358d86c966c67645fbf5cbe106481baf90fd75-2dcbdd81ce192aa2-01 outer:exit 2b-5c358d86c966c67645fbf5cbe106481baf90fd75-e3d34b22d1a05601-01
2022-04-20T15:29:42.169Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:42.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-41c9dc439b0dc91578dbcced03a7e3ff67f28ee5-7f54a00efc794b6d-01 outer:exit 2b-41c9dc439b0dc91578dbcced03a7e3ff67f28ee5-2bb6122d9ae63de1-01
2022-04-20T15:29:42.170Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:42.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-5db9f84a502ea19d3a90007fee54cf34ae05dddc-f52ea0d4d03a639d-01 outer:exit 2b-5db9f84a502ea19d3a90007fee54cf34ae05dddc-2071e494ad5453ae-01
2022-04-20T15:29:42.172Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:42.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-4552e3006220a5ab36ec8167ade38f2361a96fb8-5f1a4e7dc4120c75-01 outer:exit 2b-4552e3006220a5ab36ec8167ade38f2361a96fb8-4f7ba6766a090d21-01
2022-04-20T15:29:42.174Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:42.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8ae2fb2a0353c9ff49e58d7f84ede1173e000aa-35ee25bf4c505e84-01 outer:exit 2b-d8ae2fb2a0353c9ff49e58d7f84ede1173e000aa-60715cff51967798-01
2022-04-20T15:29:42.175Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:42.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a687d06f251dd2d6381bcacaaa80e22e5b838d4-ea5890a0a2378fde-01 outer:exit 2b-4a687d06f251dd2d6381bcacaaa80e22e5b838d4-8bf15adff3f5ee89-01
2022-04-20T15:29:42.183Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:42.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cefba895a3edc85ced92714bb17a65440a33c73-d0221540c9be2129-01 outer:exit 2b-1cefba895a3edc85ced92714bb17a65440a33c73-4f22f5148952997e-01
2022-04-20T15:29:42.190Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:42.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-84efa12a019835586165299d61ef65848422dded-d72018ffed2bfc10-01 outer:exit 2b-84efa12a019835586165299d61ef65848422dded-b7cd84fa8be63652-01
2022-04-20T15:29:42.192Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:42.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-006b9e9f82b81d286c6e32cdc8db56fa361c4e55-f932897a1f924488-01 outer:exit 2b-006b9e9f82b81d286c6e32cdc8db56fa361c4e55-ebd7ece4e548547a-01
2022-04-20T15:29:42.194Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:42.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc477824b8b9c22b9de6cdc245110fbb9a599517-cbb4c41769760468-01 outer:exit 2b-dc477824b8b9c22b9de6cdc245110fbb9a599517-4879d4f051e66175-01
2022-04-20T15:29:42.210Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:42.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-53c93d872a8ba9ba8d64145ce280dc6b7c4fc5e8-a4c273ecc247aa6c-01 outer:exit 2b-53c93d872a8ba9ba8d64145ce280dc6b7c4fc5e8-50e6efd6ddeb9206-01
2022-04-20T15:29:42.236Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (331ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:48.146Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:48.147Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:48.147Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:48.148Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:48.205Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:48.313Z appoptics:patching patched crypto 
2022-04-20T15:29:48.331Z appoptics:patching patched https 
2022-04-20T15:29:48.332Z appoptics:patching patched http 
2022-04-20T15:29:48.366Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:48.366Z appoptics:patching patched fs 
2022-04-20T15:29:48.388Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v16.14.2)
2022-04-20T15:29:48.395Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2022-04-20T15:29:48.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3c2edb3a6e4249bc0aa5a5587685ba97f7454d3-3bd26b6c4b2a0c72-01 outer:exit 2b-d3c2edb3a6e4249bc0aa5a5587685ba97f7454d3-9be099f6713a4d28-01
2022-04-20T15:29:48.442Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:48.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c76a5999c51074668788fa5db52a366344b1999-df1adf2342f2c630-01 outer:exit 2b-8c76a5999c51074668788fa5db52a366344b1999-f7f6680931a84175-01
2022-04-20T15:29:48.481Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:48.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-79acc4f317a8403e9479f81535645eddbc26c85f-def49657314aa42a-01 outer:exit 2b-79acc4f317a8403e9479f81535645eddbc26c85f-7306b7388c2a35fa-01
2022-04-20T15:29:48.484Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:48.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-591ebb3c923caeda08e1a95a75aedbeede8d6183-f1acef649a9a2aee-01 outer:exit 2b-591ebb3c923caeda08e1a95a75aedbeede8d6183-a12c155fd1bb796b-01
2022-04-20T15:29:48.487Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:48.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ae7018392934b5837c88dd16c682ddb90168ada-83bcc1dee1ad13c2-01 outer:exit 2b-3ae7018392934b5837c88dd16c682ddb90168ada-fba938989d8dc731-01
2022-04-20T15:29:48.491Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:48.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-96854922dd0e8ee80a42d3a1a57c4df7b4b86d07-772615518c2307af-01 outer:exit 2b-96854922dd0e8ee80a42d3a1a57c4df7b4b86d07-5972f223d50d50bc-01
2022-04-20T15:29:48.494Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:48.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-a45791640904a66610eaa9067552b5c29283c1d7-79f7efb0eece66f1-01 outer:exit 2b-a45791640904a66610eaa9067552b5c29283c1d7-276d998d5e2e7b63-01
2022-04-20T15:29:48.497Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:48.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-a05d17d87fcaa452ad48bd0773391df2a467b54b-9c78217cae18399f-01 outer:exit 2b-a05d17d87fcaa452ad48bd0773391df2a467b54b-e389687bcc342a3c-01
2022-04-20T15:29:48.501Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:48.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-74174a01763e6452afdd16436001a3507b469898-047e0bf47602c647-01 outer:exit 2b-74174a01763e6452afdd16436001a3507b469898-c7b59980221c0506-01
2022-04-20T15:29:48.503Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:48.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-967fb57a3219bf309a66b2f9c86fb1b36b3a26b4-498c8443323e34a5-01 outer:exit 2b-967fb57a3219bf309a66b2f9c86fb1b36b3a26b4-31eb7510d36e5383-01
2022-04-20T15:29:48.506Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:48.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdc0c6d17415a7739db3d64a5065adf7e96d137c-a7543930a6786d03-01 outer:exit 2b-cdc0c6d17415a7739db3d64a5065adf7e96d137c-c2609ce54dc08510-01
2022-04-20T15:29:48.510Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:48.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce6f8039a3a3cf40edb3455b90f06e0f24e28d6b-c01a85cbd20d59e8-01 outer:exit 2b-ce6f8039a3a3cf40edb3455b90f06e0f24e28d6b-6f315e910a7bf49f-01
2022-04-20T15:29:48.515Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:48.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-6355fb49a9f292f13eccb0cd461397f4ae39e5b5-8c154b18c440881e-01 outer:exit 2b-6355fb49a9f292f13eccb0cd461397f4ae39e5b5-cb10e64faa0d2e8a-01
2022-04-20T15:29:48.530Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:48.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e140c006464fef45e8b87cc809b070b3eaf92ca-d5dc989e7f690789-01 outer:exit 2b-0e140c006464fef45e8b87cc809b070b3eaf92ca-88e000588032026f-01
2022-04-20T15:29:48.568Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:48.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fbadf049894cc04c319cb2b5144e08e3959932c-f54556e302eb6351-01 outer:exit 2b-5fbadf049894cc04c319cb2b5144e08e3959932c-16355331a1030c0c-01
2022-04-20T15:29:48.572Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:48.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-f17b6ee44a09b5da55ea7545c277f38852680bd1-9db1bf1ae2ed4cd4-01 outer:exit 2b-f17b6ee44a09b5da55ea7545c277f38852680bd1-6aba50d07d8ed371-01
2022-04-20T15:29:48.574Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:48.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-76e86612ab4207a4840e9a23d439a80a5ebdab57-cca21c78eeb7c41f-01 outer:exit 2b-76e86612ab4207a4840e9a23d439a80a5ebdab57-ac913feecd85f5ed-01
2022-04-20T15:29:48.577Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:48.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5338bbec278fe7847dd8c1bfcd192e50dd4c3a2-f154540ae36a2bc4-01 outer:exit 2b-b5338bbec278fe7847dd8c1bfcd192e50dd4c3a2-bdea2b13fa84a2fe-01
2022-04-20T15:29:48.584Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:48.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-55d8494c501c25c8ce5f0a362e07c2926c20aa8b-6cd4027b3b2153d0-01 outer:exit 2b-55d8494c501c25c8ce5f0a362e07c2926c20aa8b-4a10a8c6e922e33a-01
2022-04-20T15:29:48.586Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:48.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-203afc8910cf006562334c87761f73d9484b79b7-0118a202c153cbf8-01 outer:exit 2b-203afc8910cf006562334c87761f73d9484b79b7-f6420c7e4211f8a2-01
2022-04-20T15:29:48.592Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:48.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ecbbb5c37d2f6c90686f8c964d0a5661a842b11-78e73bfe0dc5c921-01 outer:exit 2b-5ecbbb5c37d2f6c90686f8c964d0a5661a842b11-d528784213dd2e1e-01
2022-04-20T15:29:48.594Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:48.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-74e09fdd77d0ef6c8001dde93ccb7b1201ac25b3-dad947f23996ecd6-01 outer:exit 2b-74e09fdd77d0ef6c8001dde93ccb7b1201ac25b3-672001dccf3278f1-01
2022-04-20T15:29:48.596Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:48.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1ecae864ee9c23aa1a97ccc340f0a776eaffb30-b606496b483732d5-01 outer:exit 2b-e1ecae864ee9c23aa1a97ccc340f0a776eaffb30-8078b1952a902c70-01
2022-04-20T15:29:48.598Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:48.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b74ec17087162a858d61ba9a8815221a0fbeadd-c1e68421c221952c-01 outer:exit 2b-2b74ec17087162a858d61ba9a8815221a0fbeadd-67f52369db439caa-01
2022-04-20T15:29:48.602Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:48.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1139bdfa20e40c0ac83972c870a36b0d6a7f4bf-cea056ec0ac19c68-01 outer:exit 2b-f1139bdfa20e40c0ac83972c870a36b0d6a7f4bf-4b9165e51ee4618b-01
2022-04-20T15:29:48.605Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:48.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-7087a0032def9d667e9c945d165701261c7bc739-edf4f28544635a36-01 outer:exit 2b-7087a0032def9d667e9c945d165701261c7bc739-1e1413ff4b55e28b-01
2022-04-20T15:29:48.607Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:48.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-90cce8608e7ec6d80c72a8b60f5224b8c0376aee-822811249e88f0ec-01 outer:exit 2b-90cce8608e7ec6d80c72a8b60f5224b8c0376aee-a209c7a8965333e5-01
2022-04-20T15:29:48.613Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:48.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3674c92430c84ed07ba1f91f4c7395dbc0e6cb9-e0174354bac8e627-01 outer:exit 2b-f3674c92430c84ed07ba1f91f4c7395dbc0e6cb9-517029905d2d4055-01
2022-04-20T15:29:48.620Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:48.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-38bef6147cf01396b580439ebbd8b10ab3e6e032-291308706d2351da-01 outer:exit 2b-38bef6147cf01396b580439ebbd8b10ab3e6e032-7c307eba525207c5-01
2022-04-20T15:29:48.629Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:48.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fcc3827cfa69ea23214794c11b92b88ad7e07ab-d928b5b95e1a1e55-01 outer:exit 2b-8fcc3827cfa69ea23214794c11b92b88ad7e07ab-95c448b9e620e479-01
2022-04-20T15:29:48.635Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:48.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f1579dfc32706cef3afbecc78c125843811ba3d-19d8bdb00f18b0be-01 outer:exit 2b-6f1579dfc32706cef3afbecc78c125843811ba3d-e2e325da98130b6c-01
2022-04-20T15:29:48.637Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:48.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-e169f245f1aad792ec168b781d49ca12815aedc0-b36acdf90de81d75-01 outer:exit 2b-e169f245f1aad792ec168b781d49ca12815aedc0-d4e80dd2fdb44182-01
2022-04-20T15:29:48.640Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:48.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-54b38b04bab9772ca1df6857b9981d1294c4d1f0-c4dd43f2c5af3222-01 outer:exit 2b-54b38b04bab9772ca1df6857b9981d1294c4d1f0-e3a437d6f1dcef6e-01
2022-04-20T15:29:48.645Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:48.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a12c62ba104b2675d7489ef6b82da556ed22b75-38c23415a57d3b2f-01 outer:exit 2b-9a12c62ba104b2675d7489ef6b82da556ed22b75-e9c54c49a9ce8d87-01
2022-04-20T15:29:48.648Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:48.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-0608a770285d35aae2864b45e2a5f7882309a063-7ef71ea75216b881-01 outer:exit 2b-0608a770285d35aae2864b45e2a5f7882309a063-533bc7ef54c5879e-01
2022-04-20T15:29:48.649Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:48.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-f75916b7852809c204443b0c58393258bc2d30cd-c8f3196b1e86bcf5-01 outer:exit 2b-f75916b7852809c204443b0c58393258bc2d30cd-b4bf6e02c6b7450c-01
2022-04-20T15:29:48.651Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:48.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-50dbd253fc8a11bec8773c9e0f9ebdb21d1c80ad-c1d4a12451aabf2d-01 outer:exit 2b-50dbd253fc8a11bec8773c9e0f9ebdb21d1c80ad-f7584f2b42e2b1d8-01
2022-04-20T15:29:48.653Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:48.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaf1d80612c992a82aaf6d3d1f2310e9c404c35f-e834ff6779e80bb9-01 outer:exit 2b-eaf1d80612c992a82aaf6d3d1f2310e9c404c35f-af17c5b29dd2ea5e-01
2022-04-20T15:29:48.654Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:48.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfb9bda227fb1338643ce58dc235555ec1c8fb2c-210e429923e5343a-01 outer:exit 2b-cfb9bda227fb1338643ce58dc235555ec1c8fb2c-4701176000b1bc4c-01
2022-04-20T15:29:48.663Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:48.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-15d4d76b8aee7dfac7e4b47b007e283b22c24394-8c062b583b5b107a-01 outer:exit 2b-15d4d76b8aee7dfac7e4b47b007e283b22c24394-8bddc448e31c45c5-01
2022-04-20T15:29:48.671Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:48.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-20cdb82714da3d8c62f07271b6652991daebd574-ee71370cb7f839a8-01 outer:exit 2b-20cdb82714da3d8c62f07271b6652991daebd574-ed9cf849638005a9-01
2022-04-20T15:29:48.675Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:48.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1a2eddc7e606922ed9d204dd54c8a95021eef2c-de0cb656d772f20e-01 outer:exit 2b-c1a2eddc7e606922ed9d204dd54c8a95021eef2c-d7836cbe1e427bee-01
2022-04-20T15:29:48.679Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:48.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fc8ff1c9d2c6925e0814bfa0bcabf15392413d9-b0d43e269c511a83-01 outer:exit 2b-1fc8ff1c9d2c6925e0814bfa0bcabf15392413d9-fa0fef36fccb3330-01
2022-04-20T15:29:48.681Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:48.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ad5517bb34bb450c937121b8fb77bc09200545a-9684fb35bb04d376-01 outer:exit 2b-0ad5517bb34bb450c937121b8fb77bc09200545a-87c7a3092a72b788-01
2022-04-20T15:29:48.707Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (306ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 4s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:53.412Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:53.412Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:53.412Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:53.413Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:53.471Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:53.580Z appoptics:patching patched crypto 
2022-04-20T15:29:53.596Z appoptics:patching patched https 
2022-04-20T15:29:53.597Z appoptics:patching patched http 
2022-04-20T15:29:53.633Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:53.634Z appoptics:patching patched fs 
2022-04-20T15:29:53.656Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v16.14.2)
2022-04-20T15:29:53.661Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2022-04-20T15:29:53.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-6be2efda85e2fe5619fd22004276ea145e3de33a-cb1d21c688a94a67-01 outer:exit 2b-6be2efda85e2fe5619fd22004276ea145e3de33a-99fff240a1ffae75-01
2022-04-20T15:29:53.714Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:53.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-992eedcfdaed3699a6d47b9b1dbf1e3d39871310-9568ed63dd6b2bd6-01 outer:exit 2b-992eedcfdaed3699a6d47b9b1dbf1e3d39871310-bbb7ecbdffd5a32c-01
2022-04-20T15:29:53.752Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:53.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-113bc18649fa52e3e2e3d4d27adc24393cf3bc5c-6e40fe8b95c6b2f3-01 outer:exit 2b-113bc18649fa52e3e2e3d4d27adc24393cf3bc5c-7206c5a51a58898f-01
2022-04-20T15:29:53.755Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:53.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ea88328ed88a9a58556521475cdf7409351fc9e-72f48e150e18d768-01 outer:exit 2b-3ea88328ed88a9a58556521475cdf7409351fc9e-b6f17267ef2e9988-01
2022-04-20T15:29:53.758Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:53.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-5947c6570b95bddead295d0b850cfc6b6cd7c5b4-b5541370e487a21f-01 outer:exit 2b-5947c6570b95bddead295d0b850cfc6b6cd7c5b4-c67351e2165b03b9-01
2022-04-20T15:29:53.777Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:53.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bb7e38f03e75006da0810c13d79ad9bdbc7fdbc-be5fb3cc67a1f158-01 outer:exit 2b-4bb7e38f03e75006da0810c13d79ad9bdbc7fdbc-9dcdbe470d5d0388-01
2022-04-20T15:29:53.780Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:53.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-90a521a4529696227ea90bc2131a5a44e893c817-92519ec4c2f50d43-01 outer:exit 2b-90a521a4529696227ea90bc2131a5a44e893c817-4dcc8a132d01b726-01
2022-04-20T15:29:53.783Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:53.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc846a3f13563a4c71b5475ca108f400338fbfaf-343d0179a2e6d5fe-01 outer:exit 2b-bc846a3f13563a4c71b5475ca108f400338fbfaf-125b0f9122b73011-01
2022-04-20T15:29:53.787Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:53.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c148f4030d27151610b9f56eb773713fd75c984-0357e3d834fdcd04-01 outer:exit 2b-5c148f4030d27151610b9f56eb773713fd75c984-12b1b7dd17cab6fb-01
2022-04-20T15:29:53.789Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:53.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-a76e334103fe07c0fdccb66355e98dcd96ad1918-8e4972285442d898-01 outer:exit 2b-a76e334103fe07c0fdccb66355e98dcd96ad1918-06f76741d2020638-01
2022-04-20T15:29:53.792Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:53.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-44a8b64441b688459b19eeed70a025d44573a3be-0d07c2c55c9da0b1-01 outer:exit 2b-44a8b64441b688459b19eeed70a025d44573a3be-76e19817cb44bfcf-01
2022-04-20T15:29:53.796Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:53.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f9cc9ae3ff59528f6bf002664ecf05a5e4d31b5-784624fda02bc730-01 outer:exit 2b-8f9cc9ae3ff59528f6bf002664ecf05a5e4d31b5-38c0361fd1c1f027-01
2022-04-20T15:29:53.802Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:53.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-c96f398c6888d4840af29bd7ad6b115883047af8-64e88faf2cff9531-01 outer:exit 2b-c96f398c6888d4840af29bd7ad6b115883047af8-34b3c27933a293f6-01
2022-04-20T15:29:53.818Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:53.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-4aa909eb1cc7a857499b4c4655fd8cad14a8230b-ee5666052ab69d0b-01 outer:exit 2b-4aa909eb1cc7a857499b4c4655fd8cad14a8230b-a7de90c18a87297f-01
2022-04-20T15:29:53.852Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:53.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c2bc73fccd8e36ec14eabf705cd5451ce1b98d8-6b8f4f3211d101d5-01 outer:exit 2b-2c2bc73fccd8e36ec14eabf705cd5451ce1b98d8-29dd35b8b1008313-01
2022-04-20T15:29:53.855Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:53.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f517363f6213bf31b24a7e32188c9497f12d288-663880a6d67dd305-01 outer:exit 2b-0f517363f6213bf31b24a7e32188c9497f12d288-ad94ee9cec371039-01
2022-04-20T15:29:53.857Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:53.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-44b6a35173be22b161b1c8c01e9098a0a48c4d25-ea1a6fe9e50c7a0f-01 outer:exit 2b-44b6a35173be22b161b1c8c01e9098a0a48c4d25-a7aac69bef30c1f3-01
2022-04-20T15:29:53.859Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:53.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-88a4501459da8970761c5b3f05d176decb2757c9-3def4e1c15019c2f-01 outer:exit 2b-88a4501459da8970761c5b3f05d176decb2757c9-86e7effe20ba5fb7-01
2022-04-20T15:29:53.861Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:53.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed7a2f01589d7acfd616cf9828ed2a58f072c47c-dc3af252df808690-01 outer:exit 2b-ed7a2f01589d7acfd616cf9828ed2a58f072c47c-206951aae2c5d810-01
2022-04-20T15:29:53.863Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:53.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-da0396d35f50927dfb14ef7c34df0f18fafe1bc2-b2165ed21b7ca0b4-01 outer:exit 2b-da0396d35f50927dfb14ef7c34df0f18fafe1bc2-bfe7a65a9506bde2-01
2022-04-20T15:29:53.865Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:53.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-b71226a75d82b35adb3ab3643ce2f6e8672f5175-cf3d9e6e3b2bf54f-01 outer:exit 2b-b71226a75d82b35adb3ab3643ce2f6e8672f5175-7b5de216f79ff1a1-01
2022-04-20T15:29:53.866Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:53.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3c8bb8878b2317b6d9b03169fc652370d8f4856-2ce5882e3b8ff3b6-01 outer:exit 2b-c3c8bb8878b2317b6d9b03169fc652370d8f4856-5974acc036809e30-01
2022-04-20T15:29:53.868Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:53.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfc26f02fae4e74e5de114eadf9bc3406a5c4c1a-496d2b1d666edc72-01 outer:exit 2b-bfc26f02fae4e74e5de114eadf9bc3406a5c4c1a-5bde05d2db5cc1af-01
2022-04-20T15:29:53.871Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:53.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-553c057580b816bf9fb5dbe82841ac802d7c90c1-4ce557c964190eda-01 outer:exit 2b-553c057580b816bf9fb5dbe82841ac802d7c90c1-9e5b723376e21713-01
2022-04-20T15:29:53.873Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:53.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-f50ce8d23a456a7f8b87140833aef1d43bf435b5-4b1429f07b9a9bd4-01 outer:exit 2b-f50ce8d23a456a7f8b87140833aef1d43bf435b5-9caa6ea0f5c3f996-01
2022-04-20T15:29:53.875Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:53.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b93d7fe3865a2731065d310a162e05aa65464d5-d59c69c1b03195d4-01 outer:exit 2b-1b93d7fe3865a2731065d310a162e05aa65464d5-5fd9319d191a8b2b-01
2022-04-20T15:29:53.877Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:53.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-e55e37b4cab245a289589998aa99b02f4f8a577e-0204b5b1431665a2-01 outer:exit 2b-e55e37b4cab245a289589998aa99b02f4f8a577e-b008bb6e86c58d09-01
2022-04-20T15:29:53.882Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:53.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c8708158d73ff9fd02facf87fceeb5ab5e15edb-7dd47b610978b4e3-01 outer:exit 2b-6c8708158d73ff9fd02facf87fceeb5ab5e15edb-8c949e79dc586705-01
2022-04-20T15:29:53.888Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:53.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7aee6a882d6e8bf989520456d226306207d93d9-ec1b5c1b0c1cd06d-01 outer:exit 2b-f7aee6a882d6e8bf989520456d226306207d93d9-ede2956a8e95f380-01
2022-04-20T15:29:53.895Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:53.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-f066645d4e94617674cc447eeb77ae1d80cddfad-3ab3766d66dd4d54-01 outer:exit 2b-f066645d4e94617674cc447eeb77ae1d80cddfad-693dabb859da6c43-01
2022-04-20T15:29:53.901Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:53.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1eec2a78ea65ff5806aa8113280c93de7d642cf-cbccdfd8094210bb-01 outer:exit 2b-b1eec2a78ea65ff5806aa8113280c93de7d642cf-c490e0f40e69272c-01
2022-04-20T15:29:53.903Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:53.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-e13b4cec85aa606d84d496b53b82a097bb41c39d-5f0eae46253747b7-01 outer:exit 2b-e13b4cec85aa606d84d496b53b82a097bb41c39d-d65eeb5392cd5353-01
2022-04-20T15:29:53.905Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:53.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-995acc60f64b02373a285565a07f761eeb1edc02-b974dff1b5843b6d-01 outer:exit 2b-995acc60f64b02373a285565a07f761eeb1edc02-73dbafe2d6d8d637-01
2022-04-20T15:29:53.911Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:53.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5bdb65fe5222df21c414869cc8db366fcf8f2b4-e4f2fe7a2fdf5d72-01 outer:exit 2b-a5bdb65fe5222df21c414869cc8db366fcf8f2b4-1f84a9344f36da98-01
2022-04-20T15:29:53.912Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:53.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-77fb343fab744baa2e625ba00d598a26184dde78-bb6916a3c3cf648f-01 outer:exit 2b-77fb343fab744baa2e625ba00d598a26184dde78-b1957dd228837ff6-01
2022-04-20T15:29:53.914Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:53.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-550c0a1fa0b6448132d90f5369bf6d7604822596-bee352933da1e3d8-01 outer:exit 2b-550c0a1fa0b6448132d90f5369bf6d7604822596-ba77cecb161a83c3-01
2022-04-20T15:29:53.916Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:53.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e0f7117650c8ff7ee2e9821828a72669c14f566-56651c25a4de8bd1-01 outer:exit 2b-9e0f7117650c8ff7ee2e9821828a72669c14f566-2396369968ec13c1-01
2022-04-20T15:29:53.917Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:53.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-d447efc74214507a38973cd8cfc2edcec0f59d44-5c05a022a8e00314-01 outer:exit 2b-d447efc74214507a38973cd8cfc2edcec0f59d44-9df4952c551d2014-01
2022-04-20T15:29:53.919Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:53.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-301bfde094623b748a8a292d4b9325ebe3c273dc-d7e4555c87db7820-01 outer:exit 2b-301bfde094623b748a8a292d4b9325ebe3c273dc-f2e8e0c247cb33e6-01
2022-04-20T15:29:53.927Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:53.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-833af29cba10843a0a83d8521c182672589eaefe-0d84f77119a1a0d0-01 outer:exit 2b-833af29cba10843a0a83d8521c182672589eaefe-070a61168e9ef812-01
2022-04-20T15:29:53.934Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:53.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-13143be713d2db0b2f7fb55c359d6c6f5a8b3356-4278dabc9448b7c5-01 outer:exit 2b-13143be713d2db0b2f7fb55c359d6c6f5a8b3356-a542f76a3b939fad-01
2022-04-20T15:29:53.937Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:53.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-3239c584b947022e759d1e7f19304b5ce26bfc75-31d95b008e51e803-01 outer:exit 2b-3239c584b947022e759d1e7f19304b5ce26bfc75-c0ec12b2beb16c26-01
2022-04-20T15:29:53.939Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:53.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-21cd48f09c5c275316c30092e69e89b172e9d8bc-9d50b249eb076539-01 outer:exit 2b-21cd48f09c5c275316c30092e69e89b172e9d8bc-2914920e65b4d441-01
2022-04-20T15:29:53.941Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:53.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-35d93ff4606b0865c1337e17896d4e3013cb4b1e-dfe5d2aab0cfd116-01 outer:exit 2b-35d93ff4606b0865c1337e17896d4e3013cb4b1e-c09647b74cf5c7df-01
2022-04-20T15:29:53.966Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (300ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:00.169Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:00.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:00.170Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:00.170Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:00.229Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:00.346Z appoptics:patching patched crypto 
2022-04-20T15:30:00.378Z appoptics:patching patched https 
2022-04-20T15:30:00.379Z appoptics:patching patched http 
2022-04-20T15:30:00.412Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:00.413Z appoptics:patching patched fs 
2022-04-20T15:30:00.437Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v16.14.2)
2022-04-20T15:30:00.443Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2022-04-20T15:30:00.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d9b7286dd92fc369145377e5f3d4a571bf961e0-c225cd86f258909f-01 outer:exit 2b-0d9b7286dd92fc369145377e5f3d4a571bf961e0-2c1a176530bae05a-01
2022-04-20T15:30:00.487Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:00.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec3a35c42e90b911160fb0e8942b273665f2a8d4-7bc66a4d780a72d4-01 outer:exit 2b-ec3a35c42e90b911160fb0e8942b273665f2a8d4-1ee77b565b25b739-01
2022-04-20T15:30:00.524Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:00.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e22720f88f869b0e6537516b343e7f9d89fdb77-222297202cf688cf-01 outer:exit 2b-4e22720f88f869b0e6537516b343e7f9d89fdb77-41155de5e82b47ca-01
2022-04-20T15:30:00.528Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:00.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-83ede09e6a00fc0bee0f24b2b7a40c694b53b97e-5c334810c6fbecca-01 outer:exit 2b-83ede09e6a00fc0bee0f24b2b7a40c694b53b97e-4544a22ee32052ba-01
2022-04-20T15:30:00.531Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:00.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c5e42a4c1ba5c84848528a8d1bd1e4639005831-2a65aeada489914d-01 outer:exit 2b-0c5e42a4c1ba5c84848528a8d1bd1e4639005831-85d8a1dc7c4763dd-01
2022-04-20T15:30:00.535Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:00.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-30a48ea1a1670a132f408b36d4b5fde6f4910505-d980a93d5732cac8-01 outer:exit 2b-30a48ea1a1670a132f408b36d4b5fde6f4910505-0e97c55bcab57d58-01
2022-04-20T15:30:00.538Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:00.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-36026aebc841b360714d010bd011f98df49126df-ce399daee2b8b22b-01 outer:exit 2b-36026aebc841b360714d010bd011f98df49126df-d7416f94c6c4fc38-01
2022-04-20T15:30:00.541Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:00.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee4ef5c9cd780caa55ffdf6ea04496db673d7843-003e0f2be5b59527-01 outer:exit 2b-ee4ef5c9cd780caa55ffdf6ea04496db673d7843-fef7cd1490d503cf-01
2022-04-20T15:30:00.543Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:00.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-498484587993ce1e13631afdaac04aeee6c1a912-2612f0a1a67b411d-01 outer:exit 2b-498484587993ce1e13631afdaac04aeee6c1a912-201225650013a905-01
2022-04-20T15:30:00.546Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:00.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-f45fe08fedb34839fb47aceda039d7a801c05de2-20429190123460a7-01 outer:exit 2b-f45fe08fedb34839fb47aceda039d7a801c05de2-a21ef1adecc6a995-01
2022-04-20T15:30:00.549Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:00.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ec059fb25a800f60ed6319ca05e1f01b123d678-9ccf50ee01804776-01 outer:exit 2b-7ec059fb25a800f60ed6319ca05e1f01b123d678-a1c87b30f6aa494b-01
2022-04-20T15:30:00.552Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:00.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-18dd0592058d5a3d2f0e43d9d55086bfdf5400d9-93d0752a2e60b1cd-01 outer:exit 2b-18dd0592058d5a3d2f0e43d9d55086bfdf5400d9-f46ca84e55c8b1c1-01
2022-04-20T15:30:00.558Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:00.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-42942cb35b78a52c4fe77d6a843bb3ce4330b6d5-1da3d635f9ca8c7b-01 outer:exit 2b-42942cb35b78a52c4fe77d6a843bb3ce4330b6d5-574524ce786c466c-01
2022-04-20T15:30:00.573Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:00.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8538f684902e0d90e5903e21ee2b2164d884813-808b730bc94339a2-01 outer:exit 2b-a8538f684902e0d90e5903e21ee2b2164d884813-199ce9bb61b00edc-01
2022-04-20T15:30:00.606Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:00.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e42e639a6408d3562afca68a05a64a259e50616-1ea6b7f2490af249-01 outer:exit 2b-1e42e639a6408d3562afca68a05a64a259e50616-7b854bf996cfbf78-01
2022-04-20T15:30:00.609Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:00.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1ccff65526cf8f6d39767c3a427a1806dc51ebc-aca32600bb9b2f8d-01 outer:exit 2b-c1ccff65526cf8f6d39767c3a427a1806dc51ebc-e74f4276698b2bb0-01
2022-04-20T15:30:00.611Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:00.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-5777e01480ecc209fe6cb188ec76f665aeac2ed9-081d84e1d00f37e0-01 outer:exit 2b-5777e01480ecc209fe6cb188ec76f665aeac2ed9-2d68a56a622b8c54-01
2022-04-20T15:30:00.614Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:00.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8b1b2e4f68d4c1a6c4fa5b3bdf47b108560083f-6090ee5cb8a24a81-01 outer:exit 2b-b8b1b2e4f68d4c1a6c4fa5b3bdf47b108560083f-2dbe6f3a5d3370cf-01
2022-04-20T15:30:00.616Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:00.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2aa1f736137e1db3295ff0206b69eb214a36c1d-62f21be5eed465c9-01 outer:exit 2b-e2aa1f736137e1db3295ff0206b69eb214a36c1d-f5a38f1bcbbff73a-01
2022-04-20T15:30:00.618Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:00.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bc1915966d28ed3f4c4303fe29f88a44bb32ed1-a00661659c372ce5-01 outer:exit 2b-5bc1915966d28ed3f4c4303fe29f88a44bb32ed1-91db7ed4eecb6775-01
2022-04-20T15:30:00.619Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:00.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-56432c4426d0211b65f7c3bc1c2c30536c7d8155-b52cba53258453ed-01 outer:exit 2b-56432c4426d0211b65f7c3bc1c2c30536c7d8155-e8f32aa608d34dce-01
2022-04-20T15:30:00.621Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:00.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-b37ca7d29fa9a7aab5d91d2cb0c8a2a0e8b1b396-393d662a67269056-01 outer:exit 2b-b37ca7d29fa9a7aab5d91d2cb0c8a2a0e8b1b396-c32282451dedfdac-01
2022-04-20T15:30:00.623Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:00.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-37c77bbf6af4b1892e1a7652cc69cdf7b43065e3-d2e7554effbf9f81-01 outer:exit 2b-37c77bbf6af4b1892e1a7652cc69cdf7b43065e3-e8d254871afc89b7-01
2022-04-20T15:30:00.625Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:00.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac61db090c3d8eb3d41bcf624b56e8a1a2afb09d-6d2bc7da739be54d-01 outer:exit 2b-ac61db090c3d8eb3d41bcf624b56e8a1a2afb09d-6ee2bfdc56975eff-01
2022-04-20T15:30:00.628Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:00.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-5301061c48e8948a522474615681cb244fca1097-b9e3c707a836af43-01 outer:exit 2b-5301061c48e8948a522474615681cb244fca1097-6e0e90cde1b79efa-01
2022-04-20T15:30:00.630Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:00.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-d83857d7849060702ad7711a75280a15111bb3b6-c92d74bb2afb4657-01 outer:exit 2b-d83857d7849060702ad7711a75280a15111bb3b6-1d28b982ed50f98f-01
2022-04-20T15:30:00.632Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:00.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-0582098176811b8002ebf1c0c4f81faecff6deb6-8213a65d733f578c-01 outer:exit 2b-0582098176811b8002ebf1c0c4f81faecff6deb6-55e2487955522769-01
2022-04-20T15:30:00.638Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:00.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-a042187f4b799e3d357a05b1f63a3dd26797bff6-4c7b6f6d5f842d7b-01 outer:exit 2b-a042187f4b799e3d357a05b1f63a3dd26797bff6-896ad3991aaf891f-01
2022-04-20T15:30:00.643Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:00.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-1754b9b83be972b2f08ee042bbc30e51ab287a37-34e8c1d5b2ad4caa-01 outer:exit 2b-1754b9b83be972b2f08ee042bbc30e51ab287a37-cdfc4ae87c177f90-01
2022-04-20T15:30:00.652Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:00.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-88759ab5a77cc268de844d6a03cefb942d44c310-2276777689159500-01 outer:exit 2b-88759ab5a77cc268de844d6a03cefb942d44c310-462b13c90de9f571-01
2022-04-20T15:30:00.657Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:00.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e59a8fd3d2e6ef1145ffed9c76cf6e58264c798-8daf98a8273a5565-01 outer:exit 2b-9e59a8fd3d2e6ef1145ffed9c76cf6e58264c798-6a37004782a98a78-01
2022-04-20T15:30:00.659Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:00.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-4803ada0548e61adf84abb72e6fd850bc985f349-91542edbf1800520-01 outer:exit 2b-4803ada0548e61adf84abb72e6fd850bc985f349-bb06a2d760d43245-01
2022-04-20T15:30:00.663Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:00.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b29b15f405f53658cfdbb1752c23683338691ef-ef7fd115f263e25a-01 outer:exit 2b-8b29b15f405f53658cfdbb1752c23683338691ef-80eb3929d786b89a-01
2022-04-20T15:30:00.669Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:00.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-068384ea058c499570989e359db04dfa4ff3966b-8de43a81fc8d43ab-01 outer:exit 2b-068384ea058c499570989e359db04dfa4ff3966b-817148a3d7a6434a-01
2022-04-20T15:30:00.671Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:00.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-0480abbfd102d6248b18ff038a822a15ff9f5965-00f554c59d6b0636-01 outer:exit 2b-0480abbfd102d6248b18ff038a822a15ff9f5965-a854f82ff8568f8f-01
2022-04-20T15:30:00.673Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:00.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-d51e470eded6968a156f7059051bc305021a321b-6ee8dd9d8aaea487-01 outer:exit 2b-d51e470eded6968a156f7059051bc305021a321b-38ff71a2756ae924-01
2022-04-20T15:30:00.675Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:00.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0a7403e3b6a7c615d7affa6a21961843329c4a1-7679e461e14b8e9f-01 outer:exit 2b-d0a7403e3b6a7c615d7affa6a21961843329c4a1-4ff8ab8d1b60ae23-01
2022-04-20T15:30:00.676Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:00.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-27bee7fa6b84ab887478912631444d9f807841b6-1d28f03b5704905e-01 outer:exit 2b-27bee7fa6b84ab887478912631444d9f807841b6-81e84d37e0eb3a1e-01
2022-04-20T15:30:00.678Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:00.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-af8c94002c97a56deb96436d9d4c07e46b1b06e9-c225574990a3a870-01 outer:exit 2b-af8c94002c97a56deb96436d9d4c07e46b1b06e9-74183d5eb55bef3e-01
2022-04-20T15:30:00.686Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:00.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca57634837f8dfd786a395a104b31937e46ce5b2-8fa12e46a660c26f-01 outer:exit 2b-ca57634837f8dfd786a395a104b31937e46ce5b2-99dd38b56f997d45-01
2022-04-20T15:30:00.695Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:00.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-422d8dd9f02527c52050d4be4db0094776168d55-3e9a43a57af87ed8-01 outer:exit 2b-422d8dd9f02527c52050d4be4db0094776168d55-bbd74ed9a1265345-01
2022-04-20T15:30:00.698Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:00.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcce5a3aa6537c131e9b4cc1291f0321bcb89585-08b8740a9cf5396b-01 outer:exit 2b-dcce5a3aa6537c131e9b4cc1291f0321bcb89585-2e7b31f395a6d9ca-01
2022-04-20T15:30:00.700Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:00.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5025110104d94f6bc7d51897bd9079dc7b5e9a9-004688fc7f8aed6e-01 outer:exit 2b-c5025110104d94f6bc7d51897bd9079dc7b5e9a9-1a091a1e032f8ff8-01
2022-04-20T15:30:00.706Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:00.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bbd763505fd344cb74d965ef235680254e63ba8-8c33b9ccf058151c-01 outer:exit 2b-1bbd763505fd344cb74d965ef235680254e63ba8-96c5ca1230ac2e2c-01
2022-04-20T15:30:00.734Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (285ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:05.636Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:05.636Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:05.636Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:05.637Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:05.694Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:05.811Z appoptics:patching patched crypto 
2022-04-20T15:30:05.847Z appoptics:patching patched https 
2022-04-20T15:30:05.847Z appoptics:patching patched http 
2022-04-20T15:30:05.890Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:05.891Z appoptics:patching patched fs 
2022-04-20T15:30:05.915Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v16.14.2)
2022-04-20T15:30:05.921Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2022-04-20T15:30:05.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbca53e3f6d9cc454fca78aee91b7a778994147d-4bfd09c0c8914cf7-01 outer:exit 2b-bbca53e3f6d9cc454fca78aee91b7a778994147d-2f8f22aaff2e8221-01
2022-04-20T15:30:05.964Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:06.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-f11ba345dce37d441798e001cadd4a5028a3e4ce-2778629021c5d2d9-01 outer:exit 2b-f11ba345dce37d441798e001cadd4a5028a3e4ce-8996e6c8d0cd9f45-01
2022-04-20T15:30:06.003Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:06.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-7910024a0ff0fa1ae11dfce98299d52f801838f8-123f0bf56cde8492-01 outer:exit 2b-7910024a0ff0fa1ae11dfce98299d52f801838f8-6c61ff0edebbe412-01
2022-04-20T15:30:06.006Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:06.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd5404088b9f1ed09d2eea59d4ca12c71dbf7993-ca5121028ca647c5-01 outer:exit 2b-cd5404088b9f1ed09d2eea59d4ca12c71dbf7993-81fe34fc53198b3f-01
2022-04-20T15:30:06.009Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:06.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dbc2d5d340d5448eca90f5192100fdd08ce8d40-2b3d606048fd9ff3-01 outer:exit 2b-3dbc2d5d340d5448eca90f5192100fdd08ce8d40-90df5ff817361e0f-01
2022-04-20T15:30:06.013Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:06.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-d36112a81fb9fe20d29d5b98535cd49db1932379-4e1d761a164d2e24-01 outer:exit 2b-d36112a81fb9fe20d29d5b98535cd49db1932379-0bcf723806d46b7e-01
2022-04-20T15:30:06.018Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:06.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bc89a3f6685a374ac4588bf4f20f8d193f7562d-5eb83739caa61e3b-01 outer:exit 2b-7bc89a3f6685a374ac4588bf4f20f8d193f7562d-ba61804680fcde61-01
2022-04-20T15:30:06.020Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:06.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-8eed05faf198affd39f81cfb41edeb4364961348-b64456c24c72ca72-01 outer:exit 2b-8eed05faf198affd39f81cfb41edeb4364961348-ab5f86d5ddcf4c01-01
2022-04-20T15:30:06.023Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:06.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-87a5f4a3de3f093cf9dfa712e7be9f8b32d795f0-2708fe5b763b24e9-01 outer:exit 2b-87a5f4a3de3f093cf9dfa712e7be9f8b32d795f0-fdb30be5ac91bf7f-01
2022-04-20T15:30:06.025Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:06.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e6f3f29254624b597fe2022bdb7e3e6c43f2d70-dadcecb8c7737e33-01 outer:exit 2b-7e6f3f29254624b597fe2022bdb7e3e6c43f2d70-e070fcf8d4c39fd0-01
2022-04-20T15:30:06.028Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:06.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-48abd0d5df8c111265e89682748c01259ed92a7c-c7a776f812afb20d-01 outer:exit 2b-48abd0d5df8c111265e89682748c01259ed92a7c-d36761eaba5bf264-01
2022-04-20T15:30:06.032Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:06.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-c21c923cc11ea89e149a6e599ed863019d6877f0-7cc890c68a02ebd9-01 outer:exit 2b-c21c923cc11ea89e149a6e599ed863019d6877f0-ed406202b334e8ae-01
2022-04-20T15:30:06.037Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:06.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab72839c31d725a334123b076ceb18a08aec96cb-1b06ab30e0eb553e-01 outer:exit 2b-ab72839c31d725a334123b076ceb18a08aec96cb-5d8b89e0558f020a-01
2022-04-20T15:30:06.052Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:06.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-16db9dc7af54e91408ba81668acccbf99898d950-12bc47017ad3d643-01 outer:exit 2b-16db9dc7af54e91408ba81668acccbf99898d950-4cca170dc38e2c19-01
2022-04-20T15:30:06.086Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:06.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed66d5b9b012cf79eaa65480d320d39bf06bd224-f0956eff6f00ef8b-01 outer:exit 2b-ed66d5b9b012cf79eaa65480d320d39bf06bd224-7967546cc8a25d0a-01
2022-04-20T15:30:06.088Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:06.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-3807cf00948d65ad4b6fb6b36bd689df84766658-b330b37ad9cb0880-01 outer:exit 2b-3807cf00948d65ad4b6fb6b36bd689df84766658-86b3834c88b27019-01
2022-04-20T15:30:06.091Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:06.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb668b551ae74f80f1b299b93e34b320fbb3c220-eec8ed7ef634222d-01 outer:exit 2b-fb668b551ae74f80f1b299b93e34b320fbb3c220-c5ed9c931cc6e284-01
2022-04-20T15:30:06.093Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:06.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e2549758467fadf5bc5316f98a2de7f77a60b78-2b92b6effe592f03-01 outer:exit 2b-6e2549758467fadf5bc5316f98a2de7f77a60b78-f18eb4caef54e4ca-01
2022-04-20T15:30:06.095Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:06.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f9a5f8c34a2de349dba10ba9761982db424019f-bb7478371ef0f938-01 outer:exit 2b-8f9a5f8c34a2de349dba10ba9761982db424019f-137e3014f666bde0-01
2022-04-20T15:30:06.097Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:06.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-9134135b7aeba65d1939f3207ebf70a9ae746792-d9bd6d4ebbe0510b-01 outer:exit 2b-9134135b7aeba65d1939f3207ebf70a9ae746792-598cd67dfd0a0a33-01
2022-04-20T15:30:06.099Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:06.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bbee45282ed611b88ba9eb997b40e3f9a9296c5-59da6f6475855d08-01 outer:exit 2b-8bbee45282ed611b88ba9eb997b40e3f9a9296c5-5bd741d3b965a62f-01
2022-04-20T15:30:06.101Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:06.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa10f7bd0278f41142e90e8b9bebd91e3e1dcf60-134c87e761ef6df5-01 outer:exit 2b-aa10f7bd0278f41142e90e8b9bebd91e3e1dcf60-85cc073efdfc76ab-01
2022-04-20T15:30:06.102Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:06.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d1e370067165049def3ab3ff89968e8f912fe76-8448bfe5ecbaae39-01 outer:exit 2b-7d1e370067165049def3ab3ff89968e8f912fe76-1e5780e990c84cd6-01
2022-04-20T15:30:06.105Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:06.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-67770426c455ea1b8ea488abcb688096d84c146e-ec352f87899c6eb6-01 outer:exit 2b-67770426c455ea1b8ea488abcb688096d84c146e-420e141060d31c67-01
2022-04-20T15:30:06.108Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:06.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-25f4973ff62178dfd56f8f1f91efca96d5cfffd9-0b7310d16262708c-01 outer:exit 2b-25f4973ff62178dfd56f8f1f91efca96d5cfffd9-3bdb1646f6acd486-01
2022-04-20T15:30:06.109Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:06.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-87daed85bb2688cf725762e44c3eba665e5f22cd-339046c79413a0c4-01 outer:exit 2b-87daed85bb2688cf725762e44c3eba665e5f22cd-f76937fd44eca151-01
2022-04-20T15:30:06.111Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:06.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d34b61a690cb4e7b6876c30f22a25e3c135cd1a-66e015b30a10a783-01 outer:exit 2b-3d34b61a690cb4e7b6876c30f22a25e3c135cd1a-fbf83acceed98bfb-01
2022-04-20T15:30:06.117Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:06.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7ecb3dc0974e37cb81fb7899a80a03283614cca-fc8958f555ce9bfb-01 outer:exit 2b-e7ecb3dc0974e37cb81fb7899a80a03283614cca-5be134ef8aa3ec9c-01
2022-04-20T15:30:06.122Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:06.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4a90c91b4e01427d147bcfb31c92d5f92075991-76e77839306558bb-01 outer:exit 2b-e4a90c91b4e01427d147bcfb31c92d5f92075991-15b120ee5e16a4fd-01
2022-04-20T15:30:06.129Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:06.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-46ef1cf1c8e18a9292bba8fee371457dd5fc4b4d-3e871a119844626a-01 outer:exit 2b-46ef1cf1c8e18a9292bba8fee371457dd5fc4b4d-a7a7133354107476-01
2022-04-20T15:30:06.134Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:06.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-b90cbbfd5c219aae9bafefb957931fe8aee306d1-9bb34c9add254391-01 outer:exit 2b-b90cbbfd5c219aae9bafefb957931fe8aee306d1-ea4c8bf73f90882c-01
2022-04-20T15:30:06.136Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:06.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-0251e65be6b4461a38a13a872405d437245f3088-1594595a6285676e-01 outer:exit 2b-0251e65be6b4461a38a13a872405d437245f3088-b6ddb5e77996095f-01
2022-04-20T15:30:06.139Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:06.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbb346bee15b786f07a9009eb09630229f8c7a19-4ac7199abb99e84e-01 outer:exit 2b-bbb346bee15b786f07a9009eb09630229f8c7a19-4d000d3bac17ac2c-01
2022-04-20T15:30:06.145Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:06.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-54ea56739212b74535e3c3efba401418a67f7ca6-9f57be4ace77854e-01 outer:exit 2b-54ea56739212b74535e3c3efba401418a67f7ca6-5e6c3b7a5620199d-01
2022-04-20T15:30:06.147Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:06.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-df26cdd0c2f9c936768e977e00e240e6bebd9774-3250ee79b3528881-01 outer:exit 2b-df26cdd0c2f9c936768e977e00e240e6bebd9774-52a259a9414df08a-01
2022-04-20T15:30:06.149Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:06.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-a135910106e1e08ccd0d755454bbc82104ca644b-e7562f84c0866df8-01 outer:exit 2b-a135910106e1e08ccd0d755454bbc82104ca644b-3d652f2febc33dd2-01
2022-04-20T15:30:06.150Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:06.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-a21ab5b327ae7dd434b1d3c1a86594550ff9cecf-9a927b968aa22d26-01 outer:exit 2b-a21ab5b327ae7dd434b1d3c1a86594550ff9cecf-3e7947884e3ca179-01
2022-04-20T15:30:06.152Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:06.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-9db4443747bc9ef3f32cc249d9a3140257de7ffe-6cf4e3e20f10e81a-01 outer:exit 2b-9db4443747bc9ef3f32cc249d9a3140257de7ffe-4f06153bf11dbbf3-01
2022-04-20T15:30:06.153Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:06.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-892f04f002746d6530199aa120bec8a6e371d458-54752899d1985c4d-01 outer:exit 2b-892f04f002746d6530199aa120bec8a6e371d458-ca5bb9b14264ce75-01
2022-04-20T15:30:06.162Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:06.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-76635ec5fecb5b3270781f91a2046c5867207425-b9825ca1ddf2eb02-01 outer:exit 2b-76635ec5fecb5b3270781f91a2046c5867207425-120d83700298d22d-01
2022-04-20T15:30:06.169Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:06.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-e77d516295183f852f1787f64ac87ae30a47262f-50fc2f25bbbf79bf-01 outer:exit 2b-e77d516295183f852f1787f64ac87ae30a47262f-c545f530378934a8-01
2022-04-20T15:30:06.171Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:06.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ef4097430779517f8293b7bdb2faf016c5a939e-547ecddea2218ff9-01 outer:exit 2b-8ef4097430779517f8293b7bdb2faf016c5a939e-996a1d57eec2afc7-01
2022-04-20T15:30:06.173Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:06.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff73afdbdd3949133b89111e7501237e4610263a-4aae86c0fee61611-01 outer:exit 2b-ff73afdbdd3949133b89111e7501237e4610263a-485411b6dcd35b9f-01
2022-04-20T15:30:06.176Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:06.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-14b15f7ab6a3c58f8ec6c6e1ed20bd5289e18e35-29207d68de48bd30-01 outer:exit 2b-14b15f7ab6a3c58f8ec6c6e1ed20bd5289e18e35-f01d1de71b6c63cf-01
2022-04-20T15:30:06.203Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (276ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:12.095Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:12.095Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:12.095Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:12.096Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:12.154Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:12.262Z appoptics:patching patched crypto 
2022-04-20T15:30:12.278Z appoptics:patching patched https 
2022-04-20T15:30:12.279Z appoptics:patching patched http 
2022-04-20T15:30:12.316Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:12.317Z appoptics:patching patched fs 
2022-04-20T15:30:12.341Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v16.14.2)
2022-04-20T15:30:12.346Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2022-04-20T15:30:12.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-dee7c4c22fd4a7ca0f34a93bd057ffeb58df9dfd-2a54ee4b81171932-01 outer:exit 2b-dee7c4c22fd4a7ca0f34a93bd057ffeb58df9dfd-3e0ea1c0cfca4162-01
2022-04-20T15:30:12.393Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:12.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac1e08eef7df7baad00110724cb0d3e93c756c18-5e6aa8981e06c43c-01 outer:exit 2b-ac1e08eef7df7baad00110724cb0d3e93c756c18-d9487b703d4694e9-01
2022-04-20T15:30:12.431Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:12.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-f74941195f7291e937ad9231c30d9acfdc7c1faf-c0281f590f19ed1e-01 outer:exit 2b-f74941195f7291e937ad9231c30d9acfdc7c1faf-82f3e05886f82f02-01
2022-04-20T15:30:12.434Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:12.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-b776ba72a0fb0d2b337b51ed935eb402b91cfafa-17f18180127fe763-01 outer:exit 2b-b776ba72a0fb0d2b337b51ed935eb402b91cfafa-22625db302ebd98e-01
2022-04-20T15:30:12.437Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:12.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-92b9b5dd21054735ea14d097f16c02e79fb38fb0-234b9e819e9bd31d-01 outer:exit 2b-92b9b5dd21054735ea14d097f16c02e79fb38fb0-c87132dff34b3777-01
2022-04-20T15:30:12.442Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:12.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-6974578c1977077a292c7346feb33e4729c49ab5-088c3a0ea85d29d8-01 outer:exit 2b-6974578c1977077a292c7346feb33e4729c49ab5-dc73471afeaa6c9a-01
2022-04-20T15:30:12.445Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:12.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebbb8c462150aeb0f3781eaedcabfa9e7f360cb7-f30b45e9b6b71512-01 outer:exit 2b-ebbb8c462150aeb0f3781eaedcabfa9e7f360cb7-f7dc3cc3d32169a5-01
2022-04-20T15:30:12.447Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:12.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad565c4e5e2f0c9a8d0e0afcc5086d8b7e6d6ec1-9897248184eea3f4-01 outer:exit 2b-ad565c4e5e2f0c9a8d0e0afcc5086d8b7e6d6ec1-2405d3b15284f194-01
2022-04-20T15:30:12.450Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:12.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce7a332146f90660c4020af8985341c89b9408c8-4bf9c644a456b065-01 outer:exit 2b-ce7a332146f90660c4020af8985341c89b9408c8-2e9c8f90b6909104-01
2022-04-20T15:30:12.455Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:12.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd3fc3a3bfec358b53d58f14de72ba230083d139-8242d201f8a8fdae-01 outer:exit 2b-fd3fc3a3bfec358b53d58f14de72ba230083d139-991159e7a82760da-01
2022-04-20T15:30:12.458Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:12.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-d60f2255ee25acf7dce123eb4b4b8821467d622e-ebe6a03e885c14de-01 outer:exit 2b-d60f2255ee25acf7dce123eb4b4b8821467d622e-0be6c6ab464769ac-01
2022-04-20T15:30:12.462Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:12.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6484b48ae52f1cc6f71e7d54cee8e9c551ea737-1adc069062f7d5dc-01 outer:exit 2b-e6484b48ae52f1cc6f71e7d54cee8e9c551ea737-b99b5ca24a2025c6-01
2022-04-20T15:30:12.467Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:12.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec724c6acd89510d36ae1624648f41d52b6de1ba-a3d8d43a075e36da-01 outer:exit 2b-ec724c6acd89510d36ae1624648f41d52b6de1ba-574706131ddb6c89-01
2022-04-20T15:30:12.483Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:12.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bf48daa0c41f2545a162e63bec36835e654b02a-4c11e6d1e2c7e9f7-01 outer:exit 2b-8bf48daa0c41f2545a162e63bec36835e654b02a-56fed6b7cc444fe6-01
2022-04-20T15:30:12.517Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:12.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-69d4391f25bd281550776dfb127697e3dac16fee-0d59f38e32a37eb9-01 outer:exit 2b-69d4391f25bd281550776dfb127697e3dac16fee-69d14182a1837764-01
2022-04-20T15:30:12.520Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:12.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ee1304953e841ed79ee124e613bde5d438fce65-ecb8915c55542272-01 outer:exit 2b-8ee1304953e841ed79ee124e613bde5d438fce65-bfc3a4f79d9bc54d-01
2022-04-20T15:30:12.522Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:12.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-40e27652b85bfcdedad2599c23c1e107054545ca-69f2a509fac1f428-01 outer:exit 2b-40e27652b85bfcdedad2599c23c1e107054545ca-83faa3acea08b66c-01
2022-04-20T15:30:12.524Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:12.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-789a83d3ae1a7a88b06f38e20e035eea7b7655c3-ed100c0eb6bf4358-01 outer:exit 2b-789a83d3ae1a7a88b06f38e20e035eea7b7655c3-40f44b3ee2dd7030-01
2022-04-20T15:30:12.526Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:12.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf70da5a2b33ba634c40cf373eb732f8524f99fd-3326a75d9303ccbf-01 outer:exit 2b-bf70da5a2b33ba634c40cf373eb732f8524f99fd-64336b80bc30071b-01
2022-04-20T15:30:12.528Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:12.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6a5bb7d638c1f99c2b1f94c50177db281db9d91-208cc5ddc1f7bc33-01 outer:exit 2b-a6a5bb7d638c1f99c2b1f94c50177db281db9d91-d119aaa44ab185b9-01
2022-04-20T15:30:12.530Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:12.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf44f3a6551212029a85692dcdbb21e6f5dd4aec-871990cb9409b405-01 outer:exit 2b-cf44f3a6551212029a85692dcdbb21e6f5dd4aec-aa3954eb5a0823a5-01
2022-04-20T15:30:12.532Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:12.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-4993dbe48433c6396d4a2bd5a9c56168442888c9-1ec7d9897a747d96-01 outer:exit 2b-4993dbe48433c6396d4a2bd5a9c56168442888c9-6b5ce5fa3976d8c6-01
2022-04-20T15:30:12.533Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:12.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-e68de151946d049f42d692ffd2da6dbc1ff054ff-9f070d8439d2fa6d-01 outer:exit 2b-e68de151946d049f42d692ffd2da6dbc1ff054ff-3588c3aa590f64d4-01
2022-04-20T15:30:12.536Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:12.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c5e82b4872af663531db833c95dfd223d4216d5-f93b15d51ce0e7f4-01 outer:exit 2b-0c5e82b4872af663531db833c95dfd223d4216d5-e4a339843f0e5d54-01
2022-04-20T15:30:12.539Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:12.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6040deec5e4a08165f15bb60923bf2f5b3f5875-b8e7491e28e95443-01 outer:exit 2b-d6040deec5e4a08165f15bb60923bf2f5b3f5875-563d101394182669-01
2022-04-20T15:30:12.541Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:12.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-0265f849f69174df3ada5d4652ac9a2b5314add0-f1b71c287510602f-01 outer:exit 2b-0265f849f69174df3ada5d4652ac9a2b5314add0-155eea88285531df-01
2022-04-20T15:30:12.543Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:12.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-d16503216116fcf20ad266eb79244c60331b9070-885644d5d33abe3b-01 outer:exit 2b-d16503216116fcf20ad266eb79244c60331b9070-b8d4a7976e7173cf-01
2022-04-20T15:30:12.548Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:12.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-82b89be28f0c740f26582f04256f7d9fe706fa9d-d27ea302f48350e1-01 outer:exit 2b-82b89be28f0c740f26582f04256f7d9fe706fa9d-227be177926e74f2-01
2022-04-20T15:30:12.554Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:12.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-92e83847100b131970f5c4a2b24c6e863970ad52-0c5e546f8eacbbea-01 outer:exit 2b-92e83847100b131970f5c4a2b24c6e863970ad52-d6f3bfdbda73f193-01
2022-04-20T15:30:12.560Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:12.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d51ad53ef5f81bc0b34b58d58ca4527fe00a5a3-570e7ad6364f5d95-01 outer:exit 2b-7d51ad53ef5f81bc0b34b58d58ca4527fe00a5a3-cc60d06b41af121b-01
2022-04-20T15:30:12.566Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:12.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-b28ee211583eb269af2a0cb67cbfccc74ccfbc6c-1f69c956fe832718-01 outer:exit 2b-b28ee211583eb269af2a0cb67cbfccc74ccfbc6c-3375b0a50c840232-01
2022-04-20T15:30:12.568Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:12.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e91553d9d7a231ce1dbba42684ce33bbb64f783-1dfeac2aae9225d3-01 outer:exit 2b-4e91553d9d7a231ce1dbba42684ce33bbb64f783-eb95800eba5e3bcd-01
2022-04-20T15:30:12.571Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:12.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d0aa658eea9c7ab29badf64c6cfae6f3252e366-e921b8390dff851e-01 outer:exit 2b-8d0aa658eea9c7ab29badf64c6cfae6f3252e366-4969bec932bf0751-01
2022-04-20T15:30:12.576Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:12.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-a204b4763f0f9a40484cc8058d7d9a5e10ff9ae5-a220f80ef8ba3e4b-01 outer:exit 2b-a204b4763f0f9a40484cc8058d7d9a5e10ff9ae5-7b8e719adb732427-01
2022-04-20T15:30:12.578Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:12.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-61715161ddb1fe8f0ad6382e06cf8cc0024aa046-22293c43173af9b5-01 outer:exit 2b-61715161ddb1fe8f0ad6382e06cf8cc0024aa046-3addf0e2f4a49f8e-01
2022-04-20T15:30:12.580Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:12.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ccf510d9813849413c309bf724a869c8d0da9db-88bdc20582823a77-01 outer:exit 2b-2ccf510d9813849413c309bf724a869c8d0da9db-ae0dcbf79757e761-01
2022-04-20T15:30:12.581Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:12.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-036a647e0fa194816f12e5cc827bc3091c19bc5a-3deebacb2ab5edef-01 outer:exit 2b-036a647e0fa194816f12e5cc827bc3091c19bc5a-4a9f1e4d00114a84-01
2022-04-20T15:30:12.583Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:12.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-e94936d8eedd278ea870ca3a8eaf8ef097e65363-c35dfe4d99daa955-01 outer:exit 2b-e94936d8eedd278ea870ca3a8eaf8ef097e65363-5d381b8b698bcb39-01
2022-04-20T15:30:12.584Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:12.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-63e0a4a32b3f5ec50938794179aa1644857c2198-aad4c3db8aee79a2-01 outer:exit 2b-63e0a4a32b3f5ec50938794179aa1644857c2198-7dbd053090863307-01
2022-04-20T15:30:12.593Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:12.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-790d56915598020555274bf0d64545e0c5b628f7-070a2eaa856e9506-01 outer:exit 2b-790d56915598020555274bf0d64545e0c5b628f7-1f0b9ac7c86f3e3c-01
2022-04-20T15:30:12.601Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:12.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-70bc2165f7df6d5e45221bbd5968b2ab397e1cf5-ef75c703d1871b61-01 outer:exit 2b-70bc2165f7df6d5e45221bbd5968b2ab397e1cf5-db49f4e422ede570-01
2022-04-20T15:30:12.603Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:12.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-6152bd2263eab6225eb4b7ba33bebe63d8a3e153-5e326df910b6b791-01 outer:exit 2b-6152bd2263eab6225eb4b7ba33bebe63d8a3e153-83554fe95a80b87c-01
2022-04-20T15:30:12.605Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:12.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-5176b24eccbf43f90c459b8e5a1aaace8c9b2073-5dbda008c652a0c7-01 outer:exit 2b-5176b24eccbf43f90c459b8e5a1aaace8c9b2073-a6a5b237182cd7cf-01
2022-04-20T15:30:12.607Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:12.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-b818505fbb02256c5e76a73b0a00b1b7b1bf1b89-966cb9c0cfeeeace-01 outer:exit 2b-b818505fbb02256c5e76a73b0a00b1b7b1bf1b89-4bbd9d18ec6731e7-01
2022-04-20T15:30:12.632Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (280ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:17.847Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:17.848Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:17.848Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:17.849Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:17.906Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:18.013Z appoptics:patching patched crypto 
2022-04-20T15:30:18.030Z appoptics:patching patched https 
2022-04-20T15:30:18.031Z appoptics:patching patched http 
2022-04-20T15:30:18.065Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:18.065Z appoptics:patching patched fs 
2022-04-20T15:30:18.089Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v16.14.2)
2022-04-20T15:30:18.095Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2022-04-20T15:30:18.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbe93e6d0d36bf5c33d68fd04bf7b8ec7a533fb9-25ace9b03965a4d5-01 outer:exit 2b-fbe93e6d0d36bf5c33d68fd04bf7b8ec7a533fb9-9a451299685a3b19-01
2022-04-20T15:30:18.138Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:18.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-c893a4ed9d052a74364a18932e54dd5b9fb9d332-552a45c61414228f-01 outer:exit 2b-c893a4ed9d052a74364a18932e54dd5b9fb9d332-2dfb8adc813ae9de-01
2022-04-20T15:30:18.176Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:18.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e83d97c277356122d4c7723459ac19d71216a4d-f15ecda156b1cc5b-01 outer:exit 2b-1e83d97c277356122d4c7723459ac19d71216a4d-7411b279a4692932-01
2022-04-20T15:30:18.179Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:18.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-5667817d42219e5cf929fd5d7938749b10a5fe2b-55e8e33c62dad517-01 outer:exit 2b-5667817d42219e5cf929fd5d7938749b10a5fe2b-d5a2b88801f86d00-01
2022-04-20T15:30:18.182Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:18.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-8121bf03811afda94632fa1d2f2b23a3bbde8ca2-df51a4fdce49ef06-01 outer:exit 2b-8121bf03811afda94632fa1d2f2b23a3bbde8ca2-dfab41c565aeebb3-01
2022-04-20T15:30:18.187Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:18.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-4299fe6b2ef194dac6f6e8939243620550697a20-7eb0b77914a88c3c-01 outer:exit 2b-4299fe6b2ef194dac6f6e8939243620550697a20-ebbae1168c378669-01
2022-04-20T15:30:18.190Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:18.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dd47ee5e6e13178a24665c02fdf487f0c216e97-fb23cb6f1c59a0dd-01 outer:exit 2b-6dd47ee5e6e13178a24665c02fdf487f0c216e97-32044804b8b8f60b-01
2022-04-20T15:30:18.193Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:18.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4972be6ae2bc332deecbc22baa8be16cdf68d9b-2672a20c692b65aa-01 outer:exit 2b-f4972be6ae2bc332deecbc22baa8be16cdf68d9b-40eca6b76470b4cb-01
2022-04-20T15:30:18.195Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:18.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2fc3342d1e7861b7debaf9e32a51fc7b08c083f-a792cadb7794c58b-01 outer:exit 2b-a2fc3342d1e7861b7debaf9e32a51fc7b08c083f-2a8740c456be9738-01
2022-04-20T15:30:18.198Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:18.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ed440e98ce43fa1dd3f6394f184901e63ed81e2-51bbc208ea361097-01 outer:exit 2b-2ed440e98ce43fa1dd3f6394f184901e63ed81e2-e1d7c57e9fd05fc9-01
2022-04-20T15:30:18.201Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:18.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-f81e3a4b4e67e031564df1b00074877d62dd8e2e-93eb79e456458b74-01 outer:exit 2b-f81e3a4b4e67e031564df1b00074877d62dd8e2e-ea318a45aa9f7c0c-01
2022-04-20T15:30:18.205Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:18.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb86af02558c81d0bf61993b640dd764848415d0-10f7144a9f57078c-01 outer:exit 2b-bb86af02558c81d0bf61993b640dd764848415d0-396532807596cbf9-01
2022-04-20T15:30:18.210Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:18.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bc89241f1efb13c1b3e9611e6592aff0984bb25-8dcd3058984e33e4-01 outer:exit 2b-5bc89241f1efb13c1b3e9611e6592aff0984bb25-d141d46860758a98-01
2022-04-20T15:30:18.227Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:18.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-25c56cdd952910fc75a6daebdbd17b96677a98a3-263d42a7f1742283-01 outer:exit 2b-25c56cdd952910fc75a6daebdbd17b96677a98a3-003d27931a0ff720-01
2022-04-20T15:30:18.261Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:18.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-a026ed5c2c94e4ebf4203152920b13bf4a28e5ab-08f3b22371dfcd15-01 outer:exit 2b-a026ed5c2c94e4ebf4203152920b13bf4a28e5ab-e0b928e2f3bb386c-01
2022-04-20T15:30:18.264Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:18.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-5856e41dc6dc7b6a2e2627979360c4ef682c0b4e-50740319588303f8-01 outer:exit 2b-5856e41dc6dc7b6a2e2627979360c4ef682c0b4e-9281b3ae08b4acae-01
2022-04-20T15:30:18.266Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:18.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-e706ad40c815e77e2bf68ba785c28a9bdf8015b7-3f81096386957bb9-01 outer:exit 2b-e706ad40c815e77e2bf68ba785c28a9bdf8015b7-128c445b130b72c2-01
2022-04-20T15:30:18.269Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:18.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-93648f93c8904c467f58ab8c4373985b987c7c52-59a854443fa5ffd3-01 outer:exit 2b-93648f93c8904c467f58ab8c4373985b987c7c52-a6d5720dfedfe276-01
2022-04-20T15:30:18.271Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:18.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcc4092ea0766c82a50ff41df912c629ff3ae6fe-296c33a5cfac33ec-01 outer:exit 2b-dcc4092ea0766c82a50ff41df912c629ff3ae6fe-2abb641b84212be4-01
2022-04-20T15:30:18.273Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:18.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-b91575ee382ec81082be08329f305256610af4fc-95991586d1ff458f-01 outer:exit 2b-b91575ee382ec81082be08329f305256610af4fc-9a40e3fc77f40585-01
2022-04-20T15:30:18.274Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:18.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a0f800ddd5537c150270fbb855b1f919ce10659-4b4005a0c96e80e1-01 outer:exit 2b-7a0f800ddd5537c150270fbb855b1f919ce10659-7f2f9375b63d595c-01
2022-04-20T15:30:18.276Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:18.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6515ff806770cf7e47450d39791f31356286278-5274e098d2074d53-01 outer:exit 2b-a6515ff806770cf7e47450d39791f31356286278-253f7f4a0a1a5c6a-01
2022-04-20T15:30:18.278Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:18.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a51160c4a6a496d6e9ea6c22efd44290bb03588-f1e4d22a84d9f8ee-01 outer:exit 2b-9a51160c4a6a496d6e9ea6c22efd44290bb03588-13bdf32450109495-01
2022-04-20T15:30:18.281Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:18.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-82b87a54e4f954f77c62122aeaa4c85a37310515-f91dc0947078a9ae-01 outer:exit 2b-82b87a54e4f954f77c62122aeaa4c85a37310515-89cadb0409345a36-01
2022-04-20T15:30:18.283Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:18.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-675e302450627d003dcfcff2d178f54f865b8b25-16b1cea3a280abc8-01 outer:exit 2b-675e302450627d003dcfcff2d178f54f865b8b25-4f5ab9372d1c32b2-01
2022-04-20T15:30:18.285Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:18.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-e31ec633ca6bec647e563ef54082cb8c3d054245-708605ba0c02e466-01 outer:exit 2b-e31ec633ca6bec647e563ef54082cb8c3d054245-e2c44171c9334eb3-01
2022-04-20T15:30:18.287Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:18.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-a075562f78fe4ddd863aec61fc2d4be7f641fcff-c5be3f296a1bf467-01 outer:exit 2b-a075562f78fe4ddd863aec61fc2d4be7f641fcff-39c349210f41946e-01
2022-04-20T15:30:18.292Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:18.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8f9b8cd80912f6620bc93acf8f670dc7f0c9e81-d034ce4fafafc2db-01 outer:exit 2b-a8f9b8cd80912f6620bc93acf8f670dc7f0c9e81-5e6f4158769a96e4-01
2022-04-20T15:30:18.297Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:18.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ad2799ca367a0dfd833440bc5dbf25c67616735-718b2837707af194-01 outer:exit 2b-5ad2799ca367a0dfd833440bc5dbf25c67616735-ea0cf80e4a7efed7-01
2022-04-20T15:30:18.304Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:18.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b4c6a395ab270f7691475700192d01dcd495fc1-6e9580c06cf46139-01 outer:exit 2b-0b4c6a395ab270f7691475700192d01dcd495fc1-eb056d9781e283e3-01
2022-04-20T15:30:18.311Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:18.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-5af0f0e7bb5aa9ae0a87cb83cf8099d73e47d4b1-8d9e9829d9440d3f-01 outer:exit 2b-5af0f0e7bb5aa9ae0a87cb83cf8099d73e47d4b1-cfed19815dbaf4f6-01
2022-04-20T15:30:18.313Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:18.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd08d463a7f9ae7da9ce74748df717d8536effa3-f298857faff312c2-01 outer:exit 2b-cd08d463a7f9ae7da9ce74748df717d8536effa3-4d192300b01b0e57-01
2022-04-20T15:30:18.315Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:18.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff5ef0fe928b3472bef8f00aed3a558eea9c7f95-81698e31de296315-01 outer:exit 2b-ff5ef0fe928b3472bef8f00aed3a558eea9c7f95-f090f3cfbb5c55b7-01
2022-04-20T15:30:18.321Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:18.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0749ff11f6db5d911d70a95c3ca099d1f3de196-72666c37bd7ccf20-01 outer:exit 2b-f0749ff11f6db5d911d70a95c3ca099d1f3de196-b2b5431e992dbb7a-01
2022-04-20T15:30:18.322Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:18.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5e7ae289e369b1262c915bb86c9e8d8fe0fa017-f2cfd70914f8201c-01 outer:exit 2b-d5e7ae289e369b1262c915bb86c9e8d8fe0fa017-8f2945ef94669a80-01
2022-04-20T15:30:18.324Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:18.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ff95f4e8edab6dfca1cdb35bc1ca4cdbb91a513-951c0bea31301fe1-01 outer:exit 2b-1ff95f4e8edab6dfca1cdb35bc1ca4cdbb91a513-eec3bcd825be4bb3-01
2022-04-20T15:30:18.326Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:18.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-f96e7292b79e6574afe32ca40268a08b635acbab-95c690bee53b5430-01 outer:exit 2b-f96e7292b79e6574afe32ca40268a08b635acbab-52f6536b7f4125d3-01
2022-04-20T15:30:18.327Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:18.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cfc78703d0c56d24c0db503dd6d33a1f9f21b67-e7de25db2460f9b0-01 outer:exit 2b-0cfc78703d0c56d24c0db503dd6d33a1f9f21b67-8b390e624c298c42-01
2022-04-20T15:30:18.329Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:18.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea06a68ea2764450867f382482afb53b8ac14709-b8994e9a0a2f595c-01 outer:exit 2b-ea06a68ea2764450867f382482afb53b8ac14709-de9369326fa2d423-01
2022-04-20T15:30:18.337Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:18.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-81b17e24549cc86880116afdbc3694dc78337c79-7aa571505ebd5fee-01 outer:exit 2b-81b17e24549cc86880116afdbc3694dc78337c79-36c40671919a2891-01
2022-04-20T15:30:18.345Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:18.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-7541bb2b1d3061bd92fe054fa637326bd8faecec-f120fb15f6c68d7a-01 outer:exit 2b-7541bb2b1d3061bd92fe054fa637326bd8faecec-3c23673160395e79-01
2022-04-20T15:30:18.347Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:18.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bfb9e77863aab8b3c2a77a580515387f51970d1-0e0637e9b8d8e789-01 outer:exit 2b-2bfb9e77863aab8b3c2a77a580515387f51970d1-7f68a7f5f72f270a-01
2022-04-20T15:30:18.350Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:18.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-964243e679be0992673373fd367b2701a3bbf0df-ce5b7631d99acfa1-01 outer:exit 2b-964243e679be0992673373fd367b2701a3bbf0df-6e027a65e7b16997-01
2022-04-20T15:30:18.352Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:18.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1b9f1d2e902927e3c835ea8296e6e875850489a-b395c77df5389f82-01 outer:exit 2b-f1b9f1d2e902927e3c835ea8296e6e875850489a-2f73a0a58f112ebf-01
2022-04-20T15:30:18.378Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (278ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:23.887Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:23.888Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:23.888Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:23.889Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:23.944Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:24.053Z appoptics:patching patched crypto 
2022-04-20T15:30:24.070Z appoptics:patching patched https 
2022-04-20T15:30:24.071Z appoptics:patching patched http 
2022-04-20T15:30:24.106Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:24.106Z appoptics:patching patched fs 
2022-04-20T15:30:24.130Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v16.14.2)
2022-04-20T15:30:24.136Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2022-04-20T15:30:24.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bacaeb7e08b3b183f4ce637f952ff63040fa249-bfd8bbdd79370dcd-01 outer:exit 2b-2bacaeb7e08b3b183f4ce637f952ff63040fa249-6d27bef30067d887-01
2022-04-20T15:30:24.182Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:24.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae51e7e8f5c16ecd4efed941f1796bf1b7485098-bb9dce0a1cbf766d-01 outer:exit 2b-ae51e7e8f5c16ecd4efed941f1796bf1b7485098-57856a3fd711c091-01
2022-04-20T15:30:24.220Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:24.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-0395ae8cf69bd5967a3d2b104c2dc6affe2f6d23-5f37ab5975ba0e5f-01 outer:exit 2b-0395ae8cf69bd5967a3d2b104c2dc6affe2f6d23-08db8416648a3108-01
2022-04-20T15:30:24.223Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:24.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-d58c0ee1d37bb57fb3ceb7ed29467d96fe8b228b-8fcebe5b0e88f8ac-01 outer:exit 2b-d58c0ee1d37bb57fb3ceb7ed29467d96fe8b228b-98d9d32c9f779958-01
2022-04-20T15:30:24.226Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:24.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-d417f6f176c248cd8c735b9250685c613c38a47b-72e4216fdc6b7e0b-01 outer:exit 2b-d417f6f176c248cd8c735b9250685c613c38a47b-ca864156e3645d79-01
2022-04-20T15:30:24.231Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:24.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f9f25387ca473c4b816848d39c68e5a450d7c1f-dba5f1fc44eaf0d5-01 outer:exit 2b-6f9f25387ca473c4b816848d39c68e5a450d7c1f-7d0bd7afb55adc86-01
2022-04-20T15:30:24.234Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:24.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-88ccc92b9ca00264228f0b236f71ce3f4a33716b-e937aa639f43d0c3-01 outer:exit 2b-88ccc92b9ca00264228f0b236f71ce3f4a33716b-71affeec47d53200-01
2022-04-20T15:30:24.236Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:24.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa0c237fb0e45f4307428973716174dfcc381295-bfb98519de90ac70-01 outer:exit 2b-fa0c237fb0e45f4307428973716174dfcc381295-68d1a97c9a344343-01
2022-04-20T15:30:24.240Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:24.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f2247be69ad93db68e0bc09ca4798bdeaa17e42-52a66807b0d1f02e-01 outer:exit 2b-2f2247be69ad93db68e0bc09ca4798bdeaa17e42-6cbc47b3c311a6eb-01
2022-04-20T15:30:24.243Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:24.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-c72d047ee58f441e42f17367e31c7b5281ac78cf-1b51a651de771514-01 outer:exit 2b-c72d047ee58f441e42f17367e31c7b5281ac78cf-bbcf8bd50ba573ce-01
2022-04-20T15:30:24.246Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:24.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-70fa12872dc83c6be24b3ef1c8e36cc366cf9edf-5297f65122443792-01 outer:exit 2b-70fa12872dc83c6be24b3ef1c8e36cc366cf9edf-5f6d041895ca7144-01
2022-04-20T15:30:24.249Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:24.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-2686fa5f4523aaf7b2aaa2284fe74174050755f4-77347d3efe2cc93c-01 outer:exit 2b-2686fa5f4523aaf7b2aaa2284fe74174050755f4-2ae5eb31487fe96a-01
2022-04-20T15:30:24.255Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:24.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-35bb5215c646ea83b9dc9690c7850c8e3237b2c3-5a22015c139933fa-01 outer:exit 2b-35bb5215c646ea83b9dc9690c7850c8e3237b2c3-886c36fe862992cd-01
2022-04-20T15:30:24.269Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:24.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-b540f4f2d725fbad634abd46405b89651a3f0494-7f8cc5067de9335a-01 outer:exit 2b-b540f4f2d725fbad634abd46405b89651a3f0494-0bbddc54b4228866-01
2022-04-20T15:30:24.303Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:24.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5318f322c9438cebf46a70a6d267f3647379299-2cd286f7bff033aa-01 outer:exit 2b-b5318f322c9438cebf46a70a6d267f3647379299-163a1a8e3a31cd9c-01
2022-04-20T15:30:24.305Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:24.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-36edf9a2dc1241c77d4319230bd59f15c8f7e630-6938a3fcbb3e6cad-01 outer:exit 2b-36edf9a2dc1241c77d4319230bd59f15c8f7e630-5756d6e5ed4b6926-01
2022-04-20T15:30:24.307Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:24.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-a79626785eb00f393cb308de8e45611e75813c5e-f6bc80b931d1a161-01 outer:exit 2b-a79626785eb00f393cb308de8e45611e75813c5e-8b85d01d0a18a7c8-01
2022-04-20T15:30:24.310Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:24.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3930f8a0da13baa98757261961e9d20c3eb165c-337201bfd9774cb6-01 outer:exit 2b-e3930f8a0da13baa98757261961e9d20c3eb165c-f4b19b4f5d0edaa5-01
2022-04-20T15:30:24.312Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:24.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-18ac8f1633196658901c58170d2f24379c525713-8633ad85d41fedf7-01 outer:exit 2b-18ac8f1633196658901c58170d2f24379c525713-e79df2b95837a9d8-01
2022-04-20T15:30:24.314Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:24.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-867b647d9d231f948fa718be035cfc9914ae73f2-3fa4fd6f0c4aa99b-01 outer:exit 2b-867b647d9d231f948fa718be035cfc9914ae73f2-7ee1935b95f5f8b2-01
2022-04-20T15:30:24.316Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:24.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-332dd6c5a2e54ebf45942b14e8ac6d88a8ba24bf-fe61445ff41a6a02-01 outer:exit 2b-332dd6c5a2e54ebf45942b14e8ac6d88a8ba24bf-6f561ba9d49ce7dd-01
2022-04-20T15:30:24.317Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:24.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-65444aa91ec5e8b54f8b50838c511747dd5026ee-0f11bdadffc18486-01 outer:exit 2b-65444aa91ec5e8b54f8b50838c511747dd5026ee-96f27d51db41c0a7-01
2022-04-20T15:30:24.319Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:24.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-afb1b98a0cf06c0bfecb7996a5b40c6c2f8cc097-2a9fdb61fcc77c58-01 outer:exit 2b-afb1b98a0cf06c0bfecb7996a5b40c6c2f8cc097-639693999473ed63-01
2022-04-20T15:30:24.322Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:24.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-69c5a09b390bed7a5bc37a96ec0643e18eb64e02-e15d417890a2fb76-01 outer:exit 2b-69c5a09b390bed7a5bc37a96ec0643e18eb64e02-a770ac3e25a95669-01
2022-04-20T15:30:24.324Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:24.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-83725f920e7f30fcbe7e61dd6ec7728fcf86332b-d9a7570500586366-01 outer:exit 2b-83725f920e7f30fcbe7e61dd6ec7728fcf86332b-a1f77ed1e0fd4e95-01
2022-04-20T15:30:24.326Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:24.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-b621e797a9cae709c2e77f1cb40f0446566fae49-903a35399d4ce0da-01 outer:exit 2b-b621e797a9cae709c2e77f1cb40f0446566fae49-00291df703566545-01
2022-04-20T15:30:24.328Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:24.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b664a21138a8f2e212f20072f7a7d9260c6627a-f52f4b31649f9d21-01 outer:exit 2b-5b664a21138a8f2e212f20072f7a7d9260c6627a-dfe2428dfc8dd7b4-01
2022-04-20T15:30:24.334Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:24.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-d24ccc61cd40ba7476373807652ca02a67152a70-bb95e367dd5eb13e-01 outer:exit 2b-d24ccc61cd40ba7476373807652ca02a67152a70-1366fa909381a1f9-01
2022-04-20T15:30:24.339Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:24.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa9eb0a869da4c531203da01ff04b716833639dc-2d364ad124dc8343-01 outer:exit 2b-fa9eb0a869da4c531203da01ff04b716833639dc-dbbe8ee3c9ee1396-01
2022-04-20T15:30:24.347Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:24.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5ddefb2692ba16349b45e7437370f07e72be78f-788fbcac176db189-01 outer:exit 2b-a5ddefb2692ba16349b45e7437370f07e72be78f-6cae31e6281cbecf-01
2022-04-20T15:30:24.352Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:24.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-27d6c34fede2eb75a39c79cb60c0d4ef8a01320f-997c43daf0527c99-01 outer:exit 2b-27d6c34fede2eb75a39c79cb60c0d4ef8a01320f-62f7dbfa1058d20d-01
2022-04-20T15:30:24.354Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:24.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-969813f69f4991c40134a957764d00a59e1c1733-11ca77689b9619bd-01 outer:exit 2b-969813f69f4991c40134a957764d00a59e1c1733-c67c8175ea7205f6-01
2022-04-20T15:30:24.357Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:24.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-549ea299af57447b57e04538a49043e8823783c8-bbd27114822cdf11-01 outer:exit 2b-549ea299af57447b57e04538a49043e8823783c8-b7fd20ed6734ce09-01
2022-04-20T15:30:24.363Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:24.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-b220d53822bea52ccbd4cddfed0738fbf20460e8-f56ec321ea913e94-01 outer:exit 2b-b220d53822bea52ccbd4cddfed0738fbf20460e8-240a4838fdca51cc-01
2022-04-20T15:30:24.364Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:24.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d0d67bbc5c2e7c8b9b493cb6b91f48051d1bf4d-01954e3c6ca58a75-01 outer:exit 2b-1d0d67bbc5c2e7c8b9b493cb6b91f48051d1bf4d-183812f5c6a8f2fc-01
2022-04-20T15:30:24.366Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:24.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-87bb62d34e55572b8976d0c46c856c50620dec37-100e8b3a5d3fe437-01 outer:exit 2b-87bb62d34e55572b8976d0c46c856c50620dec37-4002f5189347ace2-01
2022-04-20T15:30:24.368Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:24.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-29e8ebec816336aa47370e18ea054cbb7baca0c3-8c4f9f9de49f9d4c-01 outer:exit 2b-29e8ebec816336aa47370e18ea054cbb7baca0c3-848ed99a9de01dce-01
2022-04-20T15:30:24.369Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:24.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4ee3f15125a556a987cc44114bd373ff98bd902-c6e4ab831a7419e8-01 outer:exit 2b-a4ee3f15125a556a987cc44114bd373ff98bd902-1b1de9f9771bfdfd-01
2022-04-20T15:30:24.371Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:24.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-639c759ce264b47ee9ed33ec70864301192eeb80-d99b95eb704d30dc-01 outer:exit 2b-639c759ce264b47ee9ed33ec70864301192eeb80-bfd4a1b8f453f325-01
2022-04-20T15:30:24.379Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:24.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-23ee1db50d8b871c865fa856acd1ad023366f13a-e4f091db00d14fea-01 outer:exit 2b-23ee1db50d8b871c865fa856acd1ad023366f13a-efc91e2f705a0e8e-01
2022-04-20T15:30:24.387Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:24.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0a25ca944cbc9a143cfa88ab557411c72eae2de-4c804fc5d1f53109-01 outer:exit 2b-f0a25ca944cbc9a143cfa88ab557411c72eae2de-2b499b93bd7c3f1e-01
2022-04-20T15:30:24.390Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:24.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf1082a4a408f2ed19834469b336d99bceea5427-7ec1a75015a89579-01 outer:exit 2b-bf1082a4a408f2ed19834469b336d99bceea5427-f11b62b725598b22-01
2022-04-20T15:30:24.392Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:24.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-177480d49e99618fad3455c9217ef49c86381c1c-9d86d7bb8116b448-01 outer:exit 2b-177480d49e99618fad3455c9217ef49c86381c1c-6c312d60ac0acfee-01
2022-04-20T15:30:24.394Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:24.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-004d31e1170dd3949c40155f76f8f889455691ed-1a8ea11a5f5128b7-01 outer:exit 2b-004d31e1170dd3949c40155f76f8f889455691ed-542044b8b034868e-01
2022-04-20T15:30:24.420Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (279ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:29.390Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:29.390Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:29.390Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:29.391Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:29.448Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:29.556Z appoptics:patching patched crypto 
2022-04-20T15:30:29.582Z appoptics:patching patched https 
2022-04-20T15:30:29.582Z appoptics:patching patched http 
2022-04-20T15:30:29.616Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:29.617Z appoptics:patching patched fs 
2022-04-20T15:30:29.641Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v16.14.2)
2022-04-20T15:30:29.647Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2022-04-20T15:30:29.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-24a8b6741dd475a3397f5da6c30dbefac6393e0a-13ff61cad396d82b-01 outer:exit 2b-24a8b6741dd475a3397f5da6c30dbefac6393e0a-241c26f447a21fe3-01
2022-04-20T15:30:29.689Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:29.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-b97654bf477acb2cce01812a0aabf54d6ae1ab15-0d2aff3e292f24fb-01 outer:exit 2b-b97654bf477acb2cce01812a0aabf54d6ae1ab15-61e5fd8bbbea51e3-01
2022-04-20T15:30:29.727Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:29.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f6393cd7b4641d309599b3a02141674cab662dd-5d1f56f59ab77b82-01 outer:exit 2b-4f6393cd7b4641d309599b3a02141674cab662dd-20a03bca1e64f171-01
2022-04-20T15:30:29.730Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:29.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a68dee6043405e860f1f10ef651bd2de224dbe0-4243bdf4181082a4-01 outer:exit 2b-6a68dee6043405e860f1f10ef651bd2de224dbe0-2c0cc2936316f494-01
2022-04-20T15:30:29.733Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:29.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8f1fbe76f5b06937194fec5e731a77e77c2729d-dc0b49a9d856964a-01 outer:exit 2b-b8f1fbe76f5b06937194fec5e731a77e77c2729d-916e920647d9ef4e-01
2022-04-20T15:30:29.738Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:29.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2ba2ffd535f702840a10fc89a9348c418367bf2-b5c6854b536cd816-01 outer:exit 2b-a2ba2ffd535f702840a10fc89a9348c418367bf2-d6dfad4137166baf-01
2022-04-20T15:30:29.741Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:29.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9cbd8156a9446355403b85b808ff60bf60c0901-a0dda30e5de981ee-01 outer:exit 2b-a9cbd8156a9446355403b85b808ff60bf60c0901-58234c81c87f4677-01
2022-04-20T15:30:29.745Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:29.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-157f5bef64595803f6e1c259473bf6eae8b5f451-5b723ed155c782e1-01 outer:exit 2b-157f5bef64595803f6e1c259473bf6eae8b5f451-1f7c1c27a2a8b173-01
2022-04-20T15:30:29.748Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:29.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-e53edccd22a8d59cc3a304485e806a5606e52c9b-0d7137a6ac69b20d-01 outer:exit 2b-e53edccd22a8d59cc3a304485e806a5606e52c9b-b65cb15b38acb924-01
2022-04-20T15:30:29.751Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:29.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-87809b1eee09af7db6bd02a1a0ebb5f41fb77e7f-4c8a58186ae89c54-01 outer:exit 2b-87809b1eee09af7db6bd02a1a0ebb5f41fb77e7f-4763efc1638bbabe-01
2022-04-20T15:30:29.754Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:29.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5102badadab2e84bed72f7a164776114be46c4e-600bc3f321137ff9-01 outer:exit 2b-c5102badadab2e84bed72f7a164776114be46c4e-bfc56098b78ad0dd-01
2022-04-20T15:30:29.757Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:29.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f8fdfc08a9a2e1bb80411ca2914d55b59525a37-71d604a3f0baa72b-01 outer:exit 2b-9f8fdfc08a9a2e1bb80411ca2914d55b59525a37-0490cb29dfe9a9d8-01
2022-04-20T15:30:29.763Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:29.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-41a823dc67df9910e5d657a3377457369a4aa037-7dc4d7a355969019-01 outer:exit 2b-41a823dc67df9910e5d657a3377457369a4aa037-97b20d06dd531950-01
2022-04-20T15:30:29.778Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:29.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a767a165307a07e671ff835cd0a01d8a9e8baa1-d1f86e3775fd39d2-01 outer:exit 2b-1a767a165307a07e671ff835cd0a01d8a9e8baa1-4694eb48d0963795-01
2022-04-20T15:30:29.812Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:29.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-91bf637c0243798b45be294a70860671f3f2dfd8-183be0e978ea2136-01 outer:exit 2b-91bf637c0243798b45be294a70860671f3f2dfd8-4bdc04afd3a85176-01
2022-04-20T15:30:29.814Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:29.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-6de2d0bd60805709ca6479c0d33e1004affa2da7-acda99ab9312b70a-01 outer:exit 2b-6de2d0bd60805709ca6479c0d33e1004affa2da7-d0ae1761514c9fea-01
2022-04-20T15:30:29.816Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:29.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-efc91664d9806c8569e3a1e37035b59043aee9a8-8982249dbefa5a3e-01 outer:exit 2b-efc91664d9806c8569e3a1e37035b59043aee9a8-9fe82381bad84644-01
2022-04-20T15:30:29.819Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:29.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-44b22acf09228c3c52e8b9390ce4053f3c0ee3e5-6a31e4cb05248423-01 outer:exit 2b-44b22acf09228c3c52e8b9390ce4053f3c0ee3e5-ffc0b6d4f910e4d5-01
2022-04-20T15:30:29.821Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:29.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f6209963b7596e3c845bc579aeb04fdabc91436-3bf4934eb6e0a61d-01 outer:exit 2b-4f6209963b7596e3c845bc579aeb04fdabc91436-08f58818a90e3997-01
2022-04-20T15:30:29.823Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:29.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-65546f2440ae6eb3db5fe4150bef1d92e9dcb216-24964e03d81f5b72-01 outer:exit 2b-65546f2440ae6eb3db5fe4150bef1d92e9dcb216-78e6dde783b587b1-01
2022-04-20T15:30:29.825Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:29.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-33c4a085381f1ab75f1767b462515ad23e7f7583-99acc70355574421-01 outer:exit 2b-33c4a085381f1ab75f1767b462515ad23e7f7583-8fabd387a4784c26-01
2022-04-20T15:30:29.826Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:29.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-baaf4b240d0b98f8d27c3db25942a8baf6c50c4d-541db888f701b119-01 outer:exit 2b-baaf4b240d0b98f8d27c3db25942a8baf6c50c4d-9bd0cdce5e965139-01
2022-04-20T15:30:29.828Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:29.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bd7df170eb93d5b761f8711f8bf532f09362969-e5b19e34edf8cb3f-01 outer:exit 2b-8bd7df170eb93d5b761f8711f8bf532f09362969-656be4ed8dd4cbf6-01
2022-04-20T15:30:29.831Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:29.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c855a4b287943b5d2d8ef88c583aa86ecb3e409-0700b28fc4221d87-01 outer:exit 2b-9c855a4b287943b5d2d8ef88c583aa86ecb3e409-6b65ef84ad300e58-01
2022-04-20T15:30:29.833Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:29.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3eb73c307c41479d8b9db89eebba2fa1daa345d-4fec4b3fa5c30951-01 outer:exit 2b-c3eb73c307c41479d8b9db89eebba2fa1daa345d-80e53069c18668d5-01
2022-04-20T15:30:29.835Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:29.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a3e5f59afa210145c000043eeb291515ec5d4a8-12282aac12445c14-01 outer:exit 2b-5a3e5f59afa210145c000043eeb291515ec5d4a8-4c06f43f6573c160-01
2022-04-20T15:30:29.837Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:29.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-85716dba2327cdd96921c65f09c64fbad2e7df41-872ab5ea46b15669-01 outer:exit 2b-85716dba2327cdd96921c65f09c64fbad2e7df41-4a7dd247464a7be6-01
2022-04-20T15:30:29.842Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:29.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ba9ce0c76ed14d7472d3cb888af6a30d6d4de11-171e96d69492f4bd-01 outer:exit 2b-6ba9ce0c76ed14d7472d3cb888af6a30d6d4de11-e6f871275a4e6968-01
2022-04-20T15:30:29.847Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:29.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-b44182298df01cf29cec0baf656e6bbb3e988f18-8cef2411e8d6cd8a-01 outer:exit 2b-b44182298df01cf29cec0baf656e6bbb3e988f18-810c7327c83d7756-01
2022-04-20T15:30:29.855Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:29.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-137b76cc19eabb507386707daa7182c778516b52-1c671d5070af23a8-01 outer:exit 2b-137b76cc19eabb507386707daa7182c778516b52-b143d9870c64af3b-01
2022-04-20T15:30:29.861Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:29.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7f2955fd319a11898314952b2ef14430fb3bf6f-b7086f592d1636b8-01 outer:exit 2b-d7f2955fd319a11898314952b2ef14430fb3bf6f-586317212b7934f3-01
2022-04-20T15:30:29.863Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:29.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-da44b35caa3789c5ec89b60d73c20ed628d9a2a9-5f4b05742830808c-01 outer:exit 2b-da44b35caa3789c5ec89b60d73c20ed628d9a2a9-5b8a7a258e369f8b-01
2022-04-20T15:30:29.866Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:29.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-52bdb203b3302eb0894dd5c13bcfa9b5deb30cda-ee155f30171790fe-01 outer:exit 2b-52bdb203b3302eb0894dd5c13bcfa9b5deb30cda-754e488eb414a9f3-01
2022-04-20T15:30:29.872Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:29.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3f7acb6024931143eaa9ac864e40a85a5c44d78-43ed1cc298b2cedb-01 outer:exit 2b-c3f7acb6024931143eaa9ac864e40a85a5c44d78-1b317a20a810277a-01
2022-04-20T15:30:29.874Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:29.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-665c44f4697d32f14a1842cec4c0f2e0536ad537-0dda9b75f3c3785d-01 outer:exit 2b-665c44f4697d32f14a1842cec4c0f2e0536ad537-8492f0bd69824458-01
2022-04-20T15:30:29.875Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:29.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-2050a55d4e7a894575d6c056407e73292a1d1cb4-7b7bd93c5e4eefa9-01 outer:exit 2b-2050a55d4e7a894575d6c056407e73292a1d1cb4-2b3d6c3cb9701f11-01
2022-04-20T15:30:29.877Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:29.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d13325c2bfdc1abe6ece6fc28f5b498f8727ce5-48ba8d0457247d4c-01 outer:exit 2b-2d13325c2bfdc1abe6ece6fc28f5b498f8727ce5-98b0186cc47d0998-01
2022-04-20T15:30:29.879Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:29.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-8266e0baa45490c02501728369140a3eadce2b14-18d4962a7ae032f5-01 outer:exit 2b-8266e0baa45490c02501728369140a3eadce2b14-c3c1f0b62dcbcef6-01
2022-04-20T15:30:29.880Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:29.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-5170b8df0133299060ff40c7a84a9690b77f3514-766e4eb622bb4edd-01 outer:exit 2b-5170b8df0133299060ff40c7a84a9690b77f3514-e23b70e19e7b962f-01
2022-04-20T15:30:29.889Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:29.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-49ba079c5c547260b362c2c162b1f9d0a3b6115f-a755c7bae820a5fd-01 outer:exit 2b-49ba079c5c547260b362c2c162b1f9d0a3b6115f-553741a35bba9071-01
2022-04-20T15:30:29.896Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:29.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b07b1c7299470e2ce9969709021b6dea5835272-94ee59ab0ddf7114-01 outer:exit 2b-9b07b1c7299470e2ce9969709021b6dea5835272-8121d2be0b775f3a-01
2022-04-20T15:30:29.899Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:29.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b367bcc382f6ed5ff279f4abb83bf23d87ae5d3-cdf2da60e0c1e1c3-01 outer:exit 2b-1b367bcc382f6ed5ff279f4abb83bf23d87ae5d3-97fa864b93a6aabc-01
2022-04-20T15:30:29.901Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:29.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-3788d7d28b4e278ed5a69d1870fa1b91d72c5707-ab9ba204bffbfa1c-01 outer:exit 2b-3788d7d28b4e278ed5a69d1870fa1b91d72c5707-1e7726c46ab1f9da-01
2022-04-20T15:30:29.903Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:29.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-058fd9fa1e0f450a2184e802819436fccab56ccb-d1f07c01018a1d5d-01 outer:exit 2b-058fd9fa1e0f450a2184e802819436fccab56ccb-81cf08878ff14086-01
2022-04-20T15:30:29.929Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (277ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:35.672Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:35.673Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:35.673Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:35.673Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:35.730Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:35.846Z appoptics:patching patched crypto 
2022-04-20T15:30:35.863Z appoptics:patching patched https 
2022-04-20T15:30:35.863Z appoptics:patching patched http 
2022-04-20T15:30:35.898Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:35.898Z appoptics:patching patched fs 
2022-04-20T15:30:35.922Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v16.14.2)
2022-04-20T15:30:35.927Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2022-04-20T15:30:35.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-40c534fead324d431d1d823e3e1c8952c7c17fbf-b8d9eea7fd15158a-01 outer:exit 2b-40c534fead324d431d1d823e3e1c8952c7c17fbf-7295d7da92f43f43-01
2022-04-20T15:30:35.970Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:36.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cb33694b9a92b4b3ab4dd0c169430404dedc7d9-3f2a7b235b22e285-01 outer:exit 2b-8cb33694b9a92b4b3ab4dd0c169430404dedc7d9-8d55668d1d20b674-01
2022-04-20T15:30:36.008Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:36.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-a99c9a2319fe8a804dbe2fbb86136f93e83adff7-ad2e4507a4ef884f-01 outer:exit 2b-a99c9a2319fe8a804dbe2fbb86136f93e83adff7-412b25fcc57ec226-01
2022-04-20T15:30:36.011Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:36.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e076e95a41d15b5e5ee38baba0ffe8b0483fc05-3649d70827d5d4a7-01 outer:exit 2b-4e076e95a41d15b5e5ee38baba0ffe8b0483fc05-9545db9c541a9b43-01
2022-04-20T15:30:36.014Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:36.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5d61f5012ca0c269cbebf2fb394a778d467d6b0-b14104b6de17e473-01 outer:exit 2b-a5d61f5012ca0c269cbebf2fb394a778d467d6b0-a2178f5895576cab-01
2022-04-20T15:30:36.018Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:36.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-654185cc8865051234f2ea282089eaaf9be48ea0-940d3b869812b267-01 outer:exit 2b-654185cc8865051234f2ea282089eaaf9be48ea0-3264d6108c6870c0-01
2022-04-20T15:30:36.022Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:36.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a5b9eeee049d88a198236d47d0bc3210979c335-930e83af50d080fb-01 outer:exit 2b-9a5b9eeee049d88a198236d47d0bc3210979c335-581f81b64c6eb438-01
2022-04-20T15:30:36.024Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:36.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-f07141523dd785694769f0779d1897d58ee7a608-fa77b234395d2cc8-01 outer:exit 2b-f07141523dd785694769f0779d1897d58ee7a608-5e5ba1cb2e161322-01
2022-04-20T15:30:36.026Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:36.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ca4b6f5b4532a00afd856b8fac02a1b72a2e5de-0f60abd767b3929c-01 outer:exit 2b-4ca4b6f5b4532a00afd856b8fac02a1b72a2e5de-10b0c5d9d2676a12-01
2022-04-20T15:30:36.031Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:36.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-b01c0fd8f1974fd823ead978cae7a7b076297980-9522361d62cda7f7-01 outer:exit 2b-b01c0fd8f1974fd823ead978cae7a7b076297980-bb2c553f37d47835-01
2022-04-20T15:30:36.034Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:36.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-96a078c79a1bbc37d09afe8bf20d530fd29a2073-61760b1e1f86a342-01 outer:exit 2b-96a078c79a1bbc37d09afe8bf20d530fd29a2073-c43dbfa5fcfcd090-01
2022-04-20T15:30:36.038Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:36.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-01cbf7f2be8637d451ed580612cf4530f7605969-b773c9d459645435-01 outer:exit 2b-01cbf7f2be8637d451ed580612cf4530f7605969-30863831d4879feb-01
2022-04-20T15:30:36.043Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:36.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-04811979f5f7884effd2b525e9831cd019ccefef-d78dbe77003ac03b-01 outer:exit 2b-04811979f5f7884effd2b525e9831cd019ccefef-4b98799267a7b351-01
2022-04-20T15:30:36.057Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:36.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-50a884af88faab7101ef057b0219c6412945c279-eebb112e9bec91b6-01 outer:exit 2b-50a884af88faab7101ef057b0219c6412945c279-176591529c6bfee2-01
2022-04-20T15:30:36.091Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:36.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3af84fca48c9799385c6e3a1cc61b6bdd6e8352-097762184dd8f1b3-01 outer:exit 2b-f3af84fca48c9799385c6e3a1cc61b6bdd6e8352-4fea3e22aad2c455-01
2022-04-20T15:30:36.093Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:36.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-f758b26fbce29391289e3267f9888315149b39eb-6547e07b26a0ed2f-01 outer:exit 2b-f758b26fbce29391289e3267f9888315149b39eb-a8f11080f7416059-01
2022-04-20T15:30:36.095Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:36.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-31177ac5780cf0344d6bf7320e3bfc5ee15e9c89-51e0f59534249706-01 outer:exit 2b-31177ac5780cf0344d6bf7320e3bfc5ee15e9c89-f37047d5681b110e-01
2022-04-20T15:30:36.098Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:36.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cfdef74f39cfda3b787c85f923ce2305ce87850-c40bef73e7a617ed-01 outer:exit 2b-8cfdef74f39cfda3b787c85f923ce2305ce87850-003cb57eed3de856-01
2022-04-20T15:30:36.100Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:36.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-da48601b50364f234bdee1aefd22ba1a29be29a1-4955f646fd6a7c70-01 outer:exit 2b-da48601b50364f234bdee1aefd22ba1a29be29a1-631bcb2ca28ae854-01
2022-04-20T15:30:36.102Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:36.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e9f6c937983091274e5de522a42432bd4d74118-f3df0fff69aa2250-01 outer:exit 2b-3e9f6c937983091274e5de522a42432bd4d74118-614abdfed6d04378-01
2022-04-20T15:30:36.104Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:36.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b9e911bc4b7f4c96eed7a196728a0cf501dcf0f-bb68a8fb471c90c7-01 outer:exit 2b-4b9e911bc4b7f4c96eed7a196728a0cf501dcf0f-ab723541e88029e5-01
2022-04-20T15:30:36.105Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:36.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d6f5db12a1cd346d6bb11b0651b145bc5f5526d-b28c5f44b2506e4b-01 outer:exit 2b-8d6f5db12a1cd346d6bb11b0651b145bc5f5526d-cc5acb504a94f09d-01
2022-04-20T15:30:36.107Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:36.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-713128fa27d6d972700fa97c7e84447545ee5d38-27443ec27fa83c4b-01 outer:exit 2b-713128fa27d6d972700fa97c7e84447545ee5d38-42e2e88da969574b-01
2022-04-20T15:30:36.110Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:36.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-832bf0b468e1749da4cfff7a89968f8c7acd4bde-ab6d346ea846f486-01 outer:exit 2b-832bf0b468e1749da4cfff7a89968f8c7acd4bde-be7829c2a494b97a-01
2022-04-20T15:30:36.112Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:36.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d4f80158e7fee9113bb6ae7fb8c36b6b4915635-e1fd7859d2111f64-01 outer:exit 2b-7d4f80158e7fee9113bb6ae7fb8c36b6b4915635-66f8cd969e9f8cf9-01
2022-04-20T15:30:36.114Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:36.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-3610a2f5b48b1fe86c48a5e2272b7d2f68652a7d-3203b306275f38ca-01 outer:exit 2b-3610a2f5b48b1fe86c48a5e2272b7d2f68652a7d-e931881f45353a4b-01
2022-04-20T15:30:36.117Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:36.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc998fc06e25b23881023ba1f98734a974789fb5-8afbdb91da2f5952-01 outer:exit 2b-fc998fc06e25b23881023ba1f98734a974789fb5-771d30b7e72c4ca0-01
2022-04-20T15:30:36.122Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:36.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-04d5c09ef0001cf8306e600b7f9128cdbddbd9ec-3bba7bf47ea1efbe-01 outer:exit 2b-04d5c09ef0001cf8306e600b7f9128cdbddbd9ec-04f5e2e97efdeeb7-01
2022-04-20T15:30:36.128Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:36.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-514c5f92c402e5d23a31d8c5e67f54b3540200f8-b609c906550ace24-01 outer:exit 2b-514c5f92c402e5d23a31d8c5e67f54b3540200f8-68857345cc749217-01
2022-04-20T15:30:36.135Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:36.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d19884f0a6dd2ff36db77f9d8f9aa3d62ed4548-01f7d22a61079830-01 outer:exit 2b-1d19884f0a6dd2ff36db77f9d8f9aa3d62ed4548-6c6ff5dfc3999637-01
2022-04-20T15:30:36.141Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:36.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-83a3a29da6d576a1a7db5db11b2a86e5a63bab63-b26c9a629189b783-01 outer:exit 2b-83a3a29da6d576a1a7db5db11b2a86e5a63bab63-03635797a49a1bd1-01
2022-04-20T15:30:36.142Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:36.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-7031d7e3d8a4c84f19c546b9b4ba5fde13b1ce04-39e50ded4dc0503c-01 outer:exit 2b-7031d7e3d8a4c84f19c546b9b4ba5fde13b1ce04-075105edbb6361c0-01
2022-04-20T15:30:36.145Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:36.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bafbedec31b954ee36e62583a0591fa1e860bee-29a0db441ee7072a-01 outer:exit 2b-0bafbedec31b954ee36e62583a0591fa1e860bee-7ee4cc5b3a5e5211-01
2022-04-20T15:30:36.151Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:36.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1add524cb60aae4fa211fc00b52b6e00d8696de-7e54ec11fa4e4f5c-01 outer:exit 2b-a1add524cb60aae4fa211fc00b52b6e00d8696de-35d2fedbcbb20686-01
2022-04-20T15:30:36.153Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:36.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-14d4aecc1397152d2ad4c220e31cf253bdb4779b-085a9ac7dd78852a-01 outer:exit 2b-14d4aecc1397152d2ad4c220e31cf253bdb4779b-a00692f2e2622d73-01
2022-04-20T15:30:36.154Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:36.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bd3e629f1958734b4fba36b60a430fe2387b46a-c180b76a5bb34b4d-01 outer:exit 2b-9bd3e629f1958734b4fba36b60a430fe2387b46a-8a8c3932cbd4e0a6-01
2022-04-20T15:30:36.156Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:36.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-042375bf45771871673e00e4e26fcec2437cb522-bd826f81bba30af8-01 outer:exit 2b-042375bf45771871673e00e4e26fcec2437cb522-a18cec7c3047d135-01
2022-04-20T15:30:36.158Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:36.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-cca23be19327676acf66b607d7cc7a18f5bf72f4-04fa5908b4b7e9d0-01 outer:exit 2b-cca23be19327676acf66b607d7cc7a18f5bf72f4-0a96d82c3f944cef-01
2022-04-20T15:30:36.159Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:36.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8771b9a9584abc4cb16b07dd74e686a00bc4270-04cf888468227f6e-01 outer:exit 2b-c8771b9a9584abc4cb16b07dd74e686a00bc4270-ada44a03fdd7d2e8-01
2022-04-20T15:30:36.168Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:36.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-947ff190ef2e10a7384987f90376cc9ca807e683-e79e94b8a7eda82c-01 outer:exit 2b-947ff190ef2e10a7384987f90376cc9ca807e683-3a55bb2b2c6bc72e-01
2022-04-20T15:30:36.175Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:36.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-399a4f4caaa4ff6a487d2490d5c483f22b207076-3f74a1c53f9650c0-01 outer:exit 2b-399a4f4caaa4ff6a487d2490d5c483f22b207076-1f4d7766235418df-01
2022-04-20T15:30:36.178Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:36.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-03bd1e932e6ecd9b8df24563b74db68009af785c-398601b45b4b57c0-01 outer:exit 2b-03bd1e932e6ecd9b8df24563b74db68009af785c-efc3d62a3dd959a3-01
2022-04-20T15:30:36.180Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:36.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-418cea43bd78f8d220191000e291a7f3d3a074b1-9b8d282a6b689c09-01 outer:exit 2b-418cea43bd78f8d220191000e291a7f3d3a074b1-84e9b7c2dd04c8b5-01
2022-04-20T15:30:36.183Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:36.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8de91932c20c849bc328c90a8732757c6f7a7a7-3d114cc643eefec0-01 outer:exit 2b-f8de91932c20c849bc328c90a8732757c6f7a7a7-b113a4a55e035d56-01
2022-04-20T15:30:36.209Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (276ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:41.204Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:41.204Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:41.204Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:41.205Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:41.275Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:41.396Z appoptics:patching patched crypto 
2022-04-20T15:30:41.428Z appoptics:patching patched https 
2022-04-20T15:30:41.438Z appoptics:patching patched http 
2022-04-20T15:30:41.465Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:41.466Z appoptics:patching patched fs 
2022-04-20T15:30:41.493Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v16.14.2)
2022-04-20T15:30:41.499Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2022-04-20T15:30:41.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbbaa4250ff25240a15edf639bf7ccbf2e78dfdf-308a3935ad5eb640-01 outer:exit 2b-fbbaa4250ff25240a15edf639bf7ccbf2e78dfdf-97d9d3c052308c2b-01
2022-04-20T15:30:41.545Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:41.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-e17b851f71aee391be7a8784bf81d33d1ae2f6b9-2ecc6dd6ec87885d-01 outer:exit 2b-e17b851f71aee391be7a8784bf81d33d1ae2f6b9-bc441a5ea68e4e76-01
2022-04-20T15:30:41.583Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:41.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-93d71c3a9e0d260f766287c82bb74444a385f8ca-fb93f50353012cc3-01 outer:exit 2b-93d71c3a9e0d260f766287c82bb74444a385f8ca-e63bbf9ee5fddf8a-01
2022-04-20T15:30:41.588Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:41.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-91dd10281344c2707395137d1e25c45b409751b1-b317639cd2d3fe44-01 outer:exit 2b-91dd10281344c2707395137d1e25c45b409751b1-cdd4b48c3cd4ab63-01
2022-04-20T15:30:41.591Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:41.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-91b9d2cb429d10caa3e9505e1beaee5471905174-9068990115186788-01 outer:exit 2b-91b9d2cb429d10caa3e9505e1beaee5471905174-9d273b61e5f32a1b-01
2022-04-20T15:30:41.597Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:41.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-8271422184a326555d2fe6641c1999f35e709bae-51756a786193fd2a-01 outer:exit 2b-8271422184a326555d2fe6641c1999f35e709bae-36b61dcfa8151e12-01
2022-04-20T15:30:41.600Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:41.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccffaccee2aeead76efbb7eab3ce0e6962490b4f-1a280c94a80f0090-01 outer:exit 2b-ccffaccee2aeead76efbb7eab3ce0e6962490b4f-4f186736deed00aa-01
2022-04-20T15:30:41.602Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:41.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-87ad8f9800efa51aa36bb7de9f356125920f0eee-d18b7a1464a5bd8d-01 outer:exit 2b-87ad8f9800efa51aa36bb7de9f356125920f0eee-347b4b79c5f4f963-01
2022-04-20T15:30:41.605Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:41.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd8a5ce1a0122d82251ed059e382727fe73d1a25-46913ea781a211da-01 outer:exit 2b-cd8a5ce1a0122d82251ed059e382727fe73d1a25-4847e065490b85d8-01
2022-04-20T15:30:41.609Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:41.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-c803a57c931435f5914d5a55681be0e71b25fb98-afcb1ec311de86f0-01 outer:exit 2b-c803a57c931435f5914d5a55681be0e71b25fb98-d016e95468025a70-01
2022-04-20T15:30:41.612Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:41.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8e4c5a86ae4479622027f7eebe0e7ee5f425710-7848f627aff73987-01 outer:exit 2b-c8e4c5a86ae4479622027f7eebe0e7ee5f425710-0a9d2217ff107434-01
2022-04-20T15:30:41.616Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:41.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-388887482d4d1e41927614f2cdcc142782ff7ca8-2f3faf538432fcf9-01 outer:exit 2b-388887482d4d1e41927614f2cdcc142782ff7ca8-aafdc8c37c607b6f-01
2022-04-20T15:30:41.622Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:41.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-b79ac95903e17c81ce617d20abad3a820b21b906-2ca997b851de041d-01 outer:exit 2b-b79ac95903e17c81ce617d20abad3a820b21b906-b6b45335b988cfd1-01
2022-04-20T15:30:41.638Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:41.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef03c1b047362f3bbb75a0bfa194be1a307ac6bb-9df944fec46ecae2-01 outer:exit 2b-ef03c1b047362f3bbb75a0bfa194be1a307ac6bb-642cee252b4b76ce-01
2022-04-20T15:30:41.673Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:41.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-26833cb86ac5c8285dd4552ca76b79ca4ee859f3-291690fb7a977065-01 outer:exit 2b-26833cb86ac5c8285dd4552ca76b79ca4ee859f3-9f1de63d5796a84e-01
2022-04-20T15:30:41.676Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:41.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-f97b680a405d80edd61989559f77f223c1abbad0-a953f39506a4e2ec-01 outer:exit 2b-f97b680a405d80edd61989559f77f223c1abbad0-a56310be5bc62dd7-01
2022-04-20T15:30:41.678Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:41.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-048be667551cb9943266ab768f1060cf364a623b-3e8e6c9f776cfc4f-01 outer:exit 2b-048be667551cb9943266ab768f1060cf364a623b-df056600479bd445-01
2022-04-20T15:30:41.681Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:41.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c7536cbad2519a1a7d9395c933e5540852ee400-3679452f0e1b2cf6-01 outer:exit 2b-6c7536cbad2519a1a7d9395c933e5540852ee400-a5901033ad400de1-01
2022-04-20T15:30:41.683Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:41.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-846447b7bb38ca2f719eae20a27840cebc0a9991-c6b9f7ef01109758-01 outer:exit 2b-846447b7bb38ca2f719eae20a27840cebc0a9991-43f4afda77f234f0-01
2022-04-20T15:30:41.685Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:41.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-f916495a58802927f184bffb5d34eb1550208825-99b325f5d48c63f3-01 outer:exit 2b-f916495a58802927f184bffb5d34eb1550208825-18e18d6039936473-01
2022-04-20T15:30:41.688Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:41.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-77cb39e9ad208e320ab4ca157f5d914912043621-d9e7999f7c8f5b15-01 outer:exit 2b-77cb39e9ad208e320ab4ca157f5d914912043621-4f09b1508676e871-01
2022-04-20T15:30:41.690Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:41.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-78ef8f059279f76607239f77b27d83d9f762e12d-da292afeed76de81-01 outer:exit 2b-78ef8f059279f76607239f77b27d83d9f762e12d-75e9376378953adc-01
2022-04-20T15:30:41.692Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:41.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-70189e87c34957d2e84592ea7a36f83a966d9fa5-23a87764ac418429-01 outer:exit 2b-70189e87c34957d2e84592ea7a36f83a966d9fa5-676dca09d74e1347-01
2022-04-20T15:30:41.695Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:41.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-b53a698ad44614b08f953fa4225f8405f9037102-dbb31989e392e774-01 outer:exit 2b-b53a698ad44614b08f953fa4225f8405f9037102-cf3b510fe23aa94c-01
2022-04-20T15:30:41.698Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:41.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-960261171adced62c0a60a71d02f4f4ab710d74c-73f63ef8b0831531-01 outer:exit 2b-960261171adced62c0a60a71d02f4f4ab710d74c-e0bedef041c6f42b-01
2022-04-20T15:30:41.700Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:41.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-073a5086126f7ad4df383613467bed3faab74c9b-69b5730308c54229-01 outer:exit 2b-073a5086126f7ad4df383613467bed3faab74c9b-2aa0800aa45f1a00-01
2022-04-20T15:30:41.702Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:41.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b47c052ad16576bd659d308feb1828cafc20ef6-3851ba294fd98e6c-01 outer:exit 2b-0b47c052ad16576bd659d308feb1828cafc20ef6-2697e7deaeb61c49-01
2022-04-20T15:30:41.708Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:41.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfd92f94e33fa9c5bf087383694366adaa9cb98c-a9f6f5b38af829d8-01 outer:exit 2b-dfd92f94e33fa9c5bf087383694366adaa9cb98c-3733c8072df01d60-01
2022-04-20T15:30:41.715Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:41.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1e00c7bc6eb3660fba30ff14f2f3b79cc1a0afe-d722d1e29de66d1b-01 outer:exit 2b-c1e00c7bc6eb3660fba30ff14f2f3b79cc1a0afe-5f5d573db4604e43-01
2022-04-20T15:30:41.724Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:41.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccd23abb6bf4bcb836079e2e12e7ae9d7f829d32-fafaa192fc1e2251-01 outer:exit 2b-ccd23abb6bf4bcb836079e2e12e7ae9d7f829d32-9db033fe1a5824dd-01
2022-04-20T15:30:41.730Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:41.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa899cf18697e075a416952b03cf184fc05a13bd-0e19640ca2be59c3-01 outer:exit 2b-aa899cf18697e075a416952b03cf184fc05a13bd-e0c3f68c0ce6e37e-01
2022-04-20T15:30:41.734Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:41.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-54c05408957b8eeddfec01fba6c10cb297a03920-7387738a82983234-01 outer:exit 2b-54c05408957b8eeddfec01fba6c10cb297a03920-3c828efef6456a9e-01
2022-04-20T15:30:41.738Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:41.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-169d79dd847203293186643775e4671ef0d16211-08356dd5296f867d-01 outer:exit 2b-169d79dd847203293186643775e4671ef0d16211-b90fa203bdbe4d05-01
2022-04-20T15:30:41.744Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:41.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-8de7b4963bfb94032c14ee8f27b6af858a2f2a91-96a744be2fce697d-01 outer:exit 2b-8de7b4963bfb94032c14ee8f27b6af858a2f2a91-505b170c8803a842-01
2022-04-20T15:30:41.746Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:41.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-515a6f221fa417772c838b380d87cabba0c049ee-1ad122c3e062cee4-01 outer:exit 2b-515a6f221fa417772c838b380d87cabba0c049ee-2c8edae734769082-01
2022-04-20T15:30:41.748Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:41.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-07168a03c217d6e760b87501894b61f849605b4a-25fcb64037c46a31-01 outer:exit 2b-07168a03c217d6e760b87501894b61f849605b4a-6fdcc16fe117e674-01
2022-04-20T15:30:41.752Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:41.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-680a16a7c5bfe54b86e781a53541c172b0a90e09-b45e8d9ecda6800f-01 outer:exit 2b-680a16a7c5bfe54b86e781a53541c172b0a90e09-4db5753685991034-01
2022-04-20T15:30:41.754Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:41.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5b15e9ac3f16b0f1236f164a5329cf97cc48852-cd7116c63ad4b97d-01 outer:exit 2b-a5b15e9ac3f16b0f1236f164a5329cf97cc48852-e30be7daec3cec08-01
2022-04-20T15:30:41.755Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:41.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-1aa17424c8075fb2b1f48051ba6d19d7010da9be-57ab081d6c51a848-01 outer:exit 2b-1aa17424c8075fb2b1f48051ba6d19d7010da9be-57eb292830c3be2c-01
2022-04-20T15:30:41.765Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:41.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e927dd3123be1fa63795eec3354744514d179b3-7e2082cf6b568751-01 outer:exit 2b-9e927dd3123be1fa63795eec3354744514d179b3-299bef3f029f532a-01
2022-04-20T15:30:41.773Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:41.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-46538a81ab4b722f0168795b2c3691aee2a45516-ce9acc55f5c8cc7d-01 outer:exit 2b-46538a81ab4b722f0168795b2c3691aee2a45516-b701fad3c8c88b14-01
2022-04-20T15:30:41.775Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:41.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f8d2a0cba0f96005c31675368ac0cc15941f2d5-781193e4798aaffc-01 outer:exit 2b-6f8d2a0cba0f96005c31675368ac0cc15941f2d5-c40a7a3a06ebb70a-01
2022-04-20T15:30:41.778Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:41.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3eaea2f1d27247aa2dfd50806ff896b3b78efb2-64f82db7359f7c4a-01 outer:exit 2b-f3eaea2f1d27247aa2dfd50806ff896b3b78efb2-4108d6ea69d887b6-01
2022-04-20T15:30:41.786Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:41.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1e5abe8d907550516ebe85de07b74589acf0258-0274bb6f07663fd9-01 outer:exit 2b-d1e5abe8d907550516ebe85de07b74589acf0258-c5cdc9e06eb0b0dd-01
2022-04-20T15:30:41.813Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (307ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:47.325Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:47.326Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:47.326Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:47.327Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:47.384Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:47.505Z appoptics:patching patched crypto 
2022-04-20T15:30:47.544Z appoptics:patching patched https 
2022-04-20T15:30:47.544Z appoptics:patching patched http 
2022-04-20T15:30:47.577Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:47.577Z appoptics:patching patched fs 
2022-04-20T15:30:47.601Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v16.14.2)
2022-04-20T15:30:47.607Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2022-04-20T15:30:47.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a32a2ba196a00f694d9b164a2ea8d0c0104cf6e-01059d65f370dc1a-01 outer:exit 2b-8a32a2ba196a00f694d9b164a2ea8d0c0104cf6e-c7f09ec540c65ad5-01
2022-04-20T15:30:47.650Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:47.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-87e2a66546a0a0e5788fa6cdba7fe18ed911e649-3e17add88b680428-01 outer:exit 2b-87e2a66546a0a0e5788fa6cdba7fe18ed911e649-9734d1c310182619-01
2022-04-20T15:30:47.689Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:47.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-758a7302c4ff0feb2d8605c29390bac23719762e-07c849bea0998637-01 outer:exit 2b-758a7302c4ff0feb2d8605c29390bac23719762e-e89b0e45bf21cda6-01
2022-04-20T15:30:47.692Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:47.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f1a190894de8026646aefae0e220f987d52f4ab-0d2c048edcc1513a-01 outer:exit 2b-8f1a190894de8026646aefae0e220f987d52f4ab-d69412addad58c57-01
2022-04-20T15:30:47.695Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:47.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-af58fa2533f630a8f33ea0f54529c8ab4830d31f-390a070d54286c84-01 outer:exit 2b-af58fa2533f630a8f33ea0f54529c8ab4830d31f-8358610958ab9296-01
2022-04-20T15:30:47.700Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:47.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-449bf735389284f09e95211b83fe0a8338f6608c-2ef299dd0f948bf9-01 outer:exit 2b-449bf735389284f09e95211b83fe0a8338f6608c-2f8aa594272ab7b4-01
2022-04-20T15:30:47.703Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:47.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-452bdd5fb24457d86c7ba8841f7e54d82117a765-bce51961766d0954-01 outer:exit 2b-452bdd5fb24457d86c7ba8841f7e54d82117a765-085314ff57cb48fe-01
2022-04-20T15:30:47.705Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:47.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d1ea5a26c1c0f21cbf1c54a9829bb3bd38f578f-f0735ba93d8f1973-01 outer:exit 2b-3d1ea5a26c1c0f21cbf1c54a9829bb3bd38f578f-370d9bd7122b0e9d-01
2022-04-20T15:30:47.708Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:47.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-efe86d9ab7a24a87dfc3cd6eff69a2af9e4e84c3-ff777c190acbe094-01 outer:exit 2b-efe86d9ab7a24a87dfc3cd6eff69a2af9e4e84c3-f7da1b5b8928057e-01
2022-04-20T15:30:47.710Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:47.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-089d5ec8e0227d5a0ada89fd76864c87364173e5-a5e5ef9b3151bdab-01 outer:exit 2b-089d5ec8e0227d5a0ada89fd76864c87364173e5-95508bcced1764fb-01
2022-04-20T15:30:47.713Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:47.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-81c23349fb1f319acd3d4e8d6af6a9d5372389a7-d33066c4d4edce73-01 outer:exit 2b-81c23349fb1f319acd3d4e8d6af6a9d5372389a7-bb76ad9b3e46f5ce-01
2022-04-20T15:30:47.717Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:47.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e5f1d88da88c2906b8e3926a109b1bd8bba9142-e354f6109edafafc-01 outer:exit 2b-5e5f1d88da88c2906b8e3926a109b1bd8bba9142-48e11c386b901ee7-01
2022-04-20T15:30:47.723Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:47.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9afc6f9deb183d36091739d435e71482dd662b0-1eb56e8cfe83619c-01 outer:exit 2b-e9afc6f9deb183d36091739d435e71482dd662b0-10185df284de567a-01
2022-04-20T15:30:47.738Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:47.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-a10c76e09a3536b6f713bd0e629f36935a23a101-068a3998aa7e2a4f-01 outer:exit 2b-a10c76e09a3536b6f713bd0e629f36935a23a101-1ff5c812054e4f47-01
2022-04-20T15:30:47.772Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:47.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca2d5c157d2fa9188e2f7450e03281566dffd441-1a9ff864075e62a3-01 outer:exit 2b-ca2d5c157d2fa9188e2f7450e03281566dffd441-2980cb3ab7252100-01
2022-04-20T15:30:47.775Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:47.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2cd15f90db0b9af57aa62d94ef0d8b5b4edc9ba-227615f5c37367db-01 outer:exit 2b-a2cd15f90db0b9af57aa62d94ef0d8b5b4edc9ba-7515e75b6072979d-01
2022-04-20T15:30:47.777Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:47.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d483f7d320ad8d16f121cfb8fbcc5f0b5d44025-bb367824ef621194-01 outer:exit 2b-9d483f7d320ad8d16f121cfb8fbcc5f0b5d44025-b60f687d12d5fa30-01
2022-04-20T15:30:47.779Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:47.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb02e3a916cc5164b77019ebf754430d3c44f891-9e1e566a593209ab-01 outer:exit 2b-bb02e3a916cc5164b77019ebf754430d3c44f891-2ce4db0150f31349-01
2022-04-20T15:30:47.781Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:47.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bccbe39b8212a73be3b3289589b88c086e2a65c-e3c3a6ff4f7ef96e-01 outer:exit 2b-1bccbe39b8212a73be3b3289589b88c086e2a65c-743381d099bbe3cf-01
2022-04-20T15:30:47.783Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:47.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1b328d47420d4b5bc024868fe320b3249a82b7b-1078473eeb3f2b5b-01 outer:exit 2b-f1b328d47420d4b5bc024868fe320b3249a82b7b-dc929501732f5d6e-01
2022-04-20T15:30:47.785Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:47.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-57bacc7710abf861ea57dd8106fa0735109d835a-27d527d847284653-01 outer:exit 2b-57bacc7710abf861ea57dd8106fa0735109d835a-6c6f55f0f921cbc6-01
2022-04-20T15:30:47.787Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:47.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e0a0892b2224176f46c17a646706a6291c00e09-724bda57db354446-01 outer:exit 2b-8e0a0892b2224176f46c17a646706a6291c00e09-d3380e026df950a4-01
2022-04-20T15:30:47.788Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:47.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-89b061c9386fe35d5f8d6368475e03529f6d9951-c69673508762b8b7-01 outer:exit 2b-89b061c9386fe35d5f8d6368475e03529f6d9951-a84eef4256894bcc-01
2022-04-20T15:30:47.791Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:47.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-c38c05bfbe9a326b7fd65bcd6f65a3d430deb778-0faab714d6809e25-01 outer:exit 2b-c38c05bfbe9a326b7fd65bcd6f65a3d430deb778-758081ce1d4c9707-01
2022-04-20T15:30:47.794Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:47.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-66ee3856d883ff6894fb9c5ed0559ea150823d06-933eb9314532325a-01 outer:exit 2b-66ee3856d883ff6894fb9c5ed0559ea150823d06-e3086601c3e8e837-01
2022-04-20T15:30:47.796Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:47.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-80e031792a305ab586067bcf1ab11ae8e51b43d8-6409876a205ff3d6-01 outer:exit 2b-80e031792a305ab586067bcf1ab11ae8e51b43d8-46c9181d4915e74d-01
2022-04-20T15:30:47.798Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:47.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-47d61b3d1dfe3185d2ca2b38186785846e10181b-dd84eed3d1845662-01 outer:exit 2b-47d61b3d1dfe3185d2ca2b38186785846e10181b-e66877298d5a8975-01
2022-04-20T15:30:47.803Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:47.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-a99ba271f79f46b8f3e015e4fc05046c73f7a55c-a81df7183a8d7c6e-01 outer:exit 2b-a99ba271f79f46b8f3e015e4fc05046c73f7a55c-5c7f75770aa7b126-01
2022-04-20T15:30:47.809Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:47.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-75eb80c75c295ea94c2ccc96c0112295cbe94676-a83a9bf96f5e6de9-01 outer:exit 2b-75eb80c75c295ea94c2ccc96c0112295cbe94676-80d27e55a0cb489e-01
2022-04-20T15:30:47.817Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:47.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b920692d0fb81526713cf94d8cc319796db20d3-3997baeede3335f5-01 outer:exit 2b-4b920692d0fb81526713cf94d8cc319796db20d3-679fe47ed8e79dc6-01
2022-04-20T15:30:47.822Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:47.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ba0fecf5f70755c95006aa4dde7f83b28cf25c7-ea0f2eb0c0512fef-01 outer:exit 2b-7ba0fecf5f70755c95006aa4dde7f83b28cf25c7-512e343834b28d91-01
2022-04-20T15:30:47.824Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:47.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-607cafaee49784efb392fb6b8ea1b08cd0db1ef7-6330d1b947eda7ba-01 outer:exit 2b-607cafaee49784efb392fb6b8ea1b08cd0db1ef7-bc784730386329a3-01
2022-04-20T15:30:47.827Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:47.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-f34b1893f8f564a89ee188e4cc30a10d4d4132ba-f8cb66947615b944-01 outer:exit 2b-f34b1893f8f564a89ee188e4cc30a10d4d4132ba-a27a9725a3f15ee5-01
2022-04-20T15:30:47.833Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:47.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e9473ab3b0855a6f3778bdffea2dee7e13d0b8e-11c29aaa01e62603-01 outer:exit 2b-1e9473ab3b0855a6f3778bdffea2dee7e13d0b8e-21eff453539f500d-01
2022-04-20T15:30:47.835Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:47.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-be81d26dec6a88230e1a1a87d91b4666143b5119-8a9a9b2ac289c8f8-01 outer:exit 2b-be81d26dec6a88230e1a1a87d91b4666143b5119-a6042c83694d1c1c-01
2022-04-20T15:30:47.837Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:47.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ab489efc64daad19f0f39195f611c5b7d0b2229-65258ed501e1ea8b-01 outer:exit 2b-7ab489efc64daad19f0f39195f611c5b7d0b2229-a9b18871106bd101-01
2022-04-20T15:30:47.838Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:47.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-f63b59fb59e37c0bd6807dc8c5f5abc62867121a-54cf89aa3d5c1ec2-01 outer:exit 2b-f63b59fb59e37c0bd6807dc8c5f5abc62867121a-a26c919ab4e87663-01
2022-04-20T15:30:47.840Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:47.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e20f08b672ae941743edae1cd9f58d8d7ec1a4e-8615108f3d2d6e82-01 outer:exit 2b-3e20f08b672ae941743edae1cd9f58d8d7ec1a4e-b75ee8166d58934a-01
2022-04-20T15:30:47.842Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:47.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ec7b7554d84ea27aa13deb690d85b82fceb8844-a3ac80ec02a02cdd-01 outer:exit 2b-3ec7b7554d84ea27aa13deb690d85b82fceb8844-3136e557099494f9-01
2022-04-20T15:30:47.850Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:47.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-b517ef6284f95e30b48b5ede3400cc9460868071-4ffa11109401aa1c-01 outer:exit 2b-b517ef6284f95e30b48b5ede3400cc9460868071-b9700afd97d1a80f-01
2022-04-20T15:30:47.858Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:47.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f14b267239fbf3a43930cf056ca59dbc99b7994-befff8b54122a125-01 outer:exit 2b-1f14b267239fbf3a43930cf056ca59dbc99b7994-31c6d8a2c8a85adc-01
2022-04-20T15:30:47.861Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:47.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-774dac64cffef88b9daddece25da77a91b775fbf-8c36e9ae3829e6b2-01 outer:exit 2b-774dac64cffef88b9daddece25da77a91b775fbf-bcc6836af47c5c8a-01
2022-04-20T15:30:47.867Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:47.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-477818be37eb16414f5791703fadc2448191aa5d-050c5672641c07f0-01 outer:exit 2b-477818be37eb16414f5791703fadc2448191aa5d-cedc4e463168456a-01
2022-04-20T15:30:47.870Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:47.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fe11921175a22dd9b4e30098b06af3f1d1bd4e2-2d38cc8fca32ee19-01 outer:exit 2b-1fe11921175a22dd9b4e30098b06af3f1d1bd4e2-f76865239678f099-01
2022-04-20T15:30:47.896Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (283ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:53.362Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:53.363Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:53.363Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:53.363Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:53.421Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:53.528Z appoptics:patching patched crypto 
2022-04-20T15:30:53.545Z appoptics:patching patched https 
2022-04-20T15:30:53.545Z appoptics:patching patched http 
2022-04-20T15:30:53.581Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:53.581Z appoptics:patching patched fs 
2022-04-20T15:30:53.590Z appoptics:patching patched zlib 
2022-04-20T15:30:53.609Z appoptics:patching patched mongodb-core 3.0.0
2022-04-20T15:30:53.615Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (280ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:59.547Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:59.548Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:59.548Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:59.549Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:59.606Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:59.724Z appoptics:patching patched crypto 
2022-04-20T15:30:59.741Z appoptics:patching patched https 
2022-04-20T15:30:59.741Z appoptics:patching patched http 
2022-04-20T15:30:59.779Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:59.779Z appoptics:patching patched fs 
2022-04-20T15:30:59.788Z appoptics:patching patched zlib 
2022-04-20T15:30:59.808Z appoptics:patching patched mongodb-core 3.0.1
2022-04-20T15:30:59.813Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (238ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:05.070Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:05.071Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:05.071Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:05.072Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:05.128Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:05.238Z appoptics:patching patched crypto 
2022-04-20T15:31:05.255Z appoptics:patching patched https 
2022-04-20T15:31:05.256Z appoptics:patching patched http 
2022-04-20T15:31:05.291Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:05.291Z appoptics:patching patched fs 
2022-04-20T15:31:05.300Z appoptics:patching patched zlib 
2022-04-20T15:31:05.321Z appoptics:patching patched mongodb-core 3.0.2
2022-04-20T15:31:05.326Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (247ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:11.122Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:11.123Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:11.123Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:11.123Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:11.181Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:11.288Z appoptics:patching patched crypto 
2022-04-20T15:31:11.305Z appoptics:patching patched https 
2022-04-20T15:31:11.306Z appoptics:patching patched http 
2022-04-20T15:31:11.341Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:11.341Z appoptics:patching patched fs 
2022-04-20T15:31:11.350Z appoptics:patching patched zlib 
2022-04-20T15:31:11.371Z appoptics:patching patched mongodb-core 3.0.3
2022-04-20T15:31:11.376Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (236ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:16.656Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:16.657Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:16.657Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:16.657Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:16.714Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:16.822Z appoptics:patching patched crypto 
2022-04-20T15:31:16.838Z appoptics:patching patched https 
2022-04-20T15:31:16.839Z appoptics:patching patched http 
2022-04-20T15:31:16.875Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:16.875Z appoptics:patching patched fs 
2022-04-20T15:31:16.884Z appoptics:patching patched zlib 
2022-04-20T15:31:16.905Z appoptics:patching patched mongodb-core 3.0.4
2022-04-20T15:31:16.910Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (237ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:22.603Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:22.603Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:22.604Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:22.604Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:22.662Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:22.770Z appoptics:patching patched crypto 
2022-04-20T15:31:22.786Z appoptics:patching patched https 
2022-04-20T15:31:22.787Z appoptics:patching patched http 
2022-04-20T15:31:22.824Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:22.825Z appoptics:patching patched fs 
2022-04-20T15:31:22.834Z appoptics:patching patched zlib 
2022-04-20T15:31:22.855Z appoptics:patching patched mongodb-core 3.0.5
2022-04-20T15:31:22.860Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (235ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:28.337Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:28.338Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:28.338Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:28.338Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:28.396Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:28.502Z appoptics:patching patched crypto 
2022-04-20T15:31:28.519Z appoptics:patching patched https 
2022-04-20T15:31:28.520Z appoptics:patching patched http 
2022-04-20T15:31:28.555Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:28.555Z appoptics:patching patched fs 
2022-04-20T15:31:28.564Z appoptics:patching patched zlib 
2022-04-20T15:31:28.587Z appoptics:patching patched mongodb-core 3.0.6
2022-04-20T15:31:28.592Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (239ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:34.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:34.326Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:34.326Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:34.327Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:34.384Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:34.491Z appoptics:patching patched crypto 
2022-04-20T15:31:34.507Z appoptics:patching patched https 
2022-04-20T15:31:34.508Z appoptics:patching patched http 
2022-04-20T15:31:34.542Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:34.542Z appoptics:patching patched fs 
2022-04-20T15:31:34.551Z appoptics:patching patched zlib 
2022-04-20T15:31:34.574Z appoptics:patching patched mongodb-core 3.0.7
2022-04-20T15:31:34.579Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (238ms)


changed 1 package, and audited 927 packages in 14s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:48.912Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:48.912Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:48.912Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:48.913Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:48.970Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:49.076Z appoptics:patching patched crypto 
2022-04-20T15:31:49.093Z appoptics:patching patched https 
2022-04-20T15:31:49.094Z appoptics:patching patched http 
2022-04-20T15:31:49.131Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:49.131Z appoptics:patching patched fs 
2022-04-20T15:31:49.140Z appoptics:patching patched zlib 
2022-04-20T15:31:49.163Z appoptics:patching patched mongodb-core 3.0.8
2022-04-20T15:31:49.168Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (240ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:54.303Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:54.303Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:54.303Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:54.304Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:54.362Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:54.468Z appoptics:patching patched crypto 
2022-04-20T15:31:54.485Z appoptics:patching patched https 
2022-04-20T15:31:54.485Z appoptics:patching patched http 
2022-04-20T15:31:54.521Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:54.521Z appoptics:patching patched fs 
2022-04-20T15:31:54.531Z appoptics:patching patched zlib 
2022-04-20T15:31:54.553Z appoptics:patching patched mongodb-core 3.0.9
2022-04-20T15:31:54.558Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (244ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:00.755Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:00.755Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:00.755Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:00.756Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:00.814Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:00.922Z appoptics:patching patched crypto 
2022-04-20T15:32:00.939Z appoptics:patching patched https 
2022-04-20T15:32:00.939Z appoptics:patching patched http 
2022-04-20T15:32:00.974Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:00.975Z appoptics:patching patched fs 
2022-04-20T15:32:00.984Z appoptics:patching patched zlib 
2022-04-20T15:32:01.006Z appoptics:patching patched mongodb-core 3.0.11
2022-04-20T15:32:01.011Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (241ms)


changed 1 package, and audited 927 packages in 4s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:06.066Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:06.067Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:06.067Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:06.068Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:06.138Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:06.249Z appoptics:patching patched crypto 
2022-04-20T15:32:06.266Z appoptics:patching patched https 
2022-04-20T15:32:06.266Z appoptics:patching patched http 
2022-04-20T15:32:06.302Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:06.303Z appoptics:patching patched fs 
2022-04-20T15:32:06.312Z appoptics:patching patched zlib 
2022-04-20T15:32:06.339Z appoptics:patching patched mongodb-core 3.1.0
2022-04-20T15:32:06.344Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (242ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:13.055Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:13.056Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:13.056Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:13.057Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:13.113Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:13.220Z appoptics:patching patched crypto 
2022-04-20T15:32:13.237Z appoptics:patching patched https 
2022-04-20T15:32:13.238Z appoptics:patching patched http 
2022-04-20T15:32:13.294Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:13.295Z appoptics:patching patched fs 
2022-04-20T15:32:13.304Z appoptics:patching patched zlib 
2022-04-20T15:32:13.329Z appoptics:patching patched mongodb-core 3.1.1
2022-04-20T15:32:13.334Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (270ms)


changed 2 packages, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:18.651Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:18.651Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:18.651Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:18.652Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:18.709Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:18.817Z appoptics:patching patched crypto 
2022-04-20T15:32:18.834Z appoptics:patching patched https 
2022-04-20T15:32:18.835Z appoptics:patching patched http 
2022-04-20T15:32:18.869Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:18.869Z appoptics:patching patched fs 
2022-04-20T15:32:18.878Z appoptics:patching patched zlib 
2022-04-20T15:32:18.904Z appoptics:patching patched mongodb-core 3.1.2
2022-04-20T15:32:18.909Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (235ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:24.718Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:24.719Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:24.719Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:24.720Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:24.778Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:24.886Z appoptics:patching patched crypto 
2022-04-20T15:32:24.903Z appoptics:patching patched https 
2022-04-20T15:32:24.904Z appoptics:patching patched http 
2022-04-20T15:32:24.942Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:24.942Z appoptics:patching patched fs 
2022-04-20T15:32:24.952Z appoptics:patching patched zlib 
2022-04-20T15:32:24.977Z appoptics:patching patched mongodb-core 3.1.3
2022-04-20T15:32:24.983Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (242ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:30.171Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:30.172Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:30.172Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:30.173Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:30.229Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:30.337Z appoptics:patching patched crypto 
2022-04-20T15:32:30.355Z appoptics:patching patched https 
2022-04-20T15:32:30.356Z appoptics:patching patched http 
2022-04-20T15:32:30.387Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:30.388Z appoptics:patching patched fs 
2022-04-20T15:32:30.398Z appoptics:patching patched zlib 
2022-04-20T15:32:30.427Z appoptics:patching patched mongodb-core 3.1.4
2022-04-20T15:32:30.432Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (746ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:36.575Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:36.575Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:36.575Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:36.576Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:36.633Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:36.740Z appoptics:patching patched crypto 
2022-04-20T15:32:36.756Z appoptics:patching patched https 
2022-04-20T15:32:36.757Z appoptics:patching patched http 
2022-04-20T15:32:36.792Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:36.792Z appoptics:patching patched fs 
2022-04-20T15:32:36.803Z appoptics:patching patched zlib 
2022-04-20T15:32:36.828Z appoptics:patching patched mongodb-core 3.1.5
2022-04-20T15:32:36.833Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (272ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:42.402Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:42.402Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:42.402Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:42.403Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:42.461Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:42.568Z appoptics:patching patched crypto 
2022-04-20T15:32:42.585Z appoptics:patching patched https 
2022-04-20T15:32:42.585Z appoptics:patching patched http 
2022-04-20T15:32:42.618Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:42.618Z appoptics:patching patched fs 
2022-04-20T15:32:42.629Z appoptics:patching patched zlib 
2022-04-20T15:32:42.654Z appoptics:patching patched mongodb-core 3.1.6
2022-04-20T15:32:42.659Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (233ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:48.269Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:48.269Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:48.269Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:48.270Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:48.328Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:48.436Z appoptics:patching patched crypto 
2022-04-20T15:32:48.453Z appoptics:patching patched https 
2022-04-20T15:32:48.453Z appoptics:patching patched http 
2022-04-20T15:32:48.501Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:48.501Z appoptics:patching patched fs 
2022-04-20T15:32:48.519Z appoptics:patching patched zlib 
2022-04-20T15:32:48.580Z appoptics:patching patched mongodb-core 3.1.7
2022-04-20T15:32:48.587Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (249ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:53.866Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:53.867Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:53.867Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:53.868Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:53.925Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:54.031Z appoptics:patching patched crypto 
2022-04-20T15:32:54.047Z appoptics:patching patched https 
2022-04-20T15:32:54.048Z appoptics:patching patched http 
2022-04-20T15:32:54.082Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:54.082Z appoptics:patching patched fs 
2022-04-20T15:32:54.092Z appoptics:patching patched zlib 
2022-04-20T15:32:54.117Z appoptics:patching patched mongodb-core 3.1.8
2022-04-20T15:32:54.122Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (251ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:59.936Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:59.937Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:59.937Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:59.938Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:59.995Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:00.104Z appoptics:patching patched crypto 
2022-04-20T15:33:00.120Z appoptics:patching patched https 
2022-04-20T15:33:00.121Z appoptics:patching patched http 
2022-04-20T15:33:00.155Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:00.156Z appoptics:patching patched fs 
2022-04-20T15:33:00.166Z appoptics:patching patched zlib 
2022-04-20T15:33:00.191Z appoptics:patching patched mongodb-core 3.1.9
2022-04-20T15:33:00.196Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (233ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:05.508Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:05.509Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:05.509Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:05.509Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:05.566Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:05.672Z appoptics:patching patched crypto 
2022-04-20T15:33:05.688Z appoptics:patching patched https 
2022-04-20T15:33:05.689Z appoptics:patching patched http 
2022-04-20T15:33:05.723Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:05.723Z appoptics:patching patched fs 
2022-04-20T15:33:05.733Z appoptics:patching patched zlib 
2022-04-20T15:33:05.758Z appoptics:patching patched mongodb-core 3.1.10
2022-04-20T15:33:05.763Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (388ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:11.861Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:11.861Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:11.861Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:11.862Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:11.920Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:12.031Z appoptics:patching patched crypto 
2022-04-20T15:33:12.057Z appoptics:patching patched https 
2022-04-20T15:33:12.058Z appoptics:patching patched http 
2022-04-20T15:33:12.109Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:12.109Z appoptics:patching patched fs 
2022-04-20T15:33:12.119Z appoptics:patching patched zlib 
2022-04-20T15:33:12.144Z appoptics:patching patched mongodb-core 3.1.11
2022-04-20T15:33:12.149Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (227ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:17.604Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:17.605Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:17.605Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:17.606Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:17.679Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:17.803Z appoptics:patching patched crypto 
2022-04-20T15:33:17.822Z appoptics:patching patched https 
2022-04-20T15:33:17.822Z appoptics:patching patched http 
2022-04-20T15:33:17.854Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:17.855Z appoptics:patching patched fs 
2022-04-20T15:33:17.865Z appoptics:patching patched zlib 
2022-04-20T15:33:17.895Z appoptics:patching patched mongodb-core 3.2.0
2022-04-20T15:33:17.901Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (241ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:23.690Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:23.691Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:23.691Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:23.691Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:23.747Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:23.856Z appoptics:patching patched crypto 
2022-04-20T15:33:23.873Z appoptics:patching patched https 
2022-04-20T15:33:23.874Z appoptics:patching patched http 
2022-04-20T15:33:23.908Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:23.908Z appoptics:patching patched fs 
2022-04-20T15:33:23.920Z appoptics:patching patched zlib 
2022-04-20T15:33:23.950Z appoptics:patching patched mongodb-core 3.2.1
2022-04-20T15:33:23.955Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (275ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:29.301Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:29.301Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:29.301Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:29.302Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:29.359Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:29.484Z appoptics:patching patched crypto 
2022-04-20T15:33:29.501Z appoptics:patching patched https 
2022-04-20T15:33:29.501Z appoptics:patching patched http 
2022-04-20T15:33:29.536Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:29.536Z appoptics:patching patched fs 
2022-04-20T15:33:29.546Z appoptics:patching patched zlib 
2022-04-20T15:33:29.576Z appoptics:patching patched mongodb-core 3.2.2
2022-04-20T15:33:29.582Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (233ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:35.165Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:35.166Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:35.166Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:35.166Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:35.223Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:35.332Z appoptics:patching patched crypto 
2022-04-20T15:33:35.348Z appoptics:patching patched https 
2022-04-20T15:33:35.349Z appoptics:patching patched http 
2022-04-20T15:33:35.384Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:35.384Z appoptics:patching patched fs 
2022-04-20T15:33:35.394Z appoptics:patching patched zlib 
2022-04-20T15:33:35.431Z appoptics:patching patched mongodb-core 3.2.3
2022-04-20T15:33:35.437Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (267ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:40.777Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:40.778Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:40.778Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:40.779Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:40.836Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:40.943Z appoptics:patching patched crypto 
2022-04-20T15:33:40.960Z appoptics:patching patched https 
2022-04-20T15:33:40.961Z appoptics:patching patched http 
2022-04-20T15:33:40.994Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:40.994Z appoptics:patching patched fs 
2022-04-20T15:33:41.004Z appoptics:patching patched zlib 
2022-04-20T15:33:41.034Z appoptics:patching patched mongodb-core 3.2.4
2022-04-20T15:33:41.039Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (244ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:46.787Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:46.787Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:46.787Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:46.788Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:46.856Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:46.978Z appoptics:patching patched crypto 
2022-04-20T15:33:47.012Z appoptics:patching patched https 
2022-04-20T15:33:47.012Z appoptics:patching patched http 
2022-04-20T15:33:47.048Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:47.049Z appoptics:patching patched fs 
2022-04-20T15:33:47.059Z appoptics:patching patched zlib 
2022-04-20T15:33:47.095Z appoptics:patching patched mongodb-core 3.2.5
2022-04-20T15:33:47.100Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (230ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:52.239Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:52.240Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:52.240Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:52.240Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:52.298Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:52.434Z appoptics:patching patched crypto 
2022-04-20T15:33:52.463Z appoptics:patching patched https 
2022-04-20T15:33:52.464Z appoptics:patching patched http 
2022-04-20T15:33:52.504Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:52.504Z appoptics:patching patched fs 
2022-04-20T15:33:52.515Z appoptics:patching patched zlib 
2022-04-20T15:33:52.547Z appoptics:patching patched mongodb-core 3.2.6
2022-04-20T15:33:52.552Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (232ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:58.465Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:58.465Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:58.465Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:58.466Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:58.524Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:58.630Z appoptics:patching patched crypto 
2022-04-20T15:33:58.647Z appoptics:patching patched https 
2022-04-20T15:33:58.647Z appoptics:patching patched http 
2022-04-20T15:33:58.682Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:58.682Z appoptics:patching patched fs 
2022-04-20T15:33:58.693Z appoptics:patching patched zlib 
2022-04-20T15:33:58.723Z appoptics:patching patched mongodb-core 3.2.7
2022-04-20T15:33:58.728Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (246ms)


up to date, audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
