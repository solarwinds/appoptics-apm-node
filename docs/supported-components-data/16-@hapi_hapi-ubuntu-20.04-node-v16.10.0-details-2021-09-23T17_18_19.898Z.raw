npm WARN deprecated @hapi/pinpoint@1.0.2: Moved to 'npm install @sideway/pinpoint'
npm WARN deprecated @hapi/mimos@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/pez@4.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/nigel@3.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/subtext@6.1.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/teamwork@3.3.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/podium@3.4.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/cryptiles@4.2.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/vise@3.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/content@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/statehood@6.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/iron@5.1.4: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/heavy@6.2.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/file@1.0.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/formula@1.2.0: Moved to 'npm install @sideway/formula'
npm WARN deprecated @hapi/boom@7.4.11: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox-memory@3.2.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/b64@4.2.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/shot@4.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/somever@2.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/ammo@3.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/call@5.1.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/bounce@1.3.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/accept@3.2.4: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/wreck@15.1.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox@10.2.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@6.2.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@17.9.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'

added 36 packages, changed 28 packages, and audited 1138 packages in 10s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 6 moderate, 6 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.

up to date, audited 1138 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 6 moderate, 6 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:18:37.213Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:18:37.213Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:18:37.213Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:18:37.214Z appoptics:debug using context provider: ace-context
2021-09-23T17:18:37.300Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:18:37.352Z appoptics:patching patched crypto 
2021-09-23T17:18:37.381Z appoptics:patching patched https 
2021-09-23T17:18:37.381Z appoptics:patching patched http 
2021-09-23T17:18:37.434Z appoptics:patching patched zlib 
2021-09-23T17:18:37.490Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:18:37.491Z appoptics:patching patched fs 
2021-09-23T17:18:38.290Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:18:38.290Z appoptics:patching patched @hapi/hapi 17.9.0
2021-09-23T17:18:38.357Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:18:38.362Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (81ms)
  10 failing

  1) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox-memory@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@18.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 1 package, removed 1 package, changed 2 packages, and audited 1138 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 6 moderate, 6 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:18:46.557Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:18:46.557Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:18:46.558Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:18:46.558Z appoptics:debug using context provider: ace-context
2021-09-23T17:18:46.628Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:18:46.676Z appoptics:patching patched crypto 
2021-09-23T17:18:46.715Z appoptics:patching patched https 
2021-09-23T17:18:46.715Z appoptics:patching patched http 
2021-09-23T17:18:46.786Z appoptics:patching patched zlib 
2021-09-23T17:18:46.836Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:18:46.836Z appoptics:patching patched fs 
2021-09-23T17:18:47.481Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:18:47.481Z appoptics:patching patched @hapi/hapi 18.2.0
2021-09-23T17:18:47.547Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:18:47.553Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (87ms)
  10 failing

  1) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1138 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 6 moderate, 6 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:18:55.716Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:18:55.717Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:18:55.717Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:18:55.718Z appoptics:debug using context provider: ace-context
2021-09-23T17:18:55.787Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:18:55.832Z appoptics:patching patched crypto 
2021-09-23T17:18:55.856Z appoptics:patching patched https 
2021-09-23T17:18:55.856Z appoptics:patching patched http 
2021-09-23T17:18:55.905Z appoptics:patching patched zlib 
2021-09-23T17:18:55.960Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:18:55.960Z appoptics:patching patched fs 
2021-09-23T17:18:56.568Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:18:56.568Z appoptics:patching patched @hapi/hapi 18.3.0
2021-09-23T17:18:56.633Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:18:56.638Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (113ms)
  10 failing

  1) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1138 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 6 moderate, 6 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:05.673Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:05.674Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:05.674Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:05.675Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:05.777Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:05.838Z appoptics:patching patched crypto 
2021-09-23T17:19:05.872Z appoptics:patching patched https 
2021-09-23T17:19:05.873Z appoptics:patching patched http 
2021-09-23T17:19:05.935Z appoptics:patching patched zlib 
2021-09-23T17:19:05.994Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:05.994Z appoptics:patching patched fs 
2021-09-23T17:19:06.700Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:19:06.700Z appoptics:patching patched @hapi/hapi 18.3.1
2021-09-23T17:19:06.774Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:19:06.780Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (148ms)
  10 failing

  1) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@18.3.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 22 packages, changed 2 packages, and audited 1116 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 6 moderate, 6 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:15.363Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:15.367Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:15.368Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:15.368Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:15.478Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:15.565Z appoptics:patching patched crypto 
2021-09-23T17:19:15.621Z appoptics:patching patched https 
2021-09-23T17:19:15.621Z appoptics:patching patched http 
2021-09-23T17:19:15.723Z appoptics:patching patched zlib 
2021-09-23T17:19:15.799Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:15.800Z appoptics:patching patched fs 
2021-09-23T17:19:16.311Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:19:16.312Z appoptics:patching patched @hapi/hapi 18.3.2
2021-09-23T17:19:16.387Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:19:16.393Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (92ms)
  10 failing

  1) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from get request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should trace render span:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should skip vision when disabled:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should allow a custom TransactionName:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should handle an error in the custom name function:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1116 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 6 moderate, 6 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:24.133Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:24.134Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:24.134Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:24.134Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:24.226Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:24.281Z appoptics:patching patched crypto 
2021-09-23T17:19:24.311Z appoptics:patching patched https 
2021-09-23T17:19:24.312Z appoptics:patching patched http 
2021-09-23T17:19:24.375Z appoptics:patching patched zlib 
2021-09-23T17:19:24.429Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:24.429Z appoptics:patching patched fs 
2021-09-23T17:19:24.849Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:19:24.849Z appoptics:patching patched @hapi/hapi 18.4.0
2021-09-23T17:19:24.914Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:19:24.918Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (58ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@18.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1116 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:38.860Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:38.861Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:38.861Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:38.862Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:38.952Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:39.006Z appoptics:patching patched crypto 
2021-09-23T17:19:39.032Z appoptics:patching patched https 
2021-09-23T17:19:39.032Z appoptics:patching patched http 
2021-09-23T17:19:39.086Z appoptics:patching patched zlib 
2021-09-23T17:19:39.153Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:39.153Z appoptics:patching patched fs 
2021-09-23T17:19:39.686Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:19:39.686Z appoptics:patching patched @hapi/hapi 18.4.1
2021-09-23T17:19:39.750Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:19:39.755Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName (48ms)
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/pinpoint@2.0.0: Moved to 'npm install @sideway/pinpoint'
npm WARN deprecated @hapi/formula@2.0.0: Moved to 'npm install @sideway/formula'
npm WARN deprecated @hapi/ammo@4.0.1: This version has been deprecated
npm WARN deprecated @hapi/boom@8.0.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/call@7.0.1: This version has been deprecated
npm WARN deprecated @hapi/accept@4.0.1: This version has been deprecated
npm WARN deprecated @hapi/teamwork@4.0.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/address@4.1.0: Moved to 'npm install @sideway/address'
npm WARN deprecated @hapi/hapi@19.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN deprecated @hapi/joi@17.1.1: Switch to 'npm install joi'

added 4 packages, removed 10 packages, changed 32 packages, and audited 1110 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

21 vulnerabilities (6 low, 6 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:53.840Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:53.840Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:53.841Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:53.841Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:53.908Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:53.957Z appoptics:patching patched crypto 
2021-09-23T17:19:53.989Z appoptics:patching patched https 
2021-09-23T17:19:53.989Z appoptics:patching patched http 
2021-09-23T17:19:54.044Z appoptics:patching patched zlib 
2021-09-23T17:19:54.093Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:54.093Z appoptics:patching patched fs 
2021-09-23T17:19:54.381Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:19:54.381Z appoptics:patching patched @hapi/hapi 19.0.0
2021-09-23T17:19:54.398Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:19:54.403Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (58ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1110 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

21 vulnerabilities (6 low, 6 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:09.549Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:09.549Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:09.550Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:09.550Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:09.621Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:09.667Z appoptics:patching patched crypto 
2021-09-23T17:20:09.691Z appoptics:patching patched https 
2021-09-23T17:20:09.692Z appoptics:patching patched http 
2021-09-23T17:20:09.741Z appoptics:patching patched zlib 
2021-09-23T17:20:09.790Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:09.791Z appoptics:patching patched fs 
2021-09-23T17:20:10.083Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:20:10.083Z appoptics:patching patched @hapi/hapi 19.0.1
2021-09-23T17:20:10.100Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:20:10.105Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (58ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1110 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

21 vulnerabilities (6 low, 6 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:23.855Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:23.856Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:23.856Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:23.857Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:23.938Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:23.989Z appoptics:patching patched crypto 
2021-09-23T17:20:24.022Z appoptics:patching patched https 
2021-09-23T17:20:24.023Z appoptics:patching patched http 
2021-09-23T17:20:24.074Z appoptics:patching patched zlib 
2021-09-23T17:20:24.128Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:24.129Z appoptics:patching patched fs 
2021-09-23T17:20:24.442Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:20:24.442Z appoptics:patching patched @hapi/hapi 19.0.2
2021-09-23T17:20:24.461Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:20:24.466Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1110 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

21 vulnerabilities (6 low, 6 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:38.147Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:38.148Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:38.148Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:38.149Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:38.245Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:38.330Z appoptics:patching patched crypto 
2021-09-23T17:20:38.393Z appoptics:patching patched https 
2021-09-23T17:20:38.393Z appoptics:patching patched http 
2021-09-23T17:20:38.513Z appoptics:patching patched zlib 
2021-09-23T17:20:38.600Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:38.600Z appoptics:patching patched fs 
2021-09-23T17:20:38.980Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:20:38.980Z appoptics:patching patched @hapi/hapi 19.0.3
2021-09-23T17:20:39.004Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:20:39.010Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (107ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1110 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

21 vulnerabilities (6 low, 6 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:53.481Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:53.481Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:53.481Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:53.482Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:53.555Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:53.600Z appoptics:patching patched crypto 
2021-09-23T17:20:53.625Z appoptics:patching patched https 
2021-09-23T17:20:53.626Z appoptics:patching patched http 
2021-09-23T17:20:53.673Z appoptics:patching patched zlib 
2021-09-23T17:20:53.722Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:53.722Z appoptics:patching patched fs 
2021-09-23T17:20:54.009Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:20:54.010Z appoptics:patching patched @hapi/hapi 19.0.4
2021-09-23T17:20:54.028Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:20:54.033Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (58ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 3 packages, changed 3 packages, and audited 1107 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 6 moderate, 6 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:08.925Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:08.925Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:08.925Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:08.926Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:08.997Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:09.044Z appoptics:patching patched crypto 
2021-09-23T17:21:09.068Z appoptics:patching patched https 
2021-09-23T17:21:09.068Z appoptics:patching patched http 
2021-09-23T17:21:09.118Z appoptics:patching patched zlib 
2021-09-23T17:21:09.169Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:09.169Z appoptics:patching patched fs 
2021-09-23T17:21:09.470Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:21:09.470Z appoptics:patching patched @hapi/hapi 19.0.5
2021-09-23T17:21:09.485Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:21:09.490Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (75ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1107 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 6 moderate, 6 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:24.230Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:24.231Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:24.231Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:24.231Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:24.322Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:24.372Z appoptics:patching patched crypto 
2021-09-23T17:21:24.398Z appoptics:patching patched https 
2021-09-23T17:21:24.399Z appoptics:patching patched http 
2021-09-23T17:21:24.446Z appoptics:patching patched zlib 
2021-09-23T17:21:24.500Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:24.500Z appoptics:patching patched fs 
2021-09-23T17:21:24.809Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:21:24.810Z appoptics:patching patched @hapi/hapi 19.1.0
2021-09-23T17:21:24.821Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:21:24.827Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (78ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 2 packages, and audited 1107 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:38.912Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:38.913Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:38.913Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:38.914Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:39.017Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:39.073Z appoptics:patching patched crypto 
2021-09-23T17:21:39.101Z appoptics:patching patched https 
2021-09-23T17:21:39.102Z appoptics:patching patched http 
2021-09-23T17:21:39.155Z appoptics:patching patched zlib 
2021-09-23T17:21:39.211Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:39.212Z appoptics:patching patched fs 
2021-09-23T17:21:39.541Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:21:39.541Z appoptics:patching patched @hapi/hapi 19.1.1
2021-09-23T17:21:39.551Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:21:39.556Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (75ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1107 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:53.337Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:53.341Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:53.341Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:53.341Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:53.445Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:53.498Z appoptics:patching patched crypto 
2021-09-23T17:21:53.521Z appoptics:patching patched https 
2021-09-23T17:21:53.521Z appoptics:patching patched http 
2021-09-23T17:21:53.567Z appoptics:patching patched zlib 
2021-09-23T17:21:53.617Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:53.617Z appoptics:patching patched fs 
2021-09-23T17:21:53.894Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:21:53.894Z appoptics:patching patched @hapi/hapi 19.2.0
2021-09-23T17:21:53.904Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:21:53.909Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (89ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




removed 5 packages, changed 2 packages, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:09.080Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:09.080Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:09.080Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:09.081Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:09.151Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:09.198Z appoptics:patching patched crypto 
2021-09-23T17:22:09.222Z appoptics:patching patched https 
2021-09-23T17:22:09.222Z appoptics:patching patched http 
2021-09-23T17:22:09.271Z appoptics:patching patched zlib 
2021-09-23T17:22:09.336Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:09.336Z appoptics:patching patched fs 
2021-09-23T17:22:09.568Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:22:09.568Z appoptics:patching patched @hapi/hapi 20.0.0
2021-09-23T17:22:09.577Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:22:09.582Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (57ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span (38ms)
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:24.372Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:24.373Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:24.373Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:24.374Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:24.461Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:24.507Z appoptics:patching patched crypto 
2021-09-23T17:22:24.530Z appoptics:patching patched https 
2021-09-23T17:22:24.531Z appoptics:patching patched http 
2021-09-23T17:22:24.580Z appoptics:patching patched zlib 
2021-09-23T17:22:24.653Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:24.654Z appoptics:patching patched fs 
2021-09-23T17:22:24.901Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:22:24.901Z appoptics:patching patched @hapi/hapi 20.0.1
2021-09-23T17:22:24.911Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:22:24.916Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span (68ms)
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:37.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:37.988Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:37.988Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:37.989Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:38.068Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:38.127Z appoptics:patching patched crypto 
2021-09-23T17:22:38.158Z appoptics:patching patched https 
2021-09-23T17:22:38.159Z appoptics:patching patched http 
2021-09-23T17:22:38.209Z appoptics:patching patched zlib 
2021-09-23T17:22:38.271Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:38.272Z appoptics:patching patched fs 
2021-09-23T17:22:38.503Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:22:38.504Z appoptics:patching patched @hapi/hapi 20.0.2
2021-09-23T17:22:38.513Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:22:38.518Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (64ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span (38ms)
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1102 packages in 14s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:59.077Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:59.077Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:59.077Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:59.078Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:59.147Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:59.192Z appoptics:patching patched crypto 
2021-09-23T17:22:59.214Z appoptics:patching patched https 
2021-09-23T17:22:59.215Z appoptics:patching patched http 
2021-09-23T17:22:59.262Z appoptics:patching patched zlib 
2021-09-23T17:22:59.311Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:59.312Z appoptics:patching patched fs 
2021-09-23T17:22:59.549Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:22:59.549Z appoptics:patching patched @hapi/hapi 20.0.3
2021-09-23T17:22:59.558Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:22:59.563Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (76ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span (77ms)
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:13.412Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:13.412Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:13.412Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:13.413Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:13.481Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:13.526Z appoptics:patching patched crypto 
2021-09-23T17:23:13.552Z appoptics:patching patched https 
2021-09-23T17:23:13.553Z appoptics:patching patched http 
2021-09-23T17:23:13.602Z appoptics:patching patched zlib 
2021-09-23T17:23:13.654Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:13.654Z appoptics:patching patched fs 
2021-09-23T17:23:13.877Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:23:13.877Z appoptics:patching patched @hapi/hapi 20.1.0
2021-09-23T17:23:13.886Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:23:13.891Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:27.103Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:27.103Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:27.104Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:27.104Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:27.173Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:27.218Z appoptics:patching patched crypto 
2021-09-23T17:23:27.241Z appoptics:patching patched https 
2021-09-23T17:23:27.242Z appoptics:patching patched http 
2021-09-23T17:23:27.291Z appoptics:patching patched zlib 
2021-09-23T17:23:27.340Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:27.340Z appoptics:patching patched fs 
2021-09-23T17:23:27.594Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:23:27.594Z appoptics:patching patched @hapi/hapi 20.1.1
2021-09-23T17:23:27.603Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:23:27.609Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (60ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span (39ms)
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:41.640Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:41.641Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:41.641Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:41.642Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:41.711Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:41.760Z appoptics:patching patched crypto 
2021-09-23T17:23:41.786Z appoptics:patching patched https 
2021-09-23T17:23:41.787Z appoptics:patching patched http 
2021-09-23T17:23:41.836Z appoptics:patching patched zlib 
2021-09-23T17:23:41.885Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:41.885Z appoptics:patching patched fs 
2021-09-23T17:23:42.102Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:23:42.103Z appoptics:patching patched @hapi/hapi 20.1.2
2021-09-23T17:23:42.112Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:23:42.117Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (57ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (212ms)


changed 2 packages, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:50.084Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:50.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:50.085Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:50.085Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:50.164Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:50.226Z appoptics:patching patched crypto 
2021-09-23T17:23:50.253Z appoptics:patching patched https 
2021-09-23T17:23:50.254Z appoptics:patching patched http 
2021-09-23T17:23:50.320Z appoptics:patching patched zlib 
2021-09-23T17:23:50.416Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:50.416Z appoptics:patching patched fs 
2021-09-23T17:23:50.666Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:23:50.666Z appoptics:patching patched @hapi/hapi 20.1.3
2021-09-23T17:23:50.677Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:23:50.683Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (67ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span (43ms)
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (311ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:58.979Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:58.980Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:58.980Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:58.981Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:59.063Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:59.118Z appoptics:patching patched crypto 
2021-09-23T17:23:59.146Z appoptics:patching patched https 
2021-09-23T17:23:59.146Z appoptics:patching patched http 
2021-09-23T17:23:59.201Z appoptics:patching patched zlib 
2021-09-23T17:23:59.259Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:59.260Z appoptics:patching patched fs 
2021-09-23T17:23:59.513Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:23:59.513Z appoptics:patching patched @hapi/hapi 20.1.4
2021-09-23T17:23:59.525Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:23:59.530Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.4 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (71ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (273ms)


changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:08.067Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:08.068Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:08.068Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:08.068Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:08.137Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:08.181Z appoptics:patching patched crypto 
2021-09-23T17:24:08.205Z appoptics:patching patched https 
2021-09-23T17:24:08.205Z appoptics:patching patched http 
2021-09-23T17:24:08.254Z appoptics:patching patched zlib 
2021-09-23T17:24:08.303Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:08.304Z appoptics:patching patched fs 
2021-09-23T17:24:08.512Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:24:08.512Z appoptics:patching patched @hapi/hapi 20.1.5
2021-09-23T17:24:08.522Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:24:08.526Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.5 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (55ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (210ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:15.745Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:15.746Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:15.746Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:15.747Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:15.816Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:15.863Z appoptics:patching patched crypto 
2021-09-23T17:24:15.887Z appoptics:patching patched https 
2021-09-23T17:24:15.887Z appoptics:patching patched http 
2021-09-23T17:24:15.937Z appoptics:patching patched zlib 
2021-09-23T17:24:15.987Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:15.987Z appoptics:patching patched fs 
2021-09-23T17:24:16.192Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-23T17:24:16.192Z appoptics:patching patched @hapi/hapi 20.2.0
2021-09-23T17:24:16.201Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-23T17:24:16.206Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.2.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (70ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (246ms)


up to date, audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
