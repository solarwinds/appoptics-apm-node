npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:18:40.677Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:18:40.677Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:18:40.677Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:18:40.678Z appoptics:debug using context provider: ace-context
2021-09-23T17:18:40.753Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:18:40.808Z appoptics:patching patched crypto 
2021-09-23T17:18:40.837Z appoptics:patching patched https 
2021-09-23T17:18:40.838Z appoptics:patching patched http 
2021-09-23T17:18:40.905Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:18:40.905Z appoptics:patching patched fs 
2021-09-23T17:18:40.923Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v16.10.0)
2021-09-23T17:18:40.932Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2021-09-23T17:18:41.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-d460c03bec10290df6dd48e15cdd9be038c0115e-b0f67dc92dae7f46-01 outer:exit 2b-d460c03bec10290df6dd48e15cdd9be038c0115e-e1c4f2e6755dcf98-01
2021-09-23T17:18:41.150Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:18:41.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba786064d3c0ad05969c63149f206b95bbbbfe34-95deb490716f4f6b-01 outer:exit 2b-ba786064d3c0ad05969c63149f206b95bbbbfe34-11c3c4efef67f4f1-01
2021-09-23T17:18:41.207Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:18:41.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-715e5123c16958c42e06def5edb209d1f9058839-38e096d41382ba5b-01 outer:exit 2b-715e5123c16958c42e06def5edb209d1f9058839-156dddc6edad43b1-01
2021-09-23T17:18:41.215Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:18:41.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e45df0b4d4b70a71fe997bed48949a4c714ca8d-bf4234a8861bac0d-01 outer:exit 2b-2e45df0b4d4b70a71fe997bed48949a4c714ca8d-57285b4189cd5314-01
2021-09-23T17:18:41.218Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:18:41.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-30c1337e4c4390d0e3f55053022094e499718422-81d64fdc46ec7c91-01 outer:exit 2b-30c1337e4c4390d0e3f55053022094e499718422-5b8c4380c77ba4e6-01
2021-09-23T17:18:41.225Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:18:41.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-d953fa8dad00768f4cd3976f8ff9991cf459b8fb-9cd29af18b4f78ce-01 outer:exit 2b-d953fa8dad00768f4cd3976f8ff9991cf459b8fb-a5e55d67a9cfde89-01
2021-09-23T17:18:41.230Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:18:41.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab20416ede60a1bebde4c20aecc89b99eec7d9ec-732b2194df2751ea-01 outer:exit 2b-ab20416ede60a1bebde4c20aecc89b99eec7d9ec-abd28d7652d8c33e-01
2021-09-23T17:18:41.234Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:18:41.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a526bf2fc2ada98a7f64619ab36b1f73a05d993-4343e52e98cb718a-01 outer:exit 2b-2a526bf2fc2ada98a7f64619ab36b1f73a05d993-ea60b7cbc683821f-01
2021-09-23T17:18:41.247Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:18:41.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-baf5ff04b771c5d77b57fcf08bb2e49a5c714786-7bab782e761b8df1-01 outer:exit 2b-baf5ff04b771c5d77b57fcf08bb2e49a5c714786-ad2df1ba70f63776-01
2021-09-23T17:18:41.251Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:18:41.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-e48d09305abeeb2a48840e780a6e7340bcc61220-67a571c22e209cfd-01 outer:exit 2b-e48d09305abeeb2a48840e780a6e7340bcc61220-f784b642c93b3fb6-01
2021-09-23T17:18:41.254Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:18:41.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-432d5e6e9b5c48d10d012973704bb83a12245a1a-7626106cb7ca9fa8-01 outer:exit 2b-432d5e6e9b5c48d10d012973704bb83a12245a1a-935de9f745fdb6ef-01
2021-09-23T17:18:41.259Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:18:41.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4607a6ae7f687d0335e24a1255e5e03000d910b-6f24d1eacb5a6ad7-01 outer:exit 2b-b4607a6ae7f687d0335e24a1255e5e03000d910b-55c620d12abbea35-01
2021-09-23T17:18:41.302Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:18:41.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-a52fc634a92e44897a7afc53aed783707f2472f5-cff8306c257f4b35-01 outer:exit 2b-a52fc634a92e44897a7afc53aed783707f2472f5-8995123e52b73d3b-01
2021-09-23T17:18:41.328Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:18:41.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-165b59940fb542c30cf5e534473e6c302323e4de-ca8d78542503f92d-01 outer:exit 2b-165b59940fb542c30cf5e534473e6c302323e4de-0f7b85d5df4d7ffe-01
2021-09-23T17:18:41.402Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:18:41.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3a2831d8bc1f4c05c3090b08f774468879640b7-9b6610b7f122b3c7-01 outer:exit 2b-b3a2831d8bc1f4c05c3090b08f774468879640b7-996f6de3b20267c3-01
2021-09-23T17:18:41.408Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:18:41.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa907b8cb42fe4693d451b4a975080ce55de8860-65f7d7272f1931c9-01 outer:exit 2b-fa907b8cb42fe4693d451b4a975080ce55de8860-1e18d723fe09d0a3-01
2021-09-23T17:18:41.411Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:18:41.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-93a262aefd2c1523b85b4f7542cd4390046dc163-b3b62232a0f51695-01 outer:exit 2b-93a262aefd2c1523b85b4f7542cd4390046dc163-2b435491b7a84027-01
2021-09-23T17:18:41.418Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:18:41.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-eebb1ec3ebb0d587a053e71898f261ca00351fde-cb74113722560831-01 outer:exit 2b-eebb1ec3ebb0d587a053e71898f261ca00351fde-4e41475988fffb9c-01
2021-09-23T17:18:41.422Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:18:41.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-0992d897fda991938a8708c63c52eb354c357c9d-ef55b9c9cd127c24-01 outer:exit 2b-0992d897fda991938a8708c63c52eb354c357c9d-5c0036bdcef4653a-01
2021-09-23T17:18:41.427Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:18:41.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb730c2d902a83df4a8be2d35d47211119ed8744-6a02c98c1d2105e3-01 outer:exit 2b-eb730c2d902a83df4a8be2d35d47211119ed8744-85876a4c18f02634-01
2021-09-23T17:18:41.431Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:18:41.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-3156c875c34f5f0674c76b50450a51f4b8dc30c9-6309fda8b2b9d285-01 outer:exit 2b-3156c875c34f5f0674c76b50450a51f4b8dc30c9-7661875345222203-01
2021-09-23T17:18:41.435Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:18:41.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-baa064b88a3427b5766f7160399d321f4a16c265-7e691d2d2ad4cc24-01 outer:exit 2b-baa064b88a3427b5766f7160399d321f4a16c265-c5def3026f48084f-01
2021-09-23T17:18:41.441Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:18:41.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b092c2b28422aedda3cd16815064a5b2867f09c-897a0bf4a1024f9d-01 outer:exit 2b-5b092c2b28422aedda3cd16815064a5b2867f09c-bce7abd98a86d107-01
2021-09-23T17:18:41.449Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:18:41.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-42e5a0a6be1984b40081377158a3a9b20a82ddbb-1189bff589eecf91-01 outer:exit 2b-42e5a0a6be1984b40081377158a3a9b20a82ddbb-92328295805310a5-01
2021-09-23T17:18:41.453Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:18:41.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0d0d2ce6e7aeeb5494d16d0f96a7ab52945b1da-4449bb33f4742211-01 outer:exit 2b-d0d0d2ce6e7aeeb5494d16d0f96a7ab52945b1da-8477807b67bcf1d8-01
2021-09-23T17:18:41.457Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:18:41.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-66e16adced0f2b414ab560be148278dc884d06cf-6de4a4480894c7b1-01 outer:exit 2b-66e16adced0f2b414ab560be148278dc884d06cf-26d1e3709f786003-01
2021-09-23T17:18:41.460Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:18:41.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-db374b231e08ef4f912ecdb0a974affb8ee939c3-053b5d462e9329cf-01 outer:exit 2b-db374b231e08ef4f912ecdb0a974affb8ee939c3-c98ce8db4bac8a63-01
2021-09-23T17:18:41.507Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:18:41.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-29c18cfb94090c90be75b2f554acdbdd7af50050-8dece7034e00908e-01 outer:exit 2b-29c18cfb94090c90be75b2f554acdbdd7af50050-807f71a70bbce1c5-01
2021-09-23T17:18:41.530Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:18:41.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9342caa3bea6c59ba908b0ae371615b0fd87d40-6d065da4578af93f-01 outer:exit 2b-a9342caa3bea6c59ba908b0ae371615b0fd87d40-5e4eb3f26d03efd4-01
2021-09-23T17:18:41.544Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:18:41.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b203a7c3948f54a94a58c3ec09d51e21adeddfe-d0a6bc2d2a9b79c3-01 outer:exit 2b-6b203a7c3948f54a94a58c3ec09d51e21adeddfe-4cd5da7dd9aad5f1-01
2021-09-23T17:18:41.578Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:18:41.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0809a1154b34d71c8902c58dbdb653be7b6b3a2-2834263678f4e48b-01 outer:exit 2b-f0809a1154b34d71c8902c58dbdb653be7b6b3a2-9cb207a10a234193-01
2021-09-23T17:18:41.583Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:18:41.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-922baa47f3f4599c9f82bb2d54d0c72ace172e3f-4b15b339d3ba1823-01 outer:exit 2b-922baa47f3f4599c9f82bb2d54d0c72ace172e3f-01ab805eabe91640-01
2021-09-23T17:18:41.586Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:18:41.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-a45b026b71515c20af5d846f16c8746632177720-2e5fac07e697a157-01 outer:exit 2b-a45b026b71515c20af5d846f16c8746632177720-3d3d21ecaa922309-01
2021-09-23T17:18:41.598Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:18:41.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-d85a7607ba4bdbcfd3910f75707745cf9e8a8888-f894c7d2ead6105c-01 outer:exit 2b-d85a7607ba4bdbcfd3910f75707745cf9e8a8888-1a51d51caf0472dd-01
2021-09-23T17:18:41.611Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:18:41.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bad1427ee5d4b26c8e9dbcce0322f227cf408d0-79cc7bfa18e99c2c-01 outer:exit 2b-3bad1427ee5d4b26c8e9dbcce0322f227cf408d0-78cf1c0857d17c6f-01
2021-09-23T17:18:41.614Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:18:41.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fdef0cb5fb5d5ed4e3ca290644b64c74741ac7b-f476054508907f21-01 outer:exit 2b-3fdef0cb5fb5d5ed4e3ca290644b64c74741ac7b-37af71334fd7cf12-01
2021-09-23T17:18:41.622Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:18:41.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2eb6ec4ee707b3ae495b380a1a8a258a0b62e19-c5e99dcd8e85d812-01 outer:exit 2b-d2eb6ec4ee707b3ae495b380a1a8a258a0b62e19-9ee0c92bae425255-01
2021-09-23T17:18:41.624Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:18:41.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9d0a3619f738277127e04576cc20b0d0d538536-84deabf262a1ce9f-01 outer:exit 2b-b9d0a3619f738277127e04576cc20b0d0d538536-9234a016ac9a8f2f-01
2021-09-23T17:18:41.626Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:18:41.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-c57cd5614e8a781ce2bd30d075cd7a3b2e28f4d1-174cefa6e0170ee3-01 outer:exit 2b-c57cd5614e8a781ce2bd30d075cd7a3b2e28f4d1-eaa294ea7383b1a5-01
2021-09-23T17:18:41.640Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:18:41.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-55a123b77e0d94e15acb2c6188a569d6f73432d4-11198287bb053e14-01 outer:exit 2b-55a123b77e0d94e15acb2c6188a569d6f73432d4-f3f085ae707c74e4-01
2021-09-23T17:18:41.654Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:18:41.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-92b44be1ca3f45cc59fb4c5010a26157cefa33ef-bb2e37693382ed0e-01 outer:exit 2b-92b44be1ca3f45cc59fb4c5010a26157cefa33ef-cdef40dede03c805-01
2021-09-23T17:18:41.659Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:18:41.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-34e5773502d329c8e68ffaca3e44f7a018f59ac8-4c76eb684cc0847c-01 outer:exit 2b-34e5773502d329c8e68ffaca3e44f7a018f59ac8-a864ae9f725383ab-01
2021-09-23T17:18:41.664Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:18:41.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-fde3006ad90a90c841c25c1850a773b7ec4e382b-61a752bf513f862e-01 outer:exit 2b-fde3006ad90a90c841c25c1850a773b7ec4e382b-7022ee3e9ace4829-01
2021-09-23T17:18:41.722Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:18:41.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-c36a95b25e4d1a54f0d089020471cd6fdea8e77e-c7b889ecf4a9b7a5-01 outer:exit 2b-c36a95b25e4d1a54f0d089020471cd6fdea8e77e-f685ab0eca99879f-01
2021-09-23T17:18:41.773Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (675ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:18:49.856Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:18:49.857Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:18:49.857Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:18:49.858Z appoptics:debug using context provider: ace-context
2021-09-23T17:18:49.922Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:18:49.966Z appoptics:patching patched crypto 
2021-09-23T17:18:49.988Z appoptics:patching patched https 
2021-09-23T17:18:49.988Z appoptics:patching patched http 
2021-09-23T17:18:50.044Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:18:50.044Z appoptics:patching patched fs 
2021-09-23T17:18:50.061Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v16.10.0)
2021-09-23T17:18:50.070Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2021-09-23T17:18:50.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-b03fa556b28f7638dfc3ed35a85c11374a283848-d884fc6594ed729d-01 outer:exit 2b-b03fa556b28f7638dfc3ed35a85c11374a283848-4001ed2795d70e08-01
2021-09-23T17:18:50.254Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:18:50.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-92daae8e4662fbbb0fe0f329b41b1b919b3f235a-f57e1dfbf8db41a8-01 outer:exit 2b-92daae8e4662fbbb0fe0f329b41b1b919b3f235a-2326fc45f2bd7548-01
2021-09-23T17:18:50.298Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:18:50.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-f918d6cb8a50455e1cce51080567d622a19bd12a-b31f4f6a13bb929b-01 outer:exit 2b-f918d6cb8a50455e1cce51080567d622a19bd12a-ee63a04e41f435b5-01
2021-09-23T17:18:50.302Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:18:50.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd94f2ee58cfcf0d0ecf5dd8e8330e7c0818a160-b4ec9923360dfefd-01 outer:exit 2b-fd94f2ee58cfcf0d0ecf5dd8e8330e7c0818a160-eab4d558a8ffaee2-01
2021-09-23T17:18:50.305Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:18:50.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea27c29841ec96dcb4687b6f4e1294af23cea893-69924029f9f706fc-01 outer:exit 2b-ea27c29841ec96dcb4687b6f4e1294af23cea893-2feb35fa7ff7633a-01
2021-09-23T17:18:50.310Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:18:50.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-d81481d7f6b2195d301b0cee8ada4ee5aac8dc2f-b0cdc12c971fb68d-01 outer:exit 2b-d81481d7f6b2195d301b0cee8ada4ee5aac8dc2f-6adc22db2b136293-01
2021-09-23T17:18:50.313Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:18:50.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2e916f7c83a91cbda77660ff0b2a06b378abd36-d3fa27d5911b3496-01 outer:exit 2b-b2e916f7c83a91cbda77660ff0b2a06b378abd36-423d6ba3d233b4cd-01
2021-09-23T17:18:50.315Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:18:50.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc304c2eb2c170237f9d1fd88bf780dfcfdd5423-38f25b552cdbfb89-01 outer:exit 2b-dc304c2eb2c170237f9d1fd88bf780dfcfdd5423-1bdc2dc0b86c0bc9-01
2021-09-23T17:18:50.317Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:18:50.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b5199b69435840d3c5808f642dbd7014dacf19f-f51bd5bcdfa693eb-01 outer:exit 2b-3b5199b69435840d3c5808f642dbd7014dacf19f-d4fff50b0e134c19-01
2021-09-23T17:18:50.320Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:18:50.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-80c42e18c38c785fae2bb6b15225251423c63081-e91dc8dd625539f9-01 outer:exit 2b-80c42e18c38c785fae2bb6b15225251423c63081-83d98fc033802b0f-01
2021-09-23T17:18:50.323Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:18:50.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d43d2192af1d372acc3fa0daaec586316691b1d-58f339436dd56bc2-01 outer:exit 2b-8d43d2192af1d372acc3fa0daaec586316691b1d-fa9f8f4d771f061f-01
2021-09-23T17:18:50.327Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:18:50.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bc57cccc7bf4ae836c851214ee2416c131e1988-fb2438ab4aa36ca0-01 outer:exit 2b-4bc57cccc7bf4ae836c851214ee2416c131e1988-898bf9bfc8e8acd5-01
2021-09-23T17:18:50.336Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:18:50.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-7126f396ad0acc2ea01f2ce115a39d01ddc234e2-856d3003971a5893-01 outer:exit 2b-7126f396ad0acc2ea01f2ce115a39d01ddc234e2-0a206a7605b29414-01
2021-09-23T17:18:50.354Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:18:50.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-73e73476dcbd8d5061d40e2b58c925316b31208c-e31561a2ad04e928-01 outer:exit 2b-73e73476dcbd8d5061d40e2b58c925316b31208c-622ecbee4d52fe44-01
2021-09-23T17:18:50.397Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:18:50.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0f179de8f8c30ec31ff18c2eab0429cb18e4e7e-f1fb276fc688e002-01 outer:exit 2b-b0f179de8f8c30ec31ff18c2eab0429cb18e4e7e-aace18b12fa3f996-01
2021-09-23T17:18:50.400Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:18:50.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-de4ee0dc1b9b9de1a06cda04e72ee3c1944430a9-50984933a920a0fe-01 outer:exit 2b-de4ee0dc1b9b9de1a06cda04e72ee3c1944430a9-99c5617c94df4421-01
2021-09-23T17:18:50.403Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:18:50.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e7dfa145a295ff8ccb0d9494032c78667be98c3-f25de30a5d401ce8-01 outer:exit 2b-0e7dfa145a295ff8ccb0d9494032c78667be98c3-516ea0478f78e1a0-01
2021-09-23T17:18:50.406Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:18:50.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-382e6aaf07b50719f97515a83d7e3537181308da-2af4acd9a3e0af85-01 outer:exit 2b-382e6aaf07b50719f97515a83d7e3537181308da-dfdfc4aabc06854c-01
2021-09-23T17:18:50.408Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:18:50.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-67b069e7f97e8e7b0554342ca447f2e879a9bd16-aeb3d493f36d064f-01 outer:exit 2b-67b069e7f97e8e7b0554342ca447f2e879a9bd16-4a2138d06d3ad180-01
2021-09-23T17:18:50.410Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:18:50.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f05fee8890b44734c1192e817325ef107909ce-e31e1de99ad1a7c8-01 outer:exit 2b-87f05fee8890b44734c1192e817325ef107909ce-5f2956e385679c5a-01
2021-09-23T17:18:50.412Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:18:50.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-95706e08cf639ebac3ac9236823024460e497797-b7d9ca7d62d72cb8-01 outer:exit 2b-95706e08cf639ebac3ac9236823024460e497797-fd9651eabe4df2dd-01
2021-09-23T17:18:50.414Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:18:50.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e1149d89bd145882e47add357cac634975d5098-b7a1a92ee7f730c4-01 outer:exit 2b-5e1149d89bd145882e47add357cac634975d5098-34c9f1adea779d5a-01
2021-09-23T17:18:50.417Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:18:50.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-21e975ac604a5013ae54bed94ad082a4f5440a42-c0f14de097a87955-01 outer:exit 2b-21e975ac604a5013ae54bed94ad082a4f5440a42-9c2d2b798548d76c-01
2021-09-23T17:18:50.420Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:18:50.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a939e4bee7d3a1d1880185f7882d0d4b786e5ca-9413b5cfdbf406f9-01 outer:exit 2b-1a939e4bee7d3a1d1880185f7882d0d4b786e5ca-f410114e034107dd-01
2021-09-23T17:18:50.423Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:18:50.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b7024cb615ab2b6613dcddb2920819fe7a0b948-82f0ecaa8fc2e5b2-01 outer:exit 2b-3b7024cb615ab2b6613dcddb2920819fe7a0b948-6ea481ab534e192a-01
2021-09-23T17:18:50.425Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:18:50.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-af07cd5a5fc4b37f51fc2554f150226604f74a79-ad9aa09d6afb8759-01 outer:exit 2b-af07cd5a5fc4b37f51fc2554f150226604f74a79-2711425dd749ca27-01
2021-09-23T17:18:50.427Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:18:50.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d082420b004f1a2467b14f67ece6563fd073b17-03645f18ed231aa0-01 outer:exit 2b-9d082420b004f1a2467b14f67ece6563fd073b17-fbf46295d77c9ca9-01
2021-09-23T17:18:50.433Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:18:50.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-b530d951fe2b7f92e501851124caacedf7d1f7b9-fccd0281c93ccf73-01 outer:exit 2b-b530d951fe2b7f92e501851124caacedf7d1f7b9-30e18187d2ecc6df-01
2021-09-23T17:18:50.438Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:18:50.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-c412951719702076e49776e91780c6bcb84a0a6d-cc8d00b8369464f4-01 outer:exit 2b-c412951719702076e49776e91780c6bcb84a0a6d-e2c6302e5b2ee6a9-01
2021-09-23T17:18:50.451Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:18:50.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-c345d68874b5c9aa34031753c173089b40f46d33-918bd61e4c8e5e47-01 outer:exit 2b-c345d68874b5c9aa34031753c173089b40f46d33-9a48a1f0a09813d7-01
2021-09-23T17:18:50.461Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:18:50.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-7907b1fa6698dda6a4f8e3a88c6d059f3c3809e4-ac7f91cde5379187-01 outer:exit 2b-7907b1fa6698dda6a4f8e3a88c6d059f3c3809e4-290c1875a6bbe187-01
2021-09-23T17:18:50.463Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:18:50.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a5b555eb731b1a0423c89c7555ffa80a441fea6-99a47dee98e6b8ff-01 outer:exit 2b-4a5b555eb731b1a0423c89c7555ffa80a441fea6-493470a20c6c39ac-01
2021-09-23T17:18:50.466Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:18:50.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-f14cb5fc7b55f07e7ed8e12d2a4e18e7a91bae9d-35e69594ee1697eb-01 outer:exit 2b-f14cb5fc7b55f07e7ed8e12d2a4e18e7a91bae9d-0c093c6ebd95fe6b-01
2021-09-23T17:18:50.474Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:18:50.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f3ba774c85409428d241a1e656006220a8153e5-fdca982c3e355be3-01 outer:exit 2b-2f3ba774c85409428d241a1e656006220a8153e5-094ab5cfe5049e7d-01
2021-09-23T17:18:50.477Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:18:50.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f4a16aafb6ce046bb971c072a56e51501fb50a8-1f168c3ad226b33f-01 outer:exit 2b-6f4a16aafb6ce046bb971c072a56e51501fb50a8-bd36329e020ae033-01
2021-09-23T17:18:50.479Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:18:50.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8554649cb1094d67da78dc584b46626e0a91d78-c83b49a54e32ed9b-01 outer:exit 2b-f8554649cb1094d67da78dc584b46626e0a91d78-be26cd2e30539233-01
2021-09-23T17:18:50.485Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:18:50.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-97b9bf7d19b88250b8669fe3fcf77f0271ffb1c5-632286793921eb18-01 outer:exit 2b-97b9bf7d19b88250b8669fe3fcf77f0271ffb1c5-111918324fc3dcd5-01
2021-09-23T17:18:50.487Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:18:50.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b8b90cfc93d50a9808b2ed3c8272acab052fc0b-57f6567360a2382e-01 outer:exit 2b-0b8b90cfc93d50a9808b2ed3c8272acab052fc0b-6675b925cc46e85c-01
2021-09-23T17:18:50.489Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:18:50.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-10954307cde463adb9ba37e57bcdf0cd19f117d6-3ebbbb8519fe795f-01 outer:exit 2b-10954307cde463adb9ba37e57bcdf0cd19f117d6-cc34820dc515e3b2-01
2021-09-23T17:18:50.499Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:18:50.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-0813e04710720529cd00caa84b13b0aad15d510c-e449d8b498a2fe1c-01 outer:exit 2b-0813e04710720529cd00caa84b13b0aad15d510c-3439ed7f02eb7b73-01
2021-09-23T17:18:50.509Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:18:50.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-641953dc1f87ff256d1f130feaa2763167b5e045-dbc3d62603a0894a-01 outer:exit 2b-641953dc1f87ff256d1f130feaa2763167b5e045-6beff632775f3e64-01
2021-09-23T17:18:50.512Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:18:50.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-e30ec5f6d9d98ce6c24782b5d6192eec638174b1-3dfa440cffe5985c-01 outer:exit 2b-e30ec5f6d9d98ce6c24782b5d6192eec638174b1-7364dced7f74b992-01
2021-09-23T17:18:50.514Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:18:50.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-53d68f025b05b4c7a3579c3f50d768dc577718a5-0cda992bbf9940e1-01 outer:exit 2b-53d68f025b05b4c7a3579c3f50d768dc577718a5-9cbb3b5417af4147-01
2021-09-23T17:18:50.517Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:18:50.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c5376337248a5b05cb4f209ed46423cb0550453-030a5c9ee33910d3-01 outer:exit 2b-7c5376337248a5b05cb4f209ed46423cb0550453-4dfe4fbe2aadf9f6-01
2021-09-23T17:18:50.546Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (331ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:18:58.610Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:18:58.611Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:18:58.611Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:18:58.612Z appoptics:debug using context provider: ace-context
2021-09-23T17:18:58.695Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:18:58.749Z appoptics:patching patched crypto 
2021-09-23T17:18:58.779Z appoptics:patching patched https 
2021-09-23T17:18:58.780Z appoptics:patching patched http 
2021-09-23T17:18:58.847Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:18:58.847Z appoptics:patching patched fs 
2021-09-23T17:18:58.869Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v16.10.0)
2021-09-23T17:18:58.878Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2021-09-23T17:18:59.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-7164abfb4b74ab7c7414ea8ae5de2d68d7e6b0a7-c07f8841958adae9-01 outer:exit 2b-7164abfb4b74ab7c7414ea8ae5de2d68d7e6b0a7-2dc280c7efc9ebfb-01
2021-09-23T17:18:59.164Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:18:59.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-295ea7c4989220a24a4bfea1e83cf05258f661a6-32e426a745bc0c5f-01 outer:exit 2b-295ea7c4989220a24a4bfea1e83cf05258f661a6-c7532c31214ee291-01
2021-09-23T17:18:59.215Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:18:59.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6cae569c676d20173b68c97e5df137a47c9706f-537f32703f14285e-01 outer:exit 2b-d6cae569c676d20173b68c97e5df137a47c9706f-2095b925d08263c9-01
2021-09-23T17:18:59.222Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:18:59.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad9f63b78fa34e2ceb43541e5b1ca9b521f2158d-5f7aa5d05ab4cb0d-01 outer:exit 2b-ad9f63b78fa34e2ceb43541e5b1ca9b521f2158d-8f7f9565b14a702c-01
2021-09-23T17:18:59.225Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:18:59.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8053f23f371017a1d1f5dd0c6e297394eaa65fe-5ec4d66cf4ad23d6-01 outer:exit 2b-f8053f23f371017a1d1f5dd0c6e297394eaa65fe-1ce2b942c2881752-01
2021-09-23T17:18:59.234Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:18:59.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-aed9a19aed0e4c853ed0bab115834f7a7f044bac-b6f06aeec2dd6a25-01 outer:exit 2b-aed9a19aed0e4c853ed0bab115834f7a7f044bac-246da3a40a16f59e-01
2021-09-23T17:18:59.239Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:18:59.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea573e5aa6cd8b2f15aaaa67ae3f47bc25a35cdc-53a1f9ec51bb9d4e-01 outer:exit 2b-ea573e5aa6cd8b2f15aaaa67ae3f47bc25a35cdc-a7d699a5575f5883-01
2021-09-23T17:18:59.251Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:18:59.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4028c837959e831a0fb7e3ffe7e7cecc692b29c-ffa2a49a1e5a6a43-01 outer:exit 2b-c4028c837959e831a0fb7e3ffe7e7cecc692b29c-f3aa9017e6134292-01
2021-09-23T17:18:59.254Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:18:59.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-8348bd738518f2bc9152bd2ad90e4198af881c4f-e6f46eb70a700371-01 outer:exit 2b-8348bd738518f2bc9152bd2ad90e4198af881c4f-cdbcdbedf217fe52-01
2021-09-23T17:18:59.258Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:18:59.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-c166485d826f39d6768f398ce3aa37b6f26ff7a9-de17ee5a595bb00f-01 outer:exit 2b-c166485d826f39d6768f398ce3aa37b6f26ff7a9-5e293e8250c9557e-01
2021-09-23T17:18:59.261Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:18:59.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c15ff41d715f127cec10f7b726c612bb9eacf88-7bf9f4fc99c3dda9-01 outer:exit 2b-7c15ff41d715f127cec10f7b726c612bb9eacf88-2b8f4fdfd5c5e3bc-01
2021-09-23T17:18:59.266Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:18:59.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4bfd8c0818aafb27668a02bad20adab02a2c55a-6857f40e045c7708-01 outer:exit 2b-c4bfd8c0818aafb27668a02bad20adab02a2c55a-82975bfba5701d8c-01
2021-09-23T17:18:59.274Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:18:59.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b23c8dc438cb2b1c88ae4d2f659bc1a7eef3d0c-fb577058a92eb31a-01 outer:exit 2b-7b23c8dc438cb2b1c88ae4d2f659bc1a7eef3d0c-83ad62b452a63c0c-01
2021-09-23T17:18:59.293Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:18:59.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-61d910e0981a83ce30327bf157b73af03fdf51ec-3f4bc2122a35b926-01 outer:exit 2b-61d910e0981a83ce30327bf157b73af03fdf51ec-e16a19323bcb7191-01
2021-09-23T17:18:59.348Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:18:59.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5742c097916b84ded74db488db90d41584a44d1-3c3628441b478ca7-01 outer:exit 2b-f5742c097916b84ded74db488db90d41584a44d1-017ca017abd21c58-01
2021-09-23T17:18:59.352Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:18:59.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-c17f97c4a5a8d8ced27810243f971e753b41947d-2e2b4876abb72014-01 outer:exit 2b-c17f97c4a5a8d8ced27810243f971e753b41947d-9788f17533673cdd-01
2021-09-23T17:18:59.355Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:18:59.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-629f3bb341b1789c39a5752ce75c70a5ff3ed162-11339031161e7fd3-01 outer:exit 2b-629f3bb341b1789c39a5752ce75c70a5ff3ed162-b7fd92a474b314e5-01
2021-09-23T17:18:59.358Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:18:59.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ff6e30b9bcd2b9e51f810fbae8c23af7468c599-2a1fb648c4391b85-01 outer:exit 2b-9ff6e30b9bcd2b9e51f810fbae8c23af7468c599-b46254dfa7a0c9ba-01
2021-09-23T17:18:59.361Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:18:59.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-0161c37cfe30d855710af9b14868a8d5c64c31ad-30ce26106df251f1-01 outer:exit 2b-0161c37cfe30d855710af9b14868a8d5c64c31ad-1beb23245a594636-01
2021-09-23T17:18:59.363Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:18:59.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb81f18527f2ab93204263eb7800a435e2795f16-77fa6a90a4d91e75-01 outer:exit 2b-eb81f18527f2ab93204263eb7800a435e2795f16-95a89541559404ce-01
2021-09-23T17:18:59.366Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:18:59.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-82e484a4e93bab88d78f997f2e6dc32ef279c999-65dd6405589baa5c-01 outer:exit 2b-82e484a4e93bab88d78f997f2e6dc32ef279c999-69c21e4b525c1bc3-01
2021-09-23T17:18:59.368Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:18:59.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbef76ad6da0dbfd4736c1755aab0573a73d7cc1-93054975051133cd-01 outer:exit 2b-dbef76ad6da0dbfd4736c1755aab0573a73d7cc1-0d823b65fa4a5177-01
2021-09-23T17:18:59.371Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:18:59.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5836c9cdf7730927d1e05f0608206bb22a48885-ddf061101c67a4c3-01 outer:exit 2b-f5836c9cdf7730927d1e05f0608206bb22a48885-0672b45f680c3678-01
2021-09-23T17:18:59.374Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:18:59.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dfd3002f7e2df821e63d3cd970cd80fcc425816-f88aab5b4aa7b371-01 outer:exit 2b-4dfd3002f7e2df821e63d3cd970cd80fcc425816-5bc587ff56b6ab0a-01
2021-09-23T17:18:59.377Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:18:59.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-981614791a81a223236718e277c84ed30fb2b3d1-6e360a95198e0f30-01 outer:exit 2b-981614791a81a223236718e277c84ed30fb2b3d1-686d83fce04e324c-01
2021-09-23T17:18:59.379Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:18:59.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dbe5e0e306b2204401ca77982cba15abcb0b22a-9f38f2b51e379aad-01 outer:exit 2b-9dbe5e0e306b2204401ca77982cba15abcb0b22a-25df0305bc2e0629-01
2021-09-23T17:18:59.382Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:18:59.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6851332489adffed2114ac0459628e9f4bb14a2-a00eb36f0fbac160-01 outer:exit 2b-d6851332489adffed2114ac0459628e9f4bb14a2-53cf0d1724f8d9f9-01
2021-09-23T17:18:59.388Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:18:59.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab6c41a5f3057553d846b7f4eb89a259939ff043-a51106253ddc30de-01 outer:exit 2b-ab6c41a5f3057553d846b7f4eb89a259939ff043-c90ed9a0db08e384-01
2021-09-23T17:18:59.392Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:18:59.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0b289b306bdfd6fa19d98b114057f1ca7db66d4-1b724a4e4e737bf6-01 outer:exit 2b-f0b289b306bdfd6fa19d98b114057f1ca7db66d4-482edae041f7c350-01
2021-09-23T17:18:59.402Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:18:59.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7d7ca93980816565ee06227fbd34a747f44c797-06763b18e8593967-01 outer:exit 2b-d7d7ca93980816565ee06227fbd34a747f44c797-112d350341743218-01
2021-09-23T17:18:59.409Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:18:59.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f9a2d1d628edba7303a188a8db8fb29cf41c3d8-7a58425bd20e4e06-01 outer:exit 2b-0f9a2d1d628edba7303a188a8db8fb29cf41c3d8-8c0209f9de47c213-01
2021-09-23T17:18:59.412Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:18:59.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cf3767aef63188f4361c783ad9e70f66d115d09-93ece82f8cb6bd4a-01 outer:exit 2b-2cf3767aef63188f4361c783ad9e70f66d115d09-5d781552740cf4f4-01
2021-09-23T17:18:59.415Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:18:59.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c3b59cd76d09e55ef053cc2e787c0acfeb4ca46-2024efaca90c931c-01 outer:exit 2b-4c3b59cd76d09e55ef053cc2e787c0acfeb4ca46-316ada846e80f4fb-01
2021-09-23T17:18:59.422Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:18:59.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c934f51ad645b9f05cd071053eb1ad11bf9dbbf-736324b475064801-01 outer:exit 2b-5c934f51ad645b9f05cd071053eb1ad11bf9dbbf-2533cd7590f42cd6-01
2021-09-23T17:18:59.425Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:18:59.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbf578e4bbfa23c4de72d64419e2b3215ccb231c-69bb0c7ec04ab2e0-01 outer:exit 2b-dbf578e4bbfa23c4de72d64419e2b3215ccb231c-1fe3062b6f2c44a5-01
2021-09-23T17:18:59.427Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:18:59.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-f585209af2fa747c126e629be08b1873a354598c-54ce60a5de15070c-01 outer:exit 2b-f585209af2fa747c126e629be08b1873a354598c-2495d813f3d882f9-01
2021-09-23T17:18:59.430Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:18:59.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-da54d5ef462983d235ea45b78e9778770d5f3bed-e86ef8729481c8e5-01 outer:exit 2b-da54d5ef462983d235ea45b78e9778770d5f3bed-e1f64a63251e52bb-01
2021-09-23T17:18:59.432Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:18:59.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba5cb3ce330b828902023d1269d5385976e8d4b7-a99f9535501ea56a-01 outer:exit 2b-ba5cb3ce330b828902023d1269d5385976e8d4b7-85c0aebe3b67ba8a-01
2021-09-23T17:18:59.435Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:18:59.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-6df7d5cf32c1e6773d2c0c831b5334611d968be4-9955ef9310665517-01 outer:exit 2b-6df7d5cf32c1e6773d2c0c831b5334611d968be4-8b200eb916fbac0a-01
2021-09-23T17:18:59.446Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:18:59.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d87e24edc0ac1c94d6ca0e3e3e5fd70490289f6-d0f331240df5ba57-01 outer:exit 2b-4d87e24edc0ac1c94d6ca0e3e3e5fd70490289f6-7c34377a57afc6e0-01
2021-09-23T17:18:59.465Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:18:59.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea7905d12b01a8e3b7a0ccd499a53089016ac78a-e53ea429eaabebe6-01 outer:exit 2b-ea7905d12b01a8e3b7a0ccd499a53089016ac78a-6fd116883adad74e-01
2021-09-23T17:18:59.468Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:18:59.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-749a418a1ffd8760e806127905c51d0fcc0a4ec2-8c518e84addbcd0e-01 outer:exit 2b-749a418a1ffd8760e806127905c51d0fcc0a4ec2-b5a7ecd4dcbd3450-01
2021-09-23T17:18:59.472Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:18:59.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc14d40feb818bc93b11a0676323a43343bfc23e-01967135dafeebee-01 outer:exit 2b-cc14d40feb818bc93b11a0676323a43343bfc23e-24ea41f4cd7d7414-01
2021-09-23T17:18:59.475Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:18:59.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-b082086e4894ce7c7aba9da2afe6c85d3d4487c2-7161bb8abf276604-01 outer:exit 2b-b082086e4894ce7c7aba9da2afe6c85d3d4487c2-b2f09f2512639aa8-01
2021-09-23T17:18:59.505Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (400ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:06.523Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:06.524Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:06.524Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:06.525Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:06.598Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:06.647Z appoptics:patching patched crypto 
2021-09-23T17:19:06.673Z appoptics:patching patched https 
2021-09-23T17:19:06.674Z appoptics:patching patched http 
2021-09-23T17:19:06.737Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:06.737Z appoptics:patching patched fs 
2021-09-23T17:19:06.756Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v16.10.0)
2021-09-23T17:19:06.766Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2021-09-23T17:19:07.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-a285bb761a1312c4b170e3f8ee7d32febbc058bc-8b65ddfdfb70e255-01 outer:exit 2b-a285bb761a1312c4b170e3f8ee7d32febbc058bc-d9abd1dc72dff063-01
2021-09-23T17:19:07.014Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:19:07.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-90333a5a82e2142f384fa2994002e5e59516b3d6-cc5ca2bc559bdaf6-01 outer:exit 2b-90333a5a82e2142f384fa2994002e5e59516b3d6-f535f1ba342414c4-01
2021-09-23T17:19:07.113Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:19:07.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ca02f0fdcb92dd6bbd65142503ea31bd6aa1114-ec0ebe14f9486f57-01 outer:exit 2b-1ca02f0fdcb92dd6bbd65142503ea31bd6aa1114-748c7898755bef2e-01
2021-09-23T17:19:07.119Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:19:07.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffc896d89b36e1fdd1de0874f5c39b6079853e5f-9f46ffa2cd8fb8fd-01 outer:exit 2b-ffc896d89b36e1fdd1de0874f5c39b6079853e5f-5a4ad26274dd85b1-01
2021-09-23T17:19:07.123Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:19:07.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-824dbf5e422e4e05af87b46f7dcfb9da06e2fd4f-6b362b20d7fa5f1d-01 outer:exit 2b-824dbf5e422e4e05af87b46f7dcfb9da06e2fd4f-4fddf33298756904-01
2021-09-23T17:19:07.129Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:19:07.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-c21121e27f5f0a419aa78ba6171f42301b962e4b-950ff7d714e2cdf7-01 outer:exit 2b-c21121e27f5f0a419aa78ba6171f42301b962e4b-0d6b4d81ba10cdb8-01
2021-09-23T17:19:07.132Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:19:07.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dcbf4a6f5b08b2240ea44e1988c81489e8add36-2da60dc60749bf1d-01 outer:exit 2b-1dcbf4a6f5b08b2240ea44e1988c81489e8add36-914365a52977952c-01
2021-09-23T17:19:07.135Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:19:07.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-08940a3483df83c0d7bb45646db5f51b0be64d26-a72e663c3661fcfb-01 outer:exit 2b-08940a3483df83c0d7bb45646db5f51b0be64d26-f45aaf35e494c0cc-01
2021-09-23T17:19:07.139Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:19:07.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee330b389ec12af3b61712b1a475c6968c1aadf2-7dff0b0abadcf8db-01 outer:exit 2b-ee330b389ec12af3b61712b1a475c6968c1aadf2-dd628cc01b240530-01
2021-09-23T17:19:07.141Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:19:07.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd8547eaa4093a7dd7db58040405f40c08ec572c-e3e85653b04a9947-01 outer:exit 2b-dd8547eaa4093a7dd7db58040405f40c08ec572c-508c52a14386e5f6-01
2021-09-23T17:19:07.144Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:19:07.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbad9f3423bf11db88b3a9e3c9122ec357431527-df967b7363c5b820-01 outer:exit 2b-cbad9f3423bf11db88b3a9e3c9122ec357431527-d4bef751cb385bfe-01
2021-09-23T17:19:07.149Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:19:07.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-9672430d4f58c85ba6a3027d97bb1f78c316ca61-0c99a8de00064d83-01 outer:exit 2b-9672430d4f58c85ba6a3027d97bb1f78c316ca61-3a8fc18dde92f017-01
2021-09-23T17:19:07.155Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:19:07.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ed6c17ba59954d5c1dcf4b53a733b906cf0bbcb-21c358b93f91f71a-01 outer:exit 2b-5ed6c17ba59954d5c1dcf4b53a733b906cf0bbcb-0e2f9f7a5461147a-01
2021-09-23T17:19:07.171Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:19:07.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-df5f7ef0aba8ce4483867be4c16e391c84b999d1-ce88bcbbdca2ff27-01 outer:exit 2b-df5f7ef0aba8ce4483867be4c16e391c84b999d1-13f2a27fd54974d9-01
2021-09-23T17:19:07.257Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:19:07.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-a198e5d93c442adf443ab39aca3a1dfa3654166b-886eb12160485be5-01 outer:exit 2b-a198e5d93c442adf443ab39aca3a1dfa3654166b-346cf16182554efb-01
2021-09-23T17:19:07.261Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:19:07.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-6391f3efb4b5af5b9d20f89fbedc264701a2e7ef-ae0119ba5877a9eb-01 outer:exit 2b-6391f3efb4b5af5b9d20f89fbedc264701a2e7ef-f523b1c20782bd40-01
2021-09-23T17:19:07.263Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:19:07.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-9da13d415308ebedaeb777c7b71faa9a638493b0-057dca1796d86946-01 outer:exit 2b-9da13d415308ebedaeb777c7b71faa9a638493b0-57ddd593b0803db5-01
2021-09-23T17:19:07.267Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:19:07.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-53b5a2138872dbe3f90f826c6fe2ffac79b3461c-e35474229557c029-01 outer:exit 2b-53b5a2138872dbe3f90f826c6fe2ffac79b3461c-ab1cf1cd7149984a-01
2021-09-23T17:19:07.269Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:19:07.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-a061a45e50bcd8761a5cd3deef0457e781c6749b-6a17b03bb6da4fca-01 outer:exit 2b-a061a45e50bcd8761a5cd3deef0457e781c6749b-1b2a8b76779118c2-01
2021-09-23T17:19:07.272Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:19:07.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8e7c7d0535dab4b58f6aa2ebffa429f550ffced-14f5940ab62671ad-01 outer:exit 2b-d8e7c7d0535dab4b58f6aa2ebffa429f550ffced-5b4d84d81018a887-01
2021-09-23T17:19:07.274Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:19:07.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-506d45c1066f56e6e88b8bfabd388e4d463edc1f-92d80a78bbac9475-01 outer:exit 2b-506d45c1066f56e6e88b8bfabd388e4d463edc1f-8a99d7d1e82857c2-01
2021-09-23T17:19:07.277Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:19:07.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-54325e2207ef4078d8389ad0a754130a8a606c82-814eecbfb6a9a467-01 outer:exit 2b-54325e2207ef4078d8389ad0a754130a8a606c82-3b8eeb31c09aaa85-01
2021-09-23T17:19:07.279Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:19:07.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-13e7b26a0f83d8473a8ed6b3809e468fdeb1c241-0ad19ca143b8ed39-01 outer:exit 2b-13e7b26a0f83d8473a8ed6b3809e468fdeb1c241-e15fd8abd840c053-01
2021-09-23T17:19:07.282Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:19:07.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6bff28c46dd1a181e1d2661a6517191ea7bffcd-9faf67acdf9dc2a2-01 outer:exit 2b-b6bff28c46dd1a181e1d2661a6517191ea7bffcd-186d3bba69f63259-01
2021-09-23T17:19:07.285Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:19:07.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f1cac830b9080bf09741a1465d3b9d3c33f070d-59fd3b8df214162a-01 outer:exit 2b-2f1cac830b9080bf09741a1465d3b9d3c33f070d-c363a544e5d6177d-01
2021-09-23T17:19:07.289Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:19:07.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f37c9519ceb2ac1c559d34b490711d31835b2c8-627387bfa1167fb2-01 outer:exit 2b-6f37c9519ceb2ac1c559d34b490711d31835b2c8-8712795805e8f373-01
2021-09-23T17:19:07.291Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:19:07.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-342361f0e1c4b861ce142bceb6548044b2b26baa-65b020cd862a4677-01 outer:exit 2b-342361f0e1c4b861ce142bceb6548044b2b26baa-47b079cb743f00b9-01
2021-09-23T17:19:07.297Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:19:07.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-b20c1ff4d4a91da6fa551c01509d467d9e4ce733-5f9ba4370750ca2b-01 outer:exit 2b-b20c1ff4d4a91da6fa551c01509d467d9e4ce733-e0c3bed9d03374e3-01
2021-09-23T17:19:07.302Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:19:07.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-97f125bfa44c3270457851680a67e362661f7f46-75639a3ee473af80-01 outer:exit 2b-97f125bfa44c3270457851680a67e362661f7f46-8f2e61a314190b12-01
2021-09-23T17:19:07.314Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:19:07.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8024c5031a0c9f68bb7acf31afe3425cf37880d-33b89ac7ddba86cd-01 outer:exit 2b-d8024c5031a0c9f68bb7acf31afe3425cf37880d-56c0507b29b7f98d-01
2021-09-23T17:19:07.322Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:19:07.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef7dff8d66bf7d8073e05ee4a74100167ffaa465-820799d047e8f2f3-01 outer:exit 2b-ef7dff8d66bf7d8073e05ee4a74100167ffaa465-e7d4e7cfbf40b531-01
2021-09-23T17:19:07.325Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:19:07.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-41356ecd136467e7bd2916c8e14f41cd7a5024ad-a14b694c96ef88f7-01 outer:exit 2b-41356ecd136467e7bd2916c8e14f41cd7a5024ad-994bb6ea7eb316be-01
2021-09-23T17:19:07.329Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:19:07.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-7966a2433da0b0ad9d48e377eced1c0d7d871aa8-288615b4770cc40a-01 outer:exit 2b-7966a2433da0b0ad9d48e377eced1c0d7d871aa8-9ac7d4449df0de87-01
2021-09-23T17:19:07.337Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:19:07.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-99e17718afb9fef55f61f8beb02c7e90ce5e88da-4639143455361182-01 outer:exit 2b-99e17718afb9fef55f61f8beb02c7e90ce5e88da-7517f38d11619b0f-01
2021-09-23T17:19:07.339Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:19:07.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-ada503d5185dc8ee50409e051cd061ea454d07f9-351f7094b388f75d-01 outer:exit 2b-ada503d5185dc8ee50409e051cd061ea454d07f9-6827718fe01ef07d-01
2021-09-23T17:19:07.341Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:19:07.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c46f2c69d26bf573685f739b31e0227c1185d61-10daf8426f71b903-01 outer:exit 2b-2c46f2c69d26bf573685f739b31e0227c1185d61-e15b8bc8b35e8d59-01
2021-09-23T17:19:07.347Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:19:07.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-de60a04ae80afdf7607632b8f3dcb02e48ad5b51-ed21f40ae7226233-01 outer:exit 2b-de60a04ae80afdf7607632b8f3dcb02e48ad5b51-204b02b57b853cab-01
2021-09-23T17:19:07.350Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:19:07.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f4b6aa0f4f1a24e4cee358f29dffb9e01691e29-48e9d874165ec2de-01 outer:exit 2b-0f4b6aa0f4f1a24e4cee358f29dffb9e01691e29-eecf52bbd31ae653-01
2021-09-23T17:19:07.353Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:19:07.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-b499eaaa1d5731f5e84a09fe8ae4c26890b91ffc-783f0f7e4d218f11-01 outer:exit 2b-b499eaaa1d5731f5e84a09fe8ae4c26890b91ffc-58935a84683d4792-01
2021-09-23T17:19:07.363Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:19:07.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-e36baca4178942c81a1fe559eeb2f01432ce3830-267edc59b5557659-01 outer:exit 2b-e36baca4178942c81a1fe559eeb2f01432ce3830-0ad67654ce75dbf1-01
2021-09-23T17:19:07.375Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:19:07.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-beeb4c31e13f1319d7624d64909774a738b05208-18c40d36b95f341a-01 outer:exit 2b-beeb4c31e13f1319d7624d64909774a738b05208-8d2d9acb78f3a2ec-01
2021-09-23T17:19:07.379Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:19:07.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b5c7ee5eec54b430ee24176a3917184a0c5eb40-6c017f729229f2cb-01 outer:exit 2b-0b5c7ee5eec54b430ee24176a3917184a0c5eb40-d5c4cff8e6cb3eb2-01
2021-09-23T17:19:07.383Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:19:07.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f6cf6c6ce3e9e3f01ddbd97440a4a6024c37a4c-77620cf212ff40e8-01 outer:exit 2b-9f6cf6c6ce3e9e3f01ddbd97440a4a6024c37a4c-c3bd5fbafd30dc6a-01
2021-09-23T17:19:07.386Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:19:07.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-151f999d5660f2ba956b3d0144d99ecf77290c4c-747bb7c8feafa02c-01 outer:exit 2b-151f999d5660f2ba956b3d0144d99ecf77290c4c-3cf928cb781e70ef-01
2021-09-23T17:19:07.416Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (463ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:14.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:14.928Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:14.928Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:14.929Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:14.997Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:15.040Z appoptics:patching patched crypto 
2021-09-23T17:19:15.062Z appoptics:patching patched https 
2021-09-23T17:19:15.063Z appoptics:patching patched http 
2021-09-23T17:19:15.127Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:15.127Z appoptics:patching patched fs 
2021-09-23T17:19:15.143Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v16.10.0)
2021-09-23T17:19:15.151Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2021-09-23T17:19:15.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-abfcf7c32b0d0b642c6f8d600f3d4f3c21139960-e90e1984a03a02ec-01 outer:exit 2b-abfcf7c32b0d0b642c6f8d600f3d4f3c21139960-cc859209f8223879-01
2021-09-23T17:19:15.399Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:19:15.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaf50f1142b2b55bd0ef0ac95e55a72aeaf0fdd0-8866d05cd06ed894-01 outer:exit 2b-eaf50f1142b2b55bd0ef0ac95e55a72aeaf0fdd0-fe4eb3f752fd856e-01
2021-09-23T17:19:15.462Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:19:15.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca6609e3a91301dae4788e92e16f2d5aa9b855ee-7d0c9ff0e4c2cfcf-01 outer:exit 2b-ca6609e3a91301dae4788e92e16f2d5aa9b855ee-d0cc5fdd59e8dd1a-01
2021-09-23T17:19:15.468Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:19:15.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-18e01a5cc052008f71a3459a6b536c6741027a3d-95e1428f236da228-01 outer:exit 2b-18e01a5cc052008f71a3459a6b536c6741027a3d-89ac71893600b0c9-01
2021-09-23T17:19:15.472Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:19:15.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eaf71a8c14f534cc0f542bad9636fc71304ebe2-224f63c49e0cca59-01 outer:exit 2b-0eaf71a8c14f534cc0f542bad9636fc71304ebe2-75f65f3b2b46bab9-01
2021-09-23T17:19:15.483Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:19:15.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f80f6964e7f71dd70376b8aade56715a4961c57-5d7f5e09a596bc8c-01 outer:exit 2b-1f80f6964e7f71dd70376b8aade56715a4961c57-c5c8e622d02a4204-01
2021-09-23T17:19:15.487Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:19:15.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-919c3cd957e4098d14fd93d315879a6d4fb2c470-21a9820bf4b3a110-01 outer:exit 2b-919c3cd957e4098d14fd93d315879a6d4fb2c470-e8577af46df0a506-01
2021-09-23T17:19:15.491Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:19:15.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-972261e2d677d1540d5539922fc9d91d1ee3ada6-22f6033f86f73ab6-01 outer:exit 2b-972261e2d677d1540d5539922fc9d91d1ee3ada6-1793ed702770acec-01
2021-09-23T17:19:15.495Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:19:15.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-f95e26faaf29cd5c423eee428dc62d13fa2ae739-2cccf011da664c96-01 outer:exit 2b-f95e26faaf29cd5c423eee428dc62d13fa2ae739-f100acd25dbc6a97-01
2021-09-23T17:19:15.499Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:19:15.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-0672f03272867ac64e8bfa24b9a79be90443ed15-b9e1ccb440520304-01 outer:exit 2b-0672f03272867ac64e8bfa24b9a79be90443ed15-fd2ef231b97111b4-01
2021-09-23T17:19:15.503Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:19:15.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f3e3263f93887774e5a4cef31146763e4bef3c0-8e8e2039f71d2302-01 outer:exit 2b-5f3e3263f93887774e5a4cef31146763e4bef3c0-ab9731352ac5b67e-01
2021-09-23T17:19:15.509Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:19:15.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-5675fb84f02711268635a245d089890ab4c5ff3c-d436255e57e3ad72-01 outer:exit 2b-5675fb84f02711268635a245d089890ab4c5ff3c-01abce992e962edf-01
2021-09-23T17:19:15.518Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:19:15.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e3fb50979ff798ecefda660cf6a1c3743493357-a81063b8a37f50e2-01 outer:exit 2b-3e3fb50979ff798ecefda660cf6a1c3743493357-f0f36edd0d2f9c39-01
2021-09-23T17:19:15.542Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:19:15.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-8702423dc3f881e5de0d416064c76b6443826d28-a8c64fc881d4603c-01 outer:exit 2b-8702423dc3f881e5de0d416064c76b6443826d28-1e0b9f7475ba2501-01
2021-09-23T17:19:15.606Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:19:15.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-64f853482b5f93be57772c941e4ae160c109af0a-b9e5f7f30c8cf9e5-01 outer:exit 2b-64f853482b5f93be57772c941e4ae160c109af0a-164f33d8d017412b-01
2021-09-23T17:19:15.609Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:19:15.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ff7a7bcdf04ed0c1847d807191ba603a9a60d03-62982795831de906-01 outer:exit 2b-0ff7a7bcdf04ed0c1847d807191ba603a9a60d03-3b8bd313d83e73e4-01
2021-09-23T17:19:15.613Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:19:15.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e3fa9abecc450e517b8a009d67771b76ef66666-085a49428ff9b9aa-01 outer:exit 2b-2e3fa9abecc450e517b8a009d67771b76ef66666-60f8274f369eb91e-01
2021-09-23T17:19:15.617Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:19:15.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-7233f956142f864f4bbf8eb580260d05048150e5-681fdcbcea894399-01 outer:exit 2b-7233f956142f864f4bbf8eb580260d05048150e5-dfaa2d4357c36054-01
2021-09-23T17:19:15.620Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:19:15.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fef5bc807e185c4b891485dd44d68ef4a8c122f-fd72387a5122e688-01 outer:exit 2b-4fef5bc807e185c4b891485dd44d68ef4a8c122f-eba24e3fed6c8ba5-01
2021-09-23T17:19:15.628Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:19:15.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc22cbd94662c4fc485f6572a7d987269c23979e-b91a825891ea530d-01 outer:exit 2b-fc22cbd94662c4fc485f6572a7d987269c23979e-e69acdf0dfeb87a3-01
2021-09-23T17:19:15.633Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:19:15.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2947cdf2f8df8efb7f07a9af080f7456a729c22-607da826696bd79e-01 outer:exit 2b-c2947cdf2f8df8efb7f07a9af080f7456a729c22-0b33f73fdf8df327-01
2021-09-23T17:19:15.636Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:19:15.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fb40f5c6c5e5955b532bf19e9e1b77c5d4d1cad-8ae175d6aa05c3fa-01 outer:exit 2b-9fb40f5c6c5e5955b532bf19e9e1b77c5d4d1cad-5f1720f5770761a7-01
2021-09-23T17:19:15.639Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:19:15.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-605ea802f9b9d0dea966a267320fbb407443329b-042a679bc8efe787-01 outer:exit 2b-605ea802f9b9d0dea966a267320fbb407443329b-50d812bbc74671f6-01
2021-09-23T17:19:15.643Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:19:15.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-630982733ea783d87fb5cbd6f05bfe6f18806010-ab7cfd3ffc8b5fb3-01 outer:exit 2b-630982733ea783d87fb5cbd6f05bfe6f18806010-ce6104acb99d02cc-01
2021-09-23T17:19:15.647Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:19:15.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ef6d206747f33e8adb4796f37dc45422f82fa8f-c2f5aaee66883521-01 outer:exit 2b-4ef6d206747f33e8adb4796f37dc45422f82fa8f-ecae68892432e943-01
2021-09-23T17:19:15.650Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:19:15.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-58c10398675c3bffcbc636053bccf19eed02a4f0-c241770a31ce0f5b-01 outer:exit 2b-58c10398675c3bffcbc636053bccf19eed02a4f0-0fae9a48f739cd3b-01
2021-09-23T17:19:15.653Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:19:15.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-18295ecb13dac0e061a6896576c936daa1951d51-1eaa14745ff3a097-01 outer:exit 2b-18295ecb13dac0e061a6896576c936daa1951d51-f13b8e8696758903-01
2021-09-23T17:19:15.661Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:19:15.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-b28de418f4b8b7ef284068cd784063ad8d504b41-180e0409315d4716-01 outer:exit 2b-b28de418f4b8b7ef284068cd784063ad8d504b41-429715cc6800932a-01
2021-09-23T17:19:15.666Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:19:15.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff36c1b943a0d3784c8c2b6e2e92bd037c531fd2-b9a06db8efa65ea4-01 outer:exit 2b-ff36c1b943a0d3784c8c2b6e2e92bd037c531fd2-08ac9fe070176e87-01
2021-09-23T17:19:15.677Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:19:15.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-982fe06577ef9cac1f32408c5067b7a6ff752b5b-4582e688c3156d2f-01 outer:exit 2b-982fe06577ef9cac1f32408c5067b7a6ff752b5b-66b164c0f449de30-01
2021-09-23T17:19:15.686Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:19:15.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-092b83a9c0892d294df93e04c3d93591bf706aa2-dea3d4800e0d6fae-01 outer:exit 2b-092b83a9c0892d294df93e04c3d93591bf706aa2-6ee9c8d05754e3fe-01
2021-09-23T17:19:15.689Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:19:15.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ce51ba216323cbbe41012cf86917a7c83137915-1f339dd409a07e52-01 outer:exit 2b-1ce51ba216323cbbe41012cf86917a7c83137915-efc14c9a929ae58f-01
2021-09-23T17:19:15.694Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:19:15.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-62537f16e695926324c8875388986ea5b0f3c535-e72e5b0395588709-01 outer:exit 2b-62537f16e695926324c8875388986ea5b0f3c535-7d3f7c7430dede93-01
2021-09-23T17:19:15.701Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:19:15.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f82f3ae89904330926619a311496edd1545f9eb-7da89b87b6dd0671-01 outer:exit 2b-1f82f3ae89904330926619a311496edd1545f9eb-90278379cf981148-01
2021-09-23T17:19:15.705Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:19:15.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-d60ad2bb24c1b37e58886a01716c4707a032edca-13653c08a38a91f4-01 outer:exit 2b-d60ad2bb24c1b37e58886a01716c4707a032edca-3392b4d1a017542e-01
2021-09-23T17:19:15.708Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:19:15.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-c120e2ff56fd735404e076bd8ceae7bf75bdd42a-35bf631bc96646ce-01 outer:exit 2b-c120e2ff56fd735404e076bd8ceae7bf75bdd42a-99bf0fb9a675a4da-01
2021-09-23T17:19:15.711Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:19:15.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-34ed3884eecd6bb9d7dbcee6fe844d0133ee7a85-0c32a7db7bf5ce65-01 outer:exit 2b-34ed3884eecd6bb9d7dbcee6fe844d0133ee7a85-3c8caf99e0801992-01
2021-09-23T17:19:15.714Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:19:15.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-daf32e98335849c2bd2e6858d49cac1ce5a9beb0-9def4889ac6b96b2-01 outer:exit 2b-daf32e98335849c2bd2e6858d49cac1ce5a9beb0-d79339da45fb8b64-01
2021-09-23T17:19:15.716Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:19:15.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa7939dd4f87278688b11def8d3b641e2511bc0a-341f309675cff6c4-01 outer:exit 2b-aa7939dd4f87278688b11def8d3b641e2511bc0a-4b859e052b3709cb-01
2021-09-23T17:19:15.733Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:19:15.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-a723c3de071830653b854d83548dfc066e82406c-0e39f4a65ba01b09-01 outer:exit 2b-a723c3de071830653b854d83548dfc066e82406c-1531e18f837264dc-01
2021-09-23T17:19:15.745Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:19:15.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0afa91cba0773446691bd7668f7f3af2aa10eb6-eabf5ca2e72b5854-01 outer:exit 2b-b0afa91cba0773446691bd7668f7f3af2aa10eb6-344489df3312d49d-01
2021-09-23T17:19:15.748Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:19:15.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-243af99290ec17ede139854ea4471da7602c2973-699e220a8226391a-01 outer:exit 2b-243af99290ec17ede139854ea4471da7602c2973-df6d49a632fb2930-01
2021-09-23T17:19:15.751Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:19:15.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf310b4223c5907c93efe5b1344cf026981a6792-bc967e53bc56bea6-01 outer:exit 2b-bf310b4223c5907c93efe5b1344cf026981a6792-744532dbf1558fa1-01
2021-09-23T17:19:15.755Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:19:15.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4045352ccb190d2128e5842445e09c6952fcd2f-9a51a791059d8eb5-01 outer:exit 2b-e4045352ccb190d2128e5842445e09c6952fcd2f-5391aaa781d033e7-01
2021-09-23T17:19:15.788Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (441ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:23.605Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:23.606Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:23.606Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:23.607Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:23.672Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:23.714Z appoptics:patching patched crypto 
2021-09-23T17:19:23.738Z appoptics:patching patched https 
2021-09-23T17:19:23.738Z appoptics:patching patched http 
2021-09-23T17:19:23.797Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:23.797Z appoptics:patching patched fs 
2021-09-23T17:19:23.815Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v16.10.0)
2021-09-23T17:19:23.822Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2021-09-23T17:19:23.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b2634e0b6ca8e75d6a10c74130d4eb150b61ae8-029be587d0bc21de-01 outer:exit 2b-3b2634e0b6ca8e75d6a10c74130d4eb150b61ae8-69d89e12ff052c49-01
2021-09-23T17:19:23.989Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:19:24.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-c667dabe8926b567a54097e8001e9232ac9c9394-b46192aa7c25fad0-01 outer:exit 2b-c667dabe8926b567a54097e8001e9232ac9c9394-cfd2f17e5022a4ef-01
2021-09-23T17:19:24.057Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:19:24.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5aa438dc13d6a76c37aa161f18978c50c35deae-3d7026172b29706d-01 outer:exit 2b-b5aa438dc13d6a76c37aa161f18978c50c35deae-13c397d3bc1757ce-01
2021-09-23T17:19:24.062Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:19:24.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a567103a15634ed91d855261d7a7d5f282c1159-0783ea46324b4f1f-01 outer:exit 2b-0a567103a15634ed91d855261d7a7d5f282c1159-97fc27efc00cd08e-01
2021-09-23T17:19:24.066Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:19:24.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-07feca82e0a196c0afa2d3734f7574c412dfa8c4-3a47a4698244a092-01 outer:exit 2b-07feca82e0a196c0afa2d3734f7574c412dfa8c4-4f2c9284d78d279a-01
2021-09-23T17:19:24.071Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:19:24.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-60bd4edc0000a8d212124e052ab56f26aa598e6e-d2d055100eaff680-01 outer:exit 2b-60bd4edc0000a8d212124e052ab56f26aa598e6e-5f80d4c8e84e815d-01
2021-09-23T17:19:24.074Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:19:24.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-58ebc353e22a2bdff72b7b2676c1ecab47792316-46e15c68d85d0ef7-01 outer:exit 2b-58ebc353e22a2bdff72b7b2676c1ecab47792316-6e3862bc9d8efe8a-01
2021-09-23T17:19:24.077Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:19:24.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-02c4046bd3c02fff4614a1239995b91a6e60594b-4368f5ec7e7b508f-01 outer:exit 2b-02c4046bd3c02fff4614a1239995b91a6e60594b-e47f6472668d9d91-01
2021-09-23T17:19:24.080Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:19:24.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dacde73e3916109cd2f93d7decfb4ed24984aa5-23ef225e134a6814-01 outer:exit 2b-7dacde73e3916109cd2f93d7decfb4ed24984aa5-0772d62b2ae68e52-01
2021-09-23T17:19:24.084Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:19:24.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-a09ff3b5c26346a9c7005e6ca469d3669ddf7b31-96f6a69baef6198c-01 outer:exit 2b-a09ff3b5c26346a9c7005e6ca469d3669ddf7b31-e5e1ebf11f78cb59-01
2021-09-23T17:19:24.087Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:19:24.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-e04b5663777011bfb8bb5b31a8a6ced1e5104aa7-97eff6b336a25e56-01 outer:exit 2b-e04b5663777011bfb8bb5b31a8a6ced1e5104aa7-599391da2ddff90a-01
2021-09-23T17:19:24.092Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:19:24.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e33c6705d841e62a6eb9815c9623b5646355b58-bd3b0ec1c778cfb9-01 outer:exit 2b-3e33c6705d841e62a6eb9815c9623b5646355b58-2fab1cfacb63fc07-01
2021-09-23T17:19:24.099Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:19:24.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ffb2743e602936337051e3892ce02220f93632d-8a8cb7c40301ae47-01 outer:exit 2b-9ffb2743e602936337051e3892ce02220f93632d-0ea891921e03e22d-01
2021-09-23T17:19:24.116Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:19:24.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-00caa353845d48107edeb584f01f2cc115b21c0a-b9f07319fda76b8b-01 outer:exit 2b-00caa353845d48107edeb584f01f2cc115b21c0a-6a8404a9398df22a-01
2021-09-23T17:19:24.154Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:19:24.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e66e6026e2c7105ea69c72fa2254224364b6d81-addc716b9063ed5a-01 outer:exit 2b-1e66e6026e2c7105ea69c72fa2254224364b6d81-09937044ed5fe17b-01
2021-09-23T17:19:24.157Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:19:24.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-5943ac3aa4556dfaf92d1f601d37d9ca389cb92d-d4b36fba30154529-01 outer:exit 2b-5943ac3aa4556dfaf92d1f601d37d9ca389cb92d-bfec89f6f81bfbf6-01
2021-09-23T17:19:24.160Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:19:24.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa6bb6277efa8faedabbfce53376bae739d8850f-238915d563ae8984-01 outer:exit 2b-aa6bb6277efa8faedabbfce53376bae739d8850f-665e1c5e7c1f5e7b-01
2021-09-23T17:19:24.163Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:19:24.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-b078f0463c318481e024bc98155593897acbd7b7-d52ade0299000dfe-01 outer:exit 2b-b078f0463c318481e024bc98155593897acbd7b7-9470d2cb02f79749-01
2021-09-23T17:19:24.166Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:19:24.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dcf1f25b8b2da310587696f1bcec01878087e98-7a0eb86decb52d23-01 outer:exit 2b-3dcf1f25b8b2da310587696f1bcec01878087e98-296a036694330269-01
2021-09-23T17:19:24.169Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:19:24.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-332d7a31e750d4d81733ae4a159a6ce81f5d3626-1ad9a43578bbffad-01 outer:exit 2b-332d7a31e750d4d81733ae4a159a6ce81f5d3626-2a29c13242b5fabc-01
2021-09-23T17:19:24.171Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:19:24.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ce41e54993b79824c0d9344148acae960413e79-1b7da41526598863-01 outer:exit 2b-9ce41e54993b79824c0d9344148acae960413e79-7c62de6ba293fab5-01
2021-09-23T17:19:24.173Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:19:24.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-bff5a34998ffadc035878b1dc958698d04143b92-59122c0586e3b117-01 outer:exit 2b-bff5a34998ffadc035878b1dc958698d04143b92-4d2ee7d68057b3ee-01
2021-09-23T17:19:24.176Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:19:24.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b2976606061f9be67f46d9ded74c5b7a34aed5f-992d4821482f871a-01 outer:exit 2b-5b2976606061f9be67f46d9ded74c5b7a34aed5f-4d78ad7b04652e41-01
2021-09-23T17:19:24.179Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:19:24.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-396be5e35654604a4f77e8f77af044ff4082006f-5683059cad8fa082-01 outer:exit 2b-396be5e35654604a4f77e8f77af044ff4082006f-693ba3408e72dedb-01
2021-09-23T17:19:24.182Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:19:24.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-16c40dc30c6536d2a562dfd5654263ab3903303b-15098bed96c99422-01 outer:exit 2b-16c40dc30c6536d2a562dfd5654263ab3903303b-8b58dc1de49acb8a-01
2021-09-23T17:19:24.185Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:19:24.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-6457cebec3d5eb55e024b1105033565a21a5e4da-0c05ea7ad2a90730-01 outer:exit 2b-6457cebec3d5eb55e024b1105033565a21a5e4da-d3177be067c0c4a1-01
2021-09-23T17:19:24.188Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:19:24.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7ba0520000de6524c7369794f9b6526c23e5b40-017a90d266747f05-01 outer:exit 2b-b7ba0520000de6524c7369794f9b6526c23e5b40-4c37ffe240ce5b32-01
2021-09-23T17:19:24.194Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:19:24.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-0812b93afb122ba1c5e5ccada13d5c132a246c1b-2903817756f6e126-01 outer:exit 2b-0812b93afb122ba1c5e5ccada13d5c132a246c1b-f9c97ce8332ba894-01
2021-09-23T17:19:24.198Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:19:24.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5bf821fe84c96bb869cd54e2e3f8866b171e591-7471d0e6bc2ba878-01 outer:exit 2b-a5bf821fe84c96bb869cd54e2e3f8866b171e591-9da78e0a42439e58-01
2021-09-23T17:19:24.208Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:19:24.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f67eec0975f80734442384855ff839001e32734-0165a6a195081a62-01 outer:exit 2b-8f67eec0975f80734442384855ff839001e32734-e0b23337279bf384-01
2021-09-23T17:19:24.215Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:19:24.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-82f77319fec8d1c14abba748386bbe1c6fe187a0-0ef0d07ec2a875d2-01 outer:exit 2b-82f77319fec8d1c14abba748386bbe1c6fe187a0-688510d3358915ac-01
2021-09-23T17:19:24.218Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:19:24.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b66ecfe4eee51e4656b5089a8a3d9dc9294b533-fccccfa60c2cf918-01 outer:exit 2b-3b66ecfe4eee51e4656b5089a8a3d9dc9294b533-ccdac1c9551ee8bf-01
2021-09-23T17:19:24.222Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:19:24.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-96633d9d0ef6d36d7bd4f97c74f29fe1c3f569a3-bcfa489d0cbcc708-01 outer:exit 2b-96633d9d0ef6d36d7bd4f97c74f29fe1c3f569a3-35276c6f007ba95d-01
2021-09-23T17:19:24.230Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:19:24.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-d98b17de85ba48a85bb4e60ca2a4a7e0019ac8e6-4560864b46d2efa0-01 outer:exit 2b-d98b17de85ba48a85bb4e60ca2a4a7e0019ac8e6-474b77a6f9e9a4cf-01
2021-09-23T17:19:24.232Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:19:24.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3a63fbf3942144726bfe1bcec6eb9de0a5d7aad-5ea8a48879ec8d96-01 outer:exit 2b-d3a63fbf3942144726bfe1bcec6eb9de0a5d7aad-e930a5549aba7c76-01
2021-09-23T17:19:24.234Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:19:24.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-363c274fdf005622aaf0e8f6143b5a42e8390ab6-3603a417ded065e0-01 outer:exit 2b-363c274fdf005622aaf0e8f6143b5a42e8390ab6-de87c144ff7d0d73-01
2021-09-23T17:19:24.240Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:19:24.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5b2c651ffbd656d4d3671715811c285404e6cbd-299477f2030fd542-01 outer:exit 2b-c5b2c651ffbd656d4d3671715811c285404e6cbd-4fba0f0f2c03eda6-01
2021-09-23T17:19:24.242Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:19:24.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-309c7bbca6107f8f6203cfda9668a8a40735429a-9e84442945685c62-01 outer:exit 2b-309c7bbca6107f8f6203cfda9668a8a40735429a-8252c09ae57e2bce-01
2021-09-23T17:19:24.244Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:19:24.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd561c10584a79600c08c46a61472d022f2cbed6-a59a933de154f5cf-01 outer:exit 2b-cd561c10584a79600c08c46a61472d022f2cbed6-6e1b8e6c0e2c0c7d-01
2021-09-23T17:19:24.256Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:19:24.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0b58ecaeb4f279d397203c3118928845fc558c1-515440d9aac58c64-01 outer:exit 2b-a0b58ecaeb4f279d397203c3118928845fc558c1-2bd51418d0d890c2-01
2021-09-23T17:19:24.270Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:19:24.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1ef3c16371dc699d1bcfa6bdef6cd414055da11-0cd120fea0a70af9-01 outer:exit 2b-a1ef3c16371dc699d1bcfa6bdef6cd414055da11-2db77d0f5448903a-01
2021-09-23T17:19:24.273Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:19:24.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b02ce2d87396030f975449340a0fa0785b83c9f-c57b33378be69b65-01 outer:exit 2b-0b02ce2d87396030f975449340a0fa0785b83c9f-792fd8f985737d1b-01
2021-09-23T17:19:24.276Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:19:24.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-37dde663a54d23bbcc22bae8006b789f4de01cb9-d0de6edb43caa667-01 outer:exit 2b-37dde663a54d23bbcc22bae8006b789f4de01cb9-3f29d5519ac48501-01
2021-09-23T17:19:24.280Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:19:24.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-f94635bdc81a15615a7f3148b60646d637d861b6-9cb95edb78b99296-01 outer:exit 2b-f94635bdc81a15615a7f3148b60646d637d861b6-6f4922ecb8d1244d-01
2021-09-23T17:19:24.310Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (354ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:31.495Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:31.496Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:31.496Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:31.497Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:31.578Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:31.634Z appoptics:patching patched crypto 
2021-09-23T17:19:31.664Z appoptics:patching patched https 
2021-09-23T17:19:31.664Z appoptics:patching patched http 
2021-09-23T17:19:31.737Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:31.737Z appoptics:patching patched fs 
2021-09-23T17:19:31.757Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v16.10.0)
2021-09-23T17:19:31.766Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2021-09-23T17:19:31.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0cf443c48bb1119d59b54d8f97cf78f7d08fff5-72d0d3276c67b416-01 outer:exit 2b-e0cf443c48bb1119d59b54d8f97cf78f7d08fff5-e50d55fafafdf674-01
2021-09-23T17:19:31.997Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:19:32.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-9174df8e7bc1b21364d016a301131dab056149d4-12629bdaa4e55460-01 outer:exit 2b-9174df8e7bc1b21364d016a301131dab056149d4-d7fd8880355f844f-01
2021-09-23T17:19:32.055Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:19:32.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7a59373f4bc7e488d69cfe1b6bed94d03ecbdb5-d15344265bcd87f1-01 outer:exit 2b-c7a59373f4bc7e488d69cfe1b6bed94d03ecbdb5-c96ea6ee8f816474-01
2021-09-23T17:19:32.064Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:19:32.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-55699599cf41110b44df9975cabcc14fdfcbfb8d-79df4c73a2015e53-01 outer:exit 2b-55699599cf41110b44df9975cabcc14fdfcbfb8d-60ac6b82397542e2-01
2021-09-23T17:19:32.068Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:19:32.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dff5cb8e2bf777b6eea20f3127ee620a7f237f9-838466610e3fefa0-01 outer:exit 2b-8dff5cb8e2bf777b6eea20f3127ee620a7f237f9-2fe5a81c1ac57497-01
2021-09-23T17:19:32.078Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:19:32.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc85e4b20aed610b30e839ee7821148fcd42e75e-450a58f85abbe610-01 outer:exit 2b-dc85e4b20aed610b30e839ee7821148fcd42e75e-1b7a86cd143dfaf3-01
2021-09-23T17:19:32.085Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:19:32.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-c699a339d7100c3c9675fee89f05d43ae4ecb756-2656769abbba7eab-01 outer:exit 2b-c699a339d7100c3c9675fee89f05d43ae4ecb756-50f572d8731e54ca-01
2021-09-23T17:19:32.088Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:19:32.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-e41e145927260d79c54b4d525d24aa4c149eba27-622ae3e1326f4df4-01 outer:exit 2b-e41e145927260d79c54b4d525d24aa4c149eba27-7c42e22dc78fc445-01
2021-09-23T17:19:32.093Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:19:32.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f92c6e4da90c7e6fa28ae17a98ec02a1fe418cd-04af476e135babae-01 outer:exit 2b-5f92c6e4da90c7e6fa28ae17a98ec02a1fe418cd-c0a4a447540c444b-01
2021-09-23T17:19:32.096Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:19:32.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a81d3816cc83e95b34612da25e3a0059af0d070-185be91dbaeeff21-01 outer:exit 2b-0a81d3816cc83e95b34612da25e3a0059af0d070-8fea5b466e5c419d-01
2021-09-23T17:19:32.099Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:19:32.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb039fbb7b4dcf7c68c90d374dadcf9687e1efb0-722f783348dbe4e4-01 outer:exit 2b-cb039fbb7b4dcf7c68c90d374dadcf9687e1efb0-87a5fd5c0e6c3fd8-01
2021-09-23T17:19:32.107Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:19:32.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-1caece53e1decbb25946ed58b91bdd899232f9d7-1c8976808b03d7da-01 outer:exit 2b-1caece53e1decbb25946ed58b91bdd899232f9d7-9236556bb02340e8-01
2021-09-23T17:19:32.113Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:19:32.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-30ae763a7719abed3ac634b0f5b7387ab5b6fff9-ad57ed38dd4d7726-01 outer:exit 2b-30ae763a7719abed3ac634b0f5b7387ab5b6fff9-232e962044871704-01
2021-09-23T17:19:32.131Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:19:32.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fefc61ef5c2b86025caaf5948cec44f8c8de103-c951e172cc6e4984-01 outer:exit 2b-0fefc61ef5c2b86025caaf5948cec44f8c8de103-97ea62f598ca4031-01
2021-09-23T17:19:32.191Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:19:32.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c2393ce08e8b8353f494ddd494e7b6dd6c12441-34de19ed3cbafd9e-01 outer:exit 2b-7c2393ce08e8b8353f494ddd494e7b6dd6c12441-6ce95db305e6473a-01
2021-09-23T17:19:32.196Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:19:32.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d0b7ddf838ce6657d6c5429e92024b511d5decc-d0bc8418e8b066aa-01 outer:exit 2b-4d0b7ddf838ce6657d6c5429e92024b511d5decc-bff962698252e537-01
2021-09-23T17:19:32.201Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:19:32.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9593d8b79ca4ca7e38c71f4e424cc274c412c30-79beb9d81c77cce1-01 outer:exit 2b-d9593d8b79ca4ca7e38c71f4e424cc274c412c30-04f11e79d43af6c5-01
2021-09-23T17:19:32.205Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:19:32.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7704dbf07db5df96a74050ab479812565429b8a-42040af5ae4484b1-01 outer:exit 2b-d7704dbf07db5df96a74050ab479812565429b8a-10418a24c6afb99e-01
2021-09-23T17:19:32.210Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:19:32.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-dca5813595058ba84f9081b81cf9a55741173ca0-b63d4474d43625e2-01 outer:exit 2b-dca5813595058ba84f9081b81cf9a55741173ca0-b4adcdab5fc0cd7d-01
2021-09-23T17:19:32.214Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:19:32.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-5257cf13631653fb1bce3afcc56766378c232f9b-cd8195de728bf974-01 outer:exit 2b-5257cf13631653fb1bce3afcc56766378c232f9b-37a88b471b5144ef-01
2021-09-23T17:19:32.217Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:19:32.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b3569beb4cd615aba62fda0af07712b601ac5b2-53019ff2909655c7-01 outer:exit 2b-2b3569beb4cd615aba62fda0af07712b601ac5b2-8c5f02be206dc51d-01
2021-09-23T17:19:32.220Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:19:32.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-61ebe2e584f904800d7907fb3423b56377200d97-8a157dc044307c91-01 outer:exit 2b-61ebe2e584f904800d7907fb3423b56377200d97-adedda114c204f11-01
2021-09-23T17:19:32.222Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:19:32.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc77ad0d2e51b175c8aed2cd851faf6c79bf9860-b938ba7605cedf95-01 outer:exit 2b-dc77ad0d2e51b175c8aed2cd851faf6c79bf9860-a45a53b3e317a6db-01
2021-09-23T17:19:32.226Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:19:32.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-463542e23c0456245f59df3f3b7e8ec94f7cfc0c-38e7598736f36b88-01 outer:exit 2b-463542e23c0456245f59df3f3b7e8ec94f7cfc0c-082047a5834e7c0b-01
2021-09-23T17:19:32.231Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:19:32.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3030603102da53eb7f5d8a2be80e2eaee63de75-04bd5040dcbfed15-01 outer:exit 2b-e3030603102da53eb7f5d8a2be80e2eaee63de75-2024f91ca758bc9a-01
2021-09-23T17:19:32.234Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:19:32.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb3743ca080cceb92cd2e88a5c92f00a5d683db5-849c448a6e226ac1-01 outer:exit 2b-bb3743ca080cceb92cd2e88a5c92f00a5d683db5-71de70be05d5322f-01
2021-09-23T17:19:32.237Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:19:32.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-823d2d0d0497438fa42f9adc5ebf478f4942c4f4-941b206e02b25460-01 outer:exit 2b-823d2d0d0497438fa42f9adc5ebf478f4942c4f4-00541bf59c25df04-01
2021-09-23T17:19:32.244Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:19:32.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-c42037a82849e94451adcb646df0cc9ef430b552-ab76169de3f2ec9c-01 outer:exit 2b-c42037a82849e94451adcb646df0cc9ef430b552-b05958f4f4a1fbd2-01
2021-09-23T17:19:32.249Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:19:32.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a690e6139e4bda2ebfc8327ed647cb6556db155-1d718b0a3603f99d-01 outer:exit 2b-1a690e6139e4bda2ebfc8327ed647cb6556db155-8e7db4d0721da618-01
2021-09-23T17:19:32.263Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:19:32.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8fe6ff03e8f1404ec7f27f43021088255c8c90f-ef9ec03d40a38ef0-01 outer:exit 2b-f8fe6ff03e8f1404ec7f27f43021088255c8c90f-5caf879361c32573-01
2021-09-23T17:19:32.274Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:19:32.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-656d467705bba6f96eebebfa34006588e8388627-9bd7abc8b8609ebd-01 outer:exit 2b-656d467705bba6f96eebebfa34006588e8388627-c33353d4f9892921-01
2021-09-23T17:19:32.277Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:19:32.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-b645759c49cb280acc2a5d220b7ec17d946ea642-ddc64d7dbdd14519-01 outer:exit 2b-b645759c49cb280acc2a5d220b7ec17d946ea642-f87ff747b2a44b11-01
2021-09-23T17:19:32.281Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:19:32.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-e36b53a1cf186fbc8347e94d235d8529511ee5cb-9ab2cb30645971a6-01 outer:exit 2b-e36b53a1cf186fbc8347e94d235d8529511ee5cb-32bac70f7dc4cdbb-01
2021-09-23T17:19:32.290Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:19:32.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebca561a4c8e3861ecd96d6adc7426efeae3aa7d-ca1389a72bb3d8f7-01 outer:exit 2b-ebca561a4c8e3861ecd96d6adc7426efeae3aa7d-30215bfdcf7f914e-01
2021-09-23T17:19:32.292Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:19:32.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-94ce774e2457c740529ae2ea144337f6c164e796-5b26b1db987adc27-01 outer:exit 2b-94ce774e2457c740529ae2ea144337f6c164e796-82f817b36d93860d-01
2021-09-23T17:19:32.295Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:19:32.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-4430adb05cdbd849d04c0fab577a9d30e67db796-ce608d47f2a991af-01 outer:exit 2b-4430adb05cdbd849d04c0fab577a9d30e67db796-71fdcc0c6e65947b-01
2021-09-23T17:19:32.305Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:19:32.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-20b2a83e6006a107c3436fd393d278b4c1727b93-64429eac25b8923c-01 outer:exit 2b-20b2a83e6006a107c3436fd393d278b4c1727b93-eb64935ab08966cf-01
2021-09-23T17:19:32.307Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:19:32.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b6b7dc2d1729ea8efc7c8ff840b1a7837519bf2-9546c7e0f3232352-01 outer:exit 2b-6b6b7dc2d1729ea8efc7c8ff840b1a7837519bf2-b25f8488c4f0d080-01
2021-09-23T17:19:32.312Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:19:32.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-669709e6321f34aadcd60ea69708fbb9cfdf5e98-315d9f6b5532b486-01 outer:exit 2b-669709e6321f34aadcd60ea69708fbb9cfdf5e98-7bbc43b9b98f1327-01
2021-09-23T17:19:32.326Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:19:32.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-69114bb619901f0433cc6cf2588bd5f5ee7108ad-6c0958a6d621a187-01 outer:exit 2b-69114bb619901f0433cc6cf2588bd5f5ee7108ad-a81d1fbdafd0d399-01
2021-09-23T17:19:32.337Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:19:32.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-fad4e77e6dfa8cba4134f3315accae7a96e6be50-9575968c3fa36ca6-01 outer:exit 2b-fad4e77e6dfa8cba4134f3315accae7a96e6be50-9c8967e2bde82bc1-01
2021-09-23T17:19:32.341Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:19:32.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-3444a89e4b96cf4f4a13504afd67c5507dc62beb-d43846c4905a335c-01 outer:exit 2b-3444a89e4b96cf4f4a13504afd67c5507dc62beb-572d3b6b45bc3739-01
2021-09-23T17:19:32.344Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:19:32.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cbd2646dc1f1d25fe689441a59b8de8521a451e-7443aa67cb2dd318-01 outer:exit 2b-1cbd2646dc1f1d25fe689441a59b8de8521a451e-70909448c93fb3a7-01
2021-09-23T17:19:32.346Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:19:32.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b4f0513ee886dde19c13304507b65a521444efb-3c2a0e39dbd3dfbd-01 outer:exit 2b-1b4f0513ee886dde19c13304507b65a521444efb-618d84f282dc42f6-01
2021-09-23T17:19:32.377Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (425ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:40.023Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:40.024Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:40.024Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:40.025Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:40.093Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:40.137Z appoptics:patching patched crypto 
2021-09-23T17:19:40.161Z appoptics:patching patched https 
2021-09-23T17:19:40.162Z appoptics:patching patched http 
2021-09-23T17:19:40.233Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:40.233Z appoptics:patching patched fs 
2021-09-23T17:19:40.252Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v16.10.0)
2021-09-23T17:19:40.259Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2021-09-23T17:19:40.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-94bf1554bbaccf7fbe5f2449ec73bc384b83a4cc-d3cd5b9aa64c1e6c-01 outer:exit 2b-94bf1554bbaccf7fbe5f2449ec73bc384b83a4cc-4dc478d8b6d777b4-01
2021-09-23T17:19:40.453Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:19:40.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebb1631ca7367e218da9dcc51416e7baaffba0b0-642700d5d43c9964-01 outer:exit 2b-ebb1631ca7367e218da9dcc51416e7baaffba0b0-150dbcc5c32db897-01
2021-09-23T17:19:40.513Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:19:40.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-135ab825a86aa7dcc3d48cb1c9a61b5bdacf25aa-7673c8f46f93ddcc-01 outer:exit 2b-135ab825a86aa7dcc3d48cb1c9a61b5bdacf25aa-8269c24f231d62b9-01
2021-09-23T17:19:40.517Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:19:40.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5355cf0fcd4f0005c202dd5527a9e255145e1dc-c5b8c8a4636530c0-01 outer:exit 2b-b5355cf0fcd4f0005c202dd5527a9e255145e1dc-87a33fa6609c81f7-01
2021-09-23T17:19:40.520Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:19:40.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-acd6bef8eda1b1ccc5f2913887cc556176f7dcd8-64c10fd9f8365acd-01 outer:exit 2b-acd6bef8eda1b1ccc5f2913887cc556176f7dcd8-8bc620d225a9e479-01
2021-09-23T17:19:40.525Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:19:40.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-694ed63d09e17fec618374e6fc4a30dbec00339c-15723c1515d8acb6-01 outer:exit 2b-694ed63d09e17fec618374e6fc4a30dbec00339c-69017dc2135ceb9e-01
2021-09-23T17:19:40.529Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:19:40.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-aefb6bfc66e291b2ad1e8d5d641498000d5b8a7f-2d5a5d54db1eabac-01 outer:exit 2b-aefb6bfc66e291b2ad1e8d5d641498000d5b8a7f-e2d72ba99bc76329-01
2021-09-23T17:19:40.531Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:19:40.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dd05830fd811fccbb565a1933cdeeff1581db5b-2846dedb8a2a8609-01 outer:exit 2b-0dd05830fd811fccbb565a1933cdeeff1581db5b-1027b8beafd2e96d-01
2021-09-23T17:19:40.534Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:19:40.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-b86217845d6ca1809f3f6eb4eae3ff85b0f25898-44440ef95c9dcbc0-01 outer:exit 2b-b86217845d6ca1809f3f6eb4eae3ff85b0f25898-63e3c4d27d260fb0-01
2021-09-23T17:19:40.537Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:19:40.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-a147827b4fd0e79625bd26bcc84158699aa349c7-85e4dc79934b92cb-01 outer:exit 2b-a147827b4fd0e79625bd26bcc84158699aa349c7-7deef91930bb9773-01
2021-09-23T17:19:40.540Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:19:40.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9f2158323ea6b7fec53c352d67881fb1ebd7ad5-378c4983f90a5336-01 outer:exit 2b-f9f2158323ea6b7fec53c352d67881fb1ebd7ad5-f32be19543ae3707-01
2021-09-23T17:19:40.548Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:19:40.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e1d673d56baf8b35465e3fa079c35b3903e7205-0e4667bea9b92315-01 outer:exit 2b-0e1d673d56baf8b35465e3fa079c35b3903e7205-141f4ff0f6f34a06-01
2021-09-23T17:19:40.554Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:19:40.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf09f7c1db7ea9a604ea2147cb0df284ea7cf1c9-68cf2bbb115ecef4-01 outer:exit 2b-bf09f7c1db7ea9a604ea2147cb0df284ea7cf1c9-91364dd40651c92d-01
2021-09-23T17:19:40.568Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:19:40.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdf6981f65244cea0c4dd6b1ecbd66aa4007e9e8-83a9435ab33cf421-01 outer:exit 2b-fdf6981f65244cea0c4dd6b1ecbd66aa4007e9e8-e14c3ff0ab12aa95-01
2021-09-23T17:19:40.608Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:19:40.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fbd84af9249056f8ef7ef574c46924c6fbb69ee-74f41259ebc2b79e-01 outer:exit 2b-9fbd84af9249056f8ef7ef574c46924c6fbb69ee-15a28be312183ec4-01
2021-09-23T17:19:40.611Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:19:40.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-9766837362cbeeef991eef93d960ec85a670026a-0ddd585fef25cb84-01 outer:exit 2b-9766837362cbeeef991eef93d960ec85a670026a-016293c5ae029056-01
2021-09-23T17:19:40.614Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:19:40.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ccdc7e9e4217f81db06f202b374f4e9a506180f-c22f31bf9991a355-01 outer:exit 2b-9ccdc7e9e4217f81db06f202b374f4e9a506180f-0e98ff6fca3fa8e9-01
2021-09-23T17:19:40.616Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:19:40.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e77d53871fb9a4c1100e70f67d75ebb5ea78ce9-3e90d6876b462a44-01 outer:exit 2b-2e77d53871fb9a4c1100e70f67d75ebb5ea78ce9-2f77c634945aae6e-01
2021-09-23T17:19:40.619Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:19:40.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-c00a718fa7af8aee7001fc0ea929b79362a5d460-b891a25bb7bf063b-01 outer:exit 2b-c00a718fa7af8aee7001fc0ea929b79362a5d460-c809bdab53752916-01
2021-09-23T17:19:40.622Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:19:40.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d2add433dde37db42c6e8100b3f0831a97607f7-b79c03d92c748a26-01 outer:exit 2b-8d2add433dde37db42c6e8100b3f0831a97607f7-ca79eff65039f061-01
2021-09-23T17:19:40.626Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:19:40.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-19a0819c4466d20004ffbb3cb12107d5d2f11e7d-51046dad8d89b4d9-01 outer:exit 2b-19a0819c4466d20004ffbb3cb12107d5d2f11e7d-18f445cead548105-01
2021-09-23T17:19:40.629Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:19:40.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-e22646c6f1d4aa29d4b35b9fef2bc7a45dd29223-4fee6a64198cb233-01 outer:exit 2b-e22646c6f1d4aa29d4b35b9fef2bc7a45dd29223-00e7493b9d199fff-01
2021-09-23T17:19:40.631Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:19:40.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf7329b849e5634d3cb71bb0da15641bc7c77027-f761f9181ade0d18-01 outer:exit 2b-bf7329b849e5634d3cb71bb0da15641bc7c77027-d34be5041cf9bdd7-01
2021-09-23T17:19:40.635Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:19:40.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-c874735b1c20ddcb6b74513f430f2d0c42de536e-eeeb2c97b80722cc-01 outer:exit 2b-c874735b1c20ddcb6b74513f430f2d0c42de536e-ef779ce57f8812de-01
2021-09-23T17:19:40.639Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:19:40.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb49a7c8e0265d9f7c58ad300a8999d2684789fa-f966ece379ff154f-01 outer:exit 2b-fb49a7c8e0265d9f7c58ad300a8999d2684789fa-abf75e8d31903477-01
2021-09-23T17:19:40.642Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:19:40.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce7e75df817784ab747ddcefb7b7c81db8778d32-ec4fba4a0fe06b2f-01 outer:exit 2b-ce7e75df817784ab747ddcefb7b7c81db8778d32-176992c60d028185-01
2021-09-23T17:19:40.646Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:19:40.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-747c949569a23d4518e82477ae28b569ec217fb8-8932a1587f2994cf-01 outer:exit 2b-747c949569a23d4518e82477ae28b569ec217fb8-fa42d253b0de193d-01
2021-09-23T17:19:40.652Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:19:40.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ced7998578d47b460fb5bc6cf1271679f952133-ffff5d7ed12a1aa2-01 outer:exit 2b-4ced7998578d47b460fb5bc6cf1271679f952133-40577e149f575923-01
2021-09-23T17:19:40.657Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:19:40.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-36b3806c1791a52eb17684d8c01105bd280f7279-4891ac1d2a8390c8-01 outer:exit 2b-36b3806c1791a52eb17684d8c01105bd280f7279-09cfeea8999c05ff-01
2021-09-23T17:19:40.668Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:19:40.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6f42dfaaf98f79abb4d7218fbd3f095f273fc6c-baebc5158d9b3bab-01 outer:exit 2b-b6f42dfaaf98f79abb4d7218fbd3f095f273fc6c-b80cc8ebce700fe2-01
2021-09-23T17:19:40.675Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:19:40.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7571e89622cb781d3c2c5b270a017cbd26a3014-43228e9db5e96cb8-01 outer:exit 2b-e7571e89622cb781d3c2c5b270a017cbd26a3014-446e5e13981d47bd-01
2021-09-23T17:19:40.677Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:19:40.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-3108c8337c89e025bdba4c4b173bc74c6d8c7e22-5b6dbcdd4d5d4a7d-01 outer:exit 2b-3108c8337c89e025bdba4c4b173bc74c6d8c7e22-c914405088296837-01
2021-09-23T17:19:40.681Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:19:40.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-faa6d0d1bba5d4022cf31e196911cd40cd5782be-9a13cb263d264ec3-01 outer:exit 2b-faa6d0d1bba5d4022cf31e196911cd40cd5782be-bffb9495ec6720de-01
2021-09-23T17:19:40.689Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:19:40.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2179f2efd8ff000cc2be1ea05f57012baa6dc42-5ae13e30abe9f5e4-01 outer:exit 2b-f2179f2efd8ff000cc2be1ea05f57012baa6dc42-f16a27f1dcbf165f-01
2021-09-23T17:19:40.697Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:19:40.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b9e41187ffcb679b4a49e2616427934df685a20-71f93d290ced1560-01 outer:exit 2b-3b9e41187ffcb679b4a49e2616427934df685a20-174825501160a304-01
2021-09-23T17:19:40.700Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:19:40.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-14e69d4dac702c1d49fb98d11cd7e933e72ff454-8057a94b325d3ab2-01 outer:exit 2b-14e69d4dac702c1d49fb98d11cd7e933e72ff454-1bc645bb1e8f0265-01
2021-09-23T17:19:40.702Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:19:40.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1bdf7ecbeec1fed5dfd1c77318ac5decae9583d-f55c881c1f7049ff-01 outer:exit 2b-e1bdf7ecbeec1fed5dfd1c77318ac5decae9583d-dff27773c78376c0-01
2021-09-23T17:19:40.705Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:19:40.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3a1cc31952b265451b23c8c51c36f671cb1b338-81ec9659f968f8d6-01 outer:exit 2b-c3a1cc31952b265451b23c8c51c36f671cb1b338-cf650a1538f3dbb6-01
2021-09-23T17:19:40.707Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:19:40.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2731af1fe0252adf48daab01a634c555d074b02-7fd96c47b0c34ca6-01 outer:exit 2b-e2731af1fe0252adf48daab01a634c555d074b02-97eab1c43f31fa34-01
2021-09-23T17:19:40.717Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:19:40.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-6117b248abe929f2ab1b288b6968930684d6ea25-650bcae2d2ca87a7-01 outer:exit 2b-6117b248abe929f2ab1b288b6968930684d6ea25-6a980ae9578f5c59-01
2021-09-23T17:19:40.726Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:19:40.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-a553fa5b3ac1050d1c007f669ce87b42024a52c1-641dba8b05940c7b-01 outer:exit 2b-a553fa5b3ac1050d1c007f669ce87b42024a52c1-9642111de2f41cf2-01
2021-09-23T17:19:40.729Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:19:40.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-6affd8c7af409ccd17b677480cefb1adc583f26d-55042c27c4f2183b-01 outer:exit 2b-6affd8c7af409ccd17b677480cefb1adc583f26d-ec9f76778cea6c58-01
2021-09-23T17:19:40.732Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:19:40.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-707b84c02576f8e3ce1ec1fac5c6eed52a8b3f56-a58fc786a541509c-01 outer:exit 2b-707b84c02576f8e3ce1ec1fac5c6eed52a8b3f56-442d471c1999017e-01
2021-09-23T17:19:40.735Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:19:40.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6392569cb9ba4080c092a2b6bdf2fe24546625d-85d31249f65f5c69-01 outer:exit 2b-a6392569cb9ba4080c092a2b6bdf2fe24546625d-a2cf5269675f5cad-01
2021-09-23T17:19:40.763Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (364ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:48.485Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:48.486Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:48.486Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:48.487Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:48.640Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:48.684Z appoptics:patching patched crypto 
2021-09-23T17:19:48.713Z appoptics:patching patched https 
2021-09-23T17:19:48.714Z appoptics:patching patched http 
2021-09-23T17:19:48.771Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:48.771Z appoptics:patching patched fs 
2021-09-23T17:19:48.788Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v16.10.0)
2021-09-23T17:19:48.796Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2021-09-23T17:19:48.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-5eb522222c137194531bfc05855ea740bd165016-6fdfee9495e67b23-01 outer:exit 2b-5eb522222c137194531bfc05855ea740bd165016-be4260975fc97a3f-01
2021-09-23T17:19:48.968Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:19:48.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-41e623de65bea78ae9d1718bb75d1f9d1e5c363d-2e7f5ad3dd7216e3-01 outer:exit 2b-41e623de65bea78ae9d1718bb75d1f9d1e5c363d-4ce223fc7a205b53-01
2021-09-23T17:19:48.999Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:19:49.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfb58adaf3264ebc9ebbfdb4c695316b6dfc2c31-1ba741adf05829a7-01 outer:exit 2b-bfb58adaf3264ebc9ebbfdb4c695316b6dfc2c31-2c62b055abd4bce2-01
2021-09-23T17:19:49.002Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:19:49.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5e2fb58a92a2c3f0ded508f84d3cc7f29424aff-13c4db426bc54786-01 outer:exit 2b-c5e2fb58a92a2c3f0ded508f84d3cc7f29424aff-b000e9fb3cc1ed63-01
2021-09-23T17:19:49.005Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:19:49.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-880b8d6386c7420954fa4d0535004a8d85893a1e-f7d2a516e666de67-01 outer:exit 2b-880b8d6386c7420954fa4d0535004a8d85893a1e-94c122a621526d1d-01
2021-09-23T17:19:49.010Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:19:49.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7f4f305e02dee25d0bfcbf32a4dfb91a3f9012d-d170f8045cc5dd14-01 outer:exit 2b-c7f4f305e02dee25d0bfcbf32a4dfb91a3f9012d-3f8ea597aaf50dd3-01
2021-09-23T17:19:49.015Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:19:49.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-86f6e989117e1a0a227a1b8b2302ce07ccef1c7d-10ee7ce5fa9ff4bb-01 outer:exit 2b-86f6e989117e1a0a227a1b8b2302ce07ccef1c7d-dba4cb653795c3bb-01
2021-09-23T17:19:49.017Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:19:49.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7ff300ead69bf2fa38584e46656e5635629de76-9be7d144d8af6f3d-01 outer:exit 2b-d7ff300ead69bf2fa38584e46656e5635629de76-7871ba624d46ce2c-01
2021-09-23T17:19:49.021Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:19:49.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bfe6ac736b0e7fee1dc971eb6a24daa0f63a57e-5038b20f55ad28d2-01 outer:exit 2b-8bfe6ac736b0e7fee1dc971eb6a24daa0f63a57e-08bf5f3e8d4412f1-01
2021-09-23T17:19:49.024Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:19:49.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-6925139268965db6a636fef50ab111e8f3a11da1-611342172278c02e-01 outer:exit 2b-6925139268965db6a636fef50ab111e8f3a11da1-5f9e076552bf38ab-01
2021-09-23T17:19:49.027Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:19:49.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9108d0166776cfab0a5a0a4e5c464180b21f44f-4484a8bfdcd7feb6-01 outer:exit 2b-e9108d0166776cfab0a5a0a4e5c464180b21f44f-3d2e225e1c916fe5-01
2021-09-23T17:19:49.031Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:19:49.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b93ef61bd443ee0de7ecbe14bd1004cae0b4e6c-b519d78ffeb5066f-01 outer:exit 2b-8b93ef61bd443ee0de7ecbe14bd1004cae0b4e6c-79762c4370642ace-01
2021-09-23T17:19:49.039Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:19:49.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-de3efad18289b38c3901353806b30d59ffbb3c42-f78f3c946eb30d19-01 outer:exit 2b-de3efad18289b38c3901353806b30d59ffbb3c42-e0f6622bff012d41-01
2021-09-23T17:19:49.061Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:19:49.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-79580ce2d99fbd2fd00563b338923dafec546b37-bfed46425f0b6b86-01 outer:exit 2b-79580ce2d99fbd2fd00563b338923dafec546b37-7addb4c4e880c0bb-01
2021-09-23T17:19:49.097Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:19:49.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-68ace811067e29decbabb6b1d8b4c4d8e82e82b7-77a263ecc21ade8c-01 outer:exit 2b-68ace811067e29decbabb6b1d8b4c4d8e82e82b7-55fcbf98212b687f-01
2021-09-23T17:19:49.101Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:19:49.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-05fedc5baebcff9417f95d74f4acffad2bcf832a-fa154e264ca3c613-01 outer:exit 2b-05fedc5baebcff9417f95d74f4acffad2bcf832a-2d066f57faf797c8-01
2021-09-23T17:19:49.105Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:19:49.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0234c667d5e80f0d7de160221eb7a73b95d7f18-6d06b85b42be3e16-01 outer:exit 2b-e0234c667d5e80f0d7de160221eb7a73b95d7f18-92946612fa63a22f-01
2021-09-23T17:19:49.108Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:19:49.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-89ff8466c7a3001410a80a1357a2d048f4f0ba0b-14aed6277d15f6c6-01 outer:exit 2b-89ff8466c7a3001410a80a1357a2d048f4f0ba0b-63b7661808c58315-01
2021-09-23T17:19:49.111Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:19:49.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-a03f29f4c3a491d90c9f665c22271e91e31def18-b4358a0e52278557-01 outer:exit 2b-a03f29f4c3a491d90c9f665c22271e91e31def18-7c3efc8ec7e1b7c7-01
2021-09-23T17:19:49.114Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:19:49.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eb9d9efca17b8887e7e4044b0025daeec6a935f-2a72aa668fb56705-01 outer:exit 2b-3eb9d9efca17b8887e7e4044b0025daeec6a935f-4e09b156cbc5d085-01
2021-09-23T17:19:49.117Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:19:49.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ca414b12c402b8ccc5fefc1dfb3b86adb75ecdc-eaf3f23ead673ab7-01 outer:exit 2b-3ca414b12c402b8ccc5fefc1dfb3b86adb75ecdc-dd508e232f524ec9-01
2021-09-23T17:19:49.120Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:19:49.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e3b8a5f76e12ab61837b1e01cb6e60948c46b80-0779628b38dd8185-01 outer:exit 2b-3e3b8a5f76e12ab61837b1e01cb6e60948c46b80-2ea678625da5f0bb-01
2021-09-23T17:19:49.123Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:19:49.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-cab14141f060fe5c259c6065849e0b4be1855a16-35caed5700f2bfac-01 outer:exit 2b-cab14141f060fe5c259c6065849e0b4be1855a16-3c54d02412792078-01
2021-09-23T17:19:49.126Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:19:49.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-e459cb418699ec3890ea44a3b924c6382a9e5584-2325edfb9fffb2db-01 outer:exit 2b-e459cb418699ec3890ea44a3b924c6382a9e5584-4a04c96449c2b731-01
2021-09-23T17:19:49.130Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:19:49.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdc180097bc38c4b8de35d8f24066c6c06de9309-aeb942de608dd10a-01 outer:exit 2b-fdc180097bc38c4b8de35d8f24066c6c06de9309-6214e18c65f53dc0-01
2021-09-23T17:19:49.132Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:19:49.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-16145ae5d5f67615d418276d8524cdf6c8fae8bb-fced9208be727022-01 outer:exit 2b-16145ae5d5f67615d418276d8524cdf6c8fae8bb-73982469f7adaa17-01
2021-09-23T17:19:49.136Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:19:49.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb4485a1eacd3e9e4801a05cdda2bb18efc8d8ac-f97ffd88493453b2-01 outer:exit 2b-bb4485a1eacd3e9e4801a05cdda2bb18efc8d8ac-97623f51c1fb1cec-01
2021-09-23T17:19:49.143Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:19:49.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-a34b440205bb071c567c644ba37ed8fda8c6fa05-6a5341a9777cafe7-01 outer:exit 2b-a34b440205bb071c567c644ba37ed8fda8c6fa05-8dbab9be92306abf-01
2021-09-23T17:19:49.147Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:19:49.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-234ebfaa21f4024915394282f4f0b8a481049473-480accb441a2d39e-01 outer:exit 2b-234ebfaa21f4024915394282f4f0b8a481049473-b68ae4e2fe2b3f2b-01
2021-09-23T17:19:49.159Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:19:49.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-aef03e2634d68e258fee27ae69a6f3df87a17883-63c3e6d682eff5a3-01 outer:exit 2b-aef03e2634d68e258fee27ae69a6f3df87a17883-c9acf2f5a3a6b9e6-01
2021-09-23T17:19:49.167Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:19:49.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-51d029bed3059de940ba51e133084fba69a86611-f4c5f962526c87c4-01 outer:exit 2b-51d029bed3059de940ba51e133084fba69a86611-0f832cda27e4e962-01
2021-09-23T17:19:49.170Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:19:49.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-70bc6e33c49f7f0f140605d3df52155addeece65-3e6f3b386ccccd44-01 outer:exit 2b-70bc6e33c49f7f0f140605d3df52155addeece65-b60d2d0cb6495491-01
2021-09-23T17:19:49.174Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:19:49.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1ea84119f3c0f28af74fdf4385980c457852ecc-17681c09f467ea49-01 outer:exit 2b-b1ea84119f3c0f28af74fdf4385980c457852ecc-74c2efafaf581547-01
2021-09-23T17:19:49.181Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:19:49.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c2b352b21395f1107b204a1a3db6190046bb9c1-f7260d0fc646d08b-01 outer:exit 2b-0c2b352b21395f1107b204a1a3db6190046bb9c1-62ebebec28eadb74-01
2021-09-23T17:19:49.184Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:19:49.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-38f03c6f379b49faad56b3bca303522ad8dcc32c-47064aee7070d225-01 outer:exit 2b-38f03c6f379b49faad56b3bca303522ad8dcc32c-9cba39c7a35ecd0d-01
2021-09-23T17:19:49.192Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:19:49.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-6056db3b0edf1df3ee3d139a593be1b84708f3b8-4b8bbe6e9e57971e-01 outer:exit 2b-6056db3b0edf1df3ee3d139a593be1b84708f3b8-05ee2620be8fda74-01
2021-09-23T17:19:49.195Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:19:49.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-6155143947abb5d35d6d61962fb1a8840e28f0b8-649eb58fd1802b95-01 outer:exit 2b-6155143947abb5d35d6d61962fb1a8840e28f0b8-0775562e9dec2376-01
2021-09-23T17:19:49.197Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:19:49.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-b680767ace6563fc388a0422fe4d6808da3d772e-d2502df6c6d0caa3-01 outer:exit 2b-b680767ace6563fc388a0422fe4d6808da3d772e-d4c712a4481ae2b8-01
2021-09-23T17:19:49.199Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:19:49.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e9327a0b88861b3a68afd45c396283a4c2b353f-0a5438ec50092e74-01 outer:exit 2b-6e9327a0b88861b3a68afd45c396283a4c2b353f-b2db7803c4e00b5d-01
2021-09-23T17:19:49.209Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:19:49.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c4dec9bd46014ea7805e40d31120a2b5662c769-b20ab6e4fb1beb7a-01 outer:exit 2b-6c4dec9bd46014ea7805e40d31120a2b5662c769-90223a6c08cb2118-01
2021-09-23T17:19:49.219Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:19:49.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-3792aa5f82c05268ec6d56e320a2c12f6fa6ac97-136ebdef43cdbf60-01 outer:exit 2b-3792aa5f82c05268ec6d56e320a2c12f6fa6ac97-d3b5639aefaf1ff9-01
2021-09-23T17:19:49.223Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:19:49.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-84460da3206d126601fff3c81f6f0fce122fa46b-c7d4fd9748935d3a-01 outer:exit 2b-84460da3206d126601fff3c81f6f0fce122fa46b-c6e081514e1ad2a4-01
2021-09-23T17:19:49.226Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:19:49.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-32d02ade8ef2d2d0d12b2568fdf173f385869eea-3f29dfd15275ba7b-01 outer:exit 2b-32d02ade8ef2d2d0d12b2568fdf173f385869eea-39dc84002d047e9a-01
2021-09-23T17:19:49.230Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:19:49.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5308c2132bfed4ed833a7d2b87dec35d666c4f9-9f6ff965c6b544a4-01 outer:exit 2b-d5308c2132bfed4ed833a7d2b87dec35d666c4f9-0cc1717339c08dec-01
2021-09-23T17:19:49.264Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (337ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:19:56.008Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:56.008Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:56.008Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:56.009Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:56.093Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:56.149Z appoptics:patching patched crypto 
2021-09-23T17:19:56.176Z appoptics:patching patched https 
2021-09-23T17:19:56.177Z appoptics:patching patched http 
2021-09-23T17:19:56.240Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:56.240Z appoptics:patching patched fs 
2021-09-23T17:19:56.258Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v16.10.0)
2021-09-23T17:19:56.267Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2021-09-23T17:19:56.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-335c551db88ac4d94abd4b9e8046e08acfe7b440-1e990940a8aeb421-01 outer:exit 2b-335c551db88ac4d94abd4b9e8046e08acfe7b440-2eaf93ca4ccc4452-01
2021-09-23T17:19:56.442Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:19:56.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b3d717fefc6914bd2eaffb72d421c5b0a4f703c-120ecca217a15dde-01 outer:exit 2b-8b3d717fefc6914bd2eaffb72d421c5b0a4f703c-1f24fb77ba1bdaee-01
2021-09-23T17:19:56.498Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:19:56.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8ec329ee94f72d96cb7a7444373d731fe770366-b38812f4e6ae44d6-01 outer:exit 2b-b8ec329ee94f72d96cb7a7444373d731fe770366-63b97048bec693b6-01
2021-09-23T17:19:56.501Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:19:56.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-d413e2b4ba22d715071825b8d1d9a95150f106ff-c5a9ee287db97f0c-01 outer:exit 2b-d413e2b4ba22d715071825b8d1d9a95150f106ff-f5e25f2acaaf4639-01
2021-09-23T17:19:56.504Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:19:56.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef51dfced1b1857b5a035dab65d3eb84a75c582d-2168ea22673b2b29-01 outer:exit 2b-ef51dfced1b1857b5a035dab65d3eb84a75c582d-bb82791e74098d00-01
2021-09-23T17:19:56.509Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:19:56.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-434138f5cd8c6eaf1419fef13aa713d0d9c49ac8-9181e561c48d93c6-01 outer:exit 2b-434138f5cd8c6eaf1419fef13aa713d0d9c49ac8-5fa7d46e86139f4b-01
2021-09-23T17:19:56.512Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:19:56.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-785ab6f44ab5f42b589c819fd047bdc2505d2515-44f2ae868a61dfb1-01 outer:exit 2b-785ab6f44ab5f42b589c819fd047bdc2505d2515-8b4f8625bd225182-01
2021-09-23T17:19:56.515Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:19:56.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-a54844880247f6ddeebafc46fd859aa48e606b20-63b3dd64e886cbd9-01 outer:exit 2b-a54844880247f6ddeebafc46fd859aa48e606b20-b5ef55e42f79ae81-01
2021-09-23T17:19:56.518Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:19:56.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-b85e2e4d2e1fd8cabe73dd2a01bc72d2aeb87f7f-6fa10512d7f55413-01 outer:exit 2b-b85e2e4d2e1fd8cabe73dd2a01bc72d2aeb87f7f-e9fea28968dd3b78-01
2021-09-23T17:19:56.521Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:19:56.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-97328e7d21a75d8f3381bfeaaa9897c9401cff39-7b6d0d27c33bf2b6-01 outer:exit 2b-97328e7d21a75d8f3381bfeaaa9897c9401cff39-c13f0e25d419506a-01
2021-09-23T17:19:56.525Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:19:56.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-27dcb0a38ee068bff6d069b8eb71573afdabb77f-b911d93df1374ca2-01 outer:exit 2b-27dcb0a38ee068bff6d069b8eb71573afdabb77f-5e9492da3459c58d-01
2021-09-23T17:19:56.529Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:19:56.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bbb135d2ad186488437afaf0b263df36641dd84-3807c8a113b974ac-01 outer:exit 2b-8bbb135d2ad186488437afaf0b263df36641dd84-aa5412f810478ce3-01
2021-09-23T17:19:56.536Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:19:56.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-948b90badf0e5e82413a97a2498442706fbcb1de-7727cadc3d1ecf2f-01 outer:exit 2b-948b90badf0e5e82413a97a2498442706fbcb1de-4890fa267b1d04e9-01
2021-09-23T17:19:56.551Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:19:56.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-e19360163f3feff86588e14cbc2a15a778f7112d-086a30467ac0233f-01 outer:exit 2b-e19360163f3feff86588e14cbc2a15a778f7112d-2e7ed1a85e24b918-01
2021-09-23T17:19:56.603Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:19:56.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-d551b1b85098e8292fd1942fb6010c9cbe73765f-a607dc64087d7c20-01 outer:exit 2b-d551b1b85098e8292fd1942fb6010c9cbe73765f-af49690c8ca48bd4-01
2021-09-23T17:19:56.606Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:19:56.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-e97e8ab950925608801aa4abe5a3fe5dcb13b07b-f9a1732aea8037b4-01 outer:exit 2b-e97e8ab950925608801aa4abe5a3fe5dcb13b07b-18570dd2f2310b7e-01
2021-09-23T17:19:56.609Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:19:56.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcfc74243a72eb676b64f9dd651a9c5b6aad6f13-bfb2838733ee6fc8-01 outer:exit 2b-dcfc74243a72eb676b64f9dd651a9c5b6aad6f13-043676d9de87bf8a-01
2021-09-23T17:19:56.613Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:19:56.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e40fe1808760652710e3b5acbd76e4b8c0b7e4b-f0364d13170a1742-01 outer:exit 2b-2e40fe1808760652710e3b5acbd76e4b8c0b7e4b-e05623549122b87d-01
2021-09-23T17:19:56.615Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:19:56.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1e9cbe26ac25b6ca35db96737b2dbf34c5d87f5-97c7347af5853744-01 outer:exit 2b-e1e9cbe26ac25b6ca35db96737b2dbf34c5d87f5-9154b37f9d417777-01
2021-09-23T17:19:56.618Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:19:56.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0679a331be848dcb1bf09b2a0127845373fcf92-33dba863dea7094d-01 outer:exit 2b-d0679a331be848dcb1bf09b2a0127845373fcf92-58e0d662a09f8783-01
2021-09-23T17:19:56.621Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:19:56.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9c32aaaad43cd83f18b7a45c8dd5aa073fd837d-56daca1e65643e4f-01 outer:exit 2b-d9c32aaaad43cd83f18b7a45c8dd5aa073fd837d-9aac6d90339e8b37-01
2021-09-23T17:19:56.624Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:19:56.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-c089e7749e59a5dcb16bcd4519a942079e47e6c8-f5cafe668258d56a-01 outer:exit 2b-c089e7749e59a5dcb16bcd4519a942079e47e6c8-e84c17baa4f933e8-01
2021-09-23T17:19:56.627Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:19:56.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9c0357d62dcbc89d884e97f82ef9f0e5b1ad94e-5030aff7f661a930-01 outer:exit 2b-b9c0357d62dcbc89d884e97f82ef9f0e5b1ad94e-2d9e86dd37b51bec-01
2021-09-23T17:19:56.631Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:19:56.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1bcee508affbf73b8c573ff9df8c1271501df17-d8bf8e677986d3a3-01 outer:exit 2b-d1bcee508affbf73b8c573ff9df8c1271501df17-25a78ef17403990c-01
2021-09-23T17:19:56.635Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:19:56.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-e18642b61cef8748943edb2eda6e754c7dbd5327-9dd9de0eee496d21-01 outer:exit 2b-e18642b61cef8748943edb2eda6e754c7dbd5327-8d6c87dad293c1a3-01
2021-09-23T17:19:56.638Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:19:56.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-6af30f651fc049b7948c74c8144d856691a16734-71876fecac6482fe-01 outer:exit 2b-6af30f651fc049b7948c74c8144d856691a16734-d80ef9e6d79cb232-01
2021-09-23T17:19:56.642Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:19:56.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-54c0dac2b0bed8717f681ab6c30dbcf771f9f824-0f4e1b824b46f5af-01 outer:exit 2b-54c0dac2b0bed8717f681ab6c30dbcf771f9f824-4b1f309784f7781d-01
2021-09-23T17:19:56.649Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:19:56.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f3b4927c76a7316fbff629f612c4104ecb0d196-d7eb7ac72f727d65-01 outer:exit 2b-9f3b4927c76a7316fbff629f612c4104ecb0d196-982c4eac917d798c-01
2021-09-23T17:19:56.654Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:19:56.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-6136a3856b5fa78f8cf32894c6debdaaa7714274-412c44baf43d236b-01 outer:exit 2b-6136a3856b5fa78f8cf32894c6debdaaa7714274-f8ff10364b08d711-01
2021-09-23T17:19:56.665Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:19:56.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-aae3dce9c2c086a705c5451d1eadce019b7fa064-e87f889ff7fe3ef3-01 outer:exit 2b-aae3dce9c2c086a705c5451d1eadce019b7fa064-636274103c110d79-01
2021-09-23T17:19:56.673Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:19:56.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-06b29d3069749f02dd74c57b348b1511106f4d1d-fb54ae6dfdf9553a-01 outer:exit 2b-06b29d3069749f02dd74c57b348b1511106f4d1d-f0bda8886edb227f-01
2021-09-23T17:19:56.676Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:19:56.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-a653a66440188fab0278b93119c8533866d3d4fe-fae0e8e44d9dd9c6-01 outer:exit 2b-a653a66440188fab0278b93119c8533866d3d4fe-87d450e6ab5830bd-01
2021-09-23T17:19:56.680Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:19:56.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2a10a0e6face9d6faa443136c73781557bda7ab-450f7c32f466319a-01 outer:exit 2b-e2a10a0e6face9d6faa443136c73781557bda7ab-77a68792fd86b155-01
2021-09-23T17:19:56.689Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:19:56.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-1925d60b604ef77e8fa9c553a96459caa0dc65a0-6e05c23ada661d3f-01 outer:exit 2b-1925d60b604ef77e8fa9c553a96459caa0dc65a0-9dabe1f1a102f541-01
2021-09-23T17:19:56.691Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:19:56.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbda7495a4623dc6f2c1e873c555549d6df34678-dd46de1066b18c94-01 outer:exit 2b-dbda7495a4623dc6f2c1e873c555549d6df34678-fa525ac5922eb2ce-01
2021-09-23T17:19:56.693Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:19:56.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-51efbb30c6ad83bf888a8ceb809f0d15b7b8d3e5-b2d7c60424278ea5-01 outer:exit 2b-51efbb30c6ad83bf888a8ceb809f0d15b7b8d3e5-b4dcfe5173a75fed-01
2021-09-23T17:19:56.696Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:19:56.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bc95989774d38463fbed423878cb9b71c970c1d-3605470f1aff05fc-01 outer:exit 2b-0bc95989774d38463fbed423878cb9b71c970c1d-d9c84505f422eb5c-01
2021-09-23T17:19:56.698Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:19:56.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-af49bb16ce96d539c920251da88bca8241c85322-6b9262585c52ebe0-01 outer:exit 2b-af49bb16ce96d539c920251da88bca8241c85322-c0e0a12ee51d4e69-01
2021-09-23T17:19:56.700Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:19:56.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6f7a3e36fedfbfd9c6aaa67788684ff4eac5a41-ec44d14106925a03-01 outer:exit 2b-a6f7a3e36fedfbfd9c6aaa67788684ff4eac5a41-d9399003c9af4013-01
2021-09-23T17:19:56.714Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:19:56.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-8416828e31ef839713b6d76486b313919951f37b-40a86c7f992d301e-01 outer:exit 2b-8416828e31ef839713b6d76486b313919951f37b-c2645933f1d550cd-01
2021-09-23T17:19:56.724Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:19:56.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-5869939c57d4b745775dc415c0ebe0afc66b65eb-1f1d6e508f45c275-01 outer:exit 2b-5869939c57d4b745775dc415c0ebe0afc66b65eb-6f3acf58fb317702-01
2021-09-23T17:19:56.727Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:19:56.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-eed3322941a33a87f355bf1f641e8ca84183d941-c4e5cda17d6e206a-01 outer:exit 2b-eed3322941a33a87f355bf1f641e8ca84183d941-192eab7ab0bf3e99-01
2021-09-23T17:19:56.729Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:19:56.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dcdb8b7c929ceb00737cce2fcb86cc0a72e945e-b42d2c9e21e4f298-01 outer:exit 2b-1dcdb8b7c929ceb00737cce2fcb86cc0a72e945e-24c1e6e5d63faaa6-01
2021-09-23T17:19:56.733Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:19:56.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-69e587287f8f12f750afd6f20dbb730dab275cc0-cf17e28120314cd9-01 outer:exit 2b-69e587287f8f12f750afd6f20dbb730dab275cc0-dab223ee41c7ab2e-01
2021-09-23T17:19:56.770Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (365ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:04.085Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:04.085Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:04.085Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:04.086Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:04.151Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:04.192Z appoptics:patching patched crypto 
2021-09-23T17:20:04.213Z appoptics:patching patched https 
2021-09-23T17:20:04.213Z appoptics:patching patched http 
2021-09-23T17:20:04.268Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:04.268Z appoptics:patching patched fs 
2021-09-23T17:20:04.284Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v16.10.0)
2021-09-23T17:20:04.290Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2021-09-23T17:20:04.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-682ac99891aca3d3d8aa1d07d354e5a8f8242a31-52b177060f0f4bc6-01 outer:exit 2b-682ac99891aca3d3d8aa1d07d354e5a8f8242a31-d25b6f9d38e01597-01
2021-09-23T17:20:04.464Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:04.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-76ad0ac536639a054bf663a9813329d05e2751bb-99192b6d700b95fe-01 outer:exit 2b-76ad0ac536639a054bf663a9813329d05e2751bb-628f4a065fff741d-01
2021-09-23T17:20:04.507Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:04.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2e9006a154ac5d7599f2bc543f4ba6389bd54a5-9e8e5df74f54121b-01 outer:exit 2b-c2e9006a154ac5d7599f2bc543f4ba6389bd54a5-a3785b34bb379e45-01
2021-09-23T17:20:04.510Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:04.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-4593b3e3e90406f90830c9e142ca9c958f21777b-0a423edc4e53b60c-01 outer:exit 2b-4593b3e3e90406f90830c9e142ca9c958f21777b-6dd0b4423c0e305a-01
2021-09-23T17:20:04.513Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:04.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-132f997abce1b787040517351bff53c7f5bd12fa-a0fe51c2ab9ec9cb-01 outer:exit 2b-132f997abce1b787040517351bff53c7f5bd12fa-3b4d96a62505e57b-01
2021-09-23T17:20:04.524Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:04.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc06a9613a8b2313496277326501acaf388e6b47-caa26c63c2e9deed-01 outer:exit 2b-cc06a9613a8b2313496277326501acaf388e6b47-f199e8ec643a883a-01
2021-09-23T17:20:04.528Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:04.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3a0e04fe07653740d4ec56bb650346f7646c6a3-2d886e26a462d39c-01 outer:exit 2b-f3a0e04fe07653740d4ec56bb650346f7646c6a3-34cc099783fa4c7e-01
2021-09-23T17:20:04.530Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:04.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-715a37881c3bfb07d9aa91185dc55c3c92dd7d3c-866b3c168e7e0abd-01 outer:exit 2b-715a37881c3bfb07d9aa91185dc55c3c92dd7d3c-fd9fc2a59d3c0f53-01
2021-09-23T17:20:04.533Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:04.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d82d97d355366b9018b398519a40a6415615bcd-d8e6031b37d9f67a-01 outer:exit 2b-0d82d97d355366b9018b398519a40a6415615bcd-7fe2aebfe7f77f9b-01
2021-09-23T17:20:04.536Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:04.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-f730085638dfa627451ad2762733b146c38d0f11-176bf93b46a6a437-01 outer:exit 2b-f730085638dfa627451ad2762733b146c38d0f11-bf23361f6ca63d1c-01
2021-09-23T17:20:04.540Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:04.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d5007f1fbfc0f684787cc3cb6234ebc8c036ea0-0155afcf44dd7d10-01 outer:exit 2b-1d5007f1fbfc0f684787cc3cb6234ebc8c036ea0-ca049b155e4cb231-01
2021-09-23T17:20:04.551Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:04.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae75c4f00463afb1b006a1f157901ed96128f0fe-1074e1895bfc8a87-01 outer:exit 2b-ae75c4f00463afb1b006a1f157901ed96128f0fe-d1bdde7fa90a6388-01
2021-09-23T17:20:04.561Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:04.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bd33a04277ba2eaa0805c9a535f21ed84bbe5b6-96a7b7badad85aa0-01 outer:exit 2b-2bd33a04277ba2eaa0805c9a535f21ed84bbe5b6-dcc18331aa78d669-01
2021-09-23T17:20:04.613Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:04.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e9f22633ad7390e7efde671a46f8d083517ac2c-7da6249be0800480-01 outer:exit 2b-2e9f22633ad7390e7efde671a46f8d083517ac2c-d6bba63a30b8c1e1-01
2021-09-23T17:20:04.650Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:04.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5f15e66f9203cf61d821b84a18599921f8059f4-07381cee9c301ff0-01 outer:exit 2b-c5f15e66f9203cf61d821b84a18599921f8059f4-3d5108429a7dca79-01
2021-09-23T17:20:04.654Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:04.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-d302665da496d4fb968f14d3dbe77bcf3121fd4a-447fbe0b1e9b110a-01 outer:exit 2b-d302665da496d4fb968f14d3dbe77bcf3121fd4a-40b7f64f4dafa2ae-01
2021-09-23T17:20:04.657Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:04.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-33a62e759cc7339a7c2bc6df360d381be6dea788-ea1f96b971f9fabc-01 outer:exit 2b-33a62e759cc7339a7c2bc6df360d381be6dea788-a937dfdba5251285-01
2021-09-23T17:20:04.661Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:04.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-899bb19e4403fec5a3c448028361bc4d68a18db5-db5e5ace95edebe2-01 outer:exit 2b-899bb19e4403fec5a3c448028361bc4d68a18db5-2a9af555097eda7e-01
2021-09-23T17:20:04.665Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:04.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b01641aaf4ab4a904d67ed97015531aaa768bfc-bab50dab06d06c64-01 outer:exit 2b-0b01641aaf4ab4a904d67ed97015531aaa768bfc-344b965b295c926a-01
2021-09-23T17:20:04.667Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:04.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-358b4e29edfbd7c6eea27186f2894014e41a0174-3f81bfde02c0da65-01 outer:exit 2b-358b4e29edfbd7c6eea27186f2894014e41a0174-ee8f33994bdb82a3-01
2021-09-23T17:20:04.670Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:04.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c815989cd118c4a22f05a873ffd100636764e36-7b8db2eee4c8ff53-01 outer:exit 2b-3c815989cd118c4a22f05a873ffd100636764e36-f476dc76d477facf-01
2021-09-23T17:20:04.672Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:04.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-28e4882ca27a503b69ec818935f815e48f0c602d-ecb74f570e8c3873-01 outer:exit 2b-28e4882ca27a503b69ec818935f815e48f0c602d-a1ec81e2f17bd25b-01
2021-09-23T17:20:04.675Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:04.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-8230b36f733088f35dce0d0f84e81e25fadc0cfa-9a6981b257a592b2-01 outer:exit 2b-8230b36f733088f35dce0d0f84e81e25fadc0cfa-0ae4cc7c19e0f400-01
2021-09-23T17:20:04.679Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:04.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-26409afc263cedb57c6be014ae7b61ec142b8828-0b70772b549d4e3c-01 outer:exit 2b-26409afc263cedb57c6be014ae7b61ec142b8828-d48e335d47bef9c8-01
2021-09-23T17:20:04.682Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:04.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-49135e222d4e5674e7e74d83717e81e77bbcf0af-57ac9a7ba91ba0e2-01 outer:exit 2b-49135e222d4e5674e7e74d83717e81e77bbcf0af-d97692b464051574-01
2021-09-23T17:20:04.685Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:04.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-49da4e067b5e811fa0d59f9b88d78aee9d604bde-a29bd6057e1abe5f-01 outer:exit 2b-49da4e067b5e811fa0d59f9b88d78aee9d604bde-ce45857024b3807a-01
2021-09-23T17:20:04.688Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:04.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-08397901eff8cbd9e48c272c5603cf27147b1170-61c16a8e28eaacf5-01 outer:exit 2b-08397901eff8cbd9e48c272c5603cf27147b1170-b4ef0ebc7bff913d-01
2021-09-23T17:20:04.695Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:04.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-85cd2cc87fa2e24719286b3621e38d6ab78cb1a4-c0cd5467cc82264c-01 outer:exit 2b-85cd2cc87fa2e24719286b3621e38d6ab78cb1a4-ae7f2709a70aeeb6-01
2021-09-23T17:20:04.701Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:04.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ed194daa8255da38937ec144ae73e9bcc3f7796-cdd003173f200680-01 outer:exit 2b-0ed194daa8255da38937ec144ae73e9bcc3f7796-d28767b6e45ef2a2-01
2021-09-23T17:20:04.712Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:04.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a951685ade9688edf6984cc858f7e403460e111-ee0d5462352a669b-01 outer:exit 2b-8a951685ade9688edf6984cc858f7e403460e111-7a5d657eaca9bdc7-01
2021-09-23T17:20:04.720Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:04.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-64998b6f256c7cd84dece149ecbdd01a5e0561cd-0fe0ad26ec545b49-01 outer:exit 2b-64998b6f256c7cd84dece149ecbdd01a5e0561cd-c046dc7758cd1570-01
2021-09-23T17:20:04.722Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:04.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-3604ab6295247514c3600e7b734a68d3cee2557e-a6f3c732b80269c4-01 outer:exit 2b-3604ab6295247514c3600e7b734a68d3cee2557e-06002ce21f93a117-01
2021-09-23T17:20:04.726Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:04.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-81dbc13623e1b5d515c34c2ed41e79c548daa04d-c5e0778760e16c2d-01 outer:exit 2b-81dbc13623e1b5d515c34c2ed41e79c548daa04d-218fc25757862f55-01
2021-09-23T17:20:04.733Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:04.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-939b1bb6486ceb4438083ccafe996b8e1146412d-0be7d2c998ac5f48-01 outer:exit 2b-939b1bb6486ceb4438083ccafe996b8e1146412d-e440494d4d9dee65-01
2021-09-23T17:20:04.746Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:04.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-1066c608b3f4df00e029af6e588f551a8be9aa08-8432a0de19554089-01 outer:exit 2b-1066c608b3f4df00e029af6e588f551a8be9aa08-5259d63077137dba-01
2021-09-23T17:20:04.749Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:04.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-a198c2743f13f420d6b6b74c728dae2ba1d359a6-589d454b615f5d01-01 outer:exit 2b-a198c2743f13f420d6b6b74c728dae2ba1d359a6-8745107350e50568-01
2021-09-23T17:20:04.751Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:04.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-98392847368cf39421968f5c629ccd93250701a7-0f06be38f460ab5c-01 outer:exit 2b-98392847368cf39421968f5c629ccd93250701a7-010a152352921460-01
2021-09-23T17:20:04.753Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:04.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed2f8149cc27f1f357a5d9439e736886b40e77ee-230d0347c1f0b79a-01 outer:exit 2b-ed2f8149cc27f1f357a5d9439e736886b40e77ee-bd9dc399d665e2ee-01
2021-09-23T17:20:04.756Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:04.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-336ef6de93b3f3827899c306e9c6cb6239161ffa-718f366738996daf-01 outer:exit 2b-336ef6de93b3f3827899c306e9c6cb6239161ffa-20391d0679544211-01
2021-09-23T17:20:04.769Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:04.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-320984e7bf5dcf55b521525e011d90a394dd5853-676cc086f9ce6cb7-01 outer:exit 2b-320984e7bf5dcf55b521525e011d90a394dd5853-f108890a3962ffcd-01
2021-09-23T17:20:04.779Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:04.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-bec402c1e06e610c4167cffe54622fd051e53eee-bd04d5ca1491455c-01 outer:exit 2b-bec402c1e06e610c4167cffe54622fd051e53eee-e7917a61506c4c7b-01
2021-09-23T17:20:04.782Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:04.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-1816c2d6f69509e912a061bc120548b9a76ee0fb-0e36e40c39fd319b-01 outer:exit 2b-1816c2d6f69509e912a061bc120548b9a76ee0fb-a84790430b42e1ad-01
2021-09-23T17:20:04.784Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:04.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e542f23e16537a84e7d92441400e831e06bd4b4-8d41dfd7873ce04a-01 outer:exit 2b-1e542f23e16537a84e7d92441400e831e06bd4b4-45f75591d00a726f-01
2021-09-23T17:20:04.789Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:04.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dc8b67ad1663842f7def90a631959ac9b08c328-183ee4662237395c-01 outer:exit 2b-7dc8b67ad1663842f7def90a631959ac9b08c328-672e82c5b5b71d4c-01
2021-09-23T17:20:04.826Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (398ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:12.170Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:12.171Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:12.171Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:12.172Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:12.257Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:12.313Z appoptics:patching patched crypto 
2021-09-23T17:20:12.339Z appoptics:patching patched https 
2021-09-23T17:20:12.339Z appoptics:patching patched http 
2021-09-23T17:20:12.409Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:12.410Z appoptics:patching patched fs 
2021-09-23T17:20:12.430Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v16.10.0)
2021-09-23T17:20:12.437Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2021-09-23T17:20:12.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-35d53ed93b079388fda03f466432840a9f37db88-c8154202f39234ce-01 outer:exit 2b-35d53ed93b079388fda03f466432840a9f37db88-81774089929834ab-01
2021-09-23T17:20:12.665Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:12.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-34c1c94ee22d4d70bfe2889fc1bf7ad60bdffda4-df66a9b5a1d76be5-01 outer:exit 2b-34c1c94ee22d4d70bfe2889fc1bf7ad60bdffda4-04dec8b0cb21e2e2-01
2021-09-23T17:20:12.693Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:12.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-90bdfb764cc5af2f07ed1f5170045c4f2771719e-5bc8532b0c105024-01 outer:exit 2b-90bdfb764cc5af2f07ed1f5170045c4f2771719e-bc88af86a2a53c9e-01
2021-09-23T17:20:12.697Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:12.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-8571916fb9c08cfe7afff4df83f0ae74800d43e3-7e1487f4eb0d59ce-01 outer:exit 2b-8571916fb9c08cfe7afff4df83f0ae74800d43e3-c547a61b94a2c2ff-01
2021-09-23T17:20:12.700Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:12.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfe0bf4fa78bf12a624a96b5473f9a617167ecf1-70ea4735d391f5fe-01 outer:exit 2b-cfe0bf4fa78bf12a624a96b5473f9a617167ecf1-eb5e3ff19e9f2cca-01
2021-09-23T17:20:12.705Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:12.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-f03e2e053445cd05d56e8279beb491df0050b6a3-b9a8de5a0b055102-01 outer:exit 2b-f03e2e053445cd05d56e8279beb491df0050b6a3-6f3233cd5b42677d-01
2021-09-23T17:20:12.709Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:12.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ed080d198edd0628ae6a1b3d67b70a27b164087-d1fa8d4ca3a90e9f-01 outer:exit 2b-9ed080d198edd0628ae6a1b3d67b70a27b164087-6ff10b968271e2fb-01
2021-09-23T17:20:12.713Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:12.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-13d1025c74cb8b9e38ffe81b13633b577a630269-484ecdbeefd557ec-01 outer:exit 2b-13d1025c74cb8b9e38ffe81b13633b577a630269-8fd8759c4bf3c7fd-01
2021-09-23T17:20:12.716Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:12.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcd2340b112efc2c1990420f9ec7d139c6eb34ee-1876eee52268c08c-01 outer:exit 2b-fcd2340b112efc2c1990420f9ec7d139c6eb34ee-75c3583dbf26cc61-01
2021-09-23T17:20:12.719Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:12.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfd493fa342b8aa18bb347d2cd8e9f0d5f796721-4ff6e0bd7e877f20-01 outer:exit 2b-bfd493fa342b8aa18bb347d2cd8e9f0d5f796721-abc473f3ed0c92e7-01
2021-09-23T17:20:12.722Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:12.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf2806b8d568dc54e5ffb537c3b48c0ed500c457-c9249dca61711f02-01 outer:exit 2b-bf2806b8d568dc54e5ffb537c3b48c0ed500c457-f96d87dc7439a633-01
2021-09-23T17:20:12.727Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:12.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-d88a2da05c93b43a6efb0be22825908c3a2e77a4-b33ca9b8feb308e7-01 outer:exit 2b-d88a2da05c93b43a6efb0be22825908c3a2e77a4-74eae970f47be588-01
2021-09-23T17:20:12.734Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:12.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5144adddddd30395b0817791f43b84c44d77d2c-3b268b8519b75cb2-01 outer:exit 2b-b5144adddddd30395b0817791f43b84c44d77d2c-ef0e3fb4b7015a07-01
2021-09-23T17:20:12.750Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:12.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-896be229cf65208235bf35e135c2e0a51bf2bcb4-1afcc13e7526aa57-01 outer:exit 2b-896be229cf65208235bf35e135c2e0a51bf2bcb4-fa005e29673def07-01
2021-09-23T17:20:12.790Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:12.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-863c33f9cad95140a5336b882fa7adeb91200baa-c64ab834849be3ba-01 outer:exit 2b-863c33f9cad95140a5336b882fa7adeb91200baa-17cb688cd39199a6-01
2021-09-23T17:20:12.794Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:12.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-ede0a9a6c9f4c36020f53f38e7210d2ed4807bfb-4bab39bb70efbef7-01 outer:exit 2b-ede0a9a6c9f4c36020f53f38e7210d2ed4807bfb-24cd45e9b6f89f2d-01
2021-09-23T17:20:12.797Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:12.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-2981fb0437f44dc1d3067de16996aca5ba4d584f-55e69942d9f20ec9-01 outer:exit 2b-2981fb0437f44dc1d3067de16996aca5ba4d584f-1f0a474d5be62402-01
2021-09-23T17:20:12.802Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:12.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-52f9e35f7511883f0420c9112ec2af0aeeddf1cf-532d43d0d2a13c7f-01 outer:exit 2b-52f9e35f7511883f0420c9112ec2af0aeeddf1cf-00a4d359fca0f012-01
2021-09-23T17:20:12.806Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:12.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-6199754c81120d8cab4620ab3aa561e92249a583-6288ee8f34bcb086-01 outer:exit 2b-6199754c81120d8cab4620ab3aa561e92249a583-e9db2320ae217b6f-01
2021-09-23T17:20:12.811Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:12.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-98016c6c9b378f752d5d0c31028514aa156c9eb5-6766fe786884c380-01 outer:exit 2b-98016c6c9b378f752d5d0c31028514aa156c9eb5-da26fdcccac517a1-01
2021-09-23T17:20:12.814Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:12.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebd008a3da856b9eb48ce4c552cd12992ec2a44c-8029868bda7f8d53-01 outer:exit 2b-ebd008a3da856b9eb48ce4c552cd12992ec2a44c-174360d987820b17-01
2021-09-23T17:20:12.819Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:12.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-908e077174c7bbb39eaea4b2b239d50cff34fa40-f658cf3cd1900e1e-01 outer:exit 2b-908e077174c7bbb39eaea4b2b239d50cff34fa40-6842bcf53c51e4d5-01
2021-09-23T17:20:12.822Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:12.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cce73231fb7045717b3e3e58479c410dd47b1fc-dc084377fffbe49f-01 outer:exit 2b-6cce73231fb7045717b3e3e58479c410dd47b1fc-914c2bf9b0d3f316-01
2021-09-23T17:20:12.826Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:12.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-f29cc6c09a8b84f45696602046b9baf1af747f5c-4ba6644ae29d637b-01 outer:exit 2b-f29cc6c09a8b84f45696602046b9baf1af747f5c-49f699def9c80de3-01
2021-09-23T17:20:12.831Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:12.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0747f88c3bdf1a028487fcef5212ac06c757954-7f8b8b83e41240c7-01 outer:exit 2b-b0747f88c3bdf1a028487fcef5212ac06c757954-c5a5efddbe3626eb-01
2021-09-23T17:20:12.835Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:12.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f085f2ed58934a07fe13bf22ebcb61a7ba054c2-40d1e9ac44afa16f-01 outer:exit 2b-8f085f2ed58934a07fe13bf22ebcb61a7ba054c2-96e19d7d43cb9fbf-01
2021-09-23T17:20:12.839Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:12.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-421abeeca37cb8baa1382e3f1cd3a80067cd428b-671d056291adfa75-01 outer:exit 2b-421abeeca37cb8baa1382e3f1cd3a80067cd428b-2d19966816cdc806-01
2021-09-23T17:20:12.847Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:12.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-63366837c41b026d73cb8340db72932817d99828-9ffb0de06e2cbeed-01 outer:exit 2b-63366837c41b026d73cb8340db72932817d99828-0e21ad314c274aa1-01
2021-09-23T17:20:12.854Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:12.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad1a0abe2ddc4f5a2278f28855934e9ea422de49-c141d2d2909a4606-01 outer:exit 2b-ad1a0abe2ddc4f5a2278f28855934e9ea422de49-f9bdb67088f90f49-01
2021-09-23T17:20:12.865Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:12.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5622ba19bfeb827bf3e8d56e226c71aceb06381-bbb3e9ed0859735c-01 outer:exit 2b-d5622ba19bfeb827bf3e8d56e226c71aceb06381-d8388e1ff40b108e-01
2021-09-23T17:20:12.873Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:12.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3bef12c357d8c4903a6e611602a8c1e37dc2516-f94ddceebcd70208-01 outer:exit 2b-d3bef12c357d8c4903a6e611602a8c1e37dc2516-d1c592a136ca8aa0-01
2021-09-23T17:20:12.875Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:12.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-108a4b89e216d308ec61e95bc5bb30b36b815311-02fb7c117f7c2dac-01 outer:exit 2b-108a4b89e216d308ec61e95bc5bb30b36b815311-6a83d1e91043798d-01
2021-09-23T17:20:12.880Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:12.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a0a423bb55f3ab70d14437f7041b29a22c3f8cd-342f61e26dd95589-01 outer:exit 2b-8a0a423bb55f3ab70d14437f7041b29a22c3f8cd-d41b53c920a2ea1a-01
2021-09-23T17:20:12.889Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:12.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e506532a8b09c2e90064c8c1e55f7b97acac177-23d1f99072f1863a-01 outer:exit 2b-0e506532a8b09c2e90064c8c1e55f7b97acac177-d3380b64884f2dae-01
2021-09-23T17:20:12.893Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:12.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4df0fb225a1e5a375b565cfc140ea5330bdbe94-4766926fe3654a32-01 outer:exit 2b-d4df0fb225a1e5a375b565cfc140ea5330bdbe94-61efe295dcf04f4c-01
2021-09-23T17:20:12.902Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:12.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-d18fe562d77234604cd2952deca80ee4c0b1baba-afcad82bd3e5668e-01 outer:exit 2b-d18fe562d77234604cd2952deca80ee4c0b1baba-d75e27c2a839c247-01
2021-09-23T17:20:12.908Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:12.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-699ed22018242d77fd61ed738d46322d9096dc52-85ad6ae598a1d6be-01 outer:exit 2b-699ed22018242d77fd61ed738d46322d9096dc52-d8546cb924b8b15c-01
2021-09-23T17:20:12.913Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:12.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-f019447c8f0b773cc0d0050103ffc9a0118f0c1e-3f358e9ad2236be4-01 outer:exit 2b-f019447c8f0b773cc0d0050103ffc9a0118f0c1e-4f872a25b3cbee16-01
2021-09-23T17:20:12.919Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:12.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-0550e107c280945f77261769ffabfcdf10a34318-29a8b340a541ee6b-01 outer:exit 2b-0550e107c280945f77261769ffabfcdf10a34318-e29aa28723905c18-01
2021-09-23T17:20:12.933Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:12.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3fb2c8b66775741bec73aabfc9885fd24e03d11-632e3557cecfe13a-01 outer:exit 2b-e3fb2c8b66775741bec73aabfc9885fd24e03d11-189e80b36f0d6b8a-01
2021-09-23T17:20:12.945Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:12.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-a020effd093544d1d9ef12f9c17617a0199997d8-dae192e9eb44eea5-01 outer:exit 2b-a020effd093544d1d9ef12f9c17617a0199997d8-0ee26001fa0b8e51-01
2021-09-23T17:20:12.948Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:12.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5faed7f3169e0e332dfced2d1332436297c0700-f8d99038a1c420c1-01 outer:exit 2b-d5faed7f3169e0e332dfced2d1332436297c0700-458d14edbcebf0a3-01
2021-09-23T17:20:12.953Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:12.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-45c2ad894f249db0eb0973ad364cddc73434b3d2-54791afec20dd51e-01 outer:exit 2b-45c2ad894f249db0eb0973ad364cddc73434b3d2-230bbc46bca08980-01
2021-09-23T17:20:12.959Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:13.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8fda80a6cbb4a6e861b8cb0e9b3d5547c3d6913-45007c9765e479d1-01 outer:exit 2b-d8fda80a6cbb4a6e861b8cb0e9b3d5547c3d6913-7e49faa56f3a4f67-01
2021-09-23T17:20:13.002Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (386ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:20.184Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:20.185Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:20.185Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:20.186Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:20.251Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:20.293Z appoptics:patching patched crypto 
2021-09-23T17:20:20.314Z appoptics:patching patched https 
2021-09-23T17:20:20.314Z appoptics:patching patched http 
2021-09-23T17:20:20.366Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:20.366Z appoptics:patching patched fs 
2021-09-23T17:20:20.383Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v16.10.0)
2021-09-23T17:20:20.390Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2021-09-23T17:20:20.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-22c20b08c12b5199d4ca98cb0a4acdf9b4314746-c4191b644a6c39f0-01 outer:exit 2b-22c20b08c12b5199d4ca98cb0a4acdf9b4314746-9b5413c1283c0109-01
2021-09-23T17:20:20.566Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:20.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e86566f8e504fd9699e7c7ce36b01926d4f8770-aab866f136375dba-01 outer:exit 2b-9e86566f8e504fd9699e7c7ce36b01926d4f8770-9b1db99dbabcd163-01
2021-09-23T17:20:20.597Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:20.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e5d4a0bd4878a5713424ae5f59582ed9ce50fb6-1434244f2054cb2c-01 outer:exit 2b-8e5d4a0bd4878a5713424ae5f59582ed9ce50fb6-4f1701fe1187ec98-01
2021-09-23T17:20:20.600Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:20.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-278c4f9715a94d10d27a40d19fa343833f615724-12c3e2bb76a592ef-01 outer:exit 2b-278c4f9715a94d10d27a40d19fa343833f615724-e54f060eb40f01cc-01
2021-09-23T17:20:20.603Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:20.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-9582be7833961e693811d105e2656d1209b6e938-58e19a3a96519b37-01 outer:exit 2b-9582be7833961e693811d105e2656d1209b6e938-08927f3709530c6d-01
2021-09-23T17:20:20.608Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:20.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-58afb362303d901818ca71dcdc9c3d0167009957-10958b2b5df7968f-01 outer:exit 2b-58afb362303d901818ca71dcdc9c3d0167009957-2b39d1ab5539f72a-01
2021-09-23T17:20:20.615Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:20.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2cb63b619a49f55735e0032cf0133562bb7a150-8c7f31b8c85889e3-01 outer:exit 2b-d2cb63b619a49f55735e0032cf0133562bb7a150-4933e6ade19ef015-01
2021-09-23T17:20:20.618Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:20.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-22e7cf0ba930dc3e4e4fe3a31f415fb07630d25e-06ea88511be67b92-01 outer:exit 2b-22e7cf0ba930dc3e4e4fe3a31f415fb07630d25e-61a69a57e2f0c72c-01
2021-09-23T17:20:20.621Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:20.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d7ee0e9bc22c5406c9027b7700b577f7f1fc783-2eb25a7879fbcc4d-01 outer:exit 2b-0d7ee0e9bc22c5406c9027b7700b577f7f1fc783-2a5c5e10ce8189fe-01
2021-09-23T17:20:20.624Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:20.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-24b5e07918c17196ba535dfecfe89200eb4d29f9-461f59818b1f53ee-01 outer:exit 2b-24b5e07918c17196ba535dfecfe89200eb4d29f9-b5333397b45f6927-01
2021-09-23T17:20:20.627Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:20.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdbbd7a88526add1fb3956c371ab98f728591d52-7eceac145db8f194-01 outer:exit 2b-cdbbd7a88526add1fb3956c371ab98f728591d52-873b33b399c1c84c-01
2021-09-23T17:20:20.631Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:20.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2a0c0de5c9b6db4b646b2cb8b51bfcbfe55df6b-05f5965bde3ac98b-01 outer:exit 2b-a2a0c0de5c9b6db4b646b2cb8b51bfcbfe55df6b-ca1b25bcdb12e76d-01
2021-09-23T17:20:20.649Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:20.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fa2cd2020acd8ac923320ecca070a87c4b452d5-92845c7031c52e48-01 outer:exit 2b-3fa2cd2020acd8ac923320ecca070a87c4b452d5-a9c51cb9b4ac8c98-01
2021-09-23T17:20:20.664Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:20.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9e1760eb1ea9fdb72f66f57a1ba28211bf2dd0e-5d4895e1d86139c0-01 outer:exit 2b-a9e1760eb1ea9fdb72f66f57a1ba28211bf2dd0e-5b95b1b97629dea1-01
2021-09-23T17:20:20.693Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:20.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-843b967ce63b17b4b1a93f3b44883c16361cfec7-cce1dffe3cc83c54-01 outer:exit 2b-843b967ce63b17b4b1a93f3b44883c16361cfec7-3645733be1961458-01
2021-09-23T17:20:20.696Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:20.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bca90a6e257f7feaf0e62833842a92cacaeafd1-cf02e4e8eefe34d4-01 outer:exit 2b-5bca90a6e257f7feaf0e62833842a92cacaeafd1-3dd6846ff3da5e1a-01
2021-09-23T17:20:20.698Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:20.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cbae95d2b721cd9c38e9277765be238e8152d8a-eae8642cfa202303-01 outer:exit 2b-8cbae95d2b721cd9c38e9277765be238e8152d8a-cb55ac14c69694e7-01
2021-09-23T17:20:20.701Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:20.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-b780d23dfcae1f700b93153aee523c679734236c-36ac4f1dec6b8beb-01 outer:exit 2b-b780d23dfcae1f700b93153aee523c679734236c-df443a4254e81ebb-01
2021-09-23T17:20:20.703Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:20.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-8066253e42042a412805ea5ba57480e4357430f3-828875808ba24b0d-01 outer:exit 2b-8066253e42042a412805ea5ba57480e4357430f3-85f8f70a832dbbb1-01
2021-09-23T17:20:20.706Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:20.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc02974d23a1febdb9decafa5853f2b2c28d1672-ee6a42aeebf0e6a3-01 outer:exit 2b-bc02974d23a1febdb9decafa5853f2b2c28d1672-1a3348cadbacdfc3-01
2021-09-23T17:20:20.708Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:20.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-c961cb5813cd974b347033f947d5522ef684e0da-86d07b1b28a93665-01 outer:exit 2b-c961cb5813cd974b347033f947d5522ef684e0da-8274276cde9de580-01
2021-09-23T17:20:20.710Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:20.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-f14408d828492e60d39f57d713124abe6c14450e-8df8020ccad6b737-01 outer:exit 2b-f14408d828492e60d39f57d713124abe6c14450e-bdf524d13fe8f9db-01
2021-09-23T17:20:20.713Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:20.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5b455b1df907484fc44d004bc527e668625706d-c2a5dfcebd0cd9b5-01 outer:exit 2b-d5b455b1df907484fc44d004bc527e668625706d-f8425c91304391d6-01
2021-09-23T17:20:20.716Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:20.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcd3a898bd41bf549adbba08ff1eb67f1c32ffe5-a00520ce09cb35f6-01 outer:exit 2b-fcd3a898bd41bf549adbba08ff1eb67f1c32ffe5-db8c460f1ef2039c-01
2021-09-23T17:20:20.719Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:20.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-528257e2dabf50e39c59087d5b61c3f04f59fb9b-6f7e2784d8484234-01 outer:exit 2b-528257e2dabf50e39c59087d5b61c3f04f59fb9b-bd423e8683594531-01
2021-09-23T17:20:20.722Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:20.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-39ad9eb7b993148e40cee0178075e42c881591aa-31771223dc6a5cee-01 outer:exit 2b-39ad9eb7b993148e40cee0178075e42c881591aa-ab4c598385c307bd-01
2021-09-23T17:20:20.724Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:20.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-94e602694c281f1c5b49f1f3463dc9280082558f-73c0fb26971fdf4a-01 outer:exit 2b-94e602694c281f1c5b49f1f3463dc9280082558f-0cc323ac4a071935-01
2021-09-23T17:20:20.741Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:20.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-b70adf9ededde0cfa5d23dcd662fdbbe59a1874e-e38509402bcb232b-01 outer:exit 2b-b70adf9ededde0cfa5d23dcd662fdbbe59a1874e-4fd86bb2b3c51200-01
2021-09-23T17:20:20.756Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:20.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2bb9dc83b8fc78975aa8a3de0ec4924ba4bdc3c-49dc90a49d708ce4-01 outer:exit 2b-c2bb9dc83b8fc78975aa8a3de0ec4924ba4bdc3c-a51de5417d9d26a1-01
2021-09-23T17:20:20.766Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:20.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-4afcde69fade49ae74dac4dd49fa40396b0969d3-dd7747102b9f1492-01 outer:exit 2b-4afcde69fade49ae74dac4dd49fa40396b0969d3-0aaee537a3c1ef3a-01
2021-09-23T17:20:20.774Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:20.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-109d19b2c06c5dcbe2b2128d52ed8e653627d637-848aba91c059b3c3-01 outer:exit 2b-109d19b2c06c5dcbe2b2128d52ed8e653627d637-f19dcde80553fd4e-01
2021-09-23T17:20:20.777Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:20.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-7da519a61c21df02d711ad00197dd077185e0642-fa7e03a74568f7c4-01 outer:exit 2b-7da519a61c21df02d711ad00197dd077185e0642-07300ad8cd5eb5a6-01
2021-09-23T17:20:20.782Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:20.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a8c717c499d3f0a29f189fc5289b04903ae6ba1-963d58c5fec9051b-01 outer:exit 2b-3a8c717c499d3f0a29f189fc5289b04903ae6ba1-63592ce020e2cf67-01
2021-09-23T17:20:20.789Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:20.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-f367b8720e16ad510dd6932ae253cfbdc3a67d92-da75236864c4833b-01 outer:exit 2b-f367b8720e16ad510dd6932ae253cfbdc3a67d92-b832e2e8e9a65e2a-01
2021-09-23T17:20:20.792Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:20.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-456d5744531c46a8b3d5e15e68ce43420f00d940-cde0b4f3c517c534-01 outer:exit 2b-456d5744531c46a8b3d5e15e68ce43420f00d940-582d6e06daea5347-01
2021-09-23T17:20:20.794Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:20.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-abb3a64dfc086cb16d28eb95ded7626a4de8a004-44cec674970a9899-01 outer:exit 2b-abb3a64dfc086cb16d28eb95ded7626a4de8a004-e0cbe9cd722a2124-01
2021-09-23T17:20:20.796Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:20.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-76d9603382081ecd7e15665a9f6338838db70206-6910b26997aa2b6c-01 outer:exit 2b-76d9603382081ecd7e15665a9f6338838db70206-7cf3823d3c667c7c-01
2021-09-23T17:20:20.798Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:20.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-5febd4f63c0dcef29cb08f20a56ae95b247874fa-7c716a4b75eda250-01 outer:exit 2b-5febd4f63c0dcef29cb08f20a56ae95b247874fa-1ab7706bf530e89e-01
2021-09-23T17:20:20.801Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:20.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-cff172ff5841950b68a7bfe1fc84a0d5e298fb75-cf80824b170ee23b-01 outer:exit 2b-cff172ff5841950b68a7bfe1fc84a0d5e298fb75-c11746ddd298b70c-01
2021-09-23T17:20:20.812Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:20.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d8c89894928af42470614cdbd951449c4893bc7-407e1009e5317347-01 outer:exit 2b-4d8c89894928af42470614cdbd951449c4893bc7-748c40fb7ed306d4-01
2021-09-23T17:20:20.824Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:20.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-9426d1bdefca2e1e620ec90f3400e59ed543f002-2c805cebd953e41c-01 outer:exit 2b-9426d1bdefca2e1e620ec90f3400e59ed543f002-77877eb4127921a2-01
2021-09-23T17:20:20.827Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:20.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-abd51301653dfa718aef909b438f9b2c5644541b-cacfd3e240720fe1-01 outer:exit 2b-abd51301653dfa718aef909b438f9b2c5644541b-528d1d64b62229ac-01
2021-09-23T17:20:20.830Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:20.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-f150323832471e33ceebf715872303e1817ad5b4-0766a06ca5ffa78c-01 outer:exit 2b-f150323832471e33ceebf715872303e1817ad5b4-0e92683d7ce13b8e-01
2021-09-23T17:20:20.845Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:20.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-730dd87f22e0325c18f03b10fc0126e591276309-d64219803a3cf792-01 outer:exit 2b-730dd87f22e0325c18f03b10fc0126e591276309-3139a57d5737e2e9-01
2021-09-23T17:20:20.875Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (344ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:28.607Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:28.608Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:28.608Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:28.609Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:28.732Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:28.780Z appoptics:patching patched crypto 
2021-09-23T17:20:28.802Z appoptics:patching patched https 
2021-09-23T17:20:28.802Z appoptics:patching patched http 
2021-09-23T17:20:28.864Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:28.865Z appoptics:patching patched fs 
2021-09-23T17:20:28.886Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v16.10.0)
2021-09-23T17:20:28.895Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2021-09-23T17:20:29.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-21f46b983ee07968319a19270eb73dba39236858-10424ca04b3b4c88-01 outer:exit 2b-21f46b983ee07968319a19270eb73dba39236858-243095ef49ebfb42-01
2021-09-23T17:20:29.090Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:29.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2ab3ab64f8809fed6c18fda74dd32af1a6bccfc-68f6f19ff3c4c5a7-01 outer:exit 2b-a2ab3ab64f8809fed6c18fda74dd32af1a6bccfc-f186fc4842629b65-01
2021-09-23T17:20:29.152Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:29.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0c0097394c175953784109887a53fe6f8be7bf6-8cfbf9cd34fbd8dc-01 outer:exit 2b-c0c0097394c175953784109887a53fe6f8be7bf6-de69e01738d2c99d-01
2021-09-23T17:20:29.157Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:29.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c1678137a8bddf4a71777ec65e12d495a25a500-83faff76dfe089e3-01 outer:exit 2b-7c1678137a8bddf4a71777ec65e12d495a25a500-06b68b86068fa1c0-01
2021-09-23T17:20:29.165Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:29.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-8745d13d65f443ef1475a9026214e4bf64c72a10-5171bb59af2d2913-01 outer:exit 2b-8745d13d65f443ef1475a9026214e4bf64c72a10-e320bd77e809a15c-01
2021-09-23T17:20:29.172Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:29.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-7731eb2bad9cb3852ffe593c40c20ddeda0b3c7a-c53b18495be3f721-01 outer:exit 2b-7731eb2bad9cb3852ffe593c40c20ddeda0b3c7a-689eca1b9a7f01a7-01
2021-09-23T17:20:29.176Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:29.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-08165eb73ffb78fbdc73b6bd7d67b3f5a1e87c4e-40a065006c3ef3ce-01 outer:exit 2b-08165eb73ffb78fbdc73b6bd7d67b3f5a1e87c4e-9599d0946e2485ce-01
2021-09-23T17:20:29.180Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:29.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4e4247618fbf3dc17897a220370b8ad4a015a96-ee9b993898c0685a-01 outer:exit 2b-e4e4247618fbf3dc17897a220370b8ad4a015a96-6c725d74fcfa46c1-01
2021-09-23T17:20:29.185Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:29.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee5e8bd46f6c635c6d87caae6182f3ec0695b38d-01ee8c8d21ce0e76-01 outer:exit 2b-ee5e8bd46f6c635c6d87caae6182f3ec0695b38d-85abf225dbd59078-01
2021-09-23T17:20:29.188Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:29.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-78c1ef5a4fa07c2fb89f76bfb32bd4463c5bc4f3-b23cf8b9cf1a720c-01 outer:exit 2b-78c1ef5a4fa07c2fb89f76bfb32bd4463c5bc4f3-739705c33a55d44d-01
2021-09-23T17:20:29.191Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:29.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-48995f213de2bff18a69e9612d37e9fa54f8cfb1-cad4378d6fc20808-01 outer:exit 2b-48995f213de2bff18a69e9612d37e9fa54f8cfb1-a081793d72979f22-01
2021-09-23T17:20:29.196Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:29.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0c45aa2b0681d507d13476c32989c540d2ec78b-6afdcb19291faeca-01 outer:exit 2b-c0c45aa2b0681d507d13476c32989c540d2ec78b-4189c89748809a24-01
2021-09-23T17:20:29.204Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:29.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa5da0c7eca6e69057de7aec423c2984573536bd-3d419c8eeeed30d2-01 outer:exit 2b-aa5da0c7eca6e69057de7aec423c2984573536bd-b147c9fb7c5ef20a-01
2021-09-23T17:20:29.219Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:29.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad46d64c6ac157969b0aa2aac225154dbdc12dbe-57caa741f3707548-01 outer:exit 2b-ad46d64c6ac157969b0aa2aac225154dbdc12dbe-88cfc08a8f2c5708-01
2021-09-23T17:20:29.252Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:29.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9cd74f04a6ff5196146315c253cee273ba35294-a7587f4f896b8afb-01 outer:exit 2b-a9cd74f04a6ff5196146315c253cee273ba35294-e83e993b5f889279-01
2021-09-23T17:20:29.255Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:29.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-62eb99fe2793102e44950816fa60746089e202e2-a686819c19a367d1-01 outer:exit 2b-62eb99fe2793102e44950816fa60746089e202e2-4ecda962df7ab951-01
2021-09-23T17:20:29.258Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:29.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-16286a739019bf8118732eb1d4897a963c5012eb-ee7f435d1857a14d-01 outer:exit 2b-16286a739019bf8118732eb1d4897a963c5012eb-d514e1a062de6f79-01
2021-09-23T17:20:29.261Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:29.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d588c56a7edb012905770b254c6b5c163a1caf4-9e80c37f1aae774e-01 outer:exit 2b-3d588c56a7edb012905770b254c6b5c163a1caf4-65a3c406d47e2986-01
2021-09-23T17:20:29.264Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:29.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-a601432502d62cab2ae8905b853f4f08970eef18-8e8d590ecd535e9c-01 outer:exit 2b-a601432502d62cab2ae8905b853f4f08970eef18-6f2a0d4592de0ee3-01
2021-09-23T17:20:29.266Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:29.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3e9de5e44d52c63852fee999a0c61b2d5894dc6-5d49171f0d41fe2a-01 outer:exit 2b-a3e9de5e44d52c63852fee999a0c61b2d5894dc6-f1c47aeab87be589-01
2021-09-23T17:20:29.268Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:29.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-763bdc230b80715d9d50a29c94d166e3f26d904e-8e8ae475be22e4ca-01 outer:exit 2b-763bdc230b80715d9d50a29c94d166e3f26d904e-ff352249fd566e1e-01
2021-09-23T17:20:29.271Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:29.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b38f262d55ce8b8ec391573f7382f158b5cd40a-7e17b77046701d8b-01 outer:exit 2b-4b38f262d55ce8b8ec391573f7382f158b5cd40a-4856af05d915a20b-01
2021-09-23T17:20:29.274Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:29.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8762b10791f171f0f3da18457c89851c1ffe47c-e3b0e3368d2c0620-01 outer:exit 2b-f8762b10791f171f0f3da18457c89851c1ffe47c-1c673b394e6b7e67-01
2021-09-23T17:20:29.277Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:29.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ea812cb2e849d229257244dfe34210ec58544e6-2b7d2e7760d39d90-01 outer:exit 2b-7ea812cb2e849d229257244dfe34210ec58544e6-e1acd699016a5a66-01
2021-09-23T17:20:29.280Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:29.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-70063e66d0caea8f113d6a9fec24987a742a0d5d-dff34b4592ad37e8-01 outer:exit 2b-70063e66d0caea8f113d6a9fec24987a742a0d5d-6ef87840134e03c1-01
2021-09-23T17:20:29.282Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:29.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-157adb1391a9efee02d78645bb48e93149d04996-bc9cec02fbb3f1a6-01 outer:exit 2b-157adb1391a9efee02d78645bb48e93149d04996-31edc9932e1a8c3d-01
2021-09-23T17:20:29.285Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:29.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f938884f66d946cdb0d58805daa06fb55921335-4f4a392e17ea08fc-01 outer:exit 2b-3f938884f66d946cdb0d58805daa06fb55921335-dc307b4050dba616-01
2021-09-23T17:20:29.293Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:29.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfe3c3e86e6d6da1d8a86bbf3b121697cb9c08f9-e1dac22b6067272d-01 outer:exit 2b-cfe3c3e86e6d6da1d8a86bbf3b121697cb9c08f9-779e2e96e14b8a4c-01
2021-09-23T17:20:29.298Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:29.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-31f3c5f80ee2a541db8de5d54c2a20ffcb98db43-e9dfd9a63ce3278a-01 outer:exit 2b-31f3c5f80ee2a541db8de5d54c2a20ffcb98db43-ff790b7062510026-01
2021-09-23T17:20:29.309Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:29.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e0b75a388eab33f83ad9a9e323af032b0d12733-502ba00eff67d3ce-01 outer:exit 2b-0e0b75a388eab33f83ad9a9e323af032b0d12733-d919490ee5ea8ae0-01
2021-09-23T17:20:29.319Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:29.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e6dec2403957bed2afde339a8bd742dc6196e7c-294b5f570f09b0d5-01 outer:exit 2b-0e6dec2403957bed2afde339a8bd742dc6196e7c-29ac697b46389c74-01
2021-09-23T17:20:29.321Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:29.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e9062916d74a7176d449ac21d06ecb550bc41c7-c21a33127db0c608-01 outer:exit 2b-0e9062916d74a7176d449ac21d06ecb550bc41c7-e5c2e66b8fe700d5-01
2021-09-23T17:20:29.325Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:29.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-c819ad429220656fd62d657803aa2e7b99d07a1d-e8a85a6a375a8f83-01 outer:exit 2b-c819ad429220656fd62d657803aa2e7b99d07a1d-7b4beae2fbf8c0c5-01
2021-09-23T17:20:29.336Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:29.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-49ed3645f1beaf2afa95195a628a20af8bf5fcd9-caa603b0209cd276-01 outer:exit 2b-49ed3645f1beaf2afa95195a628a20af8bf5fcd9-eb4f81d70f6613f0-01
2021-09-23T17:20:29.338Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:29.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-43749fd57b823ce951c2f9c673a39a7588a72647-03d04fca90728304-01 outer:exit 2b-43749fd57b823ce951c2f9c673a39a7588a72647-55b7fca0a92e676e-01
2021-09-23T17:20:29.341Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:29.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-933de11ea5d83daaeb61cfc9ca59014a7e921a99-93b44ce0e935716b-01 outer:exit 2b-933de11ea5d83daaeb61cfc9ca59014a7e921a99-c2ed972affbe434c-01
2021-09-23T17:20:29.343Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:29.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-c921a58226232633de62c8bda7d44b3cb9598b7c-5e8ec0116fb76f28-01 outer:exit 2b-c921a58226232633de62c8bda7d44b3cb9598b7c-c58f9fa92d02313d-01
2021-09-23T17:20:29.345Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:29.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6903f86d131161fe058e5117f7de28c70237976-650247c614c9bd26-01 outer:exit 2b-d6903f86d131161fe058e5117f7de28c70237976-815e0fc440387a43-01
2021-09-23T17:20:29.347Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:29.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e154345110242a75b70db59529df6ee47b16b73-31446c77baac0742-01 outer:exit 2b-0e154345110242a75b70db59529df6ee47b16b73-209a51af259bc5b5-01
2021-09-23T17:20:29.357Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:29.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-b43b0d72668b56afc31e2ab318081638c2274997-5daef071af1322da-01 outer:exit 2b-b43b0d72668b56afc31e2ab318081638c2274997-2eb84a6ce2ad9adc-01
2021-09-23T17:20:29.366Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:29.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-1359857291bd349ebd9b2a86c933641d518e1a33-920fab19f1051245-01 outer:exit 2b-1359857291bd349ebd9b2a86c933641d518e1a33-94f88d4eb44c06b6-01
2021-09-23T17:20:29.369Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:29.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-6854f8e7f113e6bc27febb835647d0964b4ef633-b167b769a3093663-01 outer:exit 2b-6854f8e7f113e6bc27febb835647d0964b4ef633-cc05e141cce75d52-01
2021-09-23T17:20:29.372Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:29.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-8620591018f9bd1bd661f6ec52c2ff28a3e78d84-312032cb106f774d-01 outer:exit 2b-8620591018f9bd1bd661f6ec52c2ff28a3e78d84-b4e90ee3f4244def-01
2021-09-23T17:20:29.375Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:29.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-126bdfad4fbef4e0d907073252e0c7ade75c4657-0b0ed1724f707dec-01 outer:exit 2b-126bdfad4fbef4e0d907073252e0c7ade75c4657-2067cf5d9243a166-01
2021-09-23T17:20:29.403Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (355ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:36.017Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:36.018Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:36.018Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:36.018Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:36.115Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:36.166Z appoptics:patching patched crypto 
2021-09-23T17:20:36.213Z appoptics:patching patched https 
2021-09-23T17:20:36.213Z appoptics:patching patched http 
2021-09-23T17:20:36.359Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:36.359Z appoptics:patching patched fs 
2021-09-23T17:20:36.383Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v16.10.0)
2021-09-23T17:20:36.391Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2021-09-23T17:20:36.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-55740c87ef781a914cf68e06db2d66ad1d72db2b-72932e3a7b30620d-01 outer:exit 2b-55740c87ef781a914cf68e06db2d66ad1d72db2b-97fc13a3d060486c-01
2021-09-23T17:20:36.624Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:36.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-864487b12dee25ffbc8de61f7518b968d3fbfc17-c5990c379dd18d31-01 outer:exit 2b-864487b12dee25ffbc8de61f7518b968d3fbfc17-dcf8ee2064645eec-01
2021-09-23T17:20:36.708Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:36.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-9705a610134b795b73d87b57310d7ff2b26e0d6d-7c90a8d1bb8d2522-01 outer:exit 2b-9705a610134b795b73d87b57310d7ff2b26e0d6d-600918e633207f93-01
2021-09-23T17:20:36.712Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:36.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cd9c0612a8a239a0ecf53c6f5ce8e267291b2c3-0dd8001f6d88355f-01 outer:exit 2b-3cd9c0612a8a239a0ecf53c6f5ce8e267291b2c3-e2261041f8e8beab-01
2021-09-23T17:20:36.716Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:36.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1db5fc491fba81d26fb17908a890e2efc7ca465-07179282011bdcc2-01 outer:exit 2b-e1db5fc491fba81d26fb17908a890e2efc7ca465-ee3514a82604644c-01
2021-09-23T17:20:36.730Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:36.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9846ea75b6430f2fa388c0c5015be858bfe78ea-e05a1a61d3048656-01 outer:exit 2b-a9846ea75b6430f2fa388c0c5015be858bfe78ea-c1b896e40382253e-01
2021-09-23T17:20:36.737Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:36.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e7c193c27cb006395a1a0f4cf91cab59fb1fac5-6ff96ececf6e74b0-01 outer:exit 2b-9e7c193c27cb006395a1a0f4cf91cab59fb1fac5-6fd583b100ce3029-01
2021-09-23T17:20:36.745Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:36.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0c9f1604a161fb0d0bc8a2a59192568db42bf63-e947e2a7269492e0-01 outer:exit 2b-d0c9f1604a161fb0d0bc8a2a59192568db42bf63-bceac9b512edd28c-01
2021-09-23T17:20:36.749Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:36.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-762ecf1b4fa644c9675093cab5f7758f014a0d61-a52350a6aa997b57-01 outer:exit 2b-762ecf1b4fa644c9675093cab5f7758f014a0d61-9b8d12565d59a342-01
2021-09-23T17:20:36.753Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:36.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ba6574ad9c1beeceed981d946aeb2dfc6e3f4e7-e83b2bb830f4f8e4-01 outer:exit 2b-1ba6574ad9c1beeceed981d946aeb2dfc6e3f4e7-8d1d90f14c6db0af-01
2021-09-23T17:20:36.758Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:36.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-b80b510fe46948340808a88555b0b683d4f68b43-27bce2554923073e-01 outer:exit 2b-b80b510fe46948340808a88555b0b683d4f68b43-fd511e78ef8a9de8-01
2021-09-23T17:20:36.766Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:36.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-66fe51458a77d1c09a992fe2b03f00dbd8eff44b-fc9a4d3c406d534c-01 outer:exit 2b-66fe51458a77d1c09a992fe2b03f00dbd8eff44b-5a2e33a8d0a8f27f-01
2021-09-23T17:20:36.776Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:36.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b67ea7559769b00628b80565444464fbd54cc47-0ed0d48cd60a141e-01 outer:exit 2b-9b67ea7559769b00628b80565444464fbd54cc47-705bab047c0d5c81-01
2021-09-23T17:20:36.792Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:36.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d7eec196e4b934b8c4e6a9d596713cce4dc51d9-b4c84d7c87ffbc35-01 outer:exit 2b-8d7eec196e4b934b8c4e6a9d596713cce4dc51d9-07f0733252915796-01
2021-09-23T17:20:36.847Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:36.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-91b7c8f5ae9ac61103f2b5f7c442e444f592ce80-db23610ebeb8d8b4-01 outer:exit 2b-91b7c8f5ae9ac61103f2b5f7c442e444f592ce80-fc0c547d2c2c9d70-01
2021-09-23T17:20:36.851Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:36.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-4832f23a1cffdfd7908c47e82265a717a50ab5a3-96867a3b9bb84080-01 outer:exit 2b-4832f23a1cffdfd7908c47e82265a717a50ab5a3-87b74dcbf7033b79-01
2021-09-23T17:20:36.854Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:36.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-0739a5775f34761f96242db7db4bf3484e2d9ebe-1c16c531620bc793-01 outer:exit 2b-0739a5775f34761f96242db7db4bf3484e2d9ebe-7651d51f2956d049-01
2021-09-23T17:20:36.857Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:36.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-792735abb56c153f1725470fe4ce303e47e51894-9a50842af4d89d87-01 outer:exit 2b-792735abb56c153f1725470fe4ce303e47e51894-da540ae9fe58efaa-01
2021-09-23T17:20:36.859Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:36.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d30aeedd01b2ed7f58a847bcc9b0690a3367cc7-1df86f54aaade5a4-01 outer:exit 2b-0d30aeedd01b2ed7f58a847bcc9b0690a3367cc7-e5543248331acaf9-01
2021-09-23T17:20:36.861Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:36.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-c971ea6c054f1de1a04acacba065748675bdafc7-96ed85103bec3eda-01 outer:exit 2b-c971ea6c054f1de1a04acacba065748675bdafc7-0bac7dd874ca0b67-01
2021-09-23T17:20:36.864Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:36.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ebb8e89808424e0b4ed37e4cff6ad2f7b2eb630-2bf6799d1e9c27ab-01 outer:exit 2b-6ebb8e89808424e0b4ed37e4cff6ad2f7b2eb630-3f8cf893c6b66e41-01
2021-09-23T17:20:36.866Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:36.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-2943202424e09b3c68f6eac211788383f4a7d696-79bba7ad21395f62-01 outer:exit 2b-2943202424e09b3c68f6eac211788383f4a7d696-a4e62f20921f39d9-01
2021-09-23T17:20:36.868Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:36.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f41b9ec3b63ab7338a54370b2fc58b6e4a4f0cf-3187fd09ef01b8cc-01 outer:exit 2b-7f41b9ec3b63ab7338a54370b2fc58b6e4a4f0cf-d85dfa1291c30962-01
2021-09-23T17:20:36.871Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:36.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c48a9cdc6636b4e5605b49fbb8cf7b8fd6f1b76-8c0de2e07be85e34-01 outer:exit 2b-4c48a9cdc6636b4e5605b49fbb8cf7b8fd6f1b76-e95a6f33ecd93702-01
2021-09-23T17:20:36.875Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:36.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-3458cb6922f8c11b00fd8d3b57b953cb7485de5f-1e611dad5d7e1079-01 outer:exit 2b-3458cb6922f8c11b00fd8d3b57b953cb7485de5f-609952f1f107d488-01
2021-09-23T17:20:36.877Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:36.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-fce416570256464ecb5535948c00a50d39d01e97-13e7fa8600c86ebf-01 outer:exit 2b-fce416570256464ecb5535948c00a50d39d01e97-38229b9ee0fae263-01
2021-09-23T17:20:36.880Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:36.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-57da690dd16465b4713609759e02863d702408a5-929d7361f634d207-01 outer:exit 2b-57da690dd16465b4713609759e02863d702408a5-b3bc32e90877dcc8-01
2021-09-23T17:20:36.891Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:36.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef996414c7f9c28c99a1aef636fd89a1549eafe8-8d375dcfde35a2a6-01 outer:exit 2b-ef996414c7f9c28c99a1aef636fd89a1549eafe8-7e892e5cd8b522d5-01
2021-09-23T17:20:36.896Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:36.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-b437caa4ecf576bb6dc8ad5b2c520267c9141b37-85851661ca205c41-01 outer:exit 2b-b437caa4ecf576bb6dc8ad5b2c520267c9141b37-a5fb08020907245b-01
2021-09-23T17:20:36.906Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:36.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8844a9ee5712dd382c213a573961fd37b8d300b-1822c751cf7c3295-01 outer:exit 2b-a8844a9ee5712dd382c213a573961fd37b8d300b-7eab9313e4cb78b9-01
2021-09-23T17:20:36.914Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:36.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bb7b7d35b63a11db603111447e5445e674c04e4-64a0a5e6a72111d9-01 outer:exit 2b-9bb7b7d35b63a11db603111447e5445e674c04e4-fad4b9182a9f37a0-01
2021-09-23T17:20:36.916Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:36.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-15c3f8389d962f78cf6ff75f06352318a65a00e8-60b4c9507b39d40b-01 outer:exit 2b-15c3f8389d962f78cf6ff75f06352318a65a00e8-5c3e71d10ec9f442-01
2021-09-23T17:20:36.921Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:36.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d461a72feb233611bf1d4717b2e90aa392ddfaf-79700152b9daa619-01 outer:exit 2b-1d461a72feb233611bf1d4717b2e90aa392ddfaf-c00c5ef3a2c310d5-01
2021-09-23T17:20:36.933Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:36.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7e7c1b4544648311217f490824e56617d1746fe-e3d603681b2015db-01 outer:exit 2b-b7e7c1b4544648311217f490824e56617d1746fe-1c01df68f18b8f85-01
2021-09-23T17:20:36.936Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:36.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-74cde64dbfbb5ada03621c40b5760c76951052d7-3ff6f5b40eb2f258-01 outer:exit 2b-74cde64dbfbb5ada03621c40b5760c76951052d7-4a5ef7fd13bd5401-01
2021-09-23T17:20:36.945Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:36.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-33151dafa7d2564a5e7225bd10417c6558eaa579-f5d68a4f453cf81e-01 outer:exit 2b-33151dafa7d2564a5e7225bd10417c6558eaa579-3c7dd17ef6ee6438-01
2021-09-23T17:20:36.948Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:36.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fa151cfee77eb85f7e7e25fecdede5e68d6adf2-cb3c0358b6974ac3-01 outer:exit 2b-5fa151cfee77eb85f7e7e25fecdede5e68d6adf2-23436b0f7605a610-01
2021-09-23T17:20:36.951Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:36.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-97323606f561301179ae88ab8f95e95b2aa210d5-216b54fd9551029f-01 outer:exit 2b-97323606f561301179ae88ab8f95e95b2aa210d5-ffc82348f70a0522-01
2021-09-23T17:20:36.955Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:36.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-b389f2f5853fc15ab5b12adf96c798bf5aac5ce2-dc2d9dbe0597f970-01 outer:exit 2b-b389f2f5853fc15ab5b12adf96c798bf5aac5ce2-3330dd39aced6f72-01
2021-09-23T17:20:36.969Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:36.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-c162b34362f8e251e8f50724ab04f429b223a291-abfb23458954ff2b-01 outer:exit 2b-c162b34362f8e251e8f50724ab04f429b223a291-530331d0aef1c2b4-01
2021-09-23T17:20:36.981Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:36.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-699f9a2930eb3eaf585ea666596172fb9c15e440-87937499e8119762-01 outer:exit 2b-699f9a2930eb3eaf585ea666596172fb9c15e440-0e8a8ee8d245ffa4-01
2021-09-23T17:20:36.985Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:36.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4c00c12edeb1e9a85c0e810479973cd35d33c58-f8da39ab57d6c488-01 outer:exit 2b-a4c00c12edeb1e9a85c0e810479973cd35d33c58-6d6d0dae89898871-01
2021-09-23T17:20:36.988Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:36.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-996460fde3e6f4f72035ff33d893120cb317548d-eb1802c069bbe687-01 outer:exit 2b-996460fde3e6f4f72035ff33d893120cb317548d-d4da565264cd5be7-01
2021-09-23T17:20:36.992Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:37.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-5782dfb87c4aa905ac1ec84695fd4e5ec7296101-6c3751819f80612c-01 outer:exit 2b-5782dfb87c4aa905ac1ec84695fd4e5ec7296101-47fc2298208dbf29-01
2021-09-23T17:20:37.034Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (452ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:44.186Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:44.187Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:44.187Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:44.188Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:44.251Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:44.294Z appoptics:patching patched crypto 
2021-09-23T17:20:44.317Z appoptics:patching patched https 
2021-09-23T17:20:44.317Z appoptics:patching patched http 
2021-09-23T17:20:44.363Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:44.364Z appoptics:patching patched fs 
2021-09-23T17:20:44.392Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v16.10.0)
2021-09-23T17:20:44.399Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2021-09-23T17:20:44.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fe957eb511aefa74abeb3752b07fc35f46fbf42-e7ef604ed3218cff-01 outer:exit 2b-7fe957eb511aefa74abeb3752b07fc35f46fbf42-8f373ac8a296d227-01
2021-09-23T17:20:44.579Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:44.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-adf524727205cbd65d90ec1dda077dc6ac9eb205-fc32a8065137d913-01 outer:exit 2b-adf524727205cbd65d90ec1dda077dc6ac9eb205-dce4d619c49a40f3-01
2021-09-23T17:20:44.650Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:44.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dd6339ccfbda9d242820b015cdd552f28ab28b5-2f7fcbb3639b0c12-01 outer:exit 2b-8dd6339ccfbda9d242820b015cdd552f28ab28b5-98c0eb47c62fde90-01
2021-09-23T17:20:44.655Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:44.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-16aacfc45874affc86ef916c5ec96152832b1a67-52a3f0cdd188e2ce-01 outer:exit 2b-16aacfc45874affc86ef916c5ec96152832b1a67-abbf05c5b4d5d694-01
2021-09-23T17:20:44.658Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:44.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-707ef7e169c3b982731f5721487278fc4b869564-f11865bf342fa89c-01 outer:exit 2b-707ef7e169c3b982731f5721487278fc4b869564-211479f89a42e255-01
2021-09-23T17:20:44.663Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:44.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0638c4a9bb52bf254b9470eaa5fa9c9767c84ff-c6c263737ada9607-01 outer:exit 2b-f0638c4a9bb52bf254b9470eaa5fa9c9767c84ff-36849fac43a2e990-01
2021-09-23T17:20:44.667Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:44.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-d28a894e57584ea6b4929cf9868d54e8266bc7c2-77a0d9bf3caf189b-01 outer:exit 2b-d28a894e57584ea6b4929cf9868d54e8266bc7c2-589f5554e32aeb5a-01
2021-09-23T17:20:44.670Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:44.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-43e45065bc70799c4e83e97040bb38899be0879c-4003daa231f9be65-01 outer:exit 2b-43e45065bc70799c4e83e97040bb38899be0879c-d18ef6feaa08fa8c-01
2021-09-23T17:20:44.673Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:44.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-05f7ceb89f588318e8e77b234160c18aa95114a9-54dd569d87c75993-01 outer:exit 2b-05f7ceb89f588318e8e77b234160c18aa95114a9-1c544c243e9e3a42-01
2021-09-23T17:20:44.677Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:44.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7d9cb9e585f012becbdd9cf1d1c902021bf9c32-4c8dbda6f1668694-01 outer:exit 2b-a7d9cb9e585f012becbdd9cf1d1c902021bf9c32-a5f3aa198a550299-01
2021-09-23T17:20:44.680Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:44.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a990d25769b0e3c4a5fff3429663f612c36d804-527089f1f562f818-01 outer:exit 2b-7a990d25769b0e3c4a5fff3429663f612c36d804-93b790ec7148afe7-01
2021-09-23T17:20:44.686Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:44.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c48d37c58f3eb3e576e18b409c1e41a99c2b23c-f6b6f5163a0dccf6-01 outer:exit 2b-8c48d37c58f3eb3e576e18b409c1e41a99c2b23c-ff66187f2bae900d-01
2021-09-23T17:20:44.694Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:44.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc8ddecf73df7ca8c3eb1173f9aed9ba8a8d014f-b21997683e99481b-01 outer:exit 2b-cc8ddecf73df7ca8c3eb1173f9aed9ba8a8d014f-d50a55993ef16185-01
2021-09-23T17:20:44.711Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:44.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-9724c3ac480e789726e0632af39ed3ee22e2011e-8b1c2e84b52f5ab4-01 outer:exit 2b-9724c3ac480e789726e0632af39ed3ee22e2011e-14ba1023d4288c89-01
2021-09-23T17:20:44.748Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:44.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d83f323380ed8e7950d0eeac66b97e90ffb1fce-2e64bc0fc8cc324f-01 outer:exit 2b-5d83f323380ed8e7950d0eeac66b97e90ffb1fce-2631b978eae5cd05-01
2021-09-23T17:20:44.752Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:44.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-36b9be3e83855c8b03c618d6b77160c23a4ca009-b1b735703ed8275f-01 outer:exit 2b-36b9be3e83855c8b03c618d6b77160c23a4ca009-e3c18c8252391c83-01
2021-09-23T17:20:44.755Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:44.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-eabbbdccd97a877c19811ebbb82ae96ded1ea1da-eddb1c08f8d55a3f-01 outer:exit 2b-eabbbdccd97a877c19811ebbb82ae96ded1ea1da-1175d7270d6b213f-01
2021-09-23T17:20:44.758Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:44.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b4779d1b2ed0181fe7e1eba54f4b3b8a00dbe44-a1f728e57afd6c10-01 outer:exit 2b-2b4779d1b2ed0181fe7e1eba54f4b3b8a00dbe44-b7fc7ffb64adea84-01
2021-09-23T17:20:44.761Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:44.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-d989c024aadd8fb9d2a3eeea998862dd1771babd-6df472ee2ebef662-01 outer:exit 2b-d989c024aadd8fb9d2a3eeea998862dd1771babd-d52e394c212c5518-01
2021-09-23T17:20:44.764Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:44.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-da763914bdac69e9ce12e9dfb7695c558cc68d77-f5bbabc7b8e7077c-01 outer:exit 2b-da763914bdac69e9ce12e9dfb7695c558cc68d77-0879ce12d7005142-01
2021-09-23T17:20:44.767Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:44.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c6d586821955595c4d8bae4cda67bc8152ea169-93f284594954caa3-01 outer:exit 2b-2c6d586821955595c4d8bae4cda67bc8152ea169-aaee14662644b00e-01
2021-09-23T17:20:44.770Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:44.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-abdaea93d16acf57932fb6d641b03337d175ff3c-a66f6463f9d2ae76-01 outer:exit 2b-abdaea93d16acf57932fb6d641b03337d175ff3c-276529976fe06d6f-01
2021-09-23T17:20:44.773Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:44.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-2caa70b2426f9e04715325c795e2bd2734f96520-b6ff172881afe2af-01 outer:exit 2b-2caa70b2426f9e04715325c795e2bd2734f96520-38686102b1615330-01
2021-09-23T17:20:44.778Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:44.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-46daf9bce1d42db1fc78313cb602a37ccaff6e51-75e326941d911bcd-01 outer:exit 2b-46daf9bce1d42db1fc78313cb602a37ccaff6e51-3f168177c9d4abf1-01
2021-09-23T17:20:44.781Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:44.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-683fa4ebb485e7a62de4f7a4f702c1b41577c462-b98217500773f407-01 outer:exit 2b-683fa4ebb485e7a62de4f7a4f702c1b41577c462-71b5f0e40206f3e8-01
2021-09-23T17:20:44.784Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:44.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-4edcef2d79e247c69b36ec7899f2420e0c6d825e-649c25ad1985fcd9-01 outer:exit 2b-4edcef2d79e247c69b36ec7899f2420e0c6d825e-562564bd2a845723-01
2021-09-23T17:20:44.787Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:44.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fc6af88be4597ce681abc64de8e03786af03b13-c978390ad5627a46-01 outer:exit 2b-5fc6af88be4597ce681abc64de8e03786af03b13-b8e0b9eaa2d82b15-01
2021-09-23T17:20:44.795Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:44.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-776a6695fe82732de75738305a40c637a5f5668b-b8a416377c9e1a70-01 outer:exit 2b-776a6695fe82732de75738305a40c637a5f5668b-97fe5e048e7775a5-01
2021-09-23T17:20:44.800Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:44.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0b115b21c3ae9f809ddaa068d8ce8e44a073902-85ca7ca684c07af6-01 outer:exit 2b-c0b115b21c3ae9f809ddaa068d8ce8e44a073902-6f174e8c70862138-01
2021-09-23T17:20:44.810Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:44.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c59cd4d7d96d1d0d9af8b49db2a10a934de0583-ffaa91080bade0dd-01 outer:exit 2b-4c59cd4d7d96d1d0d9af8b49db2a10a934de0583-604d9aed40d0e194-01
2021-09-23T17:20:44.818Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:44.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c870635ba48339b5e589bd0a6ab9dd9c887241a-b916ec1af58894ca-01 outer:exit 2b-0c870635ba48339b5e589bd0a6ab9dd9c887241a-8de6e69947fe27ea-01
2021-09-23T17:20:44.820Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:44.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-a31117255a3e5b486c6cbbcd5b3c01e694e605ca-0b7a6cf8c97222da-01 outer:exit 2b-a31117255a3e5b486c6cbbcd5b3c01e694e605ca-1d98b87554c4482a-01
2021-09-23T17:20:44.824Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:44.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-46346e5d964d189bc9c8a6835bca76ed152c8b43-f79bfbfe02e12544-01 outer:exit 2b-46346e5d964d189bc9c8a6835bca76ed152c8b43-7e5b64344e945155-01
2021-09-23T17:20:44.832Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:44.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1b546c555f702a2a2eb5561f60cdef01ce0c846-e173d7c43f07060e-01 outer:exit 2b-a1b546c555f702a2a2eb5561f60cdef01ce0c846-9d47b34c182d9229-01
2021-09-23T17:20:44.834Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:44.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d9f09a90b9397072afe7bbce005bcb312e275d8-43058865e855e9cc-01 outer:exit 2b-1d9f09a90b9397072afe7bbce005bcb312e275d8-96696643a900e17c-01
2021-09-23T17:20:44.838Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:44.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-f30833eb15b5d4c563f0af17fc09acd79ecd19e6-87f19cc2ee8a5f92-01 outer:exit 2b-f30833eb15b5d4c563f0af17fc09acd79ecd19e6-700646c9cd9f2283-01
2021-09-23T17:20:44.841Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:44.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-745d3a2c0384ec86696fa41683256ab8ef32b2c9-09d7346a2626a6e9-01 outer:exit 2b-745d3a2c0384ec86696fa41683256ab8ef32b2c9-01785e16e6c568f5-01
2021-09-23T17:20:44.843Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:44.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3db66811964c22a7d201b71e0fdc271e9d2bc3a-edd1187a26436f47-01 outer:exit 2b-d3db66811964c22a7d201b71e0fdc271e9d2bc3a-9a5646b1c27c1a89-01
2021-09-23T17:20:44.846Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:44.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-c559b9c8a9cfa934444293442d370fce23469ba9-d396a97fe4c6826e-01 outer:exit 2b-c559b9c8a9cfa934444293442d370fce23469ba9-1ef7c3c4dcd9a198-01
2021-09-23T17:20:44.862Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:44.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e3974d3aa59f38c5b43745ba75a2e26181b2103-dcdd5e635cc04310-01 outer:exit 2b-6e3974d3aa59f38c5b43745ba75a2e26181b2103-0efc46c3ad99079f-01
2021-09-23T17:20:44.872Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:44.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f69b15b66365ba7cbcd40dbb8bb38c08a9c8d3e-ed353811f61791de-01 outer:exit 2b-0f69b15b66365ba7cbcd40dbb8bb38c08a9c8d3e-b2ee3c4c33373e92-01
2021-09-23T17:20:44.875Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:44.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-56cf60b78bde7b2afe08ff3f0c08f4afba65814a-f38118d349bba1bb-01 outer:exit 2b-56cf60b78bde7b2afe08ff3f0c08f4afba65814a-1806f61995a3c972-01
2021-09-23T17:20:44.878Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:44.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-59092a1f1505ee95b82bdc30302ecd904e3e4d9d-1556876dedf06f78-01 outer:exit 2b-59092a1f1505ee95b82bdc30302ecd904e3e4d9d-8013392edfc31514-01
2021-09-23T17:20:44.882Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:44.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b5ebe9849749853a961913e9073b658eafd523d-ef14e9013740898a-01 outer:exit 2b-3b5ebe9849749853a961913e9073b658eafd523d-e1d5293b50c520c5-01
2021-09-23T17:20:44.909Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (369ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:20:52.904Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:52.905Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:52.905Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:52.906Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:52.973Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:53.019Z appoptics:patching patched crypto 
2021-09-23T17:20:53.041Z appoptics:patching patched https 
2021-09-23T17:20:53.042Z appoptics:patching patched http 
2021-09-23T17:20:53.092Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:53.092Z appoptics:patching patched fs 
2021-09-23T17:20:53.123Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v16.10.0)
2021-09-23T17:20:53.131Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2021-09-23T17:20:53.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-1152166e76402e1f337f98720f8afe379e533b4b-5b68ed616163cebb-01 outer:exit 2b-1152166e76402e1f337f98720f8afe379e533b4b-851d688bcd49e167-01
2021-09-23T17:20:53.313Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:53.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-70417db46d178bdde542668f7b83a065206cac04-28148f52afa56c5f-01 outer:exit 2b-70417db46d178bdde542668f7b83a065206cac04-b266c1ee1a865c9b-01
2021-09-23T17:20:53.352Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:53.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e830c2667d387a3ba17ab7495f4fcae6a2a2749-84f18cb8f0dbbebc-01 outer:exit 2b-7e830c2667d387a3ba17ab7495f4fcae6a2a2749-215d68da12db2bfc-01
2021-09-23T17:20:53.357Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:53.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8e998bc8047631e4d3c832d94ae6d5e7a9f053c-dcac607cb4f61106-01 outer:exit 2b-f8e998bc8047631e4d3c832d94ae6d5e7a9f053c-3b5955b7343d5f78-01
2021-09-23T17:20:53.359Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:53.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e0122428b553b6f1a0ab2255cc085bfd3312d1f-a9e89c14a6f324fe-01 outer:exit 2b-0e0122428b553b6f1a0ab2255cc085bfd3312d1f-38d349809c852aba-01
2021-09-23T17:20:53.364Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:53.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-058413960885f1a27189bce826a1b04014e559cc-b23337f8da4be54b-01 outer:exit 2b-058413960885f1a27189bce826a1b04014e559cc-c5d593a31e633383-01
2021-09-23T17:20:53.368Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:53.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-21fd372d283b08b35823099cace36a4c77eb34c3-0e7f84382c51a10a-01 outer:exit 2b-21fd372d283b08b35823099cace36a4c77eb34c3-a33bc34e1b322708-01
2021-09-23T17:20:53.371Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:53.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-81a98e49eb8cdf590868bf79902b664622bbc899-47c6c8fe42d864df-01 outer:exit 2b-81a98e49eb8cdf590868bf79902b664622bbc899-aa82987c248980c3-01
2021-09-23T17:20:53.374Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:53.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-56f4dab96c47a36997eca1e944497323d67dbc97-0fe5de76d6d0a1a7-01 outer:exit 2b-56f4dab96c47a36997eca1e944497323d67dbc97-06085513521f0183-01
2021-09-23T17:20:53.377Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:53.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a4aac20edbc39862885a5f74f2ac20ebda8dabe-2632fc46d252645c-01 outer:exit 2b-0a4aac20edbc39862885a5f74f2ac20ebda8dabe-385a9d53df135f4a-01
2021-09-23T17:20:53.381Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:53.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-4052d25c23b4f0ce1fa3f77b751e5ed494612aa1-e3dbc30a86367399-01 outer:exit 2b-4052d25c23b4f0ce1fa3f77b751e5ed494612aa1-5d1e4dc532b55cc7-01
2021-09-23T17:20:53.386Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:53.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-8db50203ef1ab868e294cb6769b343d825fde579-78fb2a8184a18491-01 outer:exit 2b-8db50203ef1ab868e294cb6769b343d825fde579-717374ff09875b74-01
2021-09-23T17:20:53.392Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:53.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a4ad001c076646e4fd7654992553d07e97225d8-b00ff6b31a9363ba-01 outer:exit 2b-4a4ad001c076646e4fd7654992553d07e97225d8-e9537a2bb19a4987-01
2021-09-23T17:20:53.408Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:53.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-c77403b64e1fc548bb06e849ee36fa3ebff3d865-3aa72a41fe502691-01 outer:exit 2b-c77403b64e1fc548bb06e849ee36fa3ebff3d865-752e6ce40e4c073b-01
2021-09-23T17:20:53.451Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:53.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-1365d66e67c1e8c08e1b89523c02ccc5d1369019-98774474d525b870-01 outer:exit 2b-1365d66e67c1e8c08e1b89523c02ccc5d1369019-bb0cf6c739783add-01
2021-09-23T17:20:53.453Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:53.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7a3d31b0e3a7cec521d0935d99f0359f8f74542-99c04c73c2411832-01 outer:exit 2b-b7a3d31b0e3a7cec521d0935d99f0359f8f74542-0e028d0b60309a49-01
2021-09-23T17:20:53.456Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:53.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-3063d42ae590f91da5a6a6f112ac3573328f10f0-6567e9dc52676b51-01 outer:exit 2b-3063d42ae590f91da5a6a6f112ac3573328f10f0-aa83a10beabd3ce0-01
2021-09-23T17:20:53.459Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:53.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ac3a242979d9233a25ce035aff7cb2949429e6c-ff7c4fd2047fb6c2-01 outer:exit 2b-2ac3a242979d9233a25ce035aff7cb2949429e6c-9efc42b651a8c012-01
2021-09-23T17:20:53.461Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:53.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-035edc12237672448ec559cb67014d53d04d070f-fc4bcabd09648f8f-01 outer:exit 2b-035edc12237672448ec559cb67014d53d04d070f-0a7f51ec31fe8568-01
2021-09-23T17:20:53.463Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:53.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-95a6fe43cb0d90a78e56cee09f90849b3fba3a1a-c055a38fa522ed96-01 outer:exit 2b-95a6fe43cb0d90a78e56cee09f90849b3fba3a1a-a4c22e6f55365a15-01
2021-09-23T17:20:53.465Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:53.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-21905a33f864a06103be16c98646ec052a3221e0-3729dffcdd0c01e0-01 outer:exit 2b-21905a33f864a06103be16c98646ec052a3221e0-0e14c9f8c452d561-01
2021-09-23T17:20:53.468Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:53.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-9604f454950f4978db0422377b5c6c77226487c2-f477732bdcd5059f-01 outer:exit 2b-9604f454950f4978db0422377b5c6c77226487c2-78466d0c2933e331-01
2021-09-23T17:20:53.470Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:53.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-b720f0edf0c8f67b53341e9326c98c126930145b-c9d11b81b66987f5-01 outer:exit 2b-b720f0edf0c8f67b53341e9326c98c126930145b-9fbcd61ce43aa40e-01
2021-09-23T17:20:53.473Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:53.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0a8b1b98824697e8d59457ad1231c0c11aafe58-3f29494e5c567b7f-01 outer:exit 2b-e0a8b1b98824697e8d59457ad1231c0c11aafe58-def1831dbba1f493-01
2021-09-23T17:20:53.476Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:53.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-924795f0fce0d52e0eb68ba95bff268f7f870d41-11171112afabc8f2-01 outer:exit 2b-924795f0fce0d52e0eb68ba95bff268f7f870d41-532d393dd440b53a-01
2021-09-23T17:20:53.479Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:53.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef43717fe71ac9afa61b418072dc6480cb1b375d-21cadca6b53da03b-01 outer:exit 2b-ef43717fe71ac9afa61b418072dc6480cb1b375d-2daa153977c62339-01
2021-09-23T17:20:53.482Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:53.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-48efce3d4916f138f078fad2895d3c28c6992952-bd9da718ef5a89c7-01 outer:exit 2b-48efce3d4916f138f078fad2895d3c28c6992952-f345669da212e59d-01
2021-09-23T17:20:53.489Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:53.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-311524e98b6aff9f652233b444f74d4bba0306cc-428a776b278fabfa-01 outer:exit 2b-311524e98b6aff9f652233b444f74d4bba0306cc-729ebc859441abbc-01
2021-09-23T17:20:53.493Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:53.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-38982033b233d7d2bb2ab5529d4182c407c28c75-ce91b1b84a61e244-01 outer:exit 2b-38982033b233d7d2bb2ab5529d4182c407c28c75-2f4a4e20f6ca7acc-01
2021-09-23T17:20:53.502Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:53.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c0b255f75c67fc5704f3d0cc97d17b368f56e43-090ad0a301b4880f-01 outer:exit 2b-7c0b255f75c67fc5704f3d0cc97d17b368f56e43-5084b73df03d1c77-01
2021-09-23T17:20:53.510Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:53.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-b25c7646c98cffb2e0df3f0e12880366b9677248-c8aa4b9ba10e96bf-01 outer:exit 2b-b25c7646c98cffb2e0df3f0e12880366b9677248-779b22700c09e39f-01
2021-09-23T17:20:53.513Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:53.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7019d07eb8b133bb1c845dabcde9bdf588c2ef9-74f3574504fd3e7d-01 outer:exit 2b-e7019d07eb8b133bb1c845dabcde9bdf588c2ef9-e7b80199ca9b3dce-01
2021-09-23T17:20:53.516Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:53.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-3407041771951f515b2a743a3b622d70d0dd8b9d-71c0032e8141e8f5-01 outer:exit 2b-3407041771951f515b2a743a3b622d70d0dd8b9d-c954a719e2d51dd8-01
2021-09-23T17:20:53.530Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:53.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-9592cb9b18474ee6e509f0779dfcc61853901df3-6e6ad7d5ad09452e-01 outer:exit 2b-9592cb9b18474ee6e509f0779dfcc61853901df3-902848bb8807c160-01
2021-09-23T17:20:53.533Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:53.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-639faebda29a85ffe36c8ef8ce25ad45582136ad-9380f30e1942a41e-01 outer:exit 2b-639faebda29a85ffe36c8ef8ce25ad45582136ad-b075fd31f80ed163-01
2021-09-23T17:20:53.535Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:53.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac74932bb696f0cf7884a4e80f9b1e84972689cd-62453df451bac5cd-01 outer:exit 2b-ac74932bb696f0cf7884a4e80f9b1e84972689cd-dddd1822818afcd9-01
2021-09-23T17:20:53.539Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:53.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c3df1f3c2ccfd9a1034cf63d91382c31c1aa823-e90c564f9438d6dc-01 outer:exit 2b-0c3df1f3c2ccfd9a1034cf63d91382c31c1aa823-fe2aacc62b21407b-01
2021-09-23T17:20:53.542Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:53.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fa66d7b186d793f9323f5677e75919937d9ecaf-fad0f014eeee5b22-01 outer:exit 2b-9fa66d7b186d793f9323f5677e75919937d9ecaf-a2210f141d3200d2-01
2021-09-23T17:20:53.544Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:53.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-f97217d9edd559f08dd516586b9ca99dd0778a4a-da3495a798952890-01 outer:exit 2b-f97217d9edd559f08dd516586b9ca99dd0778a4a-78fd1ba75a23df15-01
2021-09-23T17:20:53.558Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:53.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd191ec8fe2fb4a02e7ef8914ed25b65d737a338-73f25dcce0c180cd-01 outer:exit 2b-cd191ec8fe2fb4a02e7ef8914ed25b65d737a338-0588322cc37c4a2d-01
2021-09-23T17:20:53.575Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:53.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-589b39f1555194b0cc1b35d33d4baa8d41350035-10adf5b5bf84752c-01 outer:exit 2b-589b39f1555194b0cc1b35d33d4baa8d41350035-de9276607c8dc8cc-01
2021-09-23T17:20:53.579Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:53.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-d09329dd19c9f712a8a9ad6e6ae62b70af5d9e37-511abf127a7097e8-01 outer:exit 2b-d09329dd19c9f712a8a9ad6e6ae62b70af5d9e37-a0a263374271a2d2-01
2021-09-23T17:20:53.582Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:53.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdc4cc62ed3643b6147ccfa9c875ede56c6f7efa-2aed70f5a23503d4-01 outer:exit 2b-cdc4cc62ed3643b6147ccfa9c875ede56c6f7efa-46d993479065b944-01
2021-09-23T17:20:53.587Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:53.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-30225abaae469c43f9e38d497598aa008607ad43-37c8150848127339-01 outer:exit 2b-30225abaae469c43f9e38d497598aa008607ad43-6f1e1c7bf70f7d3e-01
2021-09-23T17:20:53.625Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (354ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:01.127Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:01.128Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:01.128Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:01.129Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:01.218Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:01.269Z appoptics:patching patched crypto 
2021-09-23T17:21:01.295Z appoptics:patching patched https 
2021-09-23T17:21:01.296Z appoptics:patching patched http 
2021-09-23T17:21:01.354Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:01.354Z appoptics:patching patched fs 
2021-09-23T17:21:01.400Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v16.10.0)
2021-09-23T17:21:01.411Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2021-09-23T17:21:01.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c682b8b20508a717e53744ad2373eaf340ae2b9-047bd79af8268caf-01 outer:exit 2b-9c682b8b20508a717e53744ad2373eaf340ae2b9-385b9e5d190c9596-01
2021-09-23T17:21:01.702Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:01.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-3072b94f84b0efe4853203ff2cba66f14c115d9c-807aaf06a36882be-01 outer:exit 2b-3072b94f84b0efe4853203ff2cba66f14c115d9c-61da0480cecd0ae6-01
2021-09-23T17:21:01.762Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:01.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-63e09be913f47a63089c326ebade4dc81ad65df8-3c5c2bd6fb972ea0-01 outer:exit 2b-63e09be913f47a63089c326ebade4dc81ad65df8-9fd2dc0c339db277-01
2021-09-23T17:21:01.767Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:01.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-77d9e3bd63b3df79010ab97226c1ab2b626faaf7-cbec7b6586b959c2-01 outer:exit 2b-77d9e3bd63b3df79010ab97226c1ab2b626faaf7-8fbe948ab32e706b-01
2021-09-23T17:21:01.770Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:01.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-d00fa264331d8467eb3d576f21f4f206ac744b95-8f7dd59ff7daedec-01 outer:exit 2b-d00fa264331d8467eb3d576f21f4f206ac744b95-b1cae89527e6c428-01
2021-09-23T17:21:01.778Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:01.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-82d7b95b22a2659dccad5810d9bfe84dbbd64d1d-58a9ff44313eaeb8-01 outer:exit 2b-82d7b95b22a2659dccad5810d9bfe84dbbd64d1d-0db0fad1e790ca02-01
2021-09-23T17:21:01.781Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:01.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-e340ee375f0bbccaf7eda398df1256bf4627e5e2-237228da3c62a00d-01 outer:exit 2b-e340ee375f0bbccaf7eda398df1256bf4627e5e2-732a632bcf9c75df-01
2021-09-23T17:21:01.785Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:01.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9f9bd599b4700a08494acf01084d39dce8fa495-0d3664cb4efbbc4b-01 outer:exit 2b-a9f9bd599b4700a08494acf01084d39dce8fa495-d1a58b68fbb2dd63-01
2021-09-23T17:21:01.788Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:01.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-648785ba557923c1d069eacc26da38f524f99535-dc8f93908fec6b46-01 outer:exit 2b-648785ba557923c1d069eacc26da38f524f99535-476b5c2c11033664-01
2021-09-23T17:21:01.794Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:01.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-0742d7a5ea5023b0f9940d8077b96716ab613270-0284972dd99dd5ed-01 outer:exit 2b-0742d7a5ea5023b0f9940d8077b96716ab613270-cff462c17b73d1a7-01
2021-09-23T17:21:01.798Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:01.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcfe7adc31914e225715671036d62157c74458c1-4ef669b819e2e13a-01 outer:exit 2b-bcfe7adc31914e225715671036d62157c74458c1-af05b251dd5b9d16-01
2021-09-23T17:21:01.804Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:01.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ec7e010bcf73c826f78b4533054d09a85d3673b-6195bdcd94fa59e1-01 outer:exit 2b-4ec7e010bcf73c826f78b4533054d09a85d3673b-d0f01011bdc58819-01
2021-09-23T17:21:01.814Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:01.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-d84328626b331cffc3db116f060737ffb60e9ab2-82e5464f4903121b-01 outer:exit 2b-d84328626b331cffc3db116f060737ffb60e9ab2-428f11c7738ea681-01
2021-09-23T17:21:01.837Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:01.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-f07f54953bb7f11cd4c889f8210434959cc88634-c1f938d8da1df823-01 outer:exit 2b-f07f54953bb7f11cd4c889f8210434959cc88634-ac70602dfe0dd0eb-01
2021-09-23T17:21:01.900Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:01.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-297cae2d3b223aa045e56bff44233efcd602a725-bf4f213d41fdf8ff-01 outer:exit 2b-297cae2d3b223aa045e56bff44233efcd602a725-6f3e6da03f1024a7-01
2021-09-23T17:21:01.903Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:01.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-818688498909829a8efac60ac825fb282fd388ec-4e7df32a492822b7-01 outer:exit 2b-818688498909829a8efac60ac825fb282fd388ec-d58d0f9b22cd9337-01
2021-09-23T17:21:01.906Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:01.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6598306f9d875acc505bcc515ee9ad0b742668c-e85d9f546a692c43-01 outer:exit 2b-b6598306f9d875acc505bcc515ee9ad0b742668c-dbab33093f003309-01
2021-09-23T17:21:01.915Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:01.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dce4a764e3929c0d65c678480ab42febd340bb2-ab0d0f5b7b4b1bf1-01 outer:exit 2b-0dce4a764e3929c0d65c678480ab42febd340bb2-e36dc279ddc0adeb-01
2021-09-23T17:21:01.919Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:01.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb898b8c3bd6305692864ed72010ae6fd46a780d-8a4d3e454978454c-01 outer:exit 2b-eb898b8c3bd6305692864ed72010ae6fd46a780d-100116bc9f1d5549-01
2021-09-23T17:21:01.922Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:01.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-b57fa448c3b711418a06666c6f68594ba41e480a-aa69d409c9a09eee-01 outer:exit 2b-b57fa448c3b711418a06666c6f68594ba41e480a-816224d19beccdc7-01
2021-09-23T17:21:01.925Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:01.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-857f0fc9a38191c3b29f0b5b90ab3449acba86a2-a1fceb743a716c5e-01 outer:exit 2b-857f0fc9a38191c3b29f0b5b90ab3449acba86a2-54ce0d8b2344bb6c-01
2021-09-23T17:21:01.928Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:01.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d61385a630ce04d163e10695d3ffa3fbc858270-9ef55a32c8bee657-01 outer:exit 2b-8d61385a630ce04d163e10695d3ffa3fbc858270-ead96158bd498a9b-01
2021-09-23T17:21:01.936Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:01.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d2b2c0781c464ca48a9d8d6a6ae700b1b067e56-c90b3f1b449df3d0-01 outer:exit 2b-2d2b2c0781c464ca48a9d8d6a6ae700b1b067e56-379d6035f0796643-01
2021-09-23T17:21:01.941Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:01.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-672668aca7db9d5d155a8f2f5b077d5a1f10ad4e-cde87affa5bb426b-01 outer:exit 2b-672668aca7db9d5d155a8f2f5b077d5a1f10ad4e-44f3b7bbe092729d-01
2021-09-23T17:21:01.945Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:01.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb043b9377f9a38cdc6fab89364cedab1ceb9b5d-edf7ac90a7cac3b2-01 outer:exit 2b-bb043b9377f9a38cdc6fab89364cedab1ceb9b5d-490d0ee8c06a04cc-01
2021-09-23T17:21:01.953Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:01.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-74ed3ae2f03662cb0929dff24b01c87cc6de0dcb-16001508d9c7021d-01 outer:exit 2b-74ed3ae2f03662cb0929dff24b01c87cc6de0dcb-916637d08e427e53-01
2021-09-23T17:21:01.958Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:01.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1b3b2aaaac7122c2f4d20fd0dd54b06f33799f8-b15e54481f194ac4-01 outer:exit 2b-e1b3b2aaaac7122c2f4d20fd0dd54b06f33799f8-c84105510fd7a2d4-01
2021-09-23T17:21:01.970Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:01.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-217156c9be7234a9cc801521170e500c2602bff4-580b65f2337e7a73-01 outer:exit 2b-217156c9be7234a9cc801521170e500c2602bff4-c27747b4076574fe-01
2021-09-23T17:21:01.975Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:01.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-f57a4c1a0caedb37cd10a5e18f30432143eb4a6c-261ef0ff1f85af9c-01 outer:exit 2b-f57a4c1a0caedb37cd10a5e18f30432143eb4a6c-ab5d82d3b304fec0-01
2021-09-23T17:21:01.985Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:01.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e16d0a9c35b25e4ab744085dce5974c8b4ff49c-38d802435f9043d0-01 outer:exit 2b-9e16d0a9c35b25e4ab744085dce5974c8b4ff49c-a5808c1add1bad71-01
2021-09-23T17:21:01.993Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:01.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-910598faf9797ae614d646be8578e1b86573711b-6aa1fed0520b9b5a-01 outer:exit 2b-910598faf9797ae614d646be8578e1b86573711b-0851642c027d5a6a-01
2021-09-23T17:21:01.997Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:02.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-18cc793aef7c7dc9f84514c8956f5e5ac7788bfa-b8e25c309e3d65fd-01 outer:exit 2b-18cc793aef7c7dc9f84514c8956f5e5ac7788bfa-a68409172640e7d1-01
2021-09-23T17:21:02.007Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:02.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bba31fb60e78287392f6fc3b3bc27eaa691c5ca-1b76581f467ec5be-01 outer:exit 2b-2bba31fb60e78287392f6fc3b3bc27eaa691c5ca-6ae15071210ddb97-01
2021-09-23T17:21:02.022Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:02.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-175828916e3b47f124d570a4612687852d3f06e5-f2cf8c1ee8b8b61d-01 outer:exit 2b-175828916e3b47f124d570a4612687852d3f06e5-53b0bc94616f2d29-01
2021-09-23T17:21:02.026Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:02.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-83fb6f52edb6b9ac86402911a1f5753d81965b8a-5f6d6fad52878124-01 outer:exit 2b-83fb6f52edb6b9ac86402911a1f5753d81965b8a-b72ce45452f50198-01
2021-09-23T17:21:02.028Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:02.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bf33e67382187a414461c282805e2d8d708885c-3bc854c0f2042698-01 outer:exit 2b-8bf33e67382187a414461c282805e2d8d708885c-044cfe46d22c0577-01
2021-09-23T17:21:02.031Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:02.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-d63ae5c8d302e5b9cde55a0bbeabb9034041b2ec-93efb55d261b9eb7-01 outer:exit 2b-d63ae5c8d302e5b9cde55a0bbeabb9034041b2ec-8a261c0a8d8b11ba-01
2021-09-23T17:21:02.033Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:02.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-8143210fd3847b424beca3a14394e3a9fb4ce53f-a4a6963edb10cc1a-01 outer:exit 2b-8143210fd3847b424beca3a14394e3a9fb4ce53f-0080f980fafbb7e7-01
2021-09-23T17:21:02.036Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:02.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-58a223e3efd283523c96711071d9c01c1c86bb0a-6f90e8a8a3679dac-01 outer:exit 2b-58a223e3efd283523c96711071d9c01c1c86bb0a-008d847f7b3ed273-01
2021-09-23T17:21:02.048Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:02.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0d9bbc171605929c76902549506d3c896f9323c-073fa3cd15f27ac7-01 outer:exit 2b-c0d9bbc171605929c76902549506d3c896f9323c-3021990ba3bb843d-01
2021-09-23T17:21:02.059Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:02.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-14f9a70662c1e7d48fdb5a22b6f745d1074ef079-15f40952ef557a82-01 outer:exit 2b-14f9a70662c1e7d48fdb5a22b6f745d1074ef079-aa2668cc7a6ca4cb-01
2021-09-23T17:21:02.064Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:02.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3e72973cc5039126265d0ab2e58d302e6e5f2b1-5a747e7a82242066-01 outer:exit 2b-f3e72973cc5039126265d0ab2e58d302e6e5f2b1-4d623745811d3ad0-01
2021-09-23T17:21:02.068Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:02.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fb0796323dafbc3d56f4936676d5b39a1edd039-7d3cb347e6646d94-01 outer:exit 2b-4fb0796323dafbc3d56f4936676d5b39a1edd039-59f77d325db6853b-01
2021-09-23T17:21:02.071Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:02.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6690dfe855585b5c0a670729c72012d19e9f291-1bde86e56a67ff34-01 outer:exit 2b-a6690dfe855585b5c0a670729c72012d19e9f291-3fdf057ac6b5b888-01
2021-09-23T17:21:02.119Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (466ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:10.092Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:10.093Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:10.093Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:10.094Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:10.165Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:10.226Z appoptics:patching patched crypto 
2021-09-23T17:21:10.258Z appoptics:patching patched https 
2021-09-23T17:21:10.259Z appoptics:patching patched http 
2021-09-23T17:21:10.313Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:10.314Z appoptics:patching patched fs 
2021-09-23T17:21:10.349Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v16.10.0)
2021-09-23T17:21:10.357Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2021-09-23T17:21:10.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-efd770b4f0bedf83b4fec14d653490866068f147-63a99c2e9beb041d-01 outer:exit 2b-efd770b4f0bedf83b4fec14d653490866068f147-235659f6a2425609-01
2021-09-23T17:21:10.556Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:10.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cb774e2a24c4d6076ac67eba922f67d847f8cd8-cc5755f7513bc423-01 outer:exit 2b-9cb774e2a24c4d6076ac67eba922f67d847f8cd8-b1edec1bfc67a3f0-01
2021-09-23T17:21:10.604Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:10.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-2684827f65ed5bd5d0ae24ec47b84c29f9a3bddb-72f98d15b1900ddb-01 outer:exit 2b-2684827f65ed5bd5d0ae24ec47b84c29f9a3bddb-5b447145d4861f32-01
2021-09-23T17:21:10.608Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:10.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce86896b36df027e18c07ced1e5b29aad623e7db-a0f9333006f27aff-01 outer:exit 2b-ce86896b36df027e18c07ced1e5b29aad623e7db-b5f6f5195f734087-01
2021-09-23T17:21:10.614Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:10.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f9fb58dc4bbeec40759c677c085260b79cc9200-1b61aa09e47bd77b-01 outer:exit 2b-1f9fb58dc4bbeec40759c677c085260b79cc9200-1e2d3c0872661ecb-01
2021-09-23T17:21:10.622Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:10.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c0ce7dfa708198113a3eeef45b0729dd0866f55-bc2bc94f91392dbc-01 outer:exit 2b-8c0ce7dfa708198113a3eeef45b0729dd0866f55-a85318197209c365-01
2021-09-23T17:21:10.625Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:10.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-a73edb54bfc2f28f86dd1f64804cf1822f1e0802-e4ea4b536ed47dad-01 outer:exit 2b-a73edb54bfc2f28f86dd1f64804cf1822f1e0802-15ec8a69d47358a7-01
2021-09-23T17:21:10.629Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:10.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ad8814ebd76b0a3bb94c799f364aea6df749d5d-479f8d0f95c7fe53-01 outer:exit 2b-4ad8814ebd76b0a3bb94c799f364aea6df749d5d-571e5d99de85e263-01
2021-09-23T17:21:10.632Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:10.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-647602a220a052659b7a285906b663063832c03e-b08836e3da8dd0fe-01 outer:exit 2b-647602a220a052659b7a285906b663063832c03e-eed7a5dbb3d210fd-01
2021-09-23T17:21:10.635Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:10.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-379c82563ec43bf8106e4e50688a4863f34354da-de4c5c4f699683bc-01 outer:exit 2b-379c82563ec43bf8106e4e50688a4863f34354da-3a0b0bf00c832ae5-01
2021-09-23T17:21:10.639Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:10.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffe4a55b5c30ea25a7b2895c52b611dbf7096132-5c581a9b2185285f-01 outer:exit 2b-ffe4a55b5c30ea25a7b2895c52b611dbf7096132-42dbb141d5a9c866-01
2021-09-23T17:21:10.644Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:10.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eb4941549ef8685a8777d6c423e6c3639b00488-0fcf530925eac792-01 outer:exit 2b-7eb4941549ef8685a8777d6c423e6c3639b00488-1c956d667d0a018f-01
2021-09-23T17:21:10.651Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:10.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-114763128a9d9375bc6aa8be0493651df7e4804a-2f3130f316728fb9-01 outer:exit 2b-114763128a9d9375bc6aa8be0493651df7e4804a-53d6c5db056e100d-01
2021-09-23T17:21:10.672Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:10.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab0ac2d4b7c6a01b4b59a6edfa3801edc5be4b6d-a7930d816d10dcf9-01 outer:exit 2b-ab0ac2d4b7c6a01b4b59a6edfa3801edc5be4b6d-ea06ba517f0a0c24-01
2021-09-23T17:21:10.705Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:10.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-9faaeeda515692e0e7eeeb87cd47cf4195b1d82e-d24a958438b16292-01 outer:exit 2b-9faaeeda515692e0e7eeeb87cd47cf4195b1d82e-d1acae36f7d0ee5c-01
2021-09-23T17:21:10.708Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:10.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-e27a47507e0a2dead1fc8392edda66dd928d8dd8-981eca013715ffdf-01 outer:exit 2b-e27a47507e0a2dead1fc8392edda66dd928d8dd8-d967e31df696254e-01
2021-09-23T17:21:10.711Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:10.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-599106049ecce68209e8af098b12d608ea24cd89-db7660fab5ab0349-01 outer:exit 2b-599106049ecce68209e8af098b12d608ea24cd89-8d22e1a4c7d7329f-01
2021-09-23T17:21:10.715Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:10.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-759e33ec8cb51b06b50ffe3f9aa095624d531be1-7a3efc88d8e41404-01 outer:exit 2b-759e33ec8cb51b06b50ffe3f9aa095624d531be1-7e0fdb29ff3c6fa4-01
2021-09-23T17:21:10.718Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:10.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a45ad73784b65f08267e8b6508280174e70d2bf-baf02be63d5c29c9-01 outer:exit 2b-5a45ad73784b65f08267e8b6508280174e70d2bf-a28f3dc9a77be893-01
2021-09-23T17:21:10.723Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:10.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-d181f599a90cd55b85e4e01d2db7084b562ed732-ef2e53ca0db9dd30-01 outer:exit 2b-d181f599a90cd55b85e4e01d2db7084b562ed732-4821dffcf434616b-01
2021-09-23T17:21:10.725Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:10.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b7b971c9a618ffce37abb2009da8152b9f566d5-c117afe87f6a1097-01 outer:exit 2b-4b7b971c9a618ffce37abb2009da8152b9f566d5-c54b5566a366f8f8-01
2021-09-23T17:21:10.728Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:10.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-5353f338d51693ebf7a5c8bf5348bd25317c8d1b-84a6aa3e5067a5c9-01 outer:exit 2b-5353f338d51693ebf7a5c8bf5348bd25317c8d1b-2bc4eeda8e846ebd-01
2021-09-23T17:21:10.731Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:10.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc533c52cc5595c55c1e987af852ae1530d1f7f7-81b81c621eaabf7e-01 outer:exit 2b-fc533c52cc5595c55c1e987af852ae1530d1f7f7-1c33084eb992f481-01
2021-09-23T17:21:10.735Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:10.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-0134564d55753aa4e523f1dd1d7929b6ea7ea390-622ab05ab923381f-01 outer:exit 2b-0134564d55753aa4e523f1dd1d7929b6ea7ea390-9bd465c031645928-01
2021-09-23T17:21:10.738Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:10.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf91823a3909357073e73ab09dfdd69832119cf0-a292226a4a07f9bb-01 outer:exit 2b-cf91823a3909357073e73ab09dfdd69832119cf0-da2258e6c652cca8-01
2021-09-23T17:21:10.741Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:10.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa28ed2355aa09d81fcbed8249cb8dce76ac46d7-7626a2778425af45-01 outer:exit 2b-fa28ed2355aa09d81fcbed8249cb8dce76ac46d7-b9fe4ce0bea822ce-01
2021-09-23T17:21:10.744Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:10.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e37cb895ec39bc227a5bac3540a948b025348c8-c247ce617775cd68-01 outer:exit 2b-1e37cb895ec39bc227a5bac3540a948b025348c8-0778884ed25ef2be-01
2021-09-23T17:21:10.753Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:10.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-a16768d66aedec7d910524207d1c9677f4ccfc7a-042f1634aa9e99e4-01 outer:exit 2b-a16768d66aedec7d910524207d1c9677f4ccfc7a-2feff110af2799c6-01
2021-09-23T17:21:10.759Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:10.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-becc68cd61041453e8552a346096b4480095d6df-c9eb3bf22a834c9a-01 outer:exit 2b-becc68cd61041453e8552a346096b4480095d6df-14dd5abd4c378c5d-01
2021-09-23T17:21:10.768Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:10.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c10ba39367cb16a32864307cc02a119cc18c471-f986dc2055875afe-01 outer:exit 2b-8c10ba39367cb16a32864307cc02a119cc18c471-82b158c17aab7142-01
2021-09-23T17:21:10.786Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:10.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ab734b05f113149d40fb51de64bf118c40ddeba-6d12e8b6501bd30c-01 outer:exit 2b-8ab734b05f113149d40fb51de64bf118c40ddeba-b00b06b202b4eaad-01
2021-09-23T17:21:10.789Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:10.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-254a89e01f76bf99a8610fed9446f5737ca47e81-4000b173981ee768-01 outer:exit 2b-254a89e01f76bf99a8610fed9446f5737ca47e81-6fa74514c9918423-01
2021-09-23T17:21:10.793Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:10.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-06929fc5e43d5a2d16f76f8c8a8db40db7052413-b9993ae7349a3aaf-01 outer:exit 2b-06929fc5e43d5a2d16f76f8c8a8db40db7052413-2b65220f02204599-01
2021-09-23T17:21:10.802Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:10.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-957550ab436bd765aba74d47d437b0e20b1a8f74-2fbb91a8744191e8-01 outer:exit 2b-957550ab436bd765aba74d47d437b0e20b1a8f74-486fce16b5ef6e14-01
2021-09-23T17:21:10.807Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:10.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6361a09d59b13feadd72193a3c4aa459b5066d1-5216ddb918a2fa3f-01 outer:exit 2b-f6361a09d59b13feadd72193a3c4aa459b5066d1-5a5152ebca22ba38-01
2021-09-23T17:21:10.811Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:10.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-0334d4a269f72d92a69651d5079913fa650f55aa-7c91a74e239327ce-01 outer:exit 2b-0334d4a269f72d92a69651d5079913fa650f55aa-e462a40f204c5304-01
2021-09-23T17:21:10.817Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:10.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-e683d8de7810d9db01612c98fb9cdf8cc832bb35-aeac6023d8d781cc-01 outer:exit 2b-e683d8de7810d9db01612c98fb9cdf8cc832bb35-6e6c4e64838fe255-01
2021-09-23T17:21:10.822Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:10.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ed5a5adfdab4daf642714349748bb31e04015bf-cf01c04ceef3d383-01 outer:exit 2b-5ed5a5adfdab4daf642714349748bb31e04015bf-3b3af1af182a2d5f-01
2021-09-23T17:21:10.825Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:10.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ded27c5fb247e28e48d1d4f3185ccd2bb7c9215-31d8caad5753e42d-01 outer:exit 2b-6ded27c5fb247e28e48d1d4f3185ccd2bb7c9215-4d2b34eec70d4ec0-01
2021-09-23T17:21:10.861Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:10.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d92a6908e04ccfc641e68c4335bb314fe477d6e-bd025d6756029453-01 outer:exit 2b-3d92a6908e04ccfc641e68c4335bb314fe477d6e-00674d1dda4e6eb7-01
2021-09-23T17:21:10.876Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:10.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-46954283e70c4f1a60be6441a9b0dbd2d6fa4094-5ebdf8337898b467-01 outer:exit 2b-46954283e70c4f1a60be6441a9b0dbd2d6fa4094-6da818f4dd44348e-01
2021-09-23T17:21:10.880Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:10.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-790a46e1c73f12a742447cfb78bba32298f64f57-130495a139626689-01 outer:exit 2b-790a46e1c73f12a742447cfb78bba32298f64f57-cbbba8b9ba8546ab-01
2021-09-23T17:21:10.884Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:10.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-91c6d59495229711df7b196a1597350d67fb3e8b-eecf3d6481adec9a-01 outer:exit 2b-91c6d59495229711df7b196a1597350d67fb3e8b-02fc8eb6f998edbc-01
2021-09-23T17:21:10.887Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:10.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-66a1bbce4f656bc9134a8a5bdbe947f9f1170e83-269ea7514d52beb6-01 outer:exit 2b-66a1bbce4f656bc9134a8a5bdbe947f9f1170e83-026e4ec05cf892f2-01
2021-09-23T17:21:10.918Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (403ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:19.522Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:19.522Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:19.522Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:19.523Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:19.592Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:19.652Z appoptics:patching patched crypto 
2021-09-23T17:21:19.678Z appoptics:patching patched https 
2021-09-23T17:21:19.679Z appoptics:patching patched http 
2021-09-23T17:21:19.740Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:19.740Z appoptics:patching patched fs 
2021-09-23T17:21:19.782Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v16.10.0)
2021-09-23T17:21:19.791Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2021-09-23T17:21:19.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf65747b07be100589a53b37dee7f736a2fedfbd-ec7a6a797ac5679e-01 outer:exit 2b-bf65747b07be100589a53b37dee7f736a2fedfbd-27b39ad23ea2c842-01
2021-09-23T17:21:19.993Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:20.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef7c272669c21c3279390ed55b7d1475788d3926-be7ed5a26d0e9c48-01 outer:exit 2b-ef7c272669c21c3279390ed55b7d1475788d3926-7acc2b2d0c7b574a-01
2021-09-23T17:21:20.048Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:20.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-81675ddd9b05c9119ea2ed729b07b8eae062b3c9-6093f1c646603ce4-01 outer:exit 2b-81675ddd9b05c9119ea2ed729b07b8eae062b3c9-23bf79612544076c-01
2021-09-23T17:21:20.054Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:20.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-575ac30b426fe19fe41ad7603984e2f095be0b51-9e46fad1b1d646ce-01 outer:exit 2b-575ac30b426fe19fe41ad7603984e2f095be0b51-82f57ea955abf819-01
2021-09-23T17:21:20.058Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:20.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e424c03b9f25e7f83c040de226ff46d13910a41-09a77f61e9808440-01 outer:exit 2b-2e424c03b9f25e7f83c040de226ff46d13910a41-271fc924321da7c9-01
2021-09-23T17:21:20.067Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:20.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-33b68266d35a386e2f9bc64af44258d6b53e94b9-fa3c2d660675d217-01 outer:exit 2b-33b68266d35a386e2f9bc64af44258d6b53e94b9-9d056769105a7ba1-01
2021-09-23T17:21:20.071Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:20.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-41dc2849ce6166fac7f6a5f1ba3aa2da6300bee3-4a9fbc4dce41a9c4-01 outer:exit 2b-41dc2849ce6166fac7f6a5f1ba3aa2da6300bee3-12294a6165e4de49-01
2021-09-23T17:21:20.074Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:20.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-858ef8a5e00b4f8dd743f72df8b92cb8ca0cf7a8-3dfc771f5fe9b487-01 outer:exit 2b-858ef8a5e00b4f8dd743f72df8b92cb8ca0cf7a8-f09ebcea53f01398-01
2021-09-23T17:21:20.081Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:20.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-55436a4c68decc5d22d4abc160b46d95b7f286a8-11587d4ee68b5e9e-01 outer:exit 2b-55436a4c68decc5d22d4abc160b46d95b7f286a8-d9b761b0d4391d91-01
2021-09-23T17:21:20.091Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:20.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-b696ab943ed4e615f9601965710cd6db1f2553bc-7a57471f16613c7a-01 outer:exit 2b-b696ab943ed4e615f9601965710cd6db1f2553bc-8a0ea97530ca662a-01
2021-09-23T17:21:20.096Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:20.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-216074facc59a9531bb2dcdac2edd9654675c116-d6d5a25cf9475ee3-01 outer:exit 2b-216074facc59a9531bb2dcdac2edd9654675c116-299a1a0c5934a7db-01
2021-09-23T17:21:20.101Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:20.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff31079c0fdf924d7fa1ccdea8c05ae61d4e2fe8-cc79163d0ed8f74a-01 outer:exit 2b-ff31079c0fdf924d7fa1ccdea8c05ae61d4e2fe8-ae55b95a1e18b9ff-01
2021-09-23T17:21:20.108Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:20.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc9af6a71ce9e7b7dcafd10bfafdfa97782e8bb2-4ca86eca9447995d-01 outer:exit 2b-dc9af6a71ce9e7b7dcafd10bfafdfa97782e8bb2-09a22a8b2892a747-01
2021-09-23T17:21:20.127Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:20.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-d82f05c103c0dc9e2c8347e981cbee7569a5cbf8-11b5a20af1d4c6ba-01 outer:exit 2b-d82f05c103c0dc9e2c8347e981cbee7569a5cbf8-fa9ed3a647654ad6-01
2021-09-23T17:21:20.208Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:20.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-412d84e1eeb073b72f8e159b55c5b1de17f89cdb-b86b83f4eb515517-01 outer:exit 2b-412d84e1eeb073b72f8e159b55c5b1de17f89cdb-0bbe8afca6c0f531-01
2021-09-23T17:21:20.211Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:20.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-61fb4a66039fc124f0eb4401435bba50ddd64029-e0722d64dfab887f-01 outer:exit 2b-61fb4a66039fc124f0eb4401435bba50ddd64029-6f8946d3db963e4d-01
2021-09-23T17:21:20.214Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:20.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-c79b55cf0fdac18824d4374aa8d2ef7843f2634e-cd7f9481050ed796-01 outer:exit 2b-c79b55cf0fdac18824d4374aa8d2ef7843f2634e-cfb6c3c8f8e6e07f-01
2021-09-23T17:21:20.218Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:20.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-9742fd7f8f8dab7e55ad225c7deb79f910f497b2-97f3db61fe447e11-01 outer:exit 2b-9742fd7f8f8dab7e55ad225c7deb79f910f497b2-6d854d66fc74a56a-01
2021-09-23T17:21:20.221Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:20.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6509a91abf430f0a0f6401f00bb7bae94697234-f334f487b34410e6-01 outer:exit 2b-b6509a91abf430f0a0f6401f00bb7bae94697234-2e5990abfa52b9fa-01
2021-09-23T17:21:20.224Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:20.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-de94065d13b7692e4bcf52a369c489fedb43c128-32114d2f24774f3f-01 outer:exit 2b-de94065d13b7692e4bcf52a369c489fedb43c128-7a98041c70e20ed7-01
2021-09-23T17:21:20.227Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:20.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-9602fa3d75e9586a27727f19a1c4af2ba2741500-79a27fc13c67dedd-01 outer:exit 2b-9602fa3d75e9586a27727f19a1c4af2ba2741500-1924e75b1c21fbb1-01
2021-09-23T17:21:20.230Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:20.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-38c1a8bd6eca6d1cbf8dbb1ae2b48dae0104fc66-3abe1f9c9275acac-01 outer:exit 2b-38c1a8bd6eca6d1cbf8dbb1ae2b48dae0104fc66-c25f2d64eacaa9d5-01
2021-09-23T17:21:20.232Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:20.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c43d73ed06308c78589713ee1c01ac7b2350c64-36f03bb7b5c87510-01 outer:exit 2b-1c43d73ed06308c78589713ee1c01ac7b2350c64-981f5fd78ba4d3d3-01
2021-09-23T17:21:20.237Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:20.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e7d1eeeda331cb1c16a8e883b7922207868f81e-907eea17423e9365-01 outer:exit 2b-0e7d1eeeda331cb1c16a8e883b7922207868f81e-f470825dd72a3829-01
2021-09-23T17:21:20.240Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:20.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc63bf58de26422cef49955d344eb5213db02207-b280b04549ed6a4a-01 outer:exit 2b-cc63bf58de26422cef49955d344eb5213db02207-07c21f0e413c8038-01
2021-09-23T17:21:20.244Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:20.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-26790e4898ff408db7a96afead4fba6a097f4525-f15cda8af6786245-01 outer:exit 2b-26790e4898ff408db7a96afead4fba6a097f4525-c152b027a63707e5-01
2021-09-23T17:21:20.247Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:20.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d4b7e73b6ffdb9f63a4a818498e8ab0cd932740-89dde78f0d7f931e-01 outer:exit 2b-7d4b7e73b6ffdb9f63a4a818498e8ab0cd932740-00341cec2f322057-01
2021-09-23T17:21:20.256Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:20.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-579eb9ff3e4a2da34340497139a5619171993eae-d7776b569c81d843-01 outer:exit 2b-579eb9ff3e4a2da34340497139a5619171993eae-5224c0cd3e3f7a1a-01
2021-09-23T17:21:20.262Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:20.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbfbf9c4fabd77e09a3a5a547eabf29f2f6d5474-7ae72fb83fecab3f-01 outer:exit 2b-fbfbf9c4fabd77e09a3a5a547eabf29f2f6d5474-362860255fff117f-01
2021-09-23T17:21:20.278Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:20.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-96a5be1a19e990c61567abbd76791c06741c2d06-b24f9b5c7dd5258c-01 outer:exit 2b-96a5be1a19e990c61567abbd76791c06741c2d06-07587a16752a903d-01
2021-09-23T17:21:20.287Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:20.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-559f113e492183aa6cc6b0a686c51ffe8599225c-83dbe0441e226ed6-01 outer:exit 2b-559f113e492183aa6cc6b0a686c51ffe8599225c-32432a7153f7db70-01
2021-09-23T17:21:20.290Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:20.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-37a4641a88ca187eac2604583761f222cc7b4303-2434824394ce4536-01 outer:exit 2b-37a4641a88ca187eac2604583761f222cc7b4303-35684f6cd2e4a700-01
2021-09-23T17:21:20.293Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:20.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-64581bf3ee61cea9388d960afaffdc81f2833c6f-5c533eedac76a66d-01 outer:exit 2b-64581bf3ee61cea9388d960afaffdc81f2833c6f-e229a018c1e7fc54-01
2021-09-23T17:21:20.302Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:20.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dbe89eb427de27a70a5cd4803427c7e980f9a63-8502b1c28d6e4716-01 outer:exit 2b-7dbe89eb427de27a70a5cd4803427c7e980f9a63-6eda81d0df56e4e8-01
2021-09-23T17:21:20.305Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:20.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-2696edc5606b9e12058944a70c745019cbe1ea82-00c54e9730fd29f2-01 outer:exit 2b-2696edc5606b9e12058944a70c745019cbe1ea82-8fe28920f1ffedeb-01
2021-09-23T17:21:20.308Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:20.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-01d58eab25c99f8ed3716cabd3cbbb4fccff2930-60fcc3e13c4834ef-01 outer:exit 2b-01d58eab25c99f8ed3716cabd3cbbb4fccff2930-ae946bd8281c90df-01
2021-09-23T17:21:20.311Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:20.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-76d8f07af7ae857d7d8fe523f499a069ae24ce64-ea7360817403a9e3-01 outer:exit 2b-76d8f07af7ae857d7d8fe523f499a069ae24ce64-e8ef8eb9dd7d1db9-01
2021-09-23T17:21:20.314Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:20.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-266a2b33238aad89a6b96750c2565909d4b5c27d-8b4eaf06ef758724-01 outer:exit 2b-266a2b33238aad89a6b96750c2565909d4b5c27d-8d0b357e2ca2600f-01
2021-09-23T17:21:20.321Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:20.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-1882a60020502607fc17fc1b464ec3568847c5e0-df0d898c66cb8c45-01 outer:exit 2b-1882a60020502607fc17fc1b464ec3568847c5e0-79bf3df14c5136cd-01
2021-09-23T17:21:20.336Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:20.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-f38cf848ad1ddb73dbea57691127fd72d8d63ff0-b7fecd9c5efe8771-01 outer:exit 2b-f38cf848ad1ddb73dbea57691127fd72d8d63ff0-3d103688b5a3fade-01
2021-09-23T17:21:20.350Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:20.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-84ef6ace533a7df4b72ce93bd337f0dc26ba169c-41ee47e5822f6175-01 outer:exit 2b-84ef6ace533a7df4b72ce93bd337f0dc26ba169c-03cc90be0c0b262a-01
2021-09-23T17:21:20.354Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:20.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-e729a33c9b9e83b37a50bb3fa4b2e3704ad05ca9-5a9de2598a0e188c-01 outer:exit 2b-e729a33c9b9e83b37a50bb3fa4b2e3704ad05ca9-f15af270eb62426f-01
2021-09-23T17:21:20.358Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:20.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e7f4dbbd2a53cb4a314cfb3b7e1570c420e2031-d32d184588cc5877-01 outer:exit 2b-7e7f4dbbd2a53cb4a314cfb3b7e1570c420e2031-4a7318933ce057e0-01
2021-09-23T17:21:20.363Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:20.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-58b3e3de7f35b1a8b3b1b7a051a1b92451d1a13b-a0e6b2921e7a98e0-01 outer:exit 2b-58b3e3de7f35b1a8b3b1b7a051a1b92451d1a13b-e2ec7cbce171595a-01
2021-09-23T17:21:20.394Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (458ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:28.927Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:28.927Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:28.927Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:28.928Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:29.021Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:29.077Z appoptics:patching patched crypto 
2021-09-23T17:21:29.107Z appoptics:patching patched https 
2021-09-23T17:21:29.108Z appoptics:patching patched http 
2021-09-23T17:21:29.164Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:29.164Z appoptics:patching patched fs 
2021-09-23T17:21:29.200Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v16.10.0)
2021-09-23T17:21:29.208Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2021-09-23T17:21:29.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-c928894841399c0632f4300e996eb30e6c4b9f24-ea18565f19e7dea1-01 outer:exit 2b-c928894841399c0632f4300e996eb30e6c4b9f24-4f808dd3251db76a-01
2021-09-23T17:21:29.390Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:29.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0841e73a1c83058c2d3bf45665399ec4d19e17b-de301f3969131130-01 outer:exit 2b-c0841e73a1c83058c2d3bf45665399ec4d19e17b-64a1bc67658e5839-01
2021-09-23T17:21:29.443Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:29.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-453c7e8de7e38d7b68f6d9ac370dabb5c08be67a-8b0a9bc0aff519f6-01 outer:exit 2b-453c7e8de7e38d7b68f6d9ac370dabb5c08be67a-82dd2e84555ba1b6-01
2021-09-23T17:21:29.447Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:29.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-344d9249b3329dc581d8a8724fd9c90e497cb5ec-663e08803a375ec9-01 outer:exit 2b-344d9249b3329dc581d8a8724fd9c90e497cb5ec-b4adbfd736792943-01
2021-09-23T17:21:29.450Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:29.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca9b81721a4457643d72c36c1f90faa29b604b3c-aa9ce38073b0fbb3-01 outer:exit 2b-ca9b81721a4457643d72c36c1f90faa29b604b3c-0cf7a7d852136a60-01
2021-09-23T17:21:29.454Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:29.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4ccbdabf9326c529102097421b59212bf7cd640-3257b969f96d9c56-01 outer:exit 2b-b4ccbdabf9326c529102097421b59212bf7cd640-5bda24d83be4cd89-01
2021-09-23T17:21:29.458Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:29.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-6007ccd97040ff3a4e128c650bb345b9726d020e-08d5cefb8670b4f4-01 outer:exit 2b-6007ccd97040ff3a4e128c650bb345b9726d020e-c7ba6fe8cc07be53-01
2021-09-23T17:21:29.461Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:29.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-903ff5af0e43a608fd38c38110d053dba55b1dcf-4632eb80aa5b9daa-01 outer:exit 2b-903ff5af0e43a608fd38c38110d053dba55b1dcf-a5e60c0fbdc771cc-01
2021-09-23T17:21:29.464Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:29.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-e36b0ee582057f9f4633e90c6505dd099db1d3d0-ec0e54d7896902a6-01 outer:exit 2b-e36b0ee582057f9f4633e90c6505dd099db1d3d0-e6b64cf0e7ba028a-01
2021-09-23T17:21:29.467Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:29.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-174f78b0f13a5e7df85dfc32fbe34eda8c5bbc73-c3004fcb31453fd4-01 outer:exit 2b-174f78b0f13a5e7df85dfc32fbe34eda8c5bbc73-2ab46627b8be65a3-01
2021-09-23T17:21:29.470Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:29.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-3734d4068c71a667b820b7b17175f5e90b5d1f00-e692d2570931cfa3-01 outer:exit 2b-3734d4068c71a667b820b7b17175f5e90b5d1f00-53b5bcb2b65933a3-01
2021-09-23T17:21:29.474Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:29.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-324ed138771eb28fa0801e9b80e43eca7b8cffb7-a124798f73462d5c-01 outer:exit 2b-324ed138771eb28fa0801e9b80e43eca7b8cffb7-bc7fc6a85ecce767-01
2021-09-23T17:21:29.482Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:29.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-efa883171dcd99ad77623fdfd814252aa71053ad-7d38e76a97f019da-01 outer:exit 2b-efa883171dcd99ad77623fdfd814252aa71053ad-47577cd269be3de0-01
2021-09-23T17:21:29.496Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:29.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-e847979c4906178cbb1c7ec3417607c2a037b527-9496fb3c30da2305-01 outer:exit 2b-e847979c4906178cbb1c7ec3417607c2a037b527-5e81e60c3b2fb13b-01
2021-09-23T17:21:29.543Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:29.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-7738ec078230688dfeec6e49e8db8794f2df5821-0aaf2a8f42cce6db-01 outer:exit 2b-7738ec078230688dfeec6e49e8db8794f2df5821-8c87f7b2565c6685-01
2021-09-23T17:21:29.546Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:29.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-e848721b2affeb647a670d20839757630ca1bb56-38908c45f3464267-01 outer:exit 2b-e848721b2affeb647a670d20839757630ca1bb56-16e7824963309f0e-01
2021-09-23T17:21:29.550Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:29.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e0be044e2ea4ab32acfaecac15ea13d83af052d-8bfd38c38455c236-01 outer:exit 2b-7e0be044e2ea4ab32acfaecac15ea13d83af052d-5fa339cde0a5c152-01
2021-09-23T17:21:29.558Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:29.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2842372ae7df50b4aa1a9d8b3736e793abd70e9-3d239f8fe8e57dd5-01 outer:exit 2b-f2842372ae7df50b4aa1a9d8b3736e793abd70e9-4ae04cc893227d8e-01
2021-09-23T17:21:29.563Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:29.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4d1d56fad974504fd26be561c681bdeb3a67ac-5143fe9baf05443c-01 outer:exit 2b-5d4d1d56fad974504fd26be561c681bdeb3a67ac-fced4474cc8af4f7-01
2021-09-23T17:21:29.567Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:29.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-4388faaf8a23e36b97e7de89ee0ee50cb05f158a-90b62bc2e10a210b-01 outer:exit 2b-4388faaf8a23e36b97e7de89ee0ee50cb05f158a-9646ab29c860a3f2-01
2021-09-23T17:21:29.570Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:29.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6ff96d49f61299020b97210613c2e2801c59207-6eb76d33928a31a5-01 outer:exit 2b-f6ff96d49f61299020b97210613c2e2801c59207-b8b3f0958ba8cf12-01
2021-09-23T17:21:29.573Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:29.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9be2109309d0874badf3fb68462da51b434a69d-3f0cf057d6f32fd2-01 outer:exit 2b-f9be2109309d0874badf3fb68462da51b434a69d-76520d7fcd0e5373-01
2021-09-23T17:21:29.576Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:29.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-73a378396f8613a970dc4deaad51a7253203bfce-0ab6eadac696ea05-01 outer:exit 2b-73a378396f8613a970dc4deaad51a7253203bfce-9ea37855bda3aa2c-01
2021-09-23T17:21:29.579Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:29.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-27764f8cda083199c0c09340c6ffff6814aa2182-60099c082203c9eb-01 outer:exit 2b-27764f8cda083199c0c09340c6ffff6814aa2182-01099ba85c0d6d90-01
2021-09-23T17:21:29.583Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:29.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bb6499f3832b0ed68cd9549c06d7d5be1b53570-69cfa9fcfda3ed47-01 outer:exit 2b-9bb6499f3832b0ed68cd9549c06d7d5be1b53570-2114932b997aa71d-01
2021-09-23T17:21:29.585Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:29.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-819d1cb577e9baede4dc5ed4d82eb4df4ccae570-542665b6e746e2aa-01 outer:exit 2b-819d1cb577e9baede4dc5ed4d82eb4df4ccae570-74d27f1fa0a1ec40-01
2021-09-23T17:21:29.589Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:29.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0318184b55150b2329e4d5d7b37cc7741241530-048b7342fd96f75a-01 outer:exit 2b-b0318184b55150b2329e4d5d7b37cc7741241530-049df4fbfb8e41df-01
2021-09-23T17:21:29.602Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:29.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf2f256e5e20d06b4f31511831d32c6efe4c6863-2a81975b4a0f8963-01 outer:exit 2b-bf2f256e5e20d06b4f31511831d32c6efe4c6863-3f92f1e2a6818ec2-01
2021-09-23T17:21:29.607Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:29.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbaaf56af70915d88023bbf2370a87763d529dbd-5d66c33e90b329ed-01 outer:exit 2b-dbaaf56af70915d88023bbf2370a87763d529dbd-e58743937418a80c-01
2021-09-23T17:21:29.616Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:29.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fd28c5f50e72eed6ab4f6837bbe12c644fcff38-3a55d454866f66d7-01 outer:exit 2b-9fd28c5f50e72eed6ab4f6837bbe12c644fcff38-9c76f8035509f319-01
2021-09-23T17:21:29.627Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:29.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-47c48eaef57bfba026b302162dd9ddbc5728ce95-0c93dc0bd462f295-01 outer:exit 2b-47c48eaef57bfba026b302162dd9ddbc5728ce95-4787094f3ec5d068-01
2021-09-23T17:21:29.631Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:29.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4a46ef3de624b0f652303acf75d88c556b071ea-50956a67748b544d-01 outer:exit 2b-e4a46ef3de624b0f652303acf75d88c556b071ea-95e8942c3580845b-01
2021-09-23T17:21:29.638Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:29.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-db427d896861ce67def31f1ae4d9e78068ee280a-3d0fb7d55122354b-01 outer:exit 2b-db427d896861ce67def31f1ae4d9e78068ee280a-a60e0af5ffe6a5bb-01
2021-09-23T17:21:29.646Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:29.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a20bf4d8a4bf2ed9cc3653a6fbd35e3089bff45-c2892b44e480f89d-01 outer:exit 2b-5a20bf4d8a4bf2ed9cc3653a6fbd35e3089bff45-7eef112396b0a589-01
2021-09-23T17:21:29.649Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:29.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-b64cc40d863979c8b60bf4b3d514177d57ba819f-a4e6d870c9e3ddc8-01 outer:exit 2b-b64cc40d863979c8b60bf4b3d514177d57ba819f-b826d89fc0dc45b2-01
2021-09-23T17:21:29.651Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:29.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4330885f5644e13e814fa9247cd71590e5d7b3d-df4f09ce00ae2a87-01 outer:exit 2b-b4330885f5644e13e814fa9247cd71590e5d7b3d-9fa83b88a87e0193-01
2021-09-23T17:21:29.657Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:29.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f8eea0dbf20edead7a172fe9114d1ed58bb2a34-dfb657c309d8a32c-01 outer:exit 2b-1f8eea0dbf20edead7a172fe9114d1ed58bb2a34-fa8973281ce12512-01
2021-09-23T17:21:29.659Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:29.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-6db1a70fd2c4a33a4e4c4feb640b05c1fff79f0a-0dd1efa00039ab2a-01 outer:exit 2b-6db1a70fd2c4a33a4e4c4feb640b05c1fff79f0a-b58e86ae19487882-01
2021-09-23T17:21:29.671Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:29.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-1301dde9ec0d0742af057c05021e2482d7bab527-5c731528a198d23b-01 outer:exit 2b-1301dde9ec0d0742af057c05021e2482d7bab527-0de50403d9aa9324-01
2021-09-23T17:21:29.688Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:29.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba44ee37750897b37b9918fbd9b47b33f7b20b57-36ee8889079a6b66-01 outer:exit 2b-ba44ee37750897b37b9918fbd9b47b33f7b20b57-2c1a9e2c75d1367e-01
2021-09-23T17:21:29.703Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:29.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-63f877d7fd3e19665c006a3f348b897660db78ad-156b1dcdaba707be-01 outer:exit 2b-63f877d7fd3e19665c006a3f348b897660db78ad-228b1686371b4894-01
2021-09-23T17:21:29.708Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:29.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-86bb088fe81145d2cde4ea81c98cab4f589693ed-1cbc1d8c3bf88474-01 outer:exit 2b-86bb088fe81145d2cde4ea81c98cab4f589693ed-17d203665a2bd840-01
2021-09-23T17:21:29.711Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:29.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdae901d970b3c7481a824cf8d5f0321e29e0981-3c3fca1ec7e6eece-01 outer:exit 2b-cdae901d970b3c7481a824cf8d5f0321e29e0981-afdf9c2d2388e912-01
2021-09-23T17:21:29.716Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:29.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-0126532ba4affc591f1a2881956afa89952281f9-38d9a92311805786-01 outer:exit 2b-0126532ba4affc591f1a2881956afa89952281f9-9a9fac8714a5e861-01
2021-09-23T17:21:29.749Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (399ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:37.363Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:37.363Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:37.363Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:37.364Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:37.440Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:37.501Z appoptics:patching patched crypto 
2021-09-23T17:21:37.540Z appoptics:patching patched https 
2021-09-23T17:21:37.541Z appoptics:patching patched http 
2021-09-23T17:21:37.614Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:37.614Z appoptics:patching patched fs 
2021-09-23T17:21:37.658Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v16.10.0)
2021-09-23T17:21:37.667Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2021-09-23T17:21:37.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-21c889156d9eca17cf2194a1886c710e62632513-f47d03b85149465f-01 outer:exit 2b-21c889156d9eca17cf2194a1886c710e62632513-5e030e04b7c1e86d-01
2021-09-23T17:21:37.913Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:37.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-deaf9585aef952077244aba222beca18428d29ce-094b1eb76bf1c793-01 outer:exit 2b-deaf9585aef952077244aba222beca18428d29ce-ea06fe0c3c1726cb-01
2021-09-23T17:21:37.957Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:37.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-664bf59cb81be1163fcdd37cf52341ebe23259b2-2544d3aa35386e11-01 outer:exit 2b-664bf59cb81be1163fcdd37cf52341ebe23259b2-eaaf20f412a23699-01
2021-09-23T17:21:37.961Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:37.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-455297af9fc9b644a067458efb25f3778103cd22-77d0286712d618b9-01 outer:exit 2b-455297af9fc9b644a067458efb25f3778103cd22-1f0b27026f6396d7-01
2021-09-23T17:21:37.965Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:37.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3665438d0ede7ae0ab917de11f3338549bccd92-a117dfcf93efd60e-01 outer:exit 2b-f3665438d0ede7ae0ab917de11f3338549bccd92-583294f25c321407-01
2021-09-23T17:21:37.971Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:37.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-62f46e0df31d6bb71d82348f7d587c40dd934a2c-aebdd7572e6cfbb1-01 outer:exit 2b-62f46e0df31d6bb71d82348f7d587c40dd934a2c-8baf040594e7e946-01
2021-09-23T17:21:37.975Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:37.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-90b5150b659fb7a17c56a3049121ed142873cbe6-08e64830e27ce9ef-01 outer:exit 2b-90b5150b659fb7a17c56a3049121ed142873cbe6-6df5a84b86ff7318-01
2021-09-23T17:21:37.979Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:37.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b06b56679ed7a240e228dbc6634fa94d720ccec-34627cbc63acce7b-01 outer:exit 2b-6b06b56679ed7a240e228dbc6634fa94d720ccec-b5d62cfdc5d12255-01
2021-09-23T17:21:37.983Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:37.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a26b37ad049df983699a68a161cbfc7eab5bf10-4127924e2a92552a-01 outer:exit 2b-6a26b37ad049df983699a68a161cbfc7eab5bf10-302d84a9bafbc611-01
2021-09-23T17:21:37.985Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:37.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3d5a315a16d32bf43bcb145477a2f5ae7588de2-306ecbda22190fae-01 outer:exit 2b-f3d5a315a16d32bf43bcb145477a2f5ae7588de2-08c41dcd339cb22b-01
2021-09-23T17:21:37.989Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:37.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2d96f0f03cb2a6ef8f31c0b7eff31ea46d99143-274f1d7aa81cbadb-01 outer:exit 2b-b2d96f0f03cb2a6ef8f31c0b7eff31ea46d99143-5ce8c70413f61f33-01
2021-09-23T17:21:37.994Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:38.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca448fc6dabb73cc965bf113921de2ebe2d8b12d-1a9aefb6c95610e0-01 outer:exit 2b-ca448fc6dabb73cc965bf113921de2ebe2d8b12d-5e67614be1e3963e-01
2021-09-23T17:21:38.005Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:38.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-4352d656508438f1fa8b47ce249943fdcf0dc1cd-1190b42e7906a568-01 outer:exit 2b-4352d656508438f1fa8b47ce249943fdcf0dc1cd-2c5744c16cb0623d-01
2021-09-23T17:21:38.022Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:38.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-de84b3fd185f77d5a6c77e676f6e7e0ca5bfe727-846d0fe0058f6f1e-01 outer:exit 2b-de84b3fd185f77d5a6c77e676f6e7e0ca5bfe727-dbd8ce0b2a981f72-01
2021-09-23T17:21:38.056Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:38.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccf82426a6a31852c078373abf841123ebceb75a-0b6b516d294d5d80-01 outer:exit 2b-ccf82426a6a31852c078373abf841123ebceb75a-7ba397f97f69dbd8-01
2021-09-23T17:21:38.060Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:38.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-76a606f3981094437d0a5f8766972de5de4716af-5007f45cb5495030-01 outer:exit 2b-76a606f3981094437d0a5f8766972de5de4716af-08caf847d023f506-01
2021-09-23T17:21:38.063Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:38.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-40a7843b3340b7c803b0be34d42b69eb4b0387f3-5cd9663101acfcce-01 outer:exit 2b-40a7843b3340b7c803b0be34d42b69eb4b0387f3-b8a4fda7563082dc-01
2021-09-23T17:21:38.066Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:38.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-456411d9433db813f44e9060eaa13d8486af2d9b-fc9c3677a8d91bd7-01 outer:exit 2b-456411d9433db813f44e9060eaa13d8486af2d9b-d1594a65fcd6009f-01
2021-09-23T17:21:38.069Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:38.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-495104c8c6de999670f1e0e158ff6b4cf0e8add6-7f8fa666420f6d20-01 outer:exit 2b-495104c8c6de999670f1e0e158ff6b4cf0e8add6-3a7841f162e8ff2e-01
2021-09-23T17:21:38.072Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:38.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea30e37436b03526173a9402f90bd53183902eaa-8e6265e7874acb83-01 outer:exit 2b-ea30e37436b03526173a9402f90bd53183902eaa-d2386d2606a92cee-01
2021-09-23T17:21:38.074Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:38.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-c09e77dcc6476e92aeb0b94139d081b65c7151fe-92f3669dc98c9843-01 outer:exit 2b-c09e77dcc6476e92aeb0b94139d081b65c7151fe-1bc7f4bcf01a9c5e-01
2021-09-23T17:21:38.077Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:38.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-049e2f8006e6561e9b637b826910546ceb172cba-bb73b74d416aa664-01 outer:exit 2b-049e2f8006e6561e9b637b826910546ceb172cba-7beba046fa9c3ac7-01
2021-09-23T17:21:38.080Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:38.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b609d1679af7bacb3216f288fabb5c336ee8e55-e307bd98343f226f-01 outer:exit 2b-1b609d1679af7bacb3216f288fabb5c336ee8e55-12a3cb9fd786e9bf-01
2021-09-23T17:21:38.084Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:38.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5ee150e782c259c6bf56e3eeb351e8f95d867f4-d26c02809578859c-01 outer:exit 2b-a5ee150e782c259c6bf56e3eeb351e8f95d867f4-b87ee168618260bc-01
2021-09-23T17:21:38.088Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:38.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-2495d0c192b0164b51feafb4238a253700ef8383-989f0a271fcd1236-01 outer:exit 2b-2495d0c192b0164b51feafb4238a253700ef8383-e700b7f14c8a8dc1-01
2021-09-23T17:21:38.090Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:38.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f5ec0918fdfc4acfff654fbcdf5dd44b4561e31-36d2f1b0193566e6-01 outer:exit 2b-7f5ec0918fdfc4acfff654fbcdf5dd44b4561e31-bf60563dd26a9b01-01
2021-09-23T17:21:38.094Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:38.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-186da1eb18d4f1a1af0f6ccc39c714f250e3095b-a9bebacb021b17ef-01 outer:exit 2b-186da1eb18d4f1a1af0f6ccc39c714f250e3095b-8883662c499cd6f6-01
2021-09-23T17:21:38.103Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:38.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-39a0450b67277724bb750e8f08d69d5712f5e5c5-a15ab111a2d4925a-01 outer:exit 2b-39a0450b67277724bb750e8f08d69d5712f5e5c5-c21f80fdbf384093-01
2021-09-23T17:21:38.109Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:38.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8ec6e5cca1cbe1a93ca9d1ec2cd61d1bf9dfb68-a34451ce998e330a-01 outer:exit 2b-b8ec6e5cca1cbe1a93ca9d1ec2cd61d1bf9dfb68-16421e7668786730-01
2021-09-23T17:21:38.120Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:38.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-f41756bd296a2990e92120256e2a9eee68f1b341-f48912691d33ee50-01 outer:exit 2b-f41756bd296a2990e92120256e2a9eee68f1b341-9bf0afa04ac31fdc-01
2021-09-23T17:21:38.128Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:38.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-62de7013f9b43fc9d0c6a0b45986027d2c5f58ba-a135fcf030d41e19-01 outer:exit 2b-62de7013f9b43fc9d0c6a0b45986027d2c5f58ba-5129a90cf86f0fba-01
2021-09-23T17:21:38.131Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:38.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-85328b52d85c0d00c45f1068d80ee698b2088e2a-d104188f9ce6d1ac-01 outer:exit 2b-85328b52d85c0d00c45f1068d80ee698b2088e2a-1ce4796fb9aad0ae-01
2021-09-23T17:21:38.136Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:38.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-84ddbb8005d2e8ebbfeca398cc21a15a965b70d4-da06a4d542cbe4ed-01 outer:exit 2b-84ddbb8005d2e8ebbfeca398cc21a15a965b70d4-2f6ab911a128d571-01
2021-09-23T17:21:38.144Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:38.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-64990fe10c1be640edca33ae51eb4f708c60778e-8a2f119aafed60a7-01 outer:exit 2b-64990fe10c1be640edca33ae51eb4f708c60778e-3cb553134717967e-01
2021-09-23T17:21:38.147Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:38.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bfa053fd1bd79aea55f6e5eba8c3cedb9abe9d1-f0e6ce85c7581606-01 outer:exit 2b-9bfa053fd1bd79aea55f6e5eba8c3cedb9abe9d1-c622d338e032d253-01
2021-09-23T17:21:38.150Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:38.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-b24e26ec3966a8f6df0d0b0d6a34e05566562f1e-d46a72d079527131-01 outer:exit 2b-b24e26ec3966a8f6df0d0b0d6a34e05566562f1e-ea481df413aaef04-01
2021-09-23T17:21:38.157Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:38.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bd06dcd03eafb321ec9ab6bf03feda075e3318e-9d5500835535f02b-01 outer:exit 2b-4bd06dcd03eafb321ec9ab6bf03feda075e3318e-ea92aed08200c0e5-01
2021-09-23T17:21:38.159Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:38.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-117a27b4ed4ef0183fb9cfbb2eac9d3aadb43e2c-33ff59cd9a67f056-01 outer:exit 2b-117a27b4ed4ef0183fb9cfbb2eac9d3aadb43e2c-57c79a96af1b4fdc-01
2021-09-23T17:21:38.162Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:38.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ed13544cf60a79eb96a8da4acaae596e8bd50d8-95a1b6b397e97665-01 outer:exit 2b-4ed13544cf60a79eb96a8da4acaae596e8bd50d8-d46b44de297b1c69-01
2021-09-23T17:21:38.173Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:38.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-ced37cead24fd03ff38c32795e865e2680a9e0c7-0337a6794d317688-01 outer:exit 2b-ced37cead24fd03ff38c32795e865e2680a9e0c7-590b502959a32a89-01
2021-09-23T17:21:38.185Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:38.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1381324c3441de5c55950a0438bd5678953dddb-bff0197e1be52e31-01 outer:exit 2b-d1381324c3441de5c55950a0438bd5678953dddb-142f9fe7aebadf5b-01
2021-09-23T17:21:38.189Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:38.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-81ea088b107777db48dec84eefd31ce44cb0f5ab-5b9dbab614608756-01 outer:exit 2b-81ea088b107777db48dec84eefd31ce44cb0f5ab-a713443bc0dc6c93-01
2021-09-23T17:21:38.192Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:38.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-a522fd473ceb6ae45017400187333d46b8070e97-e8f65e3b4b927c01-01 outer:exit 2b-a522fd473ceb6ae45017400187333d46b8070e97-ec1237f55b962030-01
2021-09-23T17:21:38.195Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:38.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-5506020de24d429563da6828ae8d635b1cddabe6-c0881bf2d5bc0d3d-01 outer:exit 2b-5506020de24d429563da6828ae8d635b1cddabe6-ebc30d9090209146-01
2021-09-23T17:21:38.227Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (359ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:45.639Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:45.639Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:45.639Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:45.640Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:45.725Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:45.779Z appoptics:patching patched crypto 
2021-09-23T17:21:45.809Z appoptics:patching patched https 
2021-09-23T17:21:45.809Z appoptics:patching patched http 
2021-09-23T17:21:45.870Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:45.870Z appoptics:patching patched fs 
2021-09-23T17:21:45.910Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v16.10.0)
2021-09-23T17:21:45.920Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2021-09-23T17:21:46.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-3009e80f868bbec65106ccb24d5f6c14d821668b-4f7a32c43f07cad3-01 outer:exit 2b-3009e80f868bbec65106ccb24d5f6c14d821668b-49991059a70e5055-01
2021-09-23T17:21:46.140Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:46.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-a93d61868c275b38ee1e5921629d82155d3a7f42-956451cc66f379a7-01 outer:exit 2b-a93d61868c275b38ee1e5921629d82155d3a7f42-07dd23b52c23c803-01
2021-09-23T17:21:46.205Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:46.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-dffc79bc12236c79e80a902d0047abd487c6576d-0557f806e405007f-01 outer:exit 2b-dffc79bc12236c79e80a902d0047abd487c6576d-4acc0051b7e04877-01
2021-09-23T17:21:46.210Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:46.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e1c16848bcac14307310070a3923bc5c1740b30-5c15176fe420f91a-01 outer:exit 2b-2e1c16848bcac14307310070a3923bc5c1740b30-3e17eb0fcbeaf4a9-01
2021-09-23T17:21:46.213Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:46.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-f20d988a10c786ef95b90ad686b2096e22c52b8a-a72308e6dedd9551-01 outer:exit 2b-f20d988a10c786ef95b90ad686b2096e22c52b8a-122f3f68fcd0011c-01
2021-09-23T17:21:46.219Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:46.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aefe3e435b0d0a7bc55653df43111272e5d9168-fb49817c40706ae7-01 outer:exit 2b-0aefe3e435b0d0a7bc55653df43111272e5d9168-aa4096c612efd71f-01
2021-09-23T17:21:46.223Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:46.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-22d3984284d85704d12bd19f18213675b1247e4c-6222510b9da7af59-01 outer:exit 2b-22d3984284d85704d12bd19f18213675b1247e4c-bbaf1071c798d465-01
2021-09-23T17:21:46.227Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:46.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-031c352d901ac4d7b3cf3b64697bcec6b041ffe0-d5d0e2fea41247c9-01 outer:exit 2b-031c352d901ac4d7b3cf3b64697bcec6b041ffe0-20ddc2917e128a01-01
2021-09-23T17:21:46.230Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:46.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fb105c183009a1d5db8c2a267b9d327220d1d55-00fe968ffbe81157-01 outer:exit 2b-2fb105c183009a1d5db8c2a267b9d327220d1d55-1d03ca033b7c04fc-01
2021-09-23T17:21:46.233Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:46.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-242b741e05ed520639c1c3edffc4dad608b935e8-4a0f6c83860d3a51-01 outer:exit 2b-242b741e05ed520639c1c3edffc4dad608b935e8-4f270bdd0ee280f1-01
2021-09-23T17:21:46.237Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:46.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-63717fd1a792fc71974f6c6720843302c5dfc293-7c981d78376314c8-01 outer:exit 2b-63717fd1a792fc71974f6c6720843302c5dfc293-65d61044cdcd95f5-01
2021-09-23T17:21:46.243Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:46.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-63e3080bed641d781616713aaefc217a499dab10-088cf89f0f8ba8fd-01 outer:exit 2b-63e3080bed641d781616713aaefc217a499dab10-3b4c923680544074-01
2021-09-23T17:21:46.251Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:46.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-4600c181ee3aa8acf14a6e6cc34d7e34bf25f822-30c1a78a21de6977-01 outer:exit 2b-4600c181ee3aa8acf14a6e6cc34d7e34bf25f822-992525ce969dc6e5-01
2021-09-23T17:21:46.271Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:46.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b72476c4f70316f0fcea7c1c8148a9fd1c471c4-6c0b312f5fada00c-01 outer:exit 2b-4b72476c4f70316f0fcea7c1c8148a9fd1c471c4-92106cc6bb9de2be-01
2021-09-23T17:21:46.304Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:46.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd950dcb6051babdd4c6d0b3f3830e6830a5c331-756a73e795ec3436-01 outer:exit 2b-cd950dcb6051babdd4c6d0b3f3830e6830a5c331-066875a27c19e7c9-01
2021-09-23T17:21:46.307Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:46.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-dadb4664c85fa4a864734af7b819d20e9862807b-bf154e79f0bef902-01 outer:exit 2b-dadb4664c85fa4a864734af7b819d20e9862807b-8199c1f45da5551a-01
2021-09-23T17:21:46.310Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:46.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-4745a1d5f2f5ee59d66eaba54c8639a1f51ffa7a-93904dbd461edc53-01 outer:exit 2b-4745a1d5f2f5ee59d66eaba54c8639a1f51ffa7a-fcc955b0fe860d04-01
2021-09-23T17:21:46.314Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:46.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-1700aad3ba3cfacb0586d46a423c71776bc6c992-0b4b243ff32da00f-01 outer:exit 2b-1700aad3ba3cfacb0586d46a423c71776bc6c992-ace1ed53ec223475-01
2021-09-23T17:21:46.317Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:46.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-08029c900b91d62d1c1357a06eecc62796bb658d-85375271ba27755c-01 outer:exit 2b-08029c900b91d62d1c1357a06eecc62796bb658d-e1661d312dda9cf9-01
2021-09-23T17:21:46.320Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:46.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f0661f24ebe39aa221254b40abac70916bf7a01-b77cf8fe33e2f7d0-01 outer:exit 2b-5f0661f24ebe39aa221254b40abac70916bf7a01-b425cce1ece3d9fa-01
2021-09-23T17:21:46.322Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:46.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1b40010416bb016230b8c736df7b105b56a618d-5e645adccc3dee08-01 outer:exit 2b-f1b40010416bb016230b8c736df7b105b56a618d-0e5c7d9c481da5eb-01
2021-09-23T17:21:46.325Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:46.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9dc48bee3f195ec50ed0501a5b8d0352ec7d3e7-8d531448280d5db6-01 outer:exit 2b-d9dc48bee3f195ec50ed0501a5b8d0352ec7d3e7-2dfd411100c9c5a4-01
2021-09-23T17:21:46.328Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:46.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd24194e5159d4cda3c011bdb85ba595a4cf47d6-479d393d9387c15e-01 outer:exit 2b-cd24194e5159d4cda3c011bdb85ba595a4cf47d6-88a94fd2fed4e01a-01
2021-09-23T17:21:46.331Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:46.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5e145c2cf3f74e94dda925092f05cdd7e9d81ec-44a126336b05781e-01 outer:exit 2b-a5e145c2cf3f74e94dda925092f05cdd7e9d81ec-8f0c318fc3862035-01
2021-09-23T17:21:46.335Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:46.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-063b7e5b93529edd5999832518b2f95f8960d0ba-7ce29b19a3b2271d-01 outer:exit 2b-063b7e5b93529edd5999832518b2f95f8960d0ba-7f167f59afb920c9-01
2021-09-23T17:21:46.338Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:46.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d339035aa3fc0eb186075c8d4dc3ca230da672e-af98236498b8f310-01 outer:exit 2b-2d339035aa3fc0eb186075c8d4dc3ca230da672e-a83c6c6d6cc6fb50-01
2021-09-23T17:21:46.342Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:46.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-67c759753f933c3c2721b58cefbd914a2a781fc6-9d9ef3b6b346185c-01 outer:exit 2b-67c759753f933c3c2721b58cefbd914a2a781fc6-1915222f971586b0-01
2021-09-23T17:21:46.350Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:46.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fbf1747d1f78f9137e7ae46650233e1590ca13d-e05db7edecc45376-01 outer:exit 2b-5fbf1747d1f78f9137e7ae46650233e1590ca13d-820ce149bed2e55a-01
2021-09-23T17:21:46.357Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:46.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b96e9059f2d8eeaf340fa388d58b4ce4a68fdd8-3183fb8b09898171-01 outer:exit 2b-6b96e9059f2d8eeaf340fa388d58b4ce4a68fdd8-9be2c3dc2e9c3442-01
2021-09-23T17:21:46.367Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:46.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-0db2f80d3061141b9303b3f03fe691700a3611f2-3396bcdd6783a2e3-01 outer:exit 2b-0db2f80d3061141b9303b3f03fe691700a3611f2-e3c8587d5ca0254b-01
2021-09-23T17:21:46.375Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:46.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-30eecbd3765a77db0df713fbf92dccc86e88361a-2118de692d883aa2-01 outer:exit 2b-30eecbd3765a77db0df713fbf92dccc86e88361a-0b3e391edd551381-01
2021-09-23T17:21:46.377Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:46.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a3ca12650e0808f1b3b3f94d91d18d474d1ad87-ad72e6f6c00f802a-01 outer:exit 2b-9a3ca12650e0808f1b3b3f94d91d18d474d1ad87-7e4469ef17aa2199-01
2021-09-23T17:21:46.381Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:46.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-4535b89464e25c34e9a51c36aee5fc12a1e7d783-e1cee7d3dc8a20d5-01 outer:exit 2b-4535b89464e25c34e9a51c36aee5fc12a1e7d783-3cf847374de57f14-01
2021-09-23T17:21:46.389Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:46.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-64c3a590c90362bb2e73a4e3243704f3abb8d941-6b2d8cf79c4da04e-01 outer:exit 2b-64c3a590c90362bb2e73a4e3243704f3abb8d941-afc9bf5e32962dca-01
2021-09-23T17:21:46.392Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:46.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fb0b1a3332859aa86759a3f39580d21261668f3-c63f3c664df59c0c-01 outer:exit 2b-3fb0b1a3332859aa86759a3f39580d21261668f3-2cbed68b90bea174-01
2021-09-23T17:21:46.394Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:46.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2edd8387546773c42d87202de5d7dafd50621dc-a67564301e77572b-01 outer:exit 2b-f2edd8387546773c42d87202de5d7dafd50621dc-d198fec8a403fa39-01
2021-09-23T17:21:46.398Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:46.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed00d10a31b65be295be1ab0fe359f6851e82b35-3303abaace1ef9a9-01 outer:exit 2b-ed00d10a31b65be295be1ab0fe359f6851e82b35-5f9c057d1a3f1550-01
2021-09-23T17:21:46.401Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:46.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-6551e8097d7bed84a043a70947f231253b80a628-86bafe54021684d2-01 outer:exit 2b-6551e8097d7bed84a043a70947f231253b80a628-b83061e466fc298e-01
2021-09-23T17:21:46.403Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:46.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f93f95d5c3c9f8c85b12b79dffe63929ad9e1a3-08658bf46b792a0f-01 outer:exit 2b-0f93f95d5c3c9f8c85b12b79dffe63929ad9e1a3-c1aee08a5f7c8b95-01
2021-09-23T17:21:46.414Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:46.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e11cacfa2d0ec037d21e41fca5c6f41584c39a3-21a0d64223d2cb94-01 outer:exit 2b-2e11cacfa2d0ec037d21e41fca5c6f41584c39a3-41334a650bd4084f-01
2021-09-23T17:21:46.428Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:46.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f645f170831c04a82d2a55866a17e894cd65a88-bfb0cd8afd538880-01 outer:exit 2b-2f645f170831c04a82d2a55866a17e894cd65a88-3dd98a80d753fef3-01
2021-09-23T17:21:46.432Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:46.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c67e8df784367638098f90e32b267f057542e6f-ac7c384ecb7bfa81-01 outer:exit 2b-0c67e8df784367638098f90e32b267f057542e6f-b2d8cc5c22c57873-01
2021-09-23T17:21:46.435Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:46.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb7b4da6158fdc857ec05383f6f46ececd81e676-041ec1b5d7b46458-01 outer:exit 2b-fb7b4da6158fdc857ec05383f6f46ececd81e676-6868a1cabcb78664-01
2021-09-23T17:21:46.439Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:46.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-d073da4e81ea1973c6e29d92df83963953dd60b2-db22bb2b1d9a1813-01 outer:exit 2b-d073da4e81ea1973c6e29d92df83963953dd60b2-e49a36fdcaa518fd-01
2021-09-23T17:21:46.472Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (382ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:21:54.043Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:54.043Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:54.043Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:54.044Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:54.129Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:54.183Z appoptics:patching patched crypto 
2021-09-23T17:21:54.211Z appoptics:patching patched https 
2021-09-23T17:21:54.212Z appoptics:patching patched http 
2021-09-23T17:21:54.273Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:54.273Z appoptics:patching patched fs 
2021-09-23T17:21:54.313Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v16.10.0)
2021-09-23T17:21:54.324Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2021-09-23T17:21:54.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e44e24727abdcdd05f57126e12bef89666e0ae3-68f76346d3b36453-01 outer:exit 2b-2e44e24727abdcdd05f57126e12bef89666e0ae3-3affb53157b24def-01
2021-09-23T17:21:54.540Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:54.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-83643b7cd8e07baa3d564a399153e7c5663f562d-95ff8fd93bd50d0d-01 outer:exit 2b-83643b7cd8e07baa3d564a399153e7c5663f562d-6cabf928342cdb57-01
2021-09-23T17:21:54.603Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:54.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e7535e1d6e298c7f02c140dae5b7bd4a3e80928-ade166b2b8760780-01 outer:exit 2b-6e7535e1d6e298c7f02c140dae5b7bd4a3e80928-ef6684d16b383232-01
2021-09-23T17:21:54.606Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:54.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-870f6f82b866f63f30a198fd9bbb045cd23d2a83-053d30a301289ced-01 outer:exit 2b-870f6f82b866f63f30a198fd9bbb045cd23d2a83-5f3343e9bb010e73-01
2021-09-23T17:21:54.611Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:54.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc2f67664b2f14cf5f2ea50ded3b890b96029384-4d73de738fd13bd0-01 outer:exit 2b-fc2f67664b2f14cf5f2ea50ded3b890b96029384-76b7fa70e05e5c5a-01
2021-09-23T17:21:54.616Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:54.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b63f6c871c5193e40e119e993c8359f3dff8345-4b80aab405ba7cb2-01 outer:exit 2b-3b63f6c871c5193e40e119e993c8359f3dff8345-021cd6c6838eaf17-01
2021-09-23T17:21:54.620Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:54.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-9628d35fda8d9c62e2828c8acd12dd3b1e6e7584-6a0791d1f7e3f476-01 outer:exit 2b-9628d35fda8d9c62e2828c8acd12dd3b1e6e7584-acf5e6ab9fbf4735-01
2021-09-23T17:21:54.623Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:54.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-1acb20c30e5eb23669078ddbe4ac408caf827f4b-1be6cee3bd7beb5b-01 outer:exit 2b-1acb20c30e5eb23669078ddbe4ac408caf827f4b-2a143a72cf39cc44-01
2021-09-23T17:21:54.626Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:54.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-b29050ecae21a949940e2631ffa3c1c3d33b6d24-19b0d15c8d739c5d-01 outer:exit 2b-b29050ecae21a949940e2631ffa3c1c3d33b6d24-7774669391d4a4d0-01
2021-09-23T17:21:54.630Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:54.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-630b8ff8277c01192426e0642ad8bbd36b800e35-9943c53ff6081f33-01 outer:exit 2b-630b8ff8277c01192426e0642ad8bbd36b800e35-6f4c2ae65e39b8ef-01
2021-09-23T17:21:54.634Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:54.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-85eaed24b796cd3a72cef933232bcddb35e63eb1-83b9ad96047872cb-01 outer:exit 2b-85eaed24b796cd3a72cef933232bcddb35e63eb1-54091f0e0a0378a7-01
2021-09-23T17:21:54.640Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:54.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-a82926f55d785e2021317a2d23d6ebe055bf7181-cd480de121ae1d6a-01 outer:exit 2b-a82926f55d785e2021317a2d23d6ebe055bf7181-09cfd858da2fab52-01
2021-09-23T17:21:54.648Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:54.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-efa10906aa52ec7e0faaef5e3314e78bc6f5de7c-04a4f992d9bf2e96-01 outer:exit 2b-efa10906aa52ec7e0faaef5e3314e78bc6f5de7c-7028795928265477-01
2021-09-23T17:21:54.665Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:54.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecc4a7369c8c395529e78290560ae2c4b59d1fac-54e164d096eb5cd8-01 outer:exit 2b-ecc4a7369c8c395529e78290560ae2c4b59d1fac-7c56c441c5b4aa72-01
2021-09-23T17:21:54.698Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:54.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-3577fe9f2226697a6699c388642459aaa2b22569-79b0008197e544a1-01 outer:exit 2b-3577fe9f2226697a6699c388642459aaa2b22569-d916fd47e928706a-01
2021-09-23T17:21:54.702Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:54.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-08a0f26f5abf342d21f9603e4bcaa208dcc95d44-9f8344d8ec7f3c23-01 outer:exit 2b-08a0f26f5abf342d21f9603e4bcaa208dcc95d44-60ed3d8a4a72e201-01
2021-09-23T17:21:54.705Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:54.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-61944bb2f924f05921b6245e5b51383e5ada9c7e-2edc2850cf4dc3fc-01 outer:exit 2b-61944bb2f924f05921b6245e5b51383e5ada9c7e-9054ee02b5fc25f2-01
2021-09-23T17:21:54.709Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:54.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf6c955c3a098e9d107c3b8d817041b540f0503c-723ba2c273a77adb-01 outer:exit 2b-bf6c955c3a098e9d107c3b8d817041b540f0503c-2ef2f12552e74e14-01
2021-09-23T17:21:54.712Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:54.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-64ee7d4b06c5ed86404b8c3961a1258475e48fcf-f97199cd8eb27ed1-01 outer:exit 2b-64ee7d4b06c5ed86404b8c3961a1258475e48fcf-d32b86be25a9dd8e-01
2021-09-23T17:21:54.715Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:54.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a648e07b9ee054661dafe8a7e620d48aeeb7bac-25a3e0b8de862ec7-01 outer:exit 2b-5a648e07b9ee054661dafe8a7e620d48aeeb7bac-8f4d7c5091fedb87-01
2021-09-23T17:21:54.717Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:54.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-11dbfc9c61ea1338ae0dfd3517a2588aa68b4670-10d44b38d430fd86-01 outer:exit 2b-11dbfc9c61ea1338ae0dfd3517a2588aa68b4670-c7bd034c2088382f-01
2021-09-23T17:21:54.720Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:54.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-a114a9fa95b49cb36c45aa332974de9dd23e7a05-ae625555d52c58c5-01 outer:exit 2b-a114a9fa95b49cb36c45aa332974de9dd23e7a05-15834950734b1a17-01
2021-09-23T17:21:54.722Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:54.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-55b3279b5591486ad42d0623d5ba7e2879b73d93-fa0af5921e2557d0-01 outer:exit 2b-55b3279b5591486ad42d0623d5ba7e2879b73d93-1a13b5cb0b6161e4-01
2021-09-23T17:21:54.726Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:54.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-0720e3a64ceac2a2e4ca14be4a07e398ab19d50f-6dc15f199972885e-01 outer:exit 2b-0720e3a64ceac2a2e4ca14be4a07e398ab19d50f-6cea0e5b855ccf12-01
2021-09-23T17:21:54.729Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:54.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-a50494e64865758853542ba7ba6ac16eac2ca977-c2ea2722217e7d13-01 outer:exit 2b-a50494e64865758853542ba7ba6ac16eac2ca977-442170cdc28be5cb-01
2021-09-23T17:21:54.733Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:54.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-083b405ca9fbab04d9e6511739fca0e41f3b1b78-46aa5e762ee5a719-01 outer:exit 2b-083b405ca9fbab04d9e6511739fca0e41f3b1b78-8017e96f2611ac30-01
2021-09-23T17:21:54.736Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:54.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-94d3921ce6594f06cad6622a2ebcf3aff0ac7821-4e7354fa499c460f-01 outer:exit 2b-94d3921ce6594f06cad6622a2ebcf3aff0ac7821-0ff5fd7bc6d1fc44-01
2021-09-23T17:21:54.744Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:54.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-82840bd096e7768f6280acf7c41dde6d41c28079-9ec6ca5ace49a354-01 outer:exit 2b-82840bd096e7768f6280acf7c41dde6d41c28079-501229b3dcb656b2-01
2021-09-23T17:21:54.751Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:54.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5f06f9df11b37b991ab132994df131c41c330dc-e809fa2e90981b07-01 outer:exit 2b-e5f06f9df11b37b991ab132994df131c41c330dc-8c5dd0dc58a0468c-01
2021-09-23T17:21:54.764Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:54.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e16f64af8b5dcb21d60c6dcf43f8d35f02c64a4-b803a066bbcd9110-01 outer:exit 2b-0e16f64af8b5dcb21d60c6dcf43f8d35f02c64a4-df56500cca7a9abf-01
2021-09-23T17:21:54.773Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:54.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-09bc828555e9b39642faaf3b4899424dde878c8d-ededf34edcf67a35-01 outer:exit 2b-09bc828555e9b39642faaf3b4899424dde878c8d-19f7c68de6ba04e9-01
2021-09-23T17:21:54.775Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:54.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9123f4c73b213219d1b6699d78778382f25c02a-396b8cca81e737cd-01 outer:exit 2b-a9123f4c73b213219d1b6699d78778382f25c02a-84658a2a4c563533-01
2021-09-23T17:21:54.779Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:54.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-9af4785a886a8d2fe5f4fb8dc337a09069b78012-27817ad2af012a9b-01 outer:exit 2b-9af4785a886a8d2fe5f4fb8dc337a09069b78012-c99568198cdfdf00-01
2021-09-23T17:21:54.790Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:54.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-f99adb19ff090c46b8745d199ccea568c0f6722e-5998ecffa6b86615-01 outer:exit 2b-f99adb19ff090c46b8745d199ccea568c0f6722e-d7fb0919c0b013d9-01
2021-09-23T17:21:54.792Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:54.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-26c56c6fa1c3ebd48a4234b02350927e752c593f-991ca2a17b6ac588-01 outer:exit 2b-26c56c6fa1c3ebd48a4234b02350927e752c593f-3b86f0d33f16bcd8-01
2021-09-23T17:21:54.795Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:54.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-97ea2292920f1a90c134d07f9d6771b729d35b30-2be1ea12ec997036-01 outer:exit 2b-97ea2292920f1a90c134d07f9d6771b729d35b30-e345d939cdd52ba2-01
2021-09-23T17:21:54.801Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:54.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-543006dfb4a3e33ac20eda47c5a74323c505fd22-830ab90ca1bd4dea-01 outer:exit 2b-543006dfb4a3e33ac20eda47c5a74323c505fd22-ea2648a4d23f1908-01
2021-09-23T17:21:54.804Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:54.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe82bd1523580e5d57bb922f9abbbaba83fb7cdb-b41ba32bc1095fbf-01 outer:exit 2b-fe82bd1523580e5d57bb922f9abbbaba83fb7cdb-5fb201c59f788899-01
2021-09-23T17:21:54.806Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:54.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d4b002bc103045faa7e11e11f9d11bfe6b57411-c174a873f35a2148-01 outer:exit 2b-4d4b002bc103045faa7e11e11f9d11bfe6b57411-82c88381f6fa7492-01
2021-09-23T17:21:54.820Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:54.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2745440536255b347a614768099cb4de9947fa4-1c721f037317d259-01 outer:exit 2b-a2745440536255b347a614768099cb4de9947fa4-5c1ecad332091cf7-01
2021-09-23T17:21:54.834Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:54.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-189af238453ce1ccf6204a119c5318de85badeee-9d8ebaa506cd1bbb-01 outer:exit 2b-189af238453ce1ccf6204a119c5318de85badeee-38a0937226137a71-01
2021-09-23T17:21:54.837Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:54.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecd0ee314318ed75a169f5145ff70633091d78c9-250be81f3741103d-01 outer:exit 2b-ecd0ee314318ed75a169f5145ff70633091d78c9-90582b54d0ff1ce1-01
2021-09-23T17:21:54.840Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:54.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-015719c88ca23f20084edd407b9822ade1a3d903-994390ddd56ed0ca-01 outer:exit 2b-015719c88ca23f20084edd407b9822ade1a3d903-37fa30f1a199b825-01
2021-09-23T17:21:54.845Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:54.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-4518db853b3fd447aabf5b0dd92de36115c64c7c-04cf351baa01b708-01 outer:exit 2b-4518db853b3fd447aabf5b0dd92de36115c64c7c-438da0d622a0d231-01
2021-09-23T17:21:54.881Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (378ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:02.346Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:02.346Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:02.346Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:02.347Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:02.422Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:02.465Z appoptics:patching patched crypto 
2021-09-23T17:22:02.488Z appoptics:patching patched https 
2021-09-23T17:22:02.489Z appoptics:patching patched http 
2021-09-23T17:22:02.545Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:02.546Z appoptics:patching patched fs 
2021-09-23T17:22:02.578Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v16.10.0)
2021-09-23T17:22:02.587Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2021-09-23T17:22:02.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6e75fb71f07b42b21428d1ad535c01d272f6dfd-e5ae88e737a60b85-01 outer:exit 2b-f6e75fb71f07b42b21428d1ad535c01d272f6dfd-43ebf00992fd63f4-01
2021-09-23T17:22:02.782Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:02.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-43e91a83127ae0597378757c355e262c2c151ee5-5f4e89b439809263-01 outer:exit 2b-43e91a83127ae0597378757c355e262c2c151ee5-9bed6e00ac7a387d-01
2021-09-23T17:22:02.849Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:02.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-29c504ca389763270be8e7c8abc3fc9fd7e32b61-885b9890c9139b13-01 outer:exit 2b-29c504ca389763270be8e7c8abc3fc9fd7e32b61-b38e701d9cac9535-01
2021-09-23T17:22:02.853Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:02.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-11517f631d4c3088dd944753c870ff35b8eaa5be-a94bad66402558b0-01 outer:exit 2b-11517f631d4c3088dd944753c870ff35b8eaa5be-b2e5398208a96fc4-01
2021-09-23T17:22:02.856Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:02.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b7fa67bd3d7f052533156632819767f30a95554-6aee18cdca1dd369-01 outer:exit 2b-6b7fa67bd3d7f052533156632819767f30a95554-c07c29dd36bbd38c-01
2021-09-23T17:22:02.861Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:02.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7d40aec6d2b893ef74729a3cb973e00d2e71c90-fe7db6d703e00bf5-01 outer:exit 2b-a7d40aec6d2b893ef74729a3cb973e00d2e71c90-d7c88e2cc93d56df-01
2021-09-23T17:22:02.865Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:02.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-7851138840d05662cd9dde915476908f65497e3d-fb5241cdcab6f041-01 outer:exit 2b-7851138840d05662cd9dde915476908f65497e3d-e11062642a2883e6-01
2021-09-23T17:22:02.867Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:02.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-606b7e3b42fcd6c60cc76f2843285a82c3d0aa9d-e2321e655b6283f8-01 outer:exit 2b-606b7e3b42fcd6c60cc76f2843285a82c3d0aa9d-f9448536c64856c5-01
2021-09-23T17:22:02.870Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:02.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-3190c6b5dd9e9bf35c5fbccc166dc59f8cd391b5-4d80245b35579859-01 outer:exit 2b-3190c6b5dd9e9bf35c5fbccc166dc59f8cd391b5-059dc15914790401-01
2021-09-23T17:22:02.873Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:02.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fd93a595dc5183c9ff714a761d1c867f944f87b-cc1e521bbd3889a8-01 outer:exit 2b-1fd93a595dc5183c9ff714a761d1c867f944f87b-be88dd8d0cba2b37-01
2021-09-23T17:22:02.876Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:02.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e424fa4a9436eff93ead3a42060b827b21cb4d6-56487e2ecc43ff55-01 outer:exit 2b-1e424fa4a9436eff93ead3a42060b827b21cb4d6-2804cb6fbee775ee-01
2021-09-23T17:22:02.880Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:02.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdf611b77b2142b54dde35453f013c9565ab37ae-85bc5fa0a114b236-01 outer:exit 2b-cdf611b77b2142b54dde35453f013c9565ab37ae-dbed8939ce67dcb5-01
2021-09-23T17:22:02.899Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:02.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-a144b4a3cdc0975ead735802b9353791f765ffcd-36c196e232d3fec4-01 outer:exit 2b-a144b4a3cdc0975ead735802b9353791f765ffcd-377f6773d1a555ee-01
2021-09-23T17:22:02.919Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:02.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d28c0b490df8af2530bfc7e9991fecf38fbc11c-1a01d974e3185c02-01 outer:exit 2b-3d28c0b490df8af2530bfc7e9991fecf38fbc11c-063f075adb2e3241-01
2021-09-23T17:22:02.948Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:02.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-c38df6b00943e2c2df346aea730601830566020a-f57370950dcf5fb3-01 outer:exit 2b-c38df6b00943e2c2df346aea730601830566020a-a5dd657657cb082c-01
2021-09-23T17:22:02.950Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:02.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-747814c97f8089d8f8a3d0c0252035229fc019fe-5815cf6fd88017ef-01 outer:exit 2b-747814c97f8089d8f8a3d0c0252035229fc019fe-06768650c265f0f5-01
2021-09-23T17:22:02.954Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:02.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca5a9b18da06b8b3f3c40119653dec19fe286e6f-e06134d4f10f3a3c-01 outer:exit 2b-ca5a9b18da06b8b3f3c40119653dec19fe286e6f-2ad53629b23e49c2-01
2021-09-23T17:22:02.957Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:02.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-965ee3df9ca5fa45e2be8bc0e0a379f3cac1cf44-209f021ab7836ca5-01 outer:exit 2b-965ee3df9ca5fa45e2be8bc0e0a379f3cac1cf44-64d8fb15e8535b0d-01
2021-09-23T17:22:02.959Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:02.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fcddf51e1a622ead4009143b0c00b074d6740a8-f68a9cc821fa6ce1-01 outer:exit 2b-7fcddf51e1a622ead4009143b0c00b074d6740a8-38d67392e873fc4f-01
2021-09-23T17:22:02.961Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:02.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-89334857480c32120a9b37a0f18082d590c863b8-d25a847b0f2cd39d-01 outer:exit 2b-89334857480c32120a9b37a0f18082d590c863b8-803fbb05c2b41405-01
2021-09-23T17:22:02.964Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:02.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d9148762c70b9c26f056174a970499e49958e47-e250eb85b8bc2f97-01 outer:exit 2b-8d9148762c70b9c26f056174a970499e49958e47-1b1617dee8d7d494-01
2021-09-23T17:22:02.966Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:02.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d56da8463a23876fc88ce4c83627849556f40cd-335497aa2288503d-01 outer:exit 2b-7d56da8463a23876fc88ce4c83627849556f40cd-2ff81960c8a38254-01
2021-09-23T17:22:02.969Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:02.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebbf7395812ad4cde4a41ee27aa66d7c0d2704c9-92555a03a17a9988-01 outer:exit 2b-ebbf7395812ad4cde4a41ee27aa66d7c0d2704c9-d3e35e7c65b034b6-01
2021-09-23T17:22:02.972Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:02.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-16697014c61cf3c9c4bc88e4b9221d7a86b1d58a-63b8c73e99e940fd-01 outer:exit 2b-16697014c61cf3c9c4bc88e4b9221d7a86b1d58a-694413c1e9d25ab7-01
2021-09-23T17:22:02.976Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:02.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f23759c54daa77a199c679d6af4072cce920acc-85b47c84ddc1068f-01 outer:exit 2b-1f23759c54daa77a199c679d6af4072cce920acc-7d24bf384d71a74d-01
2021-09-23T17:22:02.978Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:02.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dab4d1f777fe7a84914eaef04038e486794671e-c8a3cdb60330eef6-01 outer:exit 2b-6dab4d1f777fe7a84914eaef04038e486794671e-3ae7b7c0e14f5102-01
2021-09-23T17:22:02.981Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:03.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-844f92d48370de0ee3959e329be810f4d581151b-3d5694a0acd9c2b3-01 outer:exit 2b-844f92d48370de0ee3959e329be810f4d581151b-5f9bbe07bb6a7b67-01
2021-09-23T17:22:03.000Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:03.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-87092e321d05d7ccb57aa45296624075da1aea6f-fe5b54b0a4b5f34d-01 outer:exit 2b-87092e321d05d7ccb57aa45296624075da1aea6f-2a8906a6418ba771-01
2021-09-23T17:22:03.019Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:03.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f65bcb1c134b0ada90ae70763611d3bd0c284f6-f8e9b15ed7cb5a54-01 outer:exit 2b-0f65bcb1c134b0ada90ae70763611d3bd0c284f6-38508ada21320b6e-01
2021-09-23T17:22:03.029Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:03.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-75ef5df6183e47f676ca7912445844620db68519-fefa34c58bf363bf-01 outer:exit 2b-75ef5df6183e47f676ca7912445844620db68519-debc935581d69fea-01
2021-09-23T17:22:03.036Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:03.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-deaa862fc3967ed4a6739123096c09e781dcffc8-4ca0e9cc90ad0a38-01 outer:exit 2b-deaa862fc3967ed4a6739123096c09e781dcffc8-2dc24bb7486450d7-01
2021-09-23T17:22:03.038Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:03.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-262a0481597fd72a2ebf53fe8d433e61e64fe3bb-903914423b5e6021-01 outer:exit 2b-262a0481597fd72a2ebf53fe8d433e61e64fe3bb-54bcd5e884e0454e-01
2021-09-23T17:22:03.043Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:03.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a31aef9b4f28daf2748f28d0ba61e6869e77b0f-a4493d6751be20c1-01 outer:exit 2b-1a31aef9b4f28daf2748f28d0ba61e6869e77b0f-c1402aa26e5a99fc-01
2021-09-23T17:22:03.054Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:03.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-50dd4d3f00101a36984fe0fee12881992ad1507d-f8ecc0819c9d3e71-01 outer:exit 2b-50dd4d3f00101a36984fe0fee12881992ad1507d-b137db1ed0619167-01
2021-09-23T17:22:03.056Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:03.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-f28c6c9a7610f61c88280cb76ed84c5ab04ef1de-7600d52b77ff6f6a-01 outer:exit 2b-f28c6c9a7610f61c88280cb76ed84c5ab04ef1de-6d5fbb78c1fba554-01
2021-09-23T17:22:03.059Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:03.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-3224ba813fa23315fea5595ceedc9d3a99cbc311-eff8228eafa6c346-01 outer:exit 2b-3224ba813fa23315fea5595ceedc9d3a99cbc311-106054779f2ff2b2-01
2021-09-23T17:22:03.061Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:03.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-f39336e0c13d4c2fab002bd4639b495ade09233a-3771a08e00242d01-01 outer:exit 2b-f39336e0c13d4c2fab002bd4639b495ade09233a-f33a4dcaaeab6aa9-01
2021-09-23T17:22:03.064Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:03.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-02ad6a07db9f1dc22e142676d57706a0702c34aa-4f773382a5658361-01 outer:exit 2b-02ad6a07db9f1dc22e142676d57706a0702c34aa-5f0a1dcf9952d608-01
2021-09-23T17:22:03.067Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:03.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c6003eb1c0da44cf1867844912524140417a1c8-de7f5e273306bafd-01 outer:exit 2b-3c6003eb1c0da44cf1867844912524140417a1c8-99edb7c0b911761f-01
2021-09-23T17:22:03.079Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:03.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-de1b7dd4ae4e7eca67883b7ca14fe1214d8a6aa9-768fd13589bacaf3-01 outer:exit 2b-de1b7dd4ae4e7eca67883b7ca14fe1214d8a6aa9-be935fd38868bd07-01
2021-09-23T17:22:03.088Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:03.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-6164642b13068bc23965e711d44f4bb8bec32aec-0b35831e75566974-01 outer:exit 2b-6164642b13068bc23965e711d44f4bb8bec32aec-2f5cf7dd4595f858-01
2021-09-23T17:22:03.091Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:03.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-a45f090e3778d1f18ee34e0e5a4f8d1bad39578d-760011b491073017-01 outer:exit 2b-a45f090e3778d1f18ee34e0e5a4f8d1bad39578d-0bea24d5329804a6-01
2021-09-23T17:22:03.094Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:03.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-09f0655a5ef6fd96a83b9cdf6038a6c4a3209f08-b9359951d487e940-01 outer:exit 2b-09f0655a5ef6fd96a83b9cdf6038a6c4a3209f08-cb62fc884bd0ee87-01
2021-09-23T17:22:03.111Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:03.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-45668e84b1cc147b1504d102a2c52dddcb36ea66-ffb5a48fd977b455-01 outer:exit 2b-45668e84b1cc147b1504d102a2c52dddcb36ea66-802f1cf597544959-01
2021-09-23T17:22:03.139Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (395ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:11.086Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:11.086Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:11.086Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:11.087Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:11.160Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:11.203Z appoptics:patching patched crypto 
2021-09-23T17:22:11.226Z appoptics:patching patched https 
2021-09-23T17:22:11.226Z appoptics:patching patched http 
2021-09-23T17:22:11.274Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:11.275Z appoptics:patching patched fs 
2021-09-23T17:22:11.303Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v16.10.0)
2021-09-23T17:22:11.311Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2021-09-23T17:22:11.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-23f4db00dd744f6508e988f54e06c716845f4620-67b1ff65f2b51514-01 outer:exit 2b-23f4db00dd744f6508e988f54e06c716845f4620-955944fb55251125-01
2021-09-23T17:22:11.521Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:11.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a3c42f050a46e533cb846ea49085ba484794c08-0da045ca0365898c-01 outer:exit 2b-2a3c42f050a46e533cb846ea49085ba484794c08-7aab8332b29b559b-01
2021-09-23T17:22:11.604Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:11.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e89a19fbc932d04bec213b6da6afed132cf1e9e-0228226a718e52a6-01 outer:exit 2b-4e89a19fbc932d04bec213b6da6afed132cf1e9e-d21897732ac3398c-01
2021-09-23T17:22:11.608Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:11.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ce163821e5088717aef2eecc3bf968c13c1fe51-a1a1f3fe887a1ca9-01 outer:exit 2b-8ce163821e5088717aef2eecc3bf968c13c1fe51-6eba3a7b16086ec8-01
2021-09-23T17:22:11.612Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:11.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-10fea931bca74918a3d4187b888e8ef86c72f830-639e36929267bf09-01 outer:exit 2b-10fea931bca74918a3d4187b888e8ef86c72f830-bef09d51b02a9326-01
2021-09-23T17:22:11.617Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:11.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-34b6dffcbdd019b40e77309cff6a91794ab8102a-9e70f966bb0c58f8-01 outer:exit 2b-34b6dffcbdd019b40e77309cff6a91794ab8102a-5c01973d622ce922-01
2021-09-23T17:22:11.622Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:11.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5895ace01a07bca59e2357dab8806883d508e39-c96580f99cdcd847-01 outer:exit 2b-f5895ace01a07bca59e2357dab8806883d508e39-1cbc522dcf954d43-01
2021-09-23T17:22:11.625Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:11.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a826f87d8de78652e4e055f5bd01b79ec1bf543-0ddaf10b9d4858bd-01 outer:exit 2b-7a826f87d8de78652e4e055f5bd01b79ec1bf543-00b78004bc98bd32-01
2021-09-23T17:22:11.629Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:11.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebd1bf36723c59f2486fe2777da4869ed7b3dfb3-417ad404a42487cc-01 outer:exit 2b-ebd1bf36723c59f2486fe2777da4869ed7b3dfb3-47203de746a8e375-01
2021-09-23T17:22:11.633Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:11.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf38dffa89d5cca16844f64d35aa7f3ce519c65f-f750435e62514c9a-01 outer:exit 2b-bf38dffa89d5cca16844f64d35aa7f3ce519c65f-062b2d4140664709-01
2021-09-23T17:22:11.636Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:11.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-c98c2a86039a745615e911072caa3bf6ee36d04c-18af507903a106d2-01 outer:exit 2b-c98c2a86039a745615e911072caa3bf6ee36d04c-69a96407bbc76243-01
2021-09-23T17:22:11.642Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:11.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d5a9bcdd3b28b3c53c88a74ae4b105518aa680b-c78909425c1b0f38-01 outer:exit 2b-9d5a9bcdd3b28b3c53c88a74ae4b105518aa680b-501ac5e56ed60795-01
2021-09-23T17:22:11.650Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:11.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-336421f8a63b0daf9f4723278681f392d1dcb675-8dd3f9db56048242-01 outer:exit 2b-336421f8a63b0daf9f4723278681f392d1dcb675-7a936d7a19fd0f88-01
2021-09-23T17:22:11.669Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:11.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7a2c829c9ec6d237d3b05ff86ab42dc4fe3fb6b-36f59e3edd9faad3-01 outer:exit 2b-a7a2c829c9ec6d237d3b05ff86ab42dc4fe3fb6b-b30f73b66ea8df31-01
2021-09-23T17:22:11.711Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:11.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ff6b42b7053867a97f5a0dc71ea5cdf4a7fbaff-fb08cf89848f380e-01 outer:exit 2b-4ff6b42b7053867a97f5a0dc71ea5cdf4a7fbaff-7a3c92d389ce4082-01
2021-09-23T17:22:11.715Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:11.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-a65cc462d13bce44c11c9e1c1a705b54e4b5f4cc-8527694f9d5c28ac-01 outer:exit 2b-a65cc462d13bce44c11c9e1c1a705b54e4b5f4cc-677475af26a09c4f-01
2021-09-23T17:22:11.718Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:11.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-95b6eb185eefc0050aa493e347226b700f0ff2b6-392b175cee2e4428-01 outer:exit 2b-95b6eb185eefc0050aa493e347226b700f0ff2b6-e011ba4a7af80e63-01
2021-09-23T17:22:11.722Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:11.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ea5bf9d1696df53ff7df1ba805fdeb0472a031b-a43b6adedc095736-01 outer:exit 2b-8ea5bf9d1696df53ff7df1ba805fdeb0472a031b-4ad687ed7fe0868d-01
2021-09-23T17:22:11.724Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:11.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0bfd9675131629c13c47ca3ffea02f526018776-ceeac3919388e361-01 outer:exit 2b-d0bfd9675131629c13c47ca3ffea02f526018776-c446b941947a2ff9-01
2021-09-23T17:22:11.727Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:11.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fb16f4bf76e88c7e23aa534e6cb7cf9a78df6c0-859f65e21af21bad-01 outer:exit 2b-9fb16f4bf76e88c7e23aa534e6cb7cf9a78df6c0-70e9c379566e704d-01
2021-09-23T17:22:11.730Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:11.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-804845e2fd716dddb39b1820dec945d8a8e32d03-e3baf4c6ce5546ac-01 outer:exit 2b-804845e2fd716dddb39b1820dec945d8a8e32d03-6b9b1cfa8e8e5052-01
2021-09-23T17:22:11.733Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:11.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fb216a7ee9c3127cbdab4b486fbe84f2a8f8260-318713508cba57b1-01 outer:exit 2b-1fb216a7ee9c3127cbdab4b486fbe84f2a8f8260-ba5377a31c20fe50-01
2021-09-23T17:22:11.736Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:11.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-484aeca65bb75b405f05e39d2fe7868e6d367952-8df7cf7cf380abed-01 outer:exit 2b-484aeca65bb75b405f05e39d2fe7868e6d367952-6769141368350f77-01
2021-09-23T17:22:11.741Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:11.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-79eb73ba5ba4528401c43f05471d71e93b722b34-31ae2cd0fc622812-01 outer:exit 2b-79eb73ba5ba4528401c43f05471d71e93b722b34-2c755bdaf7ce1bd1-01
2021-09-23T17:22:11.745Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:11.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f98cec44f06c672818176fb6c81fd1c4ee17788-1c13fd7243c7760c-01 outer:exit 2b-6f98cec44f06c672818176fb6c81fd1c4ee17788-62e36434f84b2e36-01
2021-09-23T17:22:11.748Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:11.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0abeb0d45f58d27c0c05f28bd5cd2209e25a4e5-7c2aad247fcc0c13-01 outer:exit 2b-b0abeb0d45f58d27c0c05f28bd5cd2209e25a4e5-640badc64b4a4b42-01
2021-09-23T17:22:11.751Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:11.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-430ea15b7c00d761154592bbcbbef66af8ea4533-4827721c1074904a-01 outer:exit 2b-430ea15b7c00d761154592bbcbbef66af8ea4533-90b312fa6e1a6620-01
2021-09-23T17:22:11.759Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:11.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9403fec49d15f81d6ed7b5e32c7f1923cbcf66c-b271aab302914449-01 outer:exit 2b-b9403fec49d15f81d6ed7b5e32c7f1923cbcf66c-7546b3cc953331d2-01
2021-09-23T17:22:11.764Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:11.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a0a293e9d9d9b1387101e7d06bf717605a546cd-7d67ae356d021975-01 outer:exit 2b-8a0a293e9d9d9b1387101e7d06bf717605a546cd-63f212cc56ef274e-01
2021-09-23T17:22:11.775Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:11.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-6622f36b161b8d873712301efcfdce32b1ba1154-cad97473144837a2-01 outer:exit 2b-6622f36b161b8d873712301efcfdce32b1ba1154-e7d0c4b8d3b4c85d-01
2021-09-23T17:22:11.784Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:11.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d5c58623ed02e41ae86df2a76d231e268cd3263-35cb5db088b305af-01 outer:exit 2b-5d5c58623ed02e41ae86df2a76d231e268cd3263-062d32b6f2fb4c3c-01
2021-09-23T17:22:11.787Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:11.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-88790e1be52050320dc972996f5572fa09264ed6-76388be91043d5a6-01 outer:exit 2b-88790e1be52050320dc972996f5572fa09264ed6-0dd42769619c42d8-01
2021-09-23T17:22:11.791Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:11.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc755ad7a7dc4497ee90650c4bef6bc804498f59-530af99cc0424ccd-01 outer:exit 2b-dc755ad7a7dc4497ee90650c4bef6bc804498f59-9c9f9077a0ceb2dc-01
2021-09-23T17:22:11.799Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:11.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-910fe1bcbc0311b0756f0d834fc661ac1a774df5-05dea5a15283deba-01 outer:exit 2b-910fe1bcbc0311b0756f0d834fc661ac1a774df5-220654095070fd3f-01
2021-09-23T17:22:11.802Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:11.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-e74cacffef104b26ba26ed3c7a1e2ecf117daab9-7433f2b38c2fd566-01 outer:exit 2b-e74cacffef104b26ba26ed3c7a1e2ecf117daab9-8f7f2a2915fbf655-01
2021-09-23T17:22:11.804Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:11.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-71e51c8e76dbf1ad4c23e459f56ff538642e3137-435877f6d85e35b6-01 outer:exit 2b-71e51c8e76dbf1ad4c23e459f56ff538642e3137-121da8d13c351858-01
2021-09-23T17:22:11.807Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:11.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4ec8a10cc06f641b06976d8e23855b1129dadb4-1ac87950c441e7c5-01 outer:exit 2b-b4ec8a10cc06f641b06976d8e23855b1129dadb4-c36bc3c4f22c0109-01
2021-09-23T17:22:11.811Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:11.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-761a30e8cadc9a9c1f47ab7857c011c2ce9bee98-6131e6d57358bf8a-01 outer:exit 2b-761a30e8cadc9a9c1f47ab7857c011c2ce9bee98-52487f057b215821-01
2021-09-23T17:22:11.814Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:11.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8edc0edb4e18c5c78e864bb4cf43f2561ef9215-0cafc492bafae44b-01 outer:exit 2b-d8edc0edb4e18c5c78e864bb4cf43f2561ef9215-58049d7b80fbd2fb-01
2021-09-23T17:22:11.831Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:11.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-6846fbbf5ccb88e80207b28b55c0b1cc3e182500-adcf694690199358-01 outer:exit 2b-6846fbbf5ccb88e80207b28b55c0b1cc3e182500-abf76c23fd6fbb72-01
2021-09-23T17:22:11.842Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:11.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa7f643db8b4247448d95f22812022b4dbeed4d3-c220db6adba58b0f-01 outer:exit 2b-aa7f643db8b4247448d95f22812022b4dbeed4d3-d500f56fa90a8890-01
2021-09-23T17:22:11.846Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:11.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7c6dc3c201a7dc7b60a2fbfd8f0951b8af65ea5-5d844c57a63b0ad1-01 outer:exit 2b-a7c6dc3c201a7dc7b60a2fbfd8f0951b8af65ea5-d2a46ca7ba4ac5a8-01
2021-09-23T17:22:11.851Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:11.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae57b43fc292f57b01646bcadaeccd25236c9512-a1e1b19677df97ee-01 outer:exit 2b-ae57b43fc292f57b01646bcadaeccd25236c9512-bf162fa9dec6f82a-01
2021-09-23T17:22:11.856Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:11.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-9766fbded0ad87f4a4280a9581fb07fa1d29dac9-e4754c79721272f3-01 outer:exit 2b-9766fbded0ad87f4a4280a9581fb07fa1d29dac9-b82d941cf1e71320-01
2021-09-23T17:22:11.893Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (433ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 9s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:21.046Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:21.047Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:21.047Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:21.048Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:21.144Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:21.206Z appoptics:patching patched crypto 
2021-09-23T17:22:21.231Z appoptics:patching patched https 
2021-09-23T17:22:21.232Z appoptics:patching patched http 
2021-09-23T17:22:21.282Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:21.282Z appoptics:patching patched fs 
2021-09-23T17:22:21.313Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v16.10.0)
2021-09-23T17:22:21.320Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2021-09-23T17:22:21.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-a97d1b5f848108cbead7d3542da2ada65733a157-d6de4a9f04229389-01 outer:exit 2b-a97d1b5f848108cbead7d3542da2ada65733a157-bbb27fb30f2d0a83-01
2021-09-23T17:22:21.519Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:21.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1316a604ff967038336ee121f4f8e3211f4edb3-a948f1f514a92399-01 outer:exit 2b-c1316a604ff967038336ee121f4f8e3211f4edb3-7d2f271e9f28ef82-01
2021-09-23T17:22:21.558Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:21.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a0336bffd951d2e7c5b1276f9f303558447be1f-0d7505b2e5375400-01 outer:exit 2b-5a0336bffd951d2e7c5b1276f9f303558447be1f-b0525d4d4797f94a-01
2021-09-23T17:22:21.562Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:21.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-21f3e0cbf79a093f838bea299715b866136deed2-f49d70459b06069c-01 outer:exit 2b-21f3e0cbf79a093f838bea299715b866136deed2-f0345149f3ef6174-01
2021-09-23T17:22:21.567Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:21.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-47cc6abeb08c240ceeee3cc60f8737b4352b4a93-2e6011bc0dcdc7d1-01 outer:exit 2b-47cc6abeb08c240ceeee3cc60f8737b4352b4a93-8cb2501950852a64-01
2021-09-23T17:22:21.572Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:21.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-f699b9b6fda863ad4863de0db18bec64e8d45736-a62c6e5fddfa2f59-01 outer:exit 2b-f699b9b6fda863ad4863de0db18bec64e8d45736-41c449fc877d26db-01
2021-09-23T17:22:21.576Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:21.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-c86224863a27b87b8ef9ff506d09971216e717db-454ee8a767fdd715-01 outer:exit 2b-c86224863a27b87b8ef9ff506d09971216e717db-9704f60c9eec7076-01
2021-09-23T17:22:21.578Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:21.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca785bd47944badd1207bf024c02a8103385badc-ae6ef477f351b822-01 outer:exit 2b-ca785bd47944badd1207bf024c02a8103385badc-76d15b05450200be-01
2021-09-23T17:22:21.582Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:21.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad09f82d96e67b9e39a2398d162ed87ab8349ef4-927562776f226a28-01 outer:exit 2b-ad09f82d96e67b9e39a2398d162ed87ab8349ef4-6ef30eb6542d6f8f-01
2021-09-23T17:22:21.585Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:21.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-72add869994bb3213fc090a1a3084c9e54b11cf0-638d0a45c46abbcf-01 outer:exit 2b-72add869994bb3213fc090a1a3084c9e54b11cf0-56843c9502b5eb21-01
2021-09-23T17:22:21.588Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:21.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1cda7b58932c47a49dbc8cace7855cf8b044e65-d89d0413335c6805-01 outer:exit 2b-e1cda7b58932c47a49dbc8cace7855cf8b044e65-be0980d2ea5cf108-01
2021-09-23T17:22:21.593Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:21.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e6759dda9350a16f863b0948e99f058057c06d4-4536867bb2ddf0e5-01 outer:exit 2b-6e6759dda9350a16f863b0948e99f058057c06d4-3428a218c44b402a-01
2021-09-23T17:22:21.600Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:21.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe87b5121170265167bc5b00fca50821d069e112-b00b3b01fc96cd22-01 outer:exit 2b-fe87b5121170265167bc5b00fca50821d069e112-4a234a12096e06d6-01
2021-09-23T17:22:21.616Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:21.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-7df64919c2a8b00b04e334994036dc385e20bebd-d3d47d242640bd0a-01 outer:exit 2b-7df64919c2a8b00b04e334994036dc385e20bebd-98be4dfb432e9108-01
2021-09-23T17:22:21.658Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:21.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-d169cd150aa9ebe684bde97465dc0c0048cb17f1-07cfa52977634a68-01 outer:exit 2b-d169cd150aa9ebe684bde97465dc0c0048cb17f1-f4612e375ffadda5-01
2021-09-23T17:22:21.661Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:21.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-61ad8d7c4824a8e37d5a4b2cd7efec629a7638f3-a1d47381206e94b8-01 outer:exit 2b-61ad8d7c4824a8e37d5a4b2cd7efec629a7638f3-dc292a73ab824c70-01
2021-09-23T17:22:21.664Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:21.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-4664546e1d324e69b77a70cba191c126197c62ed-33509296b34645cf-01 outer:exit 2b-4664546e1d324e69b77a70cba191c126197c62ed-f20ebeb2292da992-01
2021-09-23T17:22:21.668Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:21.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-8621b3724807fb9eb5ac37aec83056030bd4b727-727946e8910c8de1-01 outer:exit 2b-8621b3724807fb9eb5ac37aec83056030bd4b727-d0cb8c6bdf0f3383-01
2021-09-23T17:22:21.671Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:21.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-90934233a676c3766522b525fa1cae74206b9d71-7787392933a539f0-01 outer:exit 2b-90934233a676c3766522b525fa1cae74206b9d71-d6291c9c056332fb-01
2021-09-23T17:22:21.674Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:21.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-121ac65b3b105dd6b378cdfc2017799fb13f5a01-f459ea35a6710925-01 outer:exit 2b-121ac65b3b105dd6b378cdfc2017799fb13f5a01-328569733af32ece-01
2021-09-23T17:22:21.676Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:21.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a613b30a33c6c36a9db0d48f0e2251c859093cf-65963daaf18b954f-01 outer:exit 2b-6a613b30a33c6c36a9db0d48f0e2251c859093cf-5a49d6cbe56a3f20-01
2021-09-23T17:22:21.678Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:21.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-79181f8a7e6ddde2d2c3afe83af90ec6db883d00-e65673a82b5e6773-01 outer:exit 2b-79181f8a7e6ddde2d2c3afe83af90ec6db883d00-c13ff3e4002c77e2-01
2021-09-23T17:22:21.682Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:21.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cff6a49971f974e7ee2e7cb88b6ee967da9fd91-aeadfcfcf68e0b39-01 outer:exit 2b-2cff6a49971f974e7ee2e7cb88b6ee967da9fd91-3518a9d1c33a6870-01
2021-09-23T17:22:21.686Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:21.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-96ebef3e5ba72430d278924d06db0449673cbdf0-54dae31531315692-01 outer:exit 2b-96ebef3e5ba72430d278924d06db0449673cbdf0-c2867a0c79ae8a89-01
2021-09-23T17:22:21.689Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:21.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-a168d11b10167aa809b0560417cd32ceb67b4f0a-8213f5c0cc07f47f-01 outer:exit 2b-a168d11b10167aa809b0560417cd32ceb67b4f0a-448f5e389941dac2-01
2021-09-23T17:22:21.692Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:21.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e99589514909e4bc19cc29a10079c8bc56abb35-4445c73c14174e1a-01 outer:exit 2b-2e99589514909e4bc19cc29a10079c8bc56abb35-1772f9ca87630854-01
2021-09-23T17:22:21.695Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:21.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-9442a865da50eb460a8687d09ca4fa33a563ffe9-236cab427f2bbf41-01 outer:exit 2b-9442a865da50eb460a8687d09ca4fa33a563ffe9-4c44d94fcd48d686-01
2021-09-23T17:22:21.703Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:21.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-681e3d25750ad30d50be6577a2d8c73f52b8eb5f-42cf4f1626f676b4-01 outer:exit 2b-681e3d25750ad30d50be6577a2d8c73f52b8eb5f-745a62f09aa8be71-01
2021-09-23T17:22:21.709Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:21.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-35fd1aabce640fb099d583c4dff1c14af1826d30-26b41fc1083f42f7-01 outer:exit 2b-35fd1aabce640fb099d583c4dff1c14af1826d30-5ddd14b776d5c15b-01
2021-09-23T17:22:21.720Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:21.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-b868154de45db8822b8c9a067b40cb27ee93e632-2b8dbe965d2ea272-01 outer:exit 2b-b868154de45db8822b8c9a067b40cb27ee93e632-6d123612e9fe3715-01
2021-09-23T17:22:21.728Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:21.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1d204e65b3d4b7592e26d5e5c0a1adf8f582ff1-1e98c1d9442ca354-01 outer:exit 2b-f1d204e65b3d4b7592e26d5e5c0a1adf8f582ff1-60a9d049b2261237-01
2021-09-23T17:22:21.731Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:21.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1153963eb597a1e71b12ac67e17fd12d65e444e-0a34f69e5ac1a92e-01 outer:exit 2b-c1153963eb597a1e71b12ac67e17fd12d65e444e-7bedca832de81178-01
2021-09-23T17:22:21.735Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:21.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-94aab2419a5445a9b753d7dbfb1ca41cf7adc35a-2dbbea91fc8cdab7-01 outer:exit 2b-94aab2419a5445a9b753d7dbfb1ca41cf7adc35a-ffc3742fbd31271e-01
2021-09-23T17:22:21.743Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:21.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-86223cf42abf424c2569976a2d44d04f6a581377-433d424e62e31679-01 outer:exit 2b-86223cf42abf424c2569976a2d44d04f6a581377-48f3dea20fc04334-01
2021-09-23T17:22:21.745Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:21.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffaf60bc0711a125a760ee2870877b7879bb8e8a-0d6674fd4a5c1846-01 outer:exit 2b-ffaf60bc0711a125a760ee2870877b7879bb8e8a-96969a369f1c972a-01
2021-09-23T17:22:21.748Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:21.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff44d68b50b4e9798f28d472fdae490630feb075-e053b4e31121bcc8-01 outer:exit 2b-ff44d68b50b4e9798f28d472fdae490630feb075-5651e646b33680b3-01
2021-09-23T17:22:21.756Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:21.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-5271e07ba2561951c792b169c7382be1d8d39ff5-b8e0bc6eee9cb012-01 outer:exit 2b-5271e07ba2561951c792b169c7382be1d8d39ff5-a33e66d7410f4bda-01
2021-09-23T17:22:21.759Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:21.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-36186e73071bbe88a900420e0e30422873d28174-0e6066afe3d962b2-01 outer:exit 2b-36186e73071bbe88a900420e0e30422873d28174-9dae01f5b2c839be-01
2021-09-23T17:22:21.761Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:21.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-82991c511c0eeb366165e9364eccd40dcc3d12b5-554698d7e0131a5e-01 outer:exit 2b-82991c511c0eeb366165e9364eccd40dcc3d12b5-60dd9d2524ae7fa0-01
2021-09-23T17:22:21.778Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:21.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-0928805771b955ed6ac947446088e6604bc563cc-52f2f7e6c0df647d-01 outer:exit 2b-0928805771b955ed6ac947446088e6604bc563cc-ad0a68677a309cf9-01
2021-09-23T17:22:21.788Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:21.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-e567d3579eb35480a1a392408dfc64d27c26d874-f91d334c0774120c-01 outer:exit 2b-e567d3579eb35480a1a392408dfc64d27c26d874-313457758155e473-01
2021-09-23T17:22:21.792Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:21.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-84c45880d9b41b11d62153d29df30e3a5c2a869f-dc3ebaf34b88486d-01 outer:exit 2b-84c45880d9b41b11d62153d29df30e3a5c2a869f-bddef6d6b9fa6521-01
2021-09-23T17:22:21.795Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:21.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc44f55de53e4a75d3d0a19e23e945f960713231-a31aa13e6f61441e-01 outer:exit 2b-fc44f55de53e4a75d3d0a19e23e945f960713231-561fbbc0d92405f3-01
2021-09-23T17:22:21.798Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:21.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0be13433a485e6e42b4559a399796e07b9be131-7a43bcceb14e2640-01 outer:exit 2b-e0be13433a485e6e42b4559a399796e07b9be131-31ac85c40cd2828a-01
2021-09-23T17:22:21.829Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (353ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:29.092Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:29.093Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:29.095Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:29.095Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:29.178Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:29.225Z appoptics:patching patched crypto 
2021-09-23T17:22:29.250Z appoptics:patching patched https 
2021-09-23T17:22:29.251Z appoptics:patching patched http 
2021-09-23T17:22:29.295Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:29.295Z appoptics:patching patched fs 
2021-09-23T17:22:29.347Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v16.10.0)
2021-09-23T17:22:29.360Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2021-09-23T17:22:29.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-22a9f0b47962bd084dc863b267bf5bb0c3d24672-4bee6f790784b96c-01 outer:exit 2b-22a9f0b47962bd084dc863b267bf5bb0c3d24672-1a4f02f5f79d5602-01
2021-09-23T17:22:29.665Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:29.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-5045351350a15482e180ab31d490a1c2be9ff150-c278d22914251fc5-01 outer:exit 2b-5045351350a15482e180ab31d490a1c2be9ff150-b890a5b265175cad-01
2021-09-23T17:22:29.711Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:29.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-01ff881e2624035d2e1315fcf924fb9d55a9256b-2559a5fa5de312a7-01 outer:exit 2b-01ff881e2624035d2e1315fcf924fb9d55a9256b-34d7984288a37f3e-01
2021-09-23T17:22:29.716Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:29.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbba3416f40fac6383e49c3186e150aad3f32c4f-9e2eddd078622cfb-01 outer:exit 2b-bbba3416f40fac6383e49c3186e150aad3f32c4f-b5818159fdab9346-01
2021-09-23T17:22:29.719Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:29.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-112fd6971871ad3274b6ebe5ac7eaa3137cc92f7-b94c920723cc96ee-01 outer:exit 2b-112fd6971871ad3274b6ebe5ac7eaa3137cc92f7-ccbaac70f66e13a9-01
2021-09-23T17:22:29.732Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:29.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-960ad502061c214f2bee0bd0d6b140e2e902f93d-d5f86296de56b319-01 outer:exit 2b-960ad502061c214f2bee0bd0d6b140e2e902f93d-434b40bd05252b70-01
2021-09-23T17:22:29.735Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:29.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-d147de4726f90236ea458a381b0e45507d0c4110-a0073381f693d325-01 outer:exit 2b-d147de4726f90236ea458a381b0e45507d0c4110-7d9f5c6c3b843647-01
2021-09-23T17:22:29.739Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:29.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bd235a336e3189356952ed8ee896d0fd21f39fd-76f0b592dff2c8ba-01 outer:exit 2b-1bd235a336e3189356952ed8ee896d0fd21f39fd-f843aa911ce6da7c-01
2021-09-23T17:22:29.743Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:29.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-f467578b85364351aed5416b4d118ea43c327154-673299f05f81f9ba-01 outer:exit 2b-f467578b85364351aed5416b4d118ea43c327154-4b1923966ca4ef40-01
2021-09-23T17:22:29.748Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:29.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ab9cd00425774a7db111595235953f483e2c1b1-1ae980d624aafb2d-01 outer:exit 2b-2ab9cd00425774a7db111595235953f483e2c1b1-d5f191fa3ae56b8f-01
2021-09-23T17:22:29.757Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:29.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e958acc56697cf46f880d98bd4572fccb94f070-4f674d2afcb5f3c0-01 outer:exit 2b-2e958acc56697cf46f880d98bd4572fccb94f070-6c7933c3777d0cbc-01
2021-09-23T17:22:29.762Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:29.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-17f4e8c1151d5d0a49f5ed236bb37e70a0d9316a-5970ce6baff294cb-01 outer:exit 2b-17f4e8c1151d5d0a49f5ed236bb37e70a0d9316a-9c4cf7ee6337a45f-01
2021-09-23T17:22:29.772Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:29.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfb7deb466a4cb64e0ccfc99a3d711880be1daef-aa300d3faf24eac8-01 outer:exit 2b-dfb7deb466a4cb64e0ccfc99a3d711880be1daef-325f9a387ee72c34-01
2021-09-23T17:22:29.792Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:29.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfd958727f9450983a6721c3f898fa63fa2d3fde-50319549c06c897d-01 outer:exit 2b-bfd958727f9450983a6721c3f898fa63fa2d3fde-48f246682f56bf70-01
2021-09-23T17:22:29.857Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:29.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a3128ea808e531cc2b547c13ba0ec71e6f10965-e9c2e564800bc7ff-01 outer:exit 2b-0a3128ea808e531cc2b547c13ba0ec71e6f10965-0454ef46712101b8-01
2021-09-23T17:22:29.865Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:29.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-6badc34274627b6cdfc038c6e4c0baca1547aed0-3ad73f639c72181c-01 outer:exit 2b-6badc34274627b6cdfc038c6e4c0baca1547aed0-f7ae5cee9b2cb92c-01
2021-09-23T17:22:29.870Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:29.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-d262838545b918fb6a78df5311259ec1c0fc540c-c0310bbeff1ddc08-01 outer:exit 2b-d262838545b918fb6a78df5311259ec1c0fc540c-095ae838d13d9bc3-01
2021-09-23T17:22:29.879Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:29.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-c624ba4a3b52a475a6b040ebca8b1b19333a59f3-9e8ae0747931a6b2-01 outer:exit 2b-c624ba4a3b52a475a6b040ebca8b1b19333a59f3-bd00f0c7684a51a4-01
2021-09-23T17:22:29.882Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:29.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-65331ac4d57a91eaca37ab5c404383ab353d446a-3fd6b084a1b56fa6-01 outer:exit 2b-65331ac4d57a91eaca37ab5c404383ab353d446a-d85ff65fa843f829-01
2021-09-23T17:22:29.892Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:29.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a2c138ee96945205faf26ace5cf09fca7b045c5-72ec1bf44ebcaf24-01 outer:exit 2b-3a2c138ee96945205faf26ace5cf09fca7b045c5-6c6c2d606f89cdce-01
2021-09-23T17:22:29.894Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:29.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-575776d613b1739f10ce44e34163b1dcadb0eafd-e2e15d2c28a5e1de-01 outer:exit 2b-575776d613b1739f10ce44e34163b1dcadb0eafd-caba2dc75ba15cb3-01
2021-09-23T17:22:29.905Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:29.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-45f7daa84b8d04bc82ff59ae8d66b09bc571b22d-d06ce7aae90bbebd-01 outer:exit 2b-45f7daa84b8d04bc82ff59ae8d66b09bc571b22d-e65975cbf83f4252-01
2021-09-23T17:22:29.908Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:29.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f273ba8ceeb85ff6d176562e032ea008fc455f5-c22ac82b998996b3-01 outer:exit 2b-9f273ba8ceeb85ff6d176562e032ea008fc455f5-543ee99023f1e113-01
2021-09-23T17:22:29.922Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:29.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f69c210e2eac3cfb353c8fd7e9be9886012fa9d-348e7b7249c1d1a7-01 outer:exit 2b-1f69c210e2eac3cfb353c8fd7e9be9886012fa9d-d632fcec3f396eb0-01
2021-09-23T17:22:29.927Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:29.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-6947c0ca2c8c7e9c751bb050a7d17217088a5cd6-dfa256d9e3972d13-01 outer:exit 2b-6947c0ca2c8c7e9c751bb050a7d17217088a5cd6-d2caa0dfe9cac88e-01
2021-09-23T17:22:29.929Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:29.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-c13891fe9446a1b8d7840b8cb5f5da514bb53d2d-80ac6647ebe54c71-01 outer:exit 2b-c13891fe9446a1b8d7840b8cb5f5da514bb53d2d-fafe82d167fb693e-01
2021-09-23T17:22:29.932Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:29.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a8d08148efa96dfcf962f643d8f7b0a5dcd8041-50b79a7558cf4048-01 outer:exit 2b-4a8d08148efa96dfcf962f643d8f7b0a5dcd8041-62b353ae735641f3-01
2021-09-23T17:22:29.956Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:29.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-41576446d605f7a587fc6f433f36ed7094614cd0-ebe0bf23b2847c24-01 outer:exit 2b-41576446d605f7a587fc6f433f36ed7094614cd0-a389933cec03464c-01
2021-09-23T17:22:29.962Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:29.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7d107e1e1de7d23f7a46bc1d8870e4fb6c0cfe3-bc08cb7d58f62fd5-01 outer:exit 2b-e7d107e1e1de7d23f7a46bc1d8870e4fb6c0cfe3-899b87f15c106452-01
2021-09-23T17:22:29.971Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:29.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-fba8a43b39acdbec31cbd4a2637d819861f5a319-4caec2714c8ac498-01 outer:exit 2b-fba8a43b39acdbec31cbd4a2637d819861f5a319-28451e92a710cddf-01
2021-09-23T17:22:29.983Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:29.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-c710c8ac24725506fb1da41460e2a94c5c496e47-bb04532425e8d76b-01 outer:exit 2b-c710c8ac24725506fb1da41460e2a94c5c496e47-fd4a0d4a561dfb05-01
2021-09-23T17:22:29.988Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:29.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-e61d4627c44277162cfa73d966845e50d01c12d1-00be80c3e8f2fe13-01 outer:exit 2b-e61d4627c44277162cfa73d966845e50d01c12d1-4f1fa59a06c1a76d-01
2021-09-23T17:22:29.995Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:30.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cd9b1953f8a76b6b30b2c50970c161f9bc4126a-61e803e96c3661e1-01 outer:exit 2b-1cd9b1953f8a76b6b30b2c50970c161f9bc4126a-bcb7c99fc02b91d2-01
2021-09-23T17:22:30.010Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:30.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc0e89471bdda0f6c6dcab838ce23e3dfd7a2568-7fbb60f248db02e3-01 outer:exit 2b-fc0e89471bdda0f6c6dcab838ce23e3dfd7a2568-caf5f15a22fa5fc3-01
2021-09-23T17:22:30.013Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:30.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-77c73aefa6becf3b95bf7ed2afb5a249c2eb0a51-dbc66c70748dc251-01 outer:exit 2b-77c73aefa6becf3b95bf7ed2afb5a249c2eb0a51-98cd28bd1f01ab3f-01
2021-09-23T17:22:30.021Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:30.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eb0b51daf6272bef29b1f4e33daec237628e136-fc5ce009d801cf8e-01 outer:exit 2b-0eb0b51daf6272bef29b1f4e33daec237628e136-c034d27101937249-01
2021-09-23T17:22:30.025Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:30.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-76db1ff92fa8ce334514ca3a2e262b9b6606a995-936896b4f5ad2586-01 outer:exit 2b-76db1ff92fa8ce334514ca3a2e262b9b6606a995-13e240bbb710c054-01
2021-09-23T17:22:30.030Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:30.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-27365ce3ffdabcfc5134fcb92fef66229d9dd01b-9782719820aa066c-01 outer:exit 2b-27365ce3ffdabcfc5134fcb92fef66229d9dd01b-805edb847ef45732-01
2021-09-23T17:22:30.051Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:30.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa01ef058181d3a9516a1fb2a6fe08f4355bf607-c1c02e01984267e5-01 outer:exit 2b-aa01ef058181d3a9516a1fb2a6fe08f4355bf607-7135a2a1dcd7bb71-01
2021-09-23T17:22:30.075Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:30.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-9278398290d2d070c3a656e2bd0ca8fbeb1c8070-ca1c4d9e2dfcda07-01 outer:exit 2b-9278398290d2d070c3a656e2bd0ca8fbeb1c8070-bf023ecebbf19cf8-01
2021-09-23T17:22:30.084Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:30.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-70eece2c973d7e5c8a9b5894cb3c7b326db8e3c4-3cfa9a411bca0a67-01 outer:exit 2b-70eece2c973d7e5c8a9b5894cb3c7b326db8e3c4-9c1d245e84ca8ac4-01
2021-09-23T17:22:30.089Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:30.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e4bdd4b64c0daeefc3b86445f90ccb72d0588a0-2dc357df57f9803f-01 outer:exit 2b-4e4bdd4b64c0daeefc3b86445f90ccb72d0588a0-88e8eea58fa059cb-01
2021-09-23T17:22:30.094Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:30.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7e62539f918f915208d8088267a7d1b351ab7b7-319ef94f5be9720c-01 outer:exit 2b-d7e62539f918f915208d8088267a7d1b351ab7b7-ae89165549fb378b-01
2021-09-23T17:22:30.099Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:30.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-a01030f815cdb39b89b9e6a1a03238b1f737e022-b5827cc842e4b254-01 outer:exit 2b-a01030f815cdb39b89b9e6a1a03238b1f737e022-8b7b4ba74cda3974-01
2021-09-23T17:22:30.135Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (538ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:38.353Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:38.354Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:38.354Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:38.355Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:38.425Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:38.478Z appoptics:patching patched crypto 
2021-09-23T17:22:38.503Z appoptics:patching patched https 
2021-09-23T17:22:38.504Z appoptics:patching patched http 
2021-09-23T17:22:38.558Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:38.558Z appoptics:patching patched fs 
2021-09-23T17:22:38.598Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v16.10.0)
2021-09-23T17:22:38.606Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2021-09-23T17:22:38.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-39035b28f8ca46eb2d5421294b0bff26b7f1465b-d6aa8274a31d3b53-01 outer:exit 2b-39035b28f8ca46eb2d5421294b0bff26b7f1465b-79749af3fe7a668e-01
2021-09-23T17:22:38.830Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:38.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-896f1615821596265153c4f2448be7262f9b65f8-3054749e11121ca7-01 outer:exit 2b-896f1615821596265153c4f2448be7262f9b65f8-084be4928bcc0613-01
2021-09-23T17:22:38.911Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:38.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-246fd3844db3e043325351cc63af4f254237e30c-e55cc41a1ce3799e-01 outer:exit 2b-246fd3844db3e043325351cc63af4f254237e30c-7a0abc8b5e627938-01
2021-09-23T17:22:38.915Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:38.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-e33941846f60910ab9e1d3fdc5b34247b814de17-f5e219d4440d193e-01 outer:exit 2b-e33941846f60910ab9e1d3fdc5b34247b814de17-44785b3d12840495-01
2021-09-23T17:22:38.918Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:38.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef76fb0556c7718d8d21f86645b1e0db12de87e3-b1239d2ccf3b152a-01 outer:exit 2b-ef76fb0556c7718d8d21f86645b1e0db12de87e3-1a593276d6492bae-01
2021-09-23T17:22:38.924Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:38.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-262e7f9057dd1f381375983759440a6908dec8d4-c254bccc8a331fc8-01 outer:exit 2b-262e7f9057dd1f381375983759440a6908dec8d4-6a71681c6d70f294-01
2021-09-23T17:22:38.928Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:38.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c1023e0c5595fdbe3f7263bf0c8b099c60b2690-478fd47fa91c4731-01 outer:exit 2b-7c1023e0c5595fdbe3f7263bf0c8b099c60b2690-7b9a67b6d4808d69-01
2021-09-23T17:22:38.931Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:38.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4486281a7804d33bff3aa28b2aa5e400531d040-425f0bde640f3e4a-01 outer:exit 2b-c4486281a7804d33bff3aa28b2aa5e400531d040-3fa557427df016a7-01
2021-09-23T17:22:38.934Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:38.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-c079bcaddf91ebb31dac1f63b92e581b83ce0a02-be5e9b4ec2f52cb8-01 outer:exit 2b-c079bcaddf91ebb31dac1f63b92e581b83ce0a02-5a71f06a19e353e8-01
2021-09-23T17:22:38.937Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:38.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbc6dda2fd95f0e7d707a911d679274cea635ca2-1699235ea3d59798-01 outer:exit 2b-cbc6dda2fd95f0e7d707a911d679274cea635ca2-d7e83397d3c90227-01
2021-09-23T17:22:38.941Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:38.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b88defb6dfb2b14891c7d8b19f905f26c1781d6-c85c093e29aaee01-01 outer:exit 2b-6b88defb6dfb2b14891c7d8b19f905f26c1781d6-10dfd79da5023cdb-01
2021-09-23T17:22:38.945Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:38.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-af982ea6778341a918353a3b07019646869dad12-df4b8bfb17d85516-01 outer:exit 2b-af982ea6778341a918353a3b07019646869dad12-b820202837e44595-01
2021-09-23T17:22:38.953Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:38.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-e845fcf637abd023ea447b23e55c3ddfd2ba2c2f-923c986a08275845-01 outer:exit 2b-e845fcf637abd023ea447b23e55c3ddfd2ba2c2f-3d891deac2e35102-01
2021-09-23T17:22:38.968Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:38.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b69a579cc863eab4fd33b3312cf187510cbd791-5b8048a52198ec59-01 outer:exit 2b-7b69a579cc863eab4fd33b3312cf187510cbd791-1c1071cca93d4ecb-01
2021-09-23T17:22:38.991Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:38.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9c4849059808aa3d5cabc15463faa569968cbf1-261dba65f4f00a5b-01 outer:exit 2b-c9c4849059808aa3d5cabc15463faa569968cbf1-d9dba1c44c1a0512-01
2021-09-23T17:22:38.993Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:38.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7db42681dc3088e803d0bd661d7b598ad95a355-cbfeeaed93124bd1-01 outer:exit 2b-e7db42681dc3088e803d0bd661d7b598ad95a355-d5fa55cf8288f568-01
2021-09-23T17:22:38.996Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:39.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-65a48a7a472b041972b79cbb6be07c60ac14b8a3-d6e78b243180668b-01 outer:exit 2b-65a48a7a472b041972b79cbb6be07c60ac14b8a3-06db51e9f7ea9fac-01
2021-09-23T17:22:39.000Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:39.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-32aa854f2d5d8e335387a6e8ebf2aa09d33166b4-26512a8b9506db84-01 outer:exit 2b-32aa854f2d5d8e335387a6e8ebf2aa09d33166b4-820f81f548de8f37-01
2021-09-23T17:22:39.003Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:39.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-da0c6b8ea036f0b4f653803fe2dfa17866fee502-7373368a94016637-01 outer:exit 2b-da0c6b8ea036f0b4f653803fe2dfa17866fee502-ce64383833c84050-01
2021-09-23T17:22:39.005Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:39.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaf4e257648926bbfc23c42406a94d4e9606e692-35e4bda068eb6fe0-01 outer:exit 2b-eaf4e257648926bbfc23c42406a94d4e9606e692-573899c5918fbcd2-01
2021-09-23T17:22:39.008Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:39.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf473d8e57255db573af73f9f3e65be8dd2b3707-c02696bca7963e88-01 outer:exit 2b-cf473d8e57255db573af73f9f3e65be8dd2b3707-4ff227934117adb8-01
2021-09-23T17:22:39.011Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:39.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f94fc88b88ccfcc232f5702d237050001959d76-ba47d65098f57cf8-01 outer:exit 2b-4f94fc88b88ccfcc232f5702d237050001959d76-9bc1b839a006105b-01
2021-09-23T17:22:39.014Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:39.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-f20ad5fca9fbf4c8b697b6c149e679ff8245a388-c24dc0af1abc1eef-01 outer:exit 2b-f20ad5fca9fbf4c8b697b6c149e679ff8245a388-3c345b3b81eadbca-01
2021-09-23T17:22:39.018Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:39.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-a08af4de495d8a1961a55b9d499619cb933ef8ac-93e95ea857645351-01 outer:exit 2b-a08af4de495d8a1961a55b9d499619cb933ef8ac-0cb5b76e46205bd4-01
2021-09-23T17:22:39.022Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:39.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-740646c5f532b2b21e3a09a3b4c79a7c33191350-4992a30573802d20-01 outer:exit 2b-740646c5f532b2b21e3a09a3b4c79a7c33191350-f9602c7f9709e01e-01
2021-09-23T17:22:39.025Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:39.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-4536670e5bfc4f165eb3a2214c8a6a4e21f63268-67315b573164d9c2-01 outer:exit 2b-4536670e5bfc4f165eb3a2214c8a6a4e21f63268-276592a0075c4b19-01
2021-09-23T17:22:39.028Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:39.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-9594e5a15afaadd5e03db87a86d5a6cf65f85425-7c3138430d776d8b-01 outer:exit 2b-9594e5a15afaadd5e03db87a86d5a6cf65f85425-f7bf740ca05d47cb-01
2021-09-23T17:22:39.037Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:39.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-d91fc4370310f9d97709e6d4c51129de3b982c1d-8f9a2f1a2a3bac18-01 outer:exit 2b-d91fc4370310f9d97709e6d4c51129de3b982c1d-47249a5da57175c9-01
2021-09-23T17:22:39.042Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:39.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-411f8bf3202d71c72d4fd8a3d95c000257662264-d689927a44a4aaa2-01 outer:exit 2b-411f8bf3202d71c72d4fd8a3d95c000257662264-611f445153539b03-01
2021-09-23T17:22:39.057Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:39.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c54c52f6233cedf2e7a9c359adb0dee8b55ff9a-1d2dcbb4bd0767f7-01 outer:exit 2b-2c54c52f6233cedf2e7a9c359adb0dee8b55ff9a-0dd3b493b73b5965-01
2021-09-23T17:22:39.066Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:39.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdd252a51937de36375e327d0e308175fbd06927-0acd82d34c34105e-01 outer:exit 2b-fdd252a51937de36375e327d0e308175fbd06927-53552646931807c4-01
2021-09-23T17:22:39.069Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:39.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-994fe8187f2c02a7c9d3795866e10673595e1a18-3b6e2f092f81b204-01 outer:exit 2b-994fe8187f2c02a7c9d3795866e10673595e1a18-12273dd69f57c2b8-01
2021-09-23T17:22:39.073Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:39.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-12ea166be03e4c76041256a56d46cf4e2e1a1d58-2c548428806b16a1-01 outer:exit 2b-12ea166be03e4c76041256a56d46cf4e2e1a1d58-d5e2e0c4cfb44095-01
2021-09-23T17:22:39.086Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:39.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-19d59715e287ed990e5658c52fc6a943bdf5c9a9-cb347f4c0d8560e4-01 outer:exit 2b-19d59715e287ed990e5658c52fc6a943bdf5c9a9-12a67ddd0f3a7bf9-01
2021-09-23T17:22:39.089Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:39.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-925c2ec9aeb524f982f83ae42627bb387fe8f503-2674ac547e9aa691-01 outer:exit 2b-925c2ec9aeb524f982f83ae42627bb387fe8f503-5b66af5814220d54-01
2021-09-23T17:22:39.091Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:39.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-b20f4df7909347df767b43a16b7e30803c0f12e1-45d9a9e1733a9f14-01 outer:exit 2b-b20f4df7909347df767b43a16b7e30803c0f12e1-85ac23b79f9bcf84-01
2021-09-23T17:22:39.093Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:39.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8f87c25ba933f485701cff896f2c75bee2d34d2-7f898296e13be37c-01 outer:exit 2b-e8f87c25ba933f485701cff896f2c75bee2d34d2-aa1c2daf7489a489-01
2021-09-23T17:22:39.095Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:39.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-1aaff1a0c8e2c4a185f4e3cd432a168298c5a2c7-28407c64e71c64b1-01 outer:exit 2b-1aaff1a0c8e2c4a185f4e3cd432a168298c5a2c7-9800a1c14ff84099-01
2021-09-23T17:22:39.098Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:39.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1ed71823057873cce8c8970da63ceff2f88d37f-2bccbfe8512988b0-01 outer:exit 2b-a1ed71823057873cce8c8970da63ceff2f88d37f-ff81d393d72b0a00-01
2021-09-23T17:22:39.110Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:39.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fb7fa2d81e409c3e567d5d345c7e66615a63919-a9d6042ffbb04b9a-01 outer:exit 2b-7fb7fa2d81e409c3e567d5d345c7e66615a63919-eaa561c58bb96c31-01
2021-09-23T17:22:39.121Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:39.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-bedc926f3f634779921bb776d09f9478f567680b-f666827a778254b9-01 outer:exit 2b-bedc926f3f634779921bb776d09f9478f567680b-5dfa8c9c65f76635-01
2021-09-23T17:22:39.124Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:39.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-0efe4f122129a48689e4e308707ac3446c9a8a71-fc8687462d5a784f-01 outer:exit 2b-0efe4f122129a48689e4e308707ac3446c9a8a71-19ecda33c64bd50d-01
2021-09-23T17:22:39.127Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:39.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-3572df267037778f72f29c199c83e2818640a90f-ad1a597867681f0d-01 outer:exit 2b-3572df267037778f72f29c199c83e2818640a90f-240d995e7f44b6f2-01
2021-09-23T17:22:39.130Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:39.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-46c131e040cf6ca9138794532c5373f420748971-32f50149116315c2-01 outer:exit 2b-46c131e040cf6ca9138794532c5373f420748971-8491f28306610b48-01
2021-09-23T17:22:39.160Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (378ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:22:47.221Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:47.222Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:47.222Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:47.222Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:47.303Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:47.364Z appoptics:patching patched crypto 
2021-09-23T17:22:47.393Z appoptics:patching patched https 
2021-09-23T17:22:47.393Z appoptics:patching patched http 
2021-09-23T17:22:47.453Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:47.453Z appoptics:patching patched fs 
2021-09-23T17:22:47.492Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v16.10.0)
2021-09-23T17:22:47.500Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2021-09-23T17:22:47.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0cbb61e5fbab4861c1af28f27b7e4e1449beb10-706d0b6fb2d0e2fc-01 outer:exit 2b-e0cbb61e5fbab4861c1af28f27b7e4e1449beb10-7a5d1d85e783072b-01
2021-09-23T17:22:47.711Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:47.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcfec409e1e10fed12e803628888a687c0107dc5-732cc72fe7e3b56a-01 outer:exit 2b-fcfec409e1e10fed12e803628888a687c0107dc5-aa411ebb4555c3a7-01
2021-09-23T17:22:47.752Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:47.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-87e5672e8c63fc80733c12fea649a7d60c30d088-87568595b88ac82f-01 outer:exit 2b-87e5672e8c63fc80733c12fea649a7d60c30d088-33d6f8fbedf079cf-01
2021-09-23T17:22:47.756Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:47.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac2dbdaa17bc3216359153c629c838606f42cbf3-770c0ca670d11591-01 outer:exit 2b-ac2dbdaa17bc3216359153c629c838606f42cbf3-9dbea15bc567a264-01
2021-09-23T17:22:47.759Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:47.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-4af438f1628254c41d44ed3669ce24204c75eb13-d331e7fa5623d95f-01 outer:exit 2b-4af438f1628254c41d44ed3669ce24204c75eb13-a024031127df7c55-01
2021-09-23T17:22:47.764Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:47.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdfbc91edfe66cae38449c17f2c3b090773c6fa9-6158e72709094643-01 outer:exit 2b-fdfbc91edfe66cae38449c17f2c3b090773c6fa9-004d80ea764028a6-01
2021-09-23T17:22:47.772Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:47.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fb0c80b3c9aa7ea5fc9c6482043d0963eb0d60e-dec97f3a2d7ef64e-01 outer:exit 2b-4fb0c80b3c9aa7ea5fc9c6482043d0963eb0d60e-6cbf8606af10c727-01
2021-09-23T17:22:47.775Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:47.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-671e4548d30b2b8565d71511b7d1fbe979beaa89-413dec60054cb99c-01 outer:exit 2b-671e4548d30b2b8565d71511b7d1fbe979beaa89-7041764c4634c07e-01
2021-09-23T17:22:47.778Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:47.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-211ac2e3a47052ee28cb5cabf451565f49e7047f-eb4111bc1639ecb3-01 outer:exit 2b-211ac2e3a47052ee28cb5cabf451565f49e7047f-3063821d2fbfd4d7-01
2021-09-23T17:22:47.781Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:47.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-43e372bb4c880984690f7813b830ca64c5444685-ed886724d8a03f4c-01 outer:exit 2b-43e372bb4c880984690f7813b830ca64c5444685-1f20b9ec41f9ccae-01
2021-09-23T17:22:47.785Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:47.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-85f201f01293e549ece61fe99a45c4dbcbba6b10-f5a568bfe4bcd480-01 outer:exit 2b-85f201f01293e549ece61fe99a45c4dbcbba6b10-5195459addaff40f-01
2021-09-23T17:22:47.790Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:47.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9f61d822b8dffb77f6cadb0eb3ec038f61e2f25-e5c7d841cc2832a9-01 outer:exit 2b-c9f61d822b8dffb77f6cadb0eb3ec038f61e2f25-8d7f9a240f870900-01
2021-09-23T17:22:47.797Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:47.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8fa7b2bc3f411301c43939b0e290e01d05c7546-1244bbbadbf82842-01 outer:exit 2b-e8fa7b2bc3f411301c43939b0e290e01d05c7546-4c8c71f96ec88a72-01
2021-09-23T17:22:47.819Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:47.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-70b5c81d0b4c4b4edd6b5feded3ca6c04a1ce1c2-1f0f08d7b076f66a-01 outer:exit 2b-70b5c81d0b4c4b4edd6b5feded3ca6c04a1ce1c2-10d7fe543185ae9b-01
2021-09-23T17:22:47.892Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:47.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-575a6661e3b5ad0cab7cc000ddda7d0a4f62d844-f0ef8878a570e552-01 outer:exit 2b-575a6661e3b5ad0cab7cc000ddda7d0a4f62d844-a61f4f1e15daea4d-01
2021-09-23T17:22:47.899Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:47.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-65a21049ae8b1560edc8ae8f67be53495e33e8c3-780fd0d66e6fbbbb-01 outer:exit 2b-65a21049ae8b1560edc8ae8f67be53495e33e8c3-70d75be4fd1059a6-01
2021-09-23T17:22:47.914Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:47.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b6aa66aef1883ac38677bfa51660efb5db5c3f7-d1b0eae2401ec008-01 outer:exit 2b-9b6aa66aef1883ac38677bfa51660efb5db5c3f7-5d7442e1969a6131-01
2021-09-23T17:22:47.923Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:47.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-f00e08ce2baee19b2287227f678764c945f2d916-615e4bf624252326-01 outer:exit 2b-f00e08ce2baee19b2287227f678764c945f2d916-c75928bedbb62448-01
2021-09-23T17:22:47.930Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:47.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-98a0fda35ee34dba44af915deeec2d77bddafd3c-8e41325109ad54d4-01 outer:exit 2b-98a0fda35ee34dba44af915deeec2d77bddafd3c-9b0d6dc7d530b534-01
2021-09-23T17:22:47.938Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:47.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-06a0d83951ab7aaaa80bd8a341cd2ea4f2e5ee7b-b6f6aed5e7ca23bb-01 outer:exit 2b-06a0d83951ab7aaaa80bd8a341cd2ea4f2e5ee7b-caca3731fba4cc35-01
2021-09-23T17:22:47.946Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:47.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-db87ca9741a9efb759347ecc7d4d50002718401d-633f26739239f26e-01 outer:exit 2b-db87ca9741a9efb759347ecc7d4d50002718401d-840330edca781a4a-01
2021-09-23T17:22:47.952Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:47.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fcb94786f9a245b8d882982ea1a85e6096dcebb-22b96680a1a6dbff-01 outer:exit 2b-6fcb94786f9a245b8d882982ea1a85e6096dcebb-01805d2e036197b6-01
2021-09-23T17:22:47.959Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:47.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-406b571049f6586ed4d7ce2fecacb28f0bbb89e9-3d3f3aa8e70850de-01 outer:exit 2b-406b571049f6586ed4d7ce2fecacb28f0bbb89e9-9d5a727c1d4ce995-01
2021-09-23T17:22:47.962Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:47.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9efeff8d4c6ee47a982f1e83c22918a32a80c1d-08569165de666335-01 outer:exit 2b-b9efeff8d4c6ee47a982f1e83c22918a32a80c1d-488c0bf756023de0-01
2021-09-23T17:22:47.966Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:47.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-55dcd09734f24d3d4dc58614cb66e72fd6740d3f-6f1309c51b651f9d-01 outer:exit 2b-55dcd09734f24d3d4dc58614cb66e72fd6740d3f-23c97460223cc266-01
2021-09-23T17:22:47.972Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:47.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1b7097b787906dd8648cf0ee2dd7f5dd67c8fbd-6c91c5c62620017d-01 outer:exit 2b-c1b7097b787906dd8648cf0ee2dd7f5dd67c8fbd-d75e8de16af52aab-01
2021-09-23T17:22:47.976Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:47.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-9367dc1293c3b0c2f9c63140cf965d12eb3815d5-a7a53b66b5dfbffa-01 outer:exit 2b-9367dc1293c3b0c2f9c63140cf965d12eb3815d5-4654de749a11e1ed-01
2021-09-23T17:22:47.988Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:47.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-40814408b0f7457f9c810f0e44bdca0bbaf9da95-c1023d39da3bacbf-01 outer:exit 2b-40814408b0f7457f9c810f0e44bdca0bbaf9da95-8a4aed0f8861c73c-01
2021-09-23T17:22:47.993Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:48.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f6c6e0a85c2641523eb10cc79a872bcf86678bf-25968048254b5cce-01 outer:exit 2b-7f6c6e0a85c2641523eb10cc79a872bcf86678bf-886ee1a28ba2a758-01
2021-09-23T17:22:48.006Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:48.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-432644e120f9efdb71bf86d750ab0d76096eac35-21abdffa9dffe1fd-01 outer:exit 2b-432644e120f9efdb71bf86d750ab0d76096eac35-2db04583855034bb-01
2021-09-23T17:22:48.016Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:48.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-66ff344f352530951e2d0a553aa04ba8bb16c40d-f75f713d12c03eb8-01 outer:exit 2b-66ff344f352530951e2d0a553aa04ba8bb16c40d-8f0407511227c8ad-01
2021-09-23T17:22:48.020Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:48.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-27e574668a103e0ccc80a31f4dfe3b73c4932254-5be2f7ca15203028-01 outer:exit 2b-27e574668a103e0ccc80a31f4dfe3b73c4932254-c801f6f7cb047d07-01
2021-09-23T17:22:48.033Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:48.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eaa4f8427d2fc17f2bd8d3e2149d13e46f6133d-e3239d345bb22134-01 outer:exit 2b-0eaa4f8427d2fc17f2bd8d3e2149d13e46f6133d-160748ac338fd20c-01
2021-09-23T17:22:48.045Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:48.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-23244675897daee02b6a5f366ee17fe6baded115-d625b4a6da3d51a9-01 outer:exit 2b-23244675897daee02b6a5f366ee17fe6baded115-94ea0b4039ce6cc2-01
2021-09-23T17:22:48.048Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:48.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-68e487f41fffa3ba0b72df39725f6208890c39e3-a6a5fec3df16e81f-01 outer:exit 2b-68e487f41fffa3ba0b72df39725f6208890c39e3-709b0f7477739988-01
2021-09-23T17:22:48.052Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:48.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd8a9aaae373baa3d20601d4378dfc6a3fefeb9b-11da59f0c1bd2861-01 outer:exit 2b-dd8a9aaae373baa3d20601d4378dfc6a3fefeb9b-06c5997f263b0103-01
2021-09-23T17:22:48.054Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:48.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-537c21f98327551992231be3ff6b867712035310-095e4e6109641530-01 outer:exit 2b-537c21f98327551992231be3ff6b867712035310-bf8008a113936899-01
2021-09-23T17:22:48.056Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:48.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab603c3ba23fddc757bac007b8245adad2da31d4-f6e146e5a0189d96-01 outer:exit 2b-ab603c3ba23fddc757bac007b8245adad2da31d4-697894a41e06e824-01
2021-09-23T17:22:48.059Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:48.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-34b20139d76a56acd8c4d7d9ae11556ecbcc3b01-8f610434b691539b-01 outer:exit 2b-34b20139d76a56acd8c4d7d9ae11556ecbcc3b01-e79ce2a7d7f1cf67-01
2021-09-23T17:22:48.072Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:48.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f75d71a567b4691e7c62c5c0d7a2c47777afeda-0f4391a01ac763e2-01 outer:exit 2b-3f75d71a567b4691e7c62c5c0d7a2c47777afeda-f36c27b07ac821a7-01
2021-09-23T17:22:48.091Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:48.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-1804be06763f88ad35c9df7c0791f83c4d0e08e7-e27e2854212b864c-01 outer:exit 2b-1804be06763f88ad35c9df7c0791f83c4d0e08e7-6f653eb2264b6fe2-01
2021-09-23T17:22:48.098Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:48.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-dce11661affa716a13f54eaf0d654ed341eda15b-5b6983bdca7081cb-01 outer:exit 2b-dce11661affa716a13f54eaf0d654ed341eda15b-50906a489801a8fd-01
2021-09-23T17:22:48.102Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:48.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ddc06444d1b5b168f5c2617ef4ef1636f3f8196-2f8c88e4ad1e1412-01 outer:exit 2b-7ddc06444d1b5b168f5c2617ef4ef1636f3f8196-abb261a89120c9f3-01
2021-09-23T17:22:48.105Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:48.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a8039fe739dc882f0ccefef9e4921c6359320ac-38df574b9a12bb99-01 outer:exit 2b-5a8039fe739dc882f0ccefef9e4921c6359320ac-3621c44bc923b4b6-01
2021-09-23T17:22:48.136Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (467ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 13s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:01.414Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:01.415Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:01.415Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:01.415Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:01.494Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:01.550Z appoptics:patching patched crypto 
2021-09-23T17:23:01.578Z appoptics:patching patched https 
2021-09-23T17:23:01.579Z appoptics:patching patched http 
2021-09-23T17:23:01.637Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:01.637Z appoptics:patching patched fs 
2021-09-23T17:23:01.675Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v16.10.0)
2021-09-23T17:23:01.683Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2021-09-23T17:23:01.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a3f215d1abaa52231064eba558a448c816bd93f-76f94946fa12be3a-01 outer:exit 2b-5a3f215d1abaa52231064eba558a448c816bd93f-2c18be0670275f59-01
2021-09-23T17:23:01.916Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:01.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c89e6792a0813f62f58eb4bdd79d7317792bf8b-72f7792035ca06e0-01 outer:exit 2b-3c89e6792a0813f62f58eb4bdd79d7317792bf8b-fc18c32870b61a22-01
2021-09-23T17:23:01.947Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:01.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-83afc49a24058228a2e7153303702c11de766c1a-f702495416481386-01 outer:exit 2b-83afc49a24058228a2e7153303702c11de766c1a-5cc80a4274e5f3b4-01
2021-09-23T17:23:01.961Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:01.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f26680523e345cf08f019aaecedb877bb69479e-ef378c748282c530-01 outer:exit 2b-0f26680523e345cf08f019aaecedb877bb69479e-412975d33742d79c-01
2021-09-23T17:23:01.965Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:01.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-93888b9e645b1b20da8f6841b5b6afc92537b4a6-1d8c2fb9159b2304-01 outer:exit 2b-93888b9e645b1b20da8f6841b5b6afc92537b4a6-c596fc653a12e704-01
2021-09-23T17:23:01.970Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:01.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-4187bc67b0adc26cffde4eb51393ddc10bd60070-a13ddd96039a6a90-01 outer:exit 2b-4187bc67b0adc26cffde4eb51393ddc10bd60070-65bf3b9e925c0183-01
2021-09-23T17:23:01.974Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:01.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-25e2fcc5cf5bed5f8dd957db363a91ec606e204d-4ad3c8595ec8e2af-01 outer:exit 2b-25e2fcc5cf5bed5f8dd957db363a91ec606e204d-20a6546ac84116df-01
2021-09-23T17:23:01.977Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:01.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-a20131ad98a43885a5f64959d81623eb048fcd01-b89a27c719c4e9c9-01 outer:exit 2b-a20131ad98a43885a5f64959d81623eb048fcd01-a7649cfff704bcad-01
2021-09-23T17:23:01.981Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:01.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-96ca9cab9651f640376fb59d9e4856dfcc67077d-a659e3ce0d703f1d-01 outer:exit 2b-96ca9cab9651f640376fb59d9e4856dfcc67077d-d3bf02a77834085b-01
2021-09-23T17:23:01.984Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:01.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-6779060ab5c152229fa750895ca7cee16b9c2faf-50329a8a04819b5d-01 outer:exit 2b-6779060ab5c152229fa750895ca7cee16b9c2faf-c8c026f907f2f272-01
2021-09-23T17:23:01.987Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:01.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-c53313e0f51f719b518dc9365ae2d0886b32a730-ead4a0fa6f8ab945-01 outer:exit 2b-c53313e0f51f719b518dc9365ae2d0886b32a730-d33a812c74975c8e-01
2021-09-23T17:23:01.992Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:01.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-a02b59860a6963332830d62f0bf79027a75d2ac2-0ae9b40bc5f8b765-01 outer:exit 2b-a02b59860a6963332830d62f0bf79027a75d2ac2-e423a90417efa472-01
2021-09-23T17:23:01.999Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:02.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-6afffa4ba61f7afe23c1526be800203973046a7e-554599f7bca4869e-01 outer:exit 2b-6afffa4ba61f7afe23c1526be800203973046a7e-e71964c72d617110-01
2021-09-23T17:23:02.017Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:02.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-53a363939ee411781a1e8f74a3dd662873ea1ac6-293fa677fa18f662-01 outer:exit 2b-53a363939ee411781a1e8f74a3dd662873ea1ac6-27ef9da2898833e8-01
2021-09-23T17:23:02.046Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:02.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-9785828dacda826fe573c8feae95980480e9a1cc-2cbe73378099010e-01 outer:exit 2b-9785828dacda826fe573c8feae95980480e9a1cc-491a7a16a06b1473-01
2021-09-23T17:23:02.049Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:02.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f4356926e9299816839e8e3457af051fb3be3b0-9f42dae550871e6a-01 outer:exit 2b-6f4356926e9299816839e8e3457af051fb3be3b0-43da69d89cbaf8a0-01
2021-09-23T17:23:02.052Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:02.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-b555eb3ed506d082319c00a6988db59be1011062-6ab28ff12f4904df-01 outer:exit 2b-b555eb3ed506d082319c00a6988db59be1011062-69aa29d2d6a4cf43-01
2021-09-23T17:23:02.055Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:02.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-52f892471f1d65deefca73560df69773824b69ac-3ba6541b5085b538-01 outer:exit 2b-52f892471f1d65deefca73560df69773824b69ac-4d1f49a448358e27-01
2021-09-23T17:23:02.058Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:02.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-b13d2af499de762551562f9a81e3a28775bf0ff1-e08c8667f5cc5cfa-01 outer:exit 2b-b13d2af499de762551562f9a81e3a28775bf0ff1-cb4f621075146902-01
2021-09-23T17:23:02.061Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:02.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-c526e1d1e5956c02a819ed66fb4e592085c49bd1-6c17a20826dacd5a-01 outer:exit 2b-c526e1d1e5956c02a819ed66fb4e592085c49bd1-f4cade393d16d712-01
2021-09-23T17:23:02.064Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:02.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8b0003a83977510f05bf464a20aadd37d4f8025-6bff2e9909a68bd7-01 outer:exit 2b-a8b0003a83977510f05bf464a20aadd37d4f8025-be623a2175315a46-01
2021-09-23T17:23:02.067Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:02.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd82c9e8aeb8fa58275287b201ff678224ac2f41-bd8c9147d0b93d8c-01 outer:exit 2b-dd82c9e8aeb8fa58275287b201ff678224ac2f41-8cbc0bd0d71cbda6-01
2021-09-23T17:23:02.071Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:02.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5346ef8688ea1424f023f6180b022f2f1372eac-65bb465388cad43b-01 outer:exit 2b-a5346ef8688ea1424f023f6180b022f2f1372eac-795583e7215ad084-01
2021-09-23T17:23:02.075Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:02.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa4bcb1643c8b65bff7047c2e6d11476643e44b9-f4ef579655ca94d2-01 outer:exit 2b-aa4bcb1643c8b65bff7047c2e6d11476643e44b9-0f46a0d0df7a3902-01
2021-09-23T17:23:02.079Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:02.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb6a4e53fda512d89f5354f0f409ea871fdbebfd-7899ae37e67ced92-01 outer:exit 2b-cb6a4e53fda512d89f5354f0f409ea871fdbebfd-35e975ccb991d024-01
2021-09-23T17:23:02.083Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:02.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-69293f1f67dcba933145eb9c22dcd6abf01cc4f7-a79b18e8861ab415-01 outer:exit 2b-69293f1f67dcba933145eb9c22dcd6abf01cc4f7-35608745b9b332be-01
2021-09-23T17:23:02.086Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:02.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5ccda0df9179d0e98323d06e875951430cb2242-209771903f306bbf-01 outer:exit 2b-f5ccda0df9179d0e98323d06e875951430cb2242-4482147cd165274b-01
2021-09-23T17:23:02.095Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:02.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a4aff4cfbcaf9c1e98fce1ce37138032b2b6e8d-35d109e2398c01df-01 outer:exit 2b-3a4aff4cfbcaf9c1e98fce1ce37138032b2b6e8d-95d285edbf29fdce-01
2021-09-23T17:23:02.100Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:02.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-2605d243251c56c53356ac60f7055d4dfbd968ef-678ef57c9d3a195f-01 outer:exit 2b-2605d243251c56c53356ac60f7055d4dfbd968ef-284309ffea67c7a8-01
2021-09-23T17:23:02.111Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:02.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-13cc717b3d52979a9855f409f0a642385534e0e0-67aa07ae870055c7-01 outer:exit 2b-13cc717b3d52979a9855f409f0a642385534e0e0-120fd20bfc6f6c8a-01
2021-09-23T17:23:02.120Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:02.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fc45c038eee6a870a09d25c8eeab6bceea9dd24-8f55be8dca95eb9e-01 outer:exit 2b-1fc45c038eee6a870a09d25c8eeab6bceea9dd24-f2dc28963dd09b48-01
2021-09-23T17:23:02.122Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:02.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f8fa99f5c1c1957491305d11fded3868795b34a-2c0e3b9b43f85177-01 outer:exit 2b-3f8fa99f5c1c1957491305d11fded3868795b34a-394c85b23d0c8e98-01
2021-09-23T17:23:02.127Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:02.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4a2f6f53561c7a973e1f706471f12be85bbc189-5d941aa8dcc6dafe-01 outer:exit 2b-c4a2f6f53561c7a973e1f706471f12be85bbc189-14a171b5dc0035bb-01
2021-09-23T17:23:02.135Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:02.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf4e68405e1126d961a75dbad4df6532c5ee3bb7-735f214bde4711ea-01 outer:exit 2b-bf4e68405e1126d961a75dbad4df6532c5ee3bb7-b2d28ed12291bc8e-01
2021-09-23T17:23:02.137Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:02.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c8577df55ae27e2e3cfe4eabdefc402ec3326a7-f6d435a00e04a98e-01 outer:exit 2b-3c8577df55ae27e2e3cfe4eabdefc402ec3326a7-fbe60768123ad3f2-01
2021-09-23T17:23:02.140Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:02.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-0640897259d5e25d9b0bd15c3181c64c9e987420-4643f5bb0ef2a419-01 outer:exit 2b-0640897259d5e25d9b0bd15c3181c64c9e987420-05d5161860fde74e-01
2021-09-23T17:23:02.147Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:02.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-d32733543c0ca09a153be363c7d7674be5ea1d49-b4b0f7245f0fcc64-01 outer:exit 2b-d32733543c0ca09a153be363c7d7674be5ea1d49-da5018aa7b6ad757-01
2021-09-23T17:23:02.150Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:02.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-58e4faac9bfdce163eee6d4e7bb73e068fcc7288-4e860ec387705d6b-01 outer:exit 2b-58e4faac9bfdce163eee6d4e7bb73e068fcc7288-762e4721248e5a4e-01
2021-09-23T17:23:02.153Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:02.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-91bb4768111804be70da2458731d77299ef68a93-bd218ecf70b7b3f3-01 outer:exit 2b-91bb4768111804be70da2458731d77299ef68a93-7eb4c32d068b44a9-01
2021-09-23T17:23:02.168Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:02.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-78d5760ae574d2ee4ad76b4f8c5f4659015df139-0c71a7bba43e897e-01 outer:exit 2b-78d5760ae574d2ee4ad76b4f8c5f4659015df139-58a3e032d8a20b37-01
2021-09-23T17:23:02.179Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:02.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-7536d9b0550d90d2417b63e7d7a20c9d3f2e772c-c9dfa59c33a3e7e1-01 outer:exit 2b-7536d9b0550d90d2417b63e7d7a20c9d3f2e772c-5c7f49e75d6809b2-01
2021-09-23T17:23:02.183Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:02.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca36c0defc8bc56ce7626b63dd7ed24a185e0526-461792ee0473308c-01 outer:exit 2b-ca36c0defc8bc56ce7626b63dd7ed24a185e0526-9da70983ec60c31c-01
2021-09-23T17:23:02.187Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:02.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f8ead77113a32c223308fff2b038649de217d53-bd15085862cfa56c-01 outer:exit 2b-3f8ead77113a32c223308fff2b038649de217d53-8a4d24741fd4e82a-01
2021-09-23T17:23:02.193Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:02.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4f048460cfa4f9e6e9266d7a987b5c33c2ef7f7-27d4366ccff9fc82-01 outer:exit 2b-d4f048460cfa4f9e6e9266d7a987b5c33c2ef7f7-4a5ec9d11b0652e6-01
2021-09-23T17:23:02.225Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (366ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:10.366Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:10.367Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:10.367Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:10.368Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:10.439Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:10.504Z appoptics:patching patched crypto 
2021-09-23T17:23:10.533Z appoptics:patching patched https 
2021-09-23T17:23:10.533Z appoptics:patching patched http 
2021-09-23T17:23:10.584Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:10.586Z appoptics:patching patched fs 
2021-09-23T17:23:10.624Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v16.10.0)
2021-09-23T17:23:10.632Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2021-09-23T17:23:10.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd88f85ba119b5f811ae470dd3e26fee8bc5cb7d-0c36e38b3d54d826-01 outer:exit 2b-bd88f85ba119b5f811ae470dd3e26fee8bc5cb7d-7471f6f2256acb54-01
2021-09-23T17:23:10.824Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:10.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-557af1db45e145467ea9d685a3c01f6b876b3906-23960a047665b8db-01 outer:exit 2b-557af1db45e145467ea9d685a3c01f6b876b3906-64dfbf914ed96c32-01
2021-09-23T17:23:10.860Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:10.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-585f787803e81afa58a386573cbd69df8379b408-05a0f5774fbfe4be-01 outer:exit 2b-585f787803e81afa58a386573cbd69df8379b408-eb4c87c831a10a3d-01
2021-09-23T17:23:10.864Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:10.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-af3c7a970daacfca3dbbbdc8d744dc3c4df8f709-73519501bcbea908-01 outer:exit 2b-af3c7a970daacfca3dbbbdc8d744dc3c4df8f709-904dffc3185834de-01
2021-09-23T17:23:10.867Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:10.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1ff68ed9c1cacf762b11cf9ba44e79faddebcd0-39ad968ced9bd649-01 outer:exit 2b-a1ff68ed9c1cacf762b11cf9ba44e79faddebcd0-5a51517cc7d10e33-01
2021-09-23T17:23:10.873Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:10.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-f63c13d51e188c842bcded99dfa6b770a8e4168a-c561aae07e558a72-01 outer:exit 2b-f63c13d51e188c842bcded99dfa6b770a8e4168a-f91416b8ea1767c6-01
2021-09-23T17:23:10.880Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:10.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f0a5fdb1abab73eba32866ebd152afa0a8efc41-2711d42470fe681c-01 outer:exit 2b-5f0a5fdb1abab73eba32866ebd152afa0a8efc41-1613117b9fa58430-01
2021-09-23T17:23:10.883Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:10.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-387a5b232d4ab6f26570dc7422b72c1e54388d2a-055a3eb42de2efc5-01 outer:exit 2b-387a5b232d4ab6f26570dc7422b72c1e54388d2a-589bc3b97af947b5-01
2021-09-23T17:23:10.886Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:10.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-228eed7e9064cf978bbce2d296f76d77e432fc83-b37cb7a2f18a177a-01 outer:exit 2b-228eed7e9064cf978bbce2d296f76d77e432fc83-748b3997c3974aca-01
2021-09-23T17:23:10.889Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:10.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb7be023e0bd2b7d4810e2a872d13ff93a54da12-8bd3a6386aa6ac45-01 outer:exit 2b-fb7be023e0bd2b7d4810e2a872d13ff93a54da12-d1c89b009d1d2260-01
2021-09-23T17:23:10.893Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:10.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-79425b3cbc88ab5e067eca1195a4a493225e50e4-20eef7bfad8f1379-01 outer:exit 2b-79425b3cbc88ab5e067eca1195a4a493225e50e4-964395416de38a29-01
2021-09-23T17:23:10.897Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:10.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed7168ad02c6d2a99b1e8143d6cdc647b9f75ddd-469e23530b9b58ab-01 outer:exit 2b-ed7168ad02c6d2a99b1e8143d6cdc647b9f75ddd-18301d1802916ec3-01
2021-09-23T17:23:10.903Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:10.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-508beb6b6174f70cbb81100ccb3181024b34b940-7f5cf0813158ee26-01 outer:exit 2b-508beb6b6174f70cbb81100ccb3181024b34b940-3931df5a7f346d95-01
2021-09-23T17:23:10.922Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:10.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-312327916e39feb0110c353ab64c2e0325e438aa-0f0577332ff651e7-01 outer:exit 2b-312327916e39feb0110c353ab64c2e0325e438aa-37847e07171bd4ac-01
2021-09-23T17:23:10.958Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:10.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-49dc951d38bc515631fb6143b5b39073af23c6ed-82618ef6d9e67616-01 outer:exit 2b-49dc951d38bc515631fb6143b5b39073af23c6ed-759b6169e99fe7e7-01
2021-09-23T17:23:10.963Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:10.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-de772a287f29077223af530cc390d500d3679fe1-8c17e675346837d9-01 outer:exit 2b-de772a287f29077223af530cc390d500d3679fe1-054170fc80fc8c21-01
2021-09-23T17:23:10.966Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:10.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-be333449d5bcee8cff2a32619cac894e5299b95c-e3427a25b89581d7-01 outer:exit 2b-be333449d5bcee8cff2a32619cac894e5299b95c-f53dd783bf09aa52-01
2021-09-23T17:23:10.970Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:10.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-2274be0b9910122e85b98cf95d0f978b6591674e-78bb8d1d78e4967b-01 outer:exit 2b-2274be0b9910122e85b98cf95d0f978b6591674e-61140d5d91526f0c-01
2021-09-23T17:23:10.974Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:10.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-10a26c753dcff8dfcf1c1a6c4b6b59863e6e10f9-f4d7ea68b8951f33-01 outer:exit 2b-10a26c753dcff8dfcf1c1a6c4b6b59863e6e10f9-a4501a17867c2057-01
2021-09-23T17:23:10.977Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:10.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4758b76152f3d199aa039da2c513360dc8dbd6a-4c3cbda3c14dd2bc-01 outer:exit 2b-f4758b76152f3d199aa039da2c513360dc8dbd6a-3289ce7bb2609fe7-01
2021-09-23T17:23:10.979Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:10.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-e587880f83877f68a284c51cda5dc1a90fe734b6-18c2efe1d28b2391-01 outer:exit 2b-e587880f83877f68a284c51cda5dc1a90fe734b6-308051ad028a3564-01
2021-09-23T17:23:10.982Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:10.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-8557bfa9c22522295aabc1f0dc9a26f1ff7b8a60-d6f398061477d28d-01 outer:exit 2b-8557bfa9c22522295aabc1f0dc9a26f1ff7b8a60-60a2e90aed7d8a7f-01
2021-09-23T17:23:10.985Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:10.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a7c286c799176ff66a2990f0e803e24d54e31e0-3f0c034972034365-01 outer:exit 2b-4a7c286c799176ff66a2990f0e803e24d54e31e0-d8c968553d0d1689-01
2021-09-23T17:23:10.988Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:10.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-86a87bb1e144c7ca9693a5d2846df4d088bf75ff-43160c31fcbcdc26-01 outer:exit 2b-86a87bb1e144c7ca9693a5d2846df4d088bf75ff-818f40a90b1e3bd0-01
2021-09-23T17:23:10.992Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:10.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-35047a8c7c54d89c25025a7352028311a713fd5a-c6cef56c4b4fc801-01 outer:exit 2b-35047a8c7c54d89c25025a7352028311a713fd5a-2fde8afefa4d479f-01
2021-09-23T17:23:10.995Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:10.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-c33a3f58cb3e880202448589581b0f08d3874364-45645a13b21ce93b-01 outer:exit 2b-c33a3f58cb3e880202448589581b0f08d3874364-7625e2b546a28c41-01
2021-09-23T17:23:10.999Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:11.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee7c38efe6b1de018bd475adb5d0801521597a8b-94fba60316ea6cc6-01 outer:exit 2b-ee7c38efe6b1de018bd475adb5d0801521597a8b-6cfe26c90e154552-01
2021-09-23T17:23:11.013Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:11.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-b75b74f8ce17f1e8b34bf91e654169a61d33b9d9-d5e84de2a9d4be1b-01 outer:exit 2b-b75b74f8ce17f1e8b34bf91e654169a61d33b9d9-5cf22c5f4aed66f8-01
2021-09-23T17:23:11.018Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:11.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-68c4dedb89868814f4af51d712d9a004c62680f1-8b0f1217f7bcbd3f-01 outer:exit 2b-68c4dedb89868814f4af51d712d9a004c62680f1-9ee93e41e21c440d-01
2021-09-23T17:23:11.029Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:11.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-026b298df86cdcb7399434846c7bf29670e3d1f7-947a293fa2a256fb-01 outer:exit 2b-026b298df86cdcb7399434846c7bf29670e3d1f7-bb9df922e8fbab33-01
2021-09-23T17:23:11.036Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:11.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2f3da00e2de33a1f0cc46de0c4f20ce0baf9162-1be111cf74abe1a8-01 outer:exit 2b-a2f3da00e2de33a1f0cc46de0c4f20ce0baf9162-0a40ecf6e9e0983b-01
2021-09-23T17:23:11.039Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:11.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5b939177afe0acf811431c6ce85dfea1251440d-82eef18221dd05cb-01 outer:exit 2b-b5b939177afe0acf811431c6ce85dfea1251440d-31f0873aacc926e6-01
2021-09-23T17:23:11.042Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:11.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-5de387c5332cd2b9ce998d71f4b2c3ae26dab6df-635bbdad24176d3c-01 outer:exit 2b-5de387c5332cd2b9ce998d71f4b2c3ae26dab6df-1425ebfa66ff5130-01
2021-09-23T17:23:11.050Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:11.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-9277eb6ae21221a02145d6908fe6e207c931b3a9-66603520bd769d3d-01 outer:exit 2b-9277eb6ae21221a02145d6908fe6e207c931b3a9-a2392a8ab08c2887-01
2021-09-23T17:23:11.052Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:11.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-32014ec994945c3280f99294a52678d0eb9c897e-259132ffbc28b484-01 outer:exit 2b-32014ec994945c3280f99294a52678d0eb9c897e-2405a3973b564677-01
2021-09-23T17:23:11.055Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:11.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-af262bc8c19b6f9e2f1c647ebff79cd775eb7566-5d096dd04e16e2cb-01 outer:exit 2b-af262bc8c19b6f9e2f1c647ebff79cd775eb7566-d96b3c5e908fd334-01
2021-09-23T17:23:11.057Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:11.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef10819362fec4b1375ed8434a1e146f7486e809-d0192ecd6fbca087-01 outer:exit 2b-ef10819362fec4b1375ed8434a1e146f7486e809-43699973b7d358c6-01
2021-09-23T17:23:11.061Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:11.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-1986a5ba37b7dfdb81e8a81fc2cf5eba14d2e58c-e22ea5d37cd7504d-01 outer:exit 2b-1986a5ba37b7dfdb81e8a81fc2cf5eba14d2e58c-3be8bde910de9682-01
2021-09-23T17:23:11.063Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:11.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-6805ae66d0b4910a8ba711d7f1643c7fdc0c9af1-1798a3e9438be327-01 outer:exit 2b-6805ae66d0b4910a8ba711d7f1643c7fdc0c9af1-1eb9e55407ae8f1a-01
2021-09-23T17:23:11.077Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:11.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0237f17a3795b28a6ec4cf79d1cdbcaf7d208f7-e4cbb51bae115a53-01 outer:exit 2b-f0237f17a3795b28a6ec4cf79d1cdbcaf7d208f7-dddc8838c192f255-01
2021-09-23T17:23:11.091Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:11.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f2520e9d83582878fa28f7bcfda0e838b7cd160-742ee29755ee9ab9-01 outer:exit 2b-1f2520e9d83582878fa28f7bcfda0e838b7cd160-3984581dc1449c77-01
2021-09-23T17:23:11.094Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:11.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-e123aa1dcc691f3f058a36cdb08bf6620ba89d10-6f7fb8ac144319a4-01 outer:exit 2b-e123aa1dcc691f3f058a36cdb08bf6620ba89d10-e9b62f406688c18c-01
2021-09-23T17:23:11.097Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:11.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5459824a13c2c5f168f19b2616a548fc5f14caa-cfd4969e4383c206-01 outer:exit 2b-f5459824a13c2c5f168f19b2616a548fc5f14caa-8b88cb98c198a674-01
2021-09-23T17:23:11.100Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:11.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-91bf0746480c5a7811bd58aceac42b1d5b1de99e-4814347941d0cad2-01 outer:exit 2b-91bf0746480c5a7811bd58aceac42b1d5b1de99e-61b8f3c5bcfdfc65-01
2021-09-23T17:23:11.133Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (352ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:18.655Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:18.655Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:18.656Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:18.657Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:18.730Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:18.780Z appoptics:patching patched crypto 
2021-09-23T17:23:18.807Z appoptics:patching patched https 
2021-09-23T17:23:18.807Z appoptics:patching patched http 
2021-09-23T17:23:18.856Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:18.857Z appoptics:patching patched fs 
2021-09-23T17:23:18.894Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v16.10.0)
2021-09-23T17:23:18.902Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2021-09-23T17:23:19.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d790cacfc52dafcfcf68e463c029cbd146a0157-d364ca3ffc422261-01 outer:exit 2b-1d790cacfc52dafcfcf68e463c029cbd146a0157-d4bb2f3875d41efb-01
2021-09-23T17:23:19.106Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:19.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-9af8ecc10d786fbfe14f2e5172842c6d4f340e91-dbbc257a7147116d-01 outer:exit 2b-9af8ecc10d786fbfe14f2e5172842c6d4f340e91-14caf3c1c3beb7a3-01
2021-09-23T17:23:19.149Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:19.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-596bb25090a5929cd72a73555504f6cdaa85d06f-40efcffd29653cac-01 outer:exit 2b-596bb25090a5929cd72a73555504f6cdaa85d06f-6401ec4b5de3c2dc-01
2021-09-23T17:23:19.154Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:19.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-f975b7455d43184baeb2e5cd42f54121391e1b4b-032b6126167b21fb-01 outer:exit 2b-f975b7455d43184baeb2e5cd42f54121391e1b4b-1a2c161a6cb30e67-01
2021-09-23T17:23:19.157Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:19.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-50aaa84d2119b0d74355cd51aeaa6706a8613b3e-86aa20b8ef7671ec-01 outer:exit 2b-50aaa84d2119b0d74355cd51aeaa6706a8613b3e-3a77423836df0d2a-01
2021-09-23T17:23:19.163Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:19.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-a14ef00546627b8492958efa3283e13a52270a78-72667905e9941a68-01 outer:exit 2b-a14ef00546627b8492958efa3283e13a52270a78-fe5fb46f998281a0-01
2021-09-23T17:23:19.166Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:19.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-d06c97ae759c4970152f339ef55d30694e00fa58-8270a016407d96cf-01 outer:exit 2b-d06c97ae759c4970152f339ef55d30694e00fa58-0ae826f5f87f6c6c-01
2021-09-23T17:23:19.169Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:19.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-9af6328e0e5d1df5d1811359ec76d758c2b4702e-825e9498087ce742-01 outer:exit 2b-9af6328e0e5d1df5d1811359ec76d758c2b4702e-80bce78a726d3a4f-01
2021-09-23T17:23:19.172Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:19.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-f150137e6829d0a992528d34d76728bfb2ba6a08-4c68ae5745939593-01 outer:exit 2b-f150137e6829d0a992528d34d76728bfb2ba6a08-45b98490ed7f9432-01
2021-09-23T17:23:19.175Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:19.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-1384191824d801043c167ab9f451dd88a134ff46-ab2899cb8780f991-01 outer:exit 2b-1384191824d801043c167ab9f451dd88a134ff46-d6f8e3bf70626717-01
2021-09-23T17:23:19.178Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:19.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b12e90621e7106dd6cc1afb74f10ca1c591804f-ad7b439d83a56dc7-01 outer:exit 2b-9b12e90621e7106dd6cc1afb74f10ca1c591804f-94bc62f55b429e2c-01
2021-09-23T17:23:19.182Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:19.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-31a363ce83447cd455efd5e0ba266027c8f0d4ea-a97a76d5c00d9ff6-01 outer:exit 2b-31a363ce83447cd455efd5e0ba266027c8f0d4ea-312a77299ea150c7-01
2021-09-23T17:23:19.190Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:19.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d9ee483b86e96bd54deecf2b5c3a450970fe86b-122ae600b68ffe4f-01 outer:exit 2b-4d9ee483b86e96bd54deecf2b5c3a450970fe86b-06cb1064ea1d25a3-01
2021-09-23T17:23:19.206Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:19.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-66649fc141eac0c764dd7bc91e1789150ff17040-2c322a0a1521c857-01 outer:exit 2b-66649fc141eac0c764dd7bc91e1789150ff17040-e808af5a28a8a453-01
2021-09-23T17:23:19.250Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:19.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-47c7759cb16b7512bf243e906c4adc76ba7d73ed-251c5b981f998381-01 outer:exit 2b-47c7759cb16b7512bf243e906c4adc76ba7d73ed-477def021da301fd-01
2021-09-23T17:23:19.254Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:19.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ec2619ff647b1b8f1b4124c36453cc5bf61963c-2f9a54e1d533b354-01 outer:exit 2b-4ec2619ff647b1b8f1b4124c36453cc5bf61963c-23e57417b62d81d3-01
2021-09-23T17:23:19.257Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:19.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0e1de92357801b84cccae4c9b270ba8d01509d1-64f39dd407cbdf6d-01 outer:exit 2b-c0e1de92357801b84cccae4c9b270ba8d01509d1-62f4c22cb83ab9f3-01
2021-09-23T17:23:19.260Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:19.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-409227fa73faa5384e88e6d31f41989e1edb26ee-1e66f6acbbd5b8a0-01 outer:exit 2b-409227fa73faa5384e88e6d31f41989e1edb26ee-add38f18c8c14c5e-01
2021-09-23T17:23:19.264Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:19.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e8cee0b8fa7911fe2db52801feabaadb55d864a-9882c18e2e194e5e-01 outer:exit 2b-8e8cee0b8fa7911fe2db52801feabaadb55d864a-89e3631d0abced50-01
2021-09-23T17:23:19.268Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:19.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-f56ccf055a55ef9ebddba6d7cd65d33b80270887-fe95c2b91802df33-01 outer:exit 2b-f56ccf055a55ef9ebddba6d7cd65d33b80270887-d516281e97a2873c-01
2021-09-23T17:23:19.273Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:19.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-67ea7e7aedf8901181b5789c4ab85e9c422d9b0a-268d8e522e2a28de-01 outer:exit 2b-67ea7e7aedf8901181b5789c4ab85e9c422d9b0a-0c1a8006a4a41747-01
2021-09-23T17:23:19.278Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:19.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef37e73c495954bf8e3acd67994a3748f38fb9b1-2e286d72078fc8cc-01 outer:exit 2b-ef37e73c495954bf8e3acd67994a3748f38fb9b1-1e7a94c1589d0e0d-01
2021-09-23T17:23:19.280Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:19.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0525ba0f44ff8f9f29410ec7b969e67c8aa6fe7-eaed5cbbe1e561c8-01 outer:exit 2b-a0525ba0f44ff8f9f29410ec7b969e67c8aa6fe7-6c5ce789707166c9-01
2021-09-23T17:23:19.284Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:19.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a1e3df72c48ab406284761ae21b4946868660a2-eefc89feb58d4fdb-01 outer:exit 2b-0a1e3df72c48ab406284761ae21b4946868660a2-d86cba23f56133c6-01
2021-09-23T17:23:19.290Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:19.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-c55a3793017dd9203920ed89cd7d16b7d9ec1ba2-305038371aa870b4-01 outer:exit 2b-c55a3793017dd9203920ed89cd7d16b7d9ec1ba2-2a37c402fd1c141e-01
2021-09-23T17:23:19.292Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:19.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-f62981cf468807449482cc81be917e0db477104e-8ed777d5b456ebb6-01 outer:exit 2b-f62981cf468807449482cc81be917e0db477104e-840e16fda5734b41-01
2021-09-23T17:23:19.295Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:19.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-c35bbd0016f98a2ee12226b00ab8a068c2768de4-0550032450b5acba-01 outer:exit 2b-c35bbd0016f98a2ee12226b00ab8a068c2768de4-751b19b174d9b0e6-01
2021-09-23T17:23:19.305Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:19.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c4fed967c17b073329e8e1bc6127ca0b5c47bc9-9afde4ea89e800cb-01 outer:exit 2b-8c4fed967c17b073329e8e1bc6127ca0b5c47bc9-5a493019dcbaf326-01
2021-09-23T17:23:19.310Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:19.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-82a60125eca9c70e2116fcfded3f6e4677622618-93c074ff35d594a9-01 outer:exit 2b-82a60125eca9c70e2116fcfded3f6e4677622618-6bf31a8477941e9c-01
2021-09-23T17:23:19.322Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:19.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f3a768e2e46533998b0fa3adbef76123efbb42b-6c66e01103801674-01 outer:exit 2b-6f3a768e2e46533998b0fa3adbef76123efbb42b-1371bdbd501f896e-01
2021-09-23T17:23:19.330Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:19.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-62855422abcb5e07d8159e68f3de8b46d736af4b-3474f1bcd39bbf0c-01 outer:exit 2b-62855422abcb5e07d8159e68f3de8b46d736af4b-3e39f25a869f4903-01
2021-09-23T17:23:19.332Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:19.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-853f67f1dd8f86e05b4becc5685a698a7d12e18b-66c218d6734f385a-01 outer:exit 2b-853f67f1dd8f86e05b4becc5685a698a7d12e18b-70a9b3067596647b-01
2021-09-23T17:23:19.336Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:19.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c16b01b849f6a34fdab9693a15961f84eb95916-ab5bae3b0b7a100c-01 outer:exit 2b-4c16b01b849f6a34fdab9693a15961f84eb95916-5d39a687c6e32cf5-01
2021-09-23T17:23:19.345Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:19.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bbc29c4df42110d9918394b9769dcde71deab49-9426d591502b1af5-01 outer:exit 2b-2bbc29c4df42110d9918394b9769dcde71deab49-c8636309a4e7d351-01
2021-09-23T17:23:19.348Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:19.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd2fe43f2c04934858d3ed748bd50d25f4960338-5be886f6d0cb5716-01 outer:exit 2b-bd2fe43f2c04934858d3ed748bd50d25f4960338-8cfe003e7b776909-01
2021-09-23T17:23:19.352Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:19.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7ea53c800bd2ec1d6acc19e3d46ff2ed3bb47c4-b7331473f60f0b38-01 outer:exit 2b-b7ea53c800bd2ec1d6acc19e3d46ff2ed3bb47c4-632036fc1ebd5d9a-01
2021-09-23T17:23:19.362Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:19.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-6aca60cd8e47fe755686bbf042dae4f33599b2df-b68ce197051ee4ee-01 outer:exit 2b-6aca60cd8e47fe755686bbf042dae4f33599b2df-43e6cfd225d6dd19-01
2021-09-23T17:23:19.364Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:19.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-61c09d727ccf538c05cd7fefd166973687a62f8f-0ab44aed7bdfa512-01 outer:exit 2b-61c09d727ccf538c05cd7fefd166973687a62f8f-87cb4bc18c614ab1-01
2021-09-23T17:23:19.367Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:19.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2abd104c35d2c7bd7fbd83446b39b3249033d0f-a6bb511be3f89d7d-01 outer:exit 2b-e2abd104c35d2c7bd7fbd83446b39b3249033d0f-3fa47767917d7934-01
2021-09-23T17:23:19.380Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:19.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-906fb80e1227f68bf56b59418dbebbbfc0dec436-491d74b5a668fb5d-01 outer:exit 2b-906fb80e1227f68bf56b59418dbebbbfc0dec436-bf53a56fa8e171ab-01
2021-09-23T17:23:19.396Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:19.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0b099c24456595736ad379f396bd21e2d678dde-6f5f06936dea6995-01 outer:exit 2b-e0b099c24456595736ad379f396bd21e2d678dde-e7a26b75510e9cf5-01
2021-09-23T17:23:19.400Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:19.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3a66bbc698e3c1027800e50c74cbdf864015738-3aaf2fa281534509-01 outer:exit 2b-f3a66bbc698e3c1027800e50c74cbdf864015738-898fc16ac546f7af-01
2021-09-23T17:23:19.402Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:19.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b2efdb9f0f4c81a4a63e1efae90d132f0c7613e-d10dd3ff671fa77d-01 outer:exit 2b-1b2efdb9f0f4c81a4a63e1efae90d132f0c7613e-592a509cf57194c0-01
2021-09-23T17:23:19.405Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:19.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a74d0630a66b85f8a839bf40e6e8a72c5e37027-9213b622732d8a26-01 outer:exit 2b-2a74d0630a66b85f8a839bf40e6e8a72c5e37027-996f2e447aa61284-01
2021-09-23T17:23:19.436Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (373ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:27.222Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:27.223Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:27.223Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:27.224Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:27.300Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:27.344Z appoptics:patching patched crypto 
2021-09-23T17:23:27.365Z appoptics:patching patched https 
2021-09-23T17:23:27.366Z appoptics:patching patched http 
2021-09-23T17:23:27.409Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:27.410Z appoptics:patching patched fs 
2021-09-23T17:23:27.442Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v16.10.0)
2021-09-23T17:23:27.449Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2021-09-23T17:23:27.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7b9d84273df9372ca79d41ad95b8bca61fb235f-b05ad79ec9d28cfd-01 outer:exit 2b-b7b9d84273df9372ca79d41ad95b8bca61fb235f-ecdeab94b14e44a9-01
2021-09-23T17:23:27.633Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:27.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5a14ebd2552513a4bfdc3a2f75f14f564b906b7-f98fd574b73266bc-01 outer:exit 2b-f5a14ebd2552513a4bfdc3a2f75f14f564b906b7-70d99d9dca99fa0f-01
2021-09-23T17:23:27.702Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:27.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ca57b5b849721d1b0c999ae9f1a5b5123f63f5b-60edd054e2aa2c2b-01 outer:exit 2b-2ca57b5b849721d1b0c999ae9f1a5b5123f63f5b-cdf801ccacb1db02-01
2021-09-23T17:23:27.706Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:27.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-51fd1fd8395a6ff8dab438964b8bf29ff3ddeef4-99ed3129528fd8e6-01 outer:exit 2b-51fd1fd8395a6ff8dab438964b8bf29ff3ddeef4-fec2227626660cfc-01
2021-09-23T17:23:27.709Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:27.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e895ad34ebc8d2c0a02bb7930647b562825bd92-83ef4974df0ac1c3-01 outer:exit 2b-1e895ad34ebc8d2c0a02bb7930647b562825bd92-9c9ca226d833ca24-01
2021-09-23T17:23:27.715Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:27.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-17d1497c660c0b80362ffbb8bdf22743b453fbbd-1c5b4848c34d07f3-01 outer:exit 2b-17d1497c660c0b80362ffbb8bdf22743b453fbbd-ebae9bcc41a5091b-01
2021-09-23T17:23:27.718Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:27.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfd91c19f0948da5ed3b6a5f31ee4dc07512b7a1-25acd11051c14ead-01 outer:exit 2b-cfd91c19f0948da5ed3b6a5f31ee4dc07512b7a1-cabb1c066f49d23c-01
2021-09-23T17:23:27.721Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:27.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-02e90dd7a662f8ae5d39c0c68989fd05c93634e9-e39968e41f97292a-01 outer:exit 2b-02e90dd7a662f8ae5d39c0c68989fd05c93634e9-d44f31c08693e158-01
2021-09-23T17:23:27.724Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:27.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4227fe282e4049b52acb445f7d81c122bfbb794-9925daed65986319-01 outer:exit 2b-f4227fe282e4049b52acb445f7d81c122bfbb794-fffc3b20b844b4e6-01
2021-09-23T17:23:27.726Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:27.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cb1806aaf970e0ed30ba7b36dfb8b2335af2cea-3610dd6f80a54a8a-01 outer:exit 2b-6cb1806aaf970e0ed30ba7b36dfb8b2335af2cea-cf5594730424e85a-01
2021-09-23T17:23:27.729Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:27.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-49b56140c7ecbb8f56058cbebdd8e84a33ee7874-8fed76e203e07b27-01 outer:exit 2b-49b56140c7ecbb8f56058cbebdd8e84a33ee7874-b9eeea32118490fc-01
2021-09-23T17:23:27.734Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:27.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2c10da2ece5cf277218a6b0f80dffc8b0d8b843-79d77a20920f21b1-01 outer:exit 2b-d2c10da2ece5cf277218a6b0f80dffc8b0d8b843-43bb8f43c4a49ebe-01
2021-09-23T17:23:27.740Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:27.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce250a9a5501a2d0f0f6ea0da9472856e7656f2b-5d5c7ebadc34535c-01 outer:exit 2b-ce250a9a5501a2d0f0f6ea0da9472856e7656f2b-78caa4287ac20236-01
2021-09-23T17:23:27.759Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:27.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-322c47125069da64e6a08dfda6f7c87b4b6e493b-4b57f1d67c400876-01 outer:exit 2b-322c47125069da64e6a08dfda6f7c87b4b6e493b-a16da4b9e57966b3-01
2021-09-23T17:23:27.804Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:27.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-88f9253728a7316c62fc8ac8c7f0b9abe05777d5-53fc28b64c115a5b-01 outer:exit 2b-88f9253728a7316c62fc8ac8c7f0b9abe05777d5-87a37e8689a95550-01
2021-09-23T17:23:27.808Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:27.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-e926264d069c63e6ce5decc71bdf7e2360c3ff2a-9e492a92cd3c0917-01 outer:exit 2b-e926264d069c63e6ce5decc71bdf7e2360c3ff2a-b6027b1c6ed5e7e2-01
2021-09-23T17:23:27.811Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:27.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a753dcaad628c683e48f1886edd2f8f6bf213be-7764cbe7c7b464d0-01 outer:exit 2b-6a753dcaad628c683e48f1886edd2f8f6bf213be-bd919c58054bc5ac-01
2021-09-23T17:23:27.815Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:27.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d563de9126e13b9aabefc744f723014900e0f16-b0e79ea8f93db8d6-01 outer:exit 2b-9d563de9126e13b9aabefc744f723014900e0f16-917416b5c38eb2f7-01
2021-09-23T17:23:27.819Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:27.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e8d19bac6b927f0e848a916c252ac56d062cea5-5ded7c5bcfa3e1f2-01 outer:exit 2b-6e8d19bac6b927f0e848a916c252ac56d062cea5-bfff20ac6332763a-01
2021-09-23T17:23:27.821Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:27.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea39011798eaf80a4d778a2484e954abaabe6f2f-1ffdd4656bbce845-01 outer:exit 2b-ea39011798eaf80a4d778a2484e954abaabe6f2f-41c123c24cab48d4-01
2021-09-23T17:23:27.824Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:27.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-022defe55d184120568988348c9ad563212640e8-9a9ba35f981c64bd-01 outer:exit 2b-022defe55d184120568988348c9ad563212640e8-36ef737410bca058-01
2021-09-23T17:23:27.827Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:27.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ddbaf56ff9ce640c5379bc6331b3173bb1f7d86-b46fff998150da7b-01 outer:exit 2b-4ddbaf56ff9ce640c5379bc6331b3173bb1f7d86-9d34ae474ff7cefb-01
2021-09-23T17:23:27.829Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:27.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-0089b65e2dd7e5a8b5f92bff57412e82d22fedf6-b3d822df20553470-01 outer:exit 2b-0089b65e2dd7e5a8b5f92bff57412e82d22fedf6-3e55b50ee8e0ccca-01
2021-09-23T17:23:27.833Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:27.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-87da1bc551588aee5543266ba6a0cea2a7bd473f-c83e5a3b18238841-01 outer:exit 2b-87da1bc551588aee5543266ba6a0cea2a7bd473f-2729b5e67a209466-01
2021-09-23T17:23:27.838Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:27.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-593b0cd050c2c1e8a96026b0a9aadd03a7214cc7-e592cefbc6b74543-01 outer:exit 2b-593b0cd050c2c1e8a96026b0a9aadd03a7214cc7-cb76bfc6e5470304-01
2021-09-23T17:23:27.841Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:27.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b11e8954aa309bcfe8b3380dd0cfaaf484527b4-4b995ddfb86d4400-01 outer:exit 2b-1b11e8954aa309bcfe8b3380dd0cfaaf484527b4-6a29222fa9aca15b-01
2021-09-23T17:23:27.844Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:27.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-670b85b6b5a7a7688efe44c3fe78e404f08a532f-7bf745c95ad0555c-01 outer:exit 2b-670b85b6b5a7a7688efe44c3fe78e404f08a532f-31e1d796e3114d7d-01
2021-09-23T17:23:27.852Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:27.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd8d1417972b5b591e3654f3639d0c2767081fc5-7e5c8256b4dd88d0-01 outer:exit 2b-cd8d1417972b5b591e3654f3639d0c2767081fc5-2ebaa468ba431586-01
2021-09-23T17:23:27.857Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:27.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-edd73827a598eb069e1abba30226c5aa7f4fb00d-3eafea7e84a6e80c-01 outer:exit 2b-edd73827a598eb069e1abba30226c5aa7f4fb00d-ed86e5c482ea91a1-01
2021-09-23T17:23:27.866Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:27.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-35ab0f9e14836582e06a665b4ee9668e57023b20-8b2b524b1391a12c-01 outer:exit 2b-35ab0f9e14836582e06a665b4ee9668e57023b20-6be9c60634c5c3a8-01
2021-09-23T17:23:27.873Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:27.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e0424d515ce280f975ff495785a734859bcda3c-942c3607c8ef8338-01 outer:exit 2b-8e0424d515ce280f975ff495785a734859bcda3c-e5e84161f68c3926-01
2021-09-23T17:23:27.875Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:27.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-74c6af7ed9e75f0b2a006c9b2d859a8aade2b300-288e6f67380d8383-01 outer:exit 2b-74c6af7ed9e75f0b2a006c9b2d859a8aade2b300-3e792571d23963b1-01
2021-09-23T17:23:27.889Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:27.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f968497322a728b5428559a396fbd4f241ecceb-2aa7ef667510e64e-01 outer:exit 2b-3f968497322a728b5428559a396fbd4f241ecceb-0d47030f60f22757-01
2021-09-23T17:23:27.898Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:27.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-81e7af9c4ac107a19725be78f51a90d4b68a9466-daab484fc99f6ef7-01 outer:exit 2b-81e7af9c4ac107a19725be78f51a90d4b68a9466-53f3076a7765f7e5-01
2021-09-23T17:23:27.901Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:27.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-442ea0f2ae3f73bfcc35a937b6e884f301004d05-2110e179d461a25b-01 outer:exit 2b-442ea0f2ae3f73bfcc35a937b6e884f301004d05-af2aa67887f6a797-01
2021-09-23T17:23:27.903Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:27.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-220d8350404fad1c3b7fa8b6dfda07d1d7483c80-2cb0148a067f838c-01 outer:exit 2b-220d8350404fad1c3b7fa8b6dfda07d1d7483c80-d157192b091eb877-01
2021-09-23T17:23:27.905Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:27.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfed51277cfed9a37a0a3667de19b4107dd436ba-0d3cc7dbb2ca85fc-01 outer:exit 2b-dfed51277cfed9a37a0a3667de19b4107dd436ba-0652618c9f0dd839-01
2021-09-23T17:23:27.908Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:27.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-169de57230810f5582439b1b1947fee195e9b5bd-75e62cb936f4b4bb-01 outer:exit 2b-169de57230810f5582439b1b1947fee195e9b5bd-bb5f87f0720a4c22-01
2021-09-23T17:23:27.915Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:27.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-74d437e4ee920757f9591e1991aa6140825e51d6-69656072293a21ae-01 outer:exit 2b-74d437e4ee920757f9591e1991aa6140825e51d6-06fec1a09c7538c7-01
2021-09-23T17:23:27.928Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:27.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c650d658fb38b7411499612e329af65dae624e9-56ebc2c68aa977f2-01 outer:exit 2b-5c650d658fb38b7411499612e329af65dae624e9-f1598700bcda6da5-01
2021-09-23T17:23:27.939Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:27.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ca722ae2e4b18772bedaf697309ee4df6c47665-7398468f7b425af0-01 outer:exit 2b-3ca722ae2e4b18772bedaf697309ee4df6c47665-375f734fb0b86a4e-01
2021-09-23T17:23:27.942Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:27.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8062b42d66e475bea606cf38f7639dc39bfcadd-1ec92ae6d6dd1937-01 outer:exit 2b-a8062b42d66e475bea606cf38f7639dc39bfcadd-269c8f161587e3f7-01
2021-09-23T17:23:27.945Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:27.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-bca8f1fc5b89fa0dac31a71172ba8d179ff04c64-93ff143d7cc9899c-01 outer:exit 2b-bca8f1fc5b89fa0dac31a71172ba8d179ff04c64-309c26a11fbae6c1-01
2021-09-23T17:23:27.948Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:27.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a3e645a93fb81fbd6274d5654591c207d02119c-5d8d8629a8a56ded-01 outer:exit 2b-3a3e645a93fb81fbd6274d5654591c207d02119c-8eca466f63678f5f-01
2021-09-23T17:23:27.978Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (384ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:35.544Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:35.544Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:35.544Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:35.545Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:35.607Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:35.650Z appoptics:patching patched crypto 
2021-09-23T17:23:35.678Z appoptics:patching patched https 
2021-09-23T17:23:35.679Z appoptics:patching patched http 
2021-09-23T17:23:35.734Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:35.735Z appoptics:patching patched fs 
2021-09-23T17:23:35.782Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v16.10.0)
2021-09-23T17:23:35.789Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2021-09-23T17:23:36.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea4a85e1c6ad87bbee9e9b376f5b7ea4eae54260-bac73c54eb89e597-01 outer:exit 2b-ea4a85e1c6ad87bbee9e9b376f5b7ea4eae54260-147b71033b8a58d3-01
2021-09-23T17:23:36.032Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:36.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-e13847a1ee1027bdc60864034a9432e2050f1e02-4e6215c4dd477931-01 outer:exit 2b-e13847a1ee1027bdc60864034a9432e2050f1e02-f95bffeb3dc8b5b9-01
2021-09-23T17:23:36.110Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:36.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0c524a71b5f6fdee46c3654b3cc19a14c57b219-a7c31776a3af7fbc-01 outer:exit 2b-f0c524a71b5f6fdee46c3654b3cc19a14c57b219-73384a3ce9e56d6d-01
2021-09-23T17:23:36.116Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:36.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4b9722de956961b32d03511b92689c31fd4f7a6-b58a00f2409f85c1-01 outer:exit 2b-b4b9722de956961b32d03511b92689c31fd4f7a6-38cb83f54dab24a3-01
2021-09-23T17:23:36.119Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:36.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-268df11c2e9a7a4697e2abf0916f6d61e327f77a-4236f5396077407e-01 outer:exit 2b-268df11c2e9a7a4697e2abf0916f6d61e327f77a-22557b1fdb3c2a3d-01
2021-09-23T17:23:36.126Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:36.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-06c89a26ca0551131431dc076db0b45075692e98-085c10e4fd6bc38d-01 outer:exit 2b-06c89a26ca0551131431dc076db0b45075692e98-c27731b5f28b7885-01
2021-09-23T17:23:36.132Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:36.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c54618ec531749d53af9a78f5edddb290236338-7d533e906faa0e4a-01 outer:exit 2b-2c54618ec531749d53af9a78f5edddb290236338-dcc3ae038201804b-01
2021-09-23T17:23:36.136Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:36.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfb890ab69e3ed66289bd2586ef2a463ae240bfb-08e543b5ab003f02-01 outer:exit 2b-dfb890ab69e3ed66289bd2586ef2a463ae240bfb-555316213e40cf10-01
2021-09-23T17:23:36.140Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:36.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-220ab3eda045654b0fb60a45e87ed25cbaeaa94a-3d2e955d05595798-01 outer:exit 2b-220ab3eda045654b0fb60a45e87ed25cbaeaa94a-2a14ffee84ddb978-01
2021-09-23T17:23:36.145Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:36.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-22256c2eb638321a8318c40ba5348539107d34eb-55cc2981b20bce0f-01 outer:exit 2b-22256c2eb638321a8318c40ba5348539107d34eb-dd4db703588ed491-01
2021-09-23T17:23:36.151Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:36.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7ddd913174ee469dfeda2dbe55b5a3a850fa6e2-993b84d3d77abd47-01 outer:exit 2b-f7ddd913174ee469dfeda2dbe55b5a3a850fa6e2-97539dd72391b94c-01
2021-09-23T17:23:36.158Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:36.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-118dae09a6b7b11a5072f09da2d8564d8fef0ef2-364cb385782b1e81-01 outer:exit 2b-118dae09a6b7b11a5072f09da2d8564d8fef0ef2-bca25603a0515266-01
2021-09-23T17:23:36.172Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:36.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-b780c57f610708c6f9e7d7752e24692979d26244-99c677a015eb6df6-01 outer:exit 2b-b780c57f610708c6f9e7d7752e24692979d26244-805442aea9f61f6c-01
2021-09-23T17:23:36.192Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:36.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-568b6a67c4d0f7f3d95fbd5493c463f95298f994-7b013257bee0407f-01 outer:exit 2b-568b6a67c4d0f7f3d95fbd5493c463f95298f994-4daa51a1bc9e96b8-01
2021-09-23T17:23:36.250Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:36.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a8f1bc78b4ae07a31096c93b447336e5e1b8808-2c5da4eedac6a495-01 outer:exit 2b-2a8f1bc78b4ae07a31096c93b447336e5e1b8808-0b9308c1877622ab-01
2021-09-23T17:23:36.254Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:36.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-f085e133912eb117101cf2aee1de896584b80e7e-f25261fd2fe8a853-01 outer:exit 2b-f085e133912eb117101cf2aee1de896584b80e7e-f1bc79e53bfb5eb7-01
2021-09-23T17:23:36.257Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:36.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-b83149dbf49ce1f1b8a3b0ed90db1bef41de7b0a-5fb43f5e58c9c571-01 outer:exit 2b-b83149dbf49ce1f1b8a3b0ed90db1bef41de7b0a-0eee76e763023523-01
2021-09-23T17:23:36.262Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:36.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ca278facaeb78ed419d5c59c54ac98054687635-2bdd68492e32b6b8-01 outer:exit 2b-0ca278facaeb78ed419d5c59c54ac98054687635-ada975756303893c-01
2021-09-23T17:23:36.265Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:36.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff8e1923b7582b4b955fd484fde79817546596d7-454c89e2c64cc053-01 outer:exit 2b-ff8e1923b7582b4b955fd484fde79817546596d7-4884accc12c9525f-01
2021-09-23T17:23:36.271Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:36.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-5153ca4bd4629e5bc73891eb28539da61d177fc2-54b6b3b9562ad50e-01 outer:exit 2b-5153ca4bd4629e5bc73891eb28539da61d177fc2-620744e5987e26cd-01
2021-09-23T17:23:36.274Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:36.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-f380ddb5bbacb1b661dc79032394a77f2cf24ac2-0a047a117353ff0a-01 outer:exit 2b-f380ddb5bbacb1b661dc79032394a77f2cf24ac2-d39e5f95de59d7db-01
2021-09-23T17:23:36.277Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:36.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-416f952c1b60ed7203af7d35ce0e7e5911f8469e-4611eeae1b6e7740-01 outer:exit 2b-416f952c1b60ed7203af7d35ce0e7e5911f8469e-0833f822197fda24-01
2021-09-23T17:23:36.281Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:36.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-acdf5e1e705862d2f1d9c37159e4d973f0e60b4b-6b01e8379177a177-01 outer:exit 2b-acdf5e1e705862d2f1d9c37159e4d973f0e60b4b-2b42eb2b29fd7c17-01
2021-09-23T17:23:36.287Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:36.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c410bb434cd32c6edb69843d191a8670c27b176-2ef9f7bf4689f5d9-01 outer:exit 2b-6c410bb434cd32c6edb69843d191a8670c27b176-6899a84df932bc49-01
2021-09-23T17:23:36.293Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:36.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4984df121facf892a987101d2c16404851667e4-d7334c84676185db-01 outer:exit 2b-d4984df121facf892a987101d2c16404851667e4-bf22db1dc92e4cfc-01
2021-09-23T17:23:36.298Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:36.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-4641927c6c4995b38196031945add9c9be757034-f1f316d10c0c613f-01 outer:exit 2b-4641927c6c4995b38196031945add9c9be757034-50f1c3b20bf979c0-01
2021-09-23T17:23:36.303Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:36.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcacd3991a42febc5ac767616bf575db672ea52d-dbac069092a794a7-01 outer:exit 2b-dcacd3991a42febc5ac767616bf575db672ea52d-2d3cbae99dff2019-01
2021-09-23T17:23:36.314Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:36.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfcb11188d76bfc6b752654cfb8d3102692b4ce7-c0503832a84d09f3-01 outer:exit 2b-dfcb11188d76bfc6b752654cfb8d3102692b4ce7-30b70185a92e6e58-01
2021-09-23T17:23:36.319Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:36.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-00b5fa7938810d2b1122e064e18d36f38fa92b11-5f84de17b19fb480-01 outer:exit 2b-00b5fa7938810d2b1122e064e18d36f38fa92b11-870ea80105295101-01
2021-09-23T17:23:36.333Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:36.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5a8f757375fd2432b2982474eaab78f3445900b-5872b067d9cd09ae-01 outer:exit 2b-b5a8f757375fd2432b2982474eaab78f3445900b-774b0a678b5159a6-01
2021-09-23T17:23:36.342Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:36.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea95cc5ebd9dc67c0b2cb88143068338cca190ee-3b8cde4596d27e14-01 outer:exit 2b-ea95cc5ebd9dc67c0b2cb88143068338cca190ee-33092b2e8afece30-01
2021-09-23T17:23:36.346Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:36.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-4addad1e085381a93a2cfb4a83fb6d1b0cff04fe-30581037828696da-01 outer:exit 2b-4addad1e085381a93a2cfb4a83fb6d1b0cff04fe-fab81256a97b3720-01
2021-09-23T17:23:36.352Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:36.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-14ddd88a60e6d868e27c40e86ae4565788b38fdc-8095646e1c0585d6-01 outer:exit 2b-14ddd88a60e6d868e27c40e86ae4565788b38fdc-04712686c704b788-01
2021-09-23T17:23:36.363Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:36.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-759452c63cfc7185d973b2117ca78ecccca44ba1-0fc4000aaac8130b-01 outer:exit 2b-759452c63cfc7185d973b2117ca78ecccca44ba1-bf3cd2659ed936ca-01
2021-09-23T17:23:36.365Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:36.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-d84ab92015e4098cdbf0f1438df88c7abcfe4699-2ec3772c263f1316-01 outer:exit 2b-d84ab92015e4098cdbf0f1438df88c7abcfe4699-9d081fde2a242e75-01
2021-09-23T17:23:36.369Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:36.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-a120fe083aaafcc7448a99c8559b330d8836abef-83a2d9507fffdc7c-01 outer:exit 2b-a120fe083aaafcc7448a99c8559b330d8836abef-fa7841a65e736191-01
2021-09-23T17:23:36.376Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:36.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc84aec2c2e581d83964c0ea1fe44ed50eec776d-74bc175db982d154-01 outer:exit 2b-fc84aec2c2e581d83964c0ea1fe44ed50eec776d-b2b1100f436b8828-01
2021-09-23T17:23:36.379Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:36.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf580886fb536f7c8af453a19791bf8ab7a95728-dafe8d94155eb384-01 outer:exit 2b-cf580886fb536f7c8af453a19791bf8ab7a95728-0b54c84de2fd9a57-01
2021-09-23T17:23:36.382Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:36.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-433b956c7e89e94dea31c024d1c4804d3541fa67-8637040eb383e268-01 outer:exit 2b-433b956c7e89e94dea31c024d1c4804d3541fa67-756fbd491c58aad3-01
2021-09-23T17:23:36.396Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:36.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-74f9456e7c0d730662ee336479da17f9633099f5-3c5ef2961e927563-01 outer:exit 2b-74f9456e7c0d730662ee336479da17f9633099f5-00cac00297b5d6ee-01
2021-09-23T17:23:36.408Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:36.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-31648179607f4b0dea0fa84884076f85e53ea2c4-e9435ddfc7e3ea1f-01 outer:exit 2b-31648179607f4b0dea0fa84884076f85e53ea2c4-56fde926289094f1-01
2021-09-23T17:23:36.412Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:36.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-67b0044567e5471cd9f4c90fd355bc177478f996-2c25717d6a89908d-01 outer:exit 2b-67b0044567e5471cd9f4c90fd355bc177478f996-474fc144ae139e57-01
2021-09-23T17:23:36.416Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:36.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-79e85183c607e64cf1a412a74362cec214e2984f-e0b2adb9ce6f1863-01 outer:exit 2b-79e85183c607e64cf1a412a74362cec214e2984f-f1f19805c83a794e-01
2021-09-23T17:23:36.419Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:36.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6ac2ee158987e4ddecacd00fe16c58e5d28439b-f713ecc50c95048b-01 outer:exit 2b-c6ac2ee158987e4ddecacd00fe16c58e5d28439b-57232ad77fb872eb-01
2021-09-23T17:23:36.468Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (486ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:43.314Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:43.315Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:43.315Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:43.315Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:43.389Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:43.435Z appoptics:patching patched crypto 
2021-09-23T17:23:43.459Z appoptics:patching patched https 
2021-09-23T17:23:43.460Z appoptics:patching patched http 
2021-09-23T17:23:43.508Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:43.509Z appoptics:patching patched fs 
2021-09-23T17:23:43.544Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v16.10.0)
2021-09-23T17:23:43.553Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2021-09-23T17:23:43.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf614d08a14d78c6cf2adae5ca4565af3a792f2b-635e42fbf4781f25-01 outer:exit 2b-cf614d08a14d78c6cf2adae5ca4565af3a792f2b-cbb1154fd922a98b-01
2021-09-23T17:23:43.740Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:43.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebcda0dc6b4d31bad0ca89f036c792e1c9dd319c-3512981963522b24-01 outer:exit 2b-ebcda0dc6b4d31bad0ca89f036c792e1c9dd319c-1df83509bc563095-01
2021-09-23T17:23:43.799Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:43.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5bb644ae032d7aa76092c90d21ff3af3cf89488-32ee6fbe6dbb569c-01 outer:exit 2b-b5bb644ae032d7aa76092c90d21ff3af3cf89488-80a65c5426298d4e-01
2021-09-23T17:23:43.803Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:43.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fb1d0e5cfaa4398b9a4699839b467f868ba2af6-66a9440fa2b04466-01 outer:exit 2b-0fb1d0e5cfaa4398b9a4699839b467f868ba2af6-05f6798a99119bd5-01
2021-09-23T17:23:43.806Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:43.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc593673e7693604cbcab4ca25d45f84915caf52-722fee29624030c2-01 outer:exit 2b-dc593673e7693604cbcab4ca25d45f84915caf52-e1c8a2bbe560dace-01
2021-09-23T17:23:43.811Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:43.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc9389d34d786918393632e4bc89d62bab7a40d6-0b43660ec39de544-01 outer:exit 2b-dc9389d34d786918393632e4bc89d62bab7a40d6-53df32d8a217a0d4-01
2021-09-23T17:23:43.814Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:43.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-1aabe3d68e15767df3fb9f24a300256fa5fc134a-987669829091556a-01 outer:exit 2b-1aabe3d68e15767df3fb9f24a300256fa5fc134a-0bbccce4d22e9c4b-01
2021-09-23T17:23:43.817Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:43.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-08059891ef95ef92963808092f6b340f05ede83d-94f2aa319cf9c204-01 outer:exit 2b-08059891ef95ef92963808092f6b340f05ede83d-2c80a98e05fb4608-01
2021-09-23T17:23:43.819Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:43.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-1870f38f353c67258ae787f98d88037eb979193e-4d020e493250dcc8-01 outer:exit 2b-1870f38f353c67258ae787f98d88037eb979193e-0e45555ad9e3a8d2-01
2021-09-23T17:23:43.822Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:43.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-00e65f7aa9abe4b4ecd7de177c01af4bf1ca2cfd-673b616982518b72-01 outer:exit 2b-00e65f7aa9abe4b4ecd7de177c01af4bf1ca2cfd-d22d7c69eb286776-01
2021-09-23T17:23:43.825Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:43.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ac1fcd0fbf345e95886844788a945426d82f2d1-589bc81a1c1d75d9-01 outer:exit 2b-1ac1fcd0fbf345e95886844788a945426d82f2d1-80e74f974f777750-01
2021-09-23T17:23:43.830Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:43.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fcf8b5c94fd8ba846491265e9057a9ee0f37497-22ef64611e1089b4-01 outer:exit 2b-4fcf8b5c94fd8ba846491265e9057a9ee0f37497-dd889357bfd54cf1-01
2021-09-23T17:23:43.840Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:43.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-700fa38b38ffc58e3faf33d9157f83bc1cb88b56-1ff2342b5eb08667-01 outer:exit 2b-700fa38b38ffc58e3faf33d9157f83bc1cb88b56-43b4b44252d3a9c1-01
2021-09-23T17:23:43.860Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:43.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-df49cf242040bb02fb20e3831e5ed8e0680b7d5e-a64e12dc96c6ab7c-01 outer:exit 2b-df49cf242040bb02fb20e3831e5ed8e0680b7d5e-467435653a31112b-01
2021-09-23T17:23:43.901Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:43.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-cff174e6038f8aec39ffe77ab9a640f227e75c21-98f7395944fb769d-01 outer:exit 2b-cff174e6038f8aec39ffe77ab9a640f227e75c21-fb027edbcbce50d5-01
2021-09-23T17:23:43.904Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:43.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-889993228d8b93a165b66288ff043fc3c72c1b64-34c680ae9e7c19c5-01 outer:exit 2b-889993228d8b93a165b66288ff043fc3c72c1b64-d59bffb856e39f00-01
2021-09-23T17:23:43.907Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:43.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-f885c3997ea9c3168b6d6ebf2b304ca0e4c335a5-751050da6e56518f-01 outer:exit 2b-f885c3997ea9c3168b6d6ebf2b304ca0e4c335a5-e2af0abd06de4dd7-01
2021-09-23T17:23:43.910Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:43.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb4d4a22510ca53bc23e7b86d1c38f198f977124-746f7cb0dd3dd4db-01 outer:exit 2b-eb4d4a22510ca53bc23e7b86d1c38f198f977124-a437c0838af86fe9-01
2021-09-23T17:23:43.912Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:43.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-87089a35206b9fc3449ed84fe4d12ae3ba229d18-c2af2cf1c9c4ed17-01 outer:exit 2b-87089a35206b9fc3449ed84fe4d12ae3ba229d18-c6ad9fc8fbe6f9e9-01
2021-09-23T17:23:43.914Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:43.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-89c77d591b50945ffe6047ab1a2511ed211f7b3f-e2171063530a0389-01 outer:exit 2b-89c77d591b50945ffe6047ab1a2511ed211f7b3f-390fa5c3f3daa221-01
2021-09-23T17:23:43.917Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:43.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-506a706c95caf5b498a12594daad1e8dcc972344-781acfdb74ff0022-01 outer:exit 2b-506a706c95caf5b498a12594daad1e8dcc972344-bef22a93b5a0db1c-01
2021-09-23T17:23:43.919Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:43.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-38be3f7cd56ec53cbe8d07fe21118afafdc42383-ee1332b3c0b68bf2-01 outer:exit 2b-38be3f7cd56ec53cbe8d07fe21118afafdc42383-2188ccaddcc44006-01
2021-09-23T17:23:43.922Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:43.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-f02e444a0ce640aa18a93df22b8cbc6cc803ca63-00a9a19dec5dc8e5-01 outer:exit 2b-f02e444a0ce640aa18a93df22b8cbc6cc803ca63-631d20c61bc654e8-01
2021-09-23T17:23:43.925Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:43.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-1774d12fb50d50fd006c54aa465511ec64a63cf4-9ee2017c1422f712-01 outer:exit 2b-1774d12fb50d50fd006c54aa465511ec64a63cf4-46ce62f7129686d2-01
2021-09-23T17:23:43.929Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:43.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-52faeacdbf70dc1a0200038465cdc7438dac9fbc-0ba85d5de46a7852-01 outer:exit 2b-52faeacdbf70dc1a0200038465cdc7438dac9fbc-736e130a78240509-01
2021-09-23T17:23:43.931Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:43.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b64931655756536da74cddc4fbe292b1975f070-89c093a37158ca6b-01 outer:exit 2b-0b64931655756536da74cddc4fbe292b1975f070-ddaae5b8df9cd033-01
2021-09-23T17:23:43.935Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:43.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-273c470d54fb22d8a6b9f626add92cd8783b80c4-ee1c4614f916b324-01 outer:exit 2b-273c470d54fb22d8a6b9f626add92cd8783b80c4-f5c89ce50ac838bf-01
2021-09-23T17:23:43.942Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:43.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6c9d1f64c4b47f9cdfdf54a240f25f76200b1ef-16b313623c5dfdaf-01 outer:exit 2b-a6c9d1f64c4b47f9cdfdf54a240f25f76200b1ef-fe567c12a5c2243d-01
2021-09-23T17:23:43.947Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:43.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ce5fea5560f4358219adbb800b0c4efe34099a5-70eacbc90a9b5444-01 outer:exit 2b-1ce5fea5560f4358219adbb800b0c4efe34099a5-ff2348e637f1e154-01
2021-09-23T17:23:43.956Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:43.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-f716f1456d7e8ac59059650adee0c55719643e9b-43da4e5cb594acbf-01 outer:exit 2b-f716f1456d7e8ac59059650adee0c55719643e9b-2ca19287d01d5470-01
2021-09-23T17:23:43.965Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:43.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-e44fba3694b8e4baa7c9e3d423bd36421494601d-294917949c2c2fbe-01 outer:exit 2b-e44fba3694b8e4baa7c9e3d423bd36421494601d-2670564bdeb35d9f-01
2021-09-23T17:23:43.967Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:43.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-24ba01357626c10befe277dffb4f249112ef47bd-0736af93c1621a8b-01 outer:exit 2b-24ba01357626c10befe277dffb4f249112ef47bd-bd28a802c1b1af9b-01
2021-09-23T17:23:43.970Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:43.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-cecf36c935fbe96b3e16947dfa38158e1891b003-cf7cc5e965db1752-01 outer:exit 2b-cecf36c935fbe96b3e16947dfa38158e1891b003-3f893f2ab0d16bd5-01
2021-09-23T17:23:43.978Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:43.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-172a72401200f2a2173b82d5666862a77787faac-817f120e937f1655-01 outer:exit 2b-172a72401200f2a2173b82d5666862a77787faac-ac29e32cd5d53fe6-01
2021-09-23T17:23:43.980Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:43.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-c052e7c3b81ee29aa5f5dff9c82a1224e4035f25-05942a37a0c972bf-01 outer:exit 2b-c052e7c3b81ee29aa5f5dff9c82a1224e4035f25-cc0c9f4d75e411d9-01
2021-09-23T17:23:43.982Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:43.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7064d825f01a5244ca23f2562714bc3f73448b3-69307f98334fedf4-01 outer:exit 2b-f7064d825f01a5244ca23f2562714bc3f73448b3-fe015f75ff3ad187-01
2021-09-23T17:23:43.989Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:43.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8ac4bc8ddd858e2015f65776bf014e0d5dbdcb3-5fb682b363403128-01 outer:exit 2b-d8ac4bc8ddd858e2015f65776bf014e0d5dbdcb3-a64cdcfd89930dc1-01
2021-09-23T17:23:43.991Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:43.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-54479f61de2774efb9f7a1097cf74930aa4f59a4-de1e377aa09e178c-01 outer:exit 2b-54479f61de2774efb9f7a1097cf74930aa4f59a4-35f11048f9e7f35a-01
2021-09-23T17:23:43.993Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:44.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7f918965dfb5d1159e82ef43a35351cfb794449-fab25cd2f09bac04-01 outer:exit 2b-f7f918965dfb5d1159e82ef43a35351cfb794449-4131166741dd159e-01
2021-09-23T17:23:44.003Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:44.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-37de60c897d857c255184bc4f13a945456d8cff4-e47fa171ad0b9b66-01 outer:exit 2b-37de60c897d857c255184bc4f13a945456d8cff4-139d456f7ab41697-01
2021-09-23T17:23:44.014Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:44.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-19895e5d6b0f45b05197d58a2585e0a9b3bfea12-cd7bf0a61e8e045d-01 outer:exit 2b-19895e5d6b0f45b05197d58a2585e0a9b3bfea12-d48965b5cb43e813-01
2021-09-23T17:23:44.017Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:44.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0a47219b4e508be38346019633bf87dc4a1bdc8-ca6b211b0ab8602f-01 outer:exit 2b-e0a47219b4e508be38346019633bf87dc4a1bdc8-98a6042c4ed51472-01
2021-09-23T17:23:44.020Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:44.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-7953ce9b5e9fed912045dace8c5f292053ec01af-879355c4c09a7fbf-01 outer:exit 2b-7953ce9b5e9fed912045dace8c5f292053ec01af-cf6f68a7499670b1-01
2021-09-23T17:23:44.025Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:44.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d6239112930d13f3f89702d72b4408ec7faa66a-a29b7196cba54845-01 outer:exit 2b-5d6239112930d13f3f89702d72b4408ec7faa66a-88ed85e0d52cf973-01
2021-09-23T17:23:44.058Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (358ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:23:51.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:51.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:51.743Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:51.744Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:51.817Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:51.877Z appoptics:patching patched crypto 
2021-09-23T17:23:51.910Z appoptics:patching patched https 
2021-09-23T17:23:51.910Z appoptics:patching patched http 
2021-09-23T17:23:51.971Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:51.972Z appoptics:patching patched fs 
2021-09-23T17:23:51.990Z appoptics:patching patched zlib 
2021-09-23T17:23:52.025Z appoptics:patching patched mongodb-core 3.0.0
2021-09-23T17:23:52.033Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (338ms)


changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:00.841Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:00.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:00.842Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:00.843Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:00.913Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:00.963Z appoptics:patching patched crypto 
2021-09-23T17:24:00.988Z appoptics:patching patched https 
2021-09-23T17:24:00.989Z appoptics:patching patched http 
2021-09-23T17:24:01.039Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:01.040Z appoptics:patching patched fs 
2021-09-23T17:24:01.054Z appoptics:patching patched zlib 
2021-09-23T17:24:01.081Z appoptics:patching patched mongodb-core 3.0.1
2021-09-23T17:24:01.089Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (85ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (366ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:08.274Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:08.275Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:08.275Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:08.275Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:08.343Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:08.387Z appoptics:patching patched crypto 
2021-09-23T17:24:08.408Z appoptics:patching patched https 
2021-09-23T17:24:08.409Z appoptics:patching patched http 
2021-09-23T17:24:08.454Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:08.455Z appoptics:patching patched fs 
2021-09-23T17:24:08.466Z appoptics:patching patched zlib 
2021-09-23T17:24:08.493Z appoptics:patching patched mongodb-core 3.0.2
2021-09-23T17:24:08.500Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (309ms)


changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:16.990Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:16.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:16.991Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:16.992Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:17.073Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:17.123Z appoptics:patching patched crypto 
2021-09-23T17:24:17.148Z appoptics:patching patched https 
2021-09-23T17:24:17.148Z appoptics:patching patched http 
2021-09-23T17:24:17.206Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:17.206Z appoptics:patching patched fs 
2021-09-23T17:24:17.222Z appoptics:patching patched zlib 
2021-09-23T17:24:17.252Z appoptics:patching patched mongodb-core 3.0.3
2021-09-23T17:24:17.261Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (261ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:25.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:25.113Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:25.113Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:25.114Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:25.225Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:25.304Z appoptics:patching patched crypto 
2021-09-23T17:24:25.329Z appoptics:patching patched https 
2021-09-23T17:24:25.330Z appoptics:patching patched http 
2021-09-23T17:24:25.375Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:25.375Z appoptics:patching patched fs 
2021-09-23T17:24:25.391Z appoptics:patching patched zlib 
2021-09-23T17:24:25.424Z appoptics:patching patched mongodb-core 3.0.4
2021-09-23T17:24:25.433Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (365ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:33.053Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:33.054Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:33.054Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:33.055Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:33.125Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:33.177Z appoptics:patching patched crypto 
2021-09-23T17:24:33.211Z appoptics:patching patched https 
2021-09-23T17:24:33.211Z appoptics:patching patched http 
2021-09-23T17:24:33.281Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:33.283Z appoptics:patching patched fs 
2021-09-23T17:24:33.298Z appoptics:patching patched zlib 
2021-09-23T17:24:33.328Z appoptics:patching patched mongodb-core 3.0.5
2021-09-23T17:24:33.335Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (314ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:40.859Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:40.860Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:40.860Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:40.861Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:40.929Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:40.980Z appoptics:patching patched crypto 
2021-09-23T17:24:41.006Z appoptics:patching patched https 
2021-09-23T17:24:41.006Z appoptics:patching patched http 
2021-09-23T17:24:41.060Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:41.061Z appoptics:patching patched fs 
2021-09-23T17:24:41.079Z appoptics:patching patched zlib 
2021-09-23T17:24:41.112Z appoptics:patching patched mongodb-core 3.0.6
2021-09-23T17:24:41.118Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (286ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:48.716Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:48.717Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:48.717Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:48.718Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:48.808Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:48.858Z appoptics:patching patched crypto 
2021-09-23T17:24:48.886Z appoptics:patching patched https 
2021-09-23T17:24:48.886Z appoptics:patching patched http 
2021-09-23T17:24:48.937Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:48.939Z appoptics:patching patched fs 
2021-09-23T17:24:48.950Z appoptics:patching patched zlib 
2021-09-23T17:24:48.980Z appoptics:patching patched mongodb-core 3.0.7
2021-09-23T17:24:48.986Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (73ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (375ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:24:57.000Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:57.001Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:57.001Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:57.002Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:57.081Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:57.130Z appoptics:patching patched crypto 
2021-09-23T17:24:57.159Z appoptics:patching patched https 
2021-09-23T17:24:57.160Z appoptics:patching patched http 
2021-09-23T17:24:57.210Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:57.211Z appoptics:patching patched fs 
2021-09-23T17:24:57.223Z appoptics:patching patched zlib 
2021-09-23T17:24:57.255Z appoptics:patching patched mongodb-core 3.0.8
2021-09-23T17:24:57.262Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (355ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:05.397Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:05.397Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:05.397Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:05.398Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:05.468Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:05.512Z appoptics:patching patched crypto 
2021-09-23T17:25:05.535Z appoptics:patching patched https 
2021-09-23T17:25:05.536Z appoptics:patching patched http 
2021-09-23T17:25:05.579Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:05.580Z appoptics:patching patched fs 
2021-09-23T17:25:05.595Z appoptics:patching patched zlib 
2021-09-23T17:25:05.625Z appoptics:patching patched mongodb-core 3.0.9
2021-09-23T17:25:05.634Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (39ms)


  33 passing (376ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:13.007Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:13.007Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:13.007Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:13.008Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:13.085Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:13.150Z appoptics:patching patched crypto 
2021-09-23T17:25:13.215Z appoptics:patching patched https 
2021-09-23T17:25:13.215Z appoptics:patching patched http 
2021-09-23T17:25:13.294Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:13.295Z appoptics:patching patched fs 
2021-09-23T17:25:13.320Z appoptics:patching patched zlib 
2021-09-23T17:25:13.353Z appoptics:patching patched mongodb-core 3.0.11
2021-09-23T17:25:13.360Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (79ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (51ms)


  33 passing (424ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:21.320Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:21.321Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:21.321Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:21.322Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:21.387Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:21.432Z appoptics:patching patched crypto 
2021-09-23T17:25:21.455Z appoptics:patching patched https 
2021-09-23T17:25:21.455Z appoptics:patching patched http 
2021-09-23T17:25:21.502Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:21.504Z appoptics:patching patched fs 
2021-09-23T17:25:21.518Z appoptics:patching patched zlib 
2021-09-23T17:25:21.555Z appoptics:patching patched mongodb-core 3.1.0
2021-09-23T17:25:21.562Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (57ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (323ms)


changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:30.130Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:30.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:30.131Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:30.132Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:30.206Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:30.253Z appoptics:patching patched crypto 
2021-09-23T17:25:30.279Z appoptics:patching patched https 
2021-09-23T17:25:30.280Z appoptics:patching patched http 
2021-09-23T17:25:30.331Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:30.331Z appoptics:patching patched fs 
2021-09-23T17:25:30.349Z appoptics:patching patched zlib 
2021-09-23T17:25:30.390Z appoptics:patching patched mongodb-core 3.1.1
2021-09-23T17:25:30.397Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (501ms)


changed 2 packages, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:39.435Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:39.436Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:39.436Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:39.436Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:39.513Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:39.570Z appoptics:patching patched crypto 
2021-09-23T17:25:39.598Z appoptics:patching patched https 
2021-09-23T17:25:39.599Z appoptics:patching patched http 
2021-09-23T17:25:39.653Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:39.654Z appoptics:patching patched fs 
2021-09-23T17:25:39.668Z appoptics:patching patched zlib 
2021-09-23T17:25:39.706Z appoptics:patching patched mongodb-core 3.1.2
2021-09-23T17:25:39.714Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (323ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:48.222Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:48.223Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:48.223Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:48.224Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:48.294Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:48.340Z appoptics:patching patched crypto 
2021-09-23T17:25:48.364Z appoptics:patching patched https 
2021-09-23T17:25:48.365Z appoptics:patching patched http 
2021-09-23T17:25:48.411Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:48.412Z appoptics:patching patched fs 
2021-09-23T17:25:48.426Z appoptics:patching patched zlib 
2021-09-23T17:25:48.460Z appoptics:patching patched mongodb-core 3.1.3
2021-09-23T17:25:48.467Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (331ms)


changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:25:57.249Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:57.250Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:57.250Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:57.251Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:57.324Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:57.370Z appoptics:patching patched crypto 
2021-09-23T17:25:57.397Z appoptics:patching patched https 
2021-09-23T17:25:57.398Z appoptics:patching patched http 
2021-09-23T17:25:57.443Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:57.445Z appoptics:patching patched fs 
2021-09-23T17:25:57.461Z appoptics:patching patched zlib 
2021-09-23T17:25:57.497Z appoptics:patching patched mongodb-core 3.1.4
2021-09-23T17:25:57.504Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (778ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:06.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:06.113Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:06.113Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:06.114Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:06.178Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:06.222Z appoptics:patching patched crypto 
2021-09-23T17:26:06.244Z appoptics:patching patched https 
2021-09-23T17:26:06.244Z appoptics:patching patched http 
2021-09-23T17:26:06.292Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:06.293Z appoptics:patching patched fs 
2021-09-23T17:26:06.312Z appoptics:patching patched zlib 
2021-09-23T17:26:06.364Z appoptics:patching patched mongodb-core 3.1.5
2021-09-23T17:26:06.375Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (75ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (386ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:13.817Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:13.818Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:13.818Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:13.818Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:13.883Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:13.928Z appoptics:patching patched crypto 
2021-09-23T17:26:13.950Z appoptics:patching patched https 
2021-09-23T17:26:13.950Z appoptics:patching patched http 
2021-09-23T17:26:13.989Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:13.991Z appoptics:patching patched fs 
2021-09-23T17:26:14.007Z appoptics:patching patched zlib 
2021-09-23T17:26:14.038Z appoptics:patching patched mongodb-core 3.1.6
2021-09-23T17:26:14.045Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (260ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:21.827Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:21.828Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:21.828Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:21.829Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:21.895Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:21.957Z appoptics:patching patched crypto 
2021-09-23T17:26:21.990Z appoptics:patching patched https 
2021-09-23T17:26:21.990Z appoptics:patching patched http 
2021-09-23T17:26:22.043Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:22.044Z appoptics:patching patched fs 
2021-09-23T17:26:22.059Z appoptics:patching patched zlib 
2021-09-23T17:26:22.112Z appoptics:patching patched mongodb-core 3.1.7
2021-09-23T17:26:22.141Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (359ms)


changed 1 package, and audited 1102 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:29.674Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:29.675Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:29.675Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:29.676Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:29.758Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:29.821Z appoptics:patching patched crypto 
2021-09-23T17:26:29.857Z appoptics:patching patched https 
2021-09-23T17:26:29.858Z appoptics:patching patched http 
2021-09-23T17:26:29.915Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:29.917Z appoptics:patching patched fs 
2021-09-23T17:26:29.932Z appoptics:patching patched zlib 
2021-09-23T17:26:29.974Z appoptics:patching patched mongodb-core 3.1.8
2021-09-23T17:26:29.982Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (80ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (365ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:37.992Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:37.993Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:37.993Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:37.994Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:38.076Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:38.136Z appoptics:patching patched crypto 
2021-09-23T17:26:38.166Z appoptics:patching patched https 
2021-09-23T17:26:38.166Z appoptics:patching patched http 
2021-09-23T17:26:38.224Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:38.224Z appoptics:patching patched fs 
2021-09-23T17:26:38.242Z appoptics:patching patched zlib 
2021-09-23T17:26:38.282Z appoptics:patching patched mongodb-core 3.1.9
2021-09-23T17:26:38.290Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (351ms)


changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:47.312Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:47.313Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:47.313Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:47.313Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:47.392Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:47.446Z appoptics:patching patched crypto 
2021-09-23T17:26:47.470Z appoptics:patching patched https 
2021-09-23T17:26:47.471Z appoptics:patching patched http 
2021-09-23T17:26:47.516Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:47.520Z appoptics:patching patched fs 
2021-09-23T17:26:47.535Z appoptics:patching patched zlib 
2021-09-23T17:26:47.573Z appoptics:patching patched mongodb-core 3.1.10
2021-09-23T17:26:47.582Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (55ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (348ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:26:56.407Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:56.410Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:56.410Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:56.410Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:56.589Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:56.645Z appoptics:patching patched crypto 
2021-09-23T17:26:56.678Z appoptics:patching patched https 
2021-09-23T17:26:56.679Z appoptics:patching patched http 
2021-09-23T17:26:56.737Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:56.743Z appoptics:patching patched fs 
2021-09-23T17:26:56.762Z appoptics:patching patched zlib 
2021-09-23T17:26:56.810Z appoptics:patching patched mongodb-core 3.1.11
2021-09-23T17:26:56.819Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (73ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (372ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:04.682Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:04.683Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:04.683Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:04.683Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:04.754Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:04.799Z appoptics:patching patched crypto 
2021-09-23T17:27:04.824Z appoptics:patching patched https 
2021-09-23T17:27:04.824Z appoptics:patching patched http 
2021-09-23T17:27:04.889Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:04.890Z appoptics:patching patched fs 
2021-09-23T17:27:04.908Z appoptics:patching patched zlib 
2021-09-23T17:27:04.955Z appoptics:patching patched mongodb-core 3.2.0
2021-09-23T17:27:04.961Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (368ms)


changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:14.318Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:14.318Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:14.319Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:14.319Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:14.399Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:14.450Z appoptics:patching patched crypto 
2021-09-23T17:27:14.476Z appoptics:patching patched https 
2021-09-23T17:27:14.476Z appoptics:patching patched http 
2021-09-23T17:27:14.536Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:14.544Z appoptics:patching patched fs 
2021-09-23T17:27:14.569Z appoptics:patching patched zlib 
2021-09-23T17:27:14.622Z appoptics:patching patched mongodb-core 3.2.1
2021-09-23T17:27:14.629Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (88ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (439ms)


changed 1 package, and audited 1102 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:23.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:23.692Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:23.692Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:23.693Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:23.766Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:23.810Z appoptics:patching patched crypto 
2021-09-23T17:27:23.834Z appoptics:patching patched https 
2021-09-23T17:27:23.835Z appoptics:patching patched http 
2021-09-23T17:27:23.886Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:23.886Z appoptics:patching patched fs 
2021-09-23T17:27:23.901Z appoptics:patching patched zlib 
2021-09-23T17:27:23.943Z appoptics:patching patched mongodb-core 3.2.2
2021-09-23T17:27:23.950Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (356ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:31.950Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:31.951Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:31.951Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:31.952Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:32.023Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:32.072Z appoptics:patching patched crypto 
2021-09-23T17:27:32.099Z appoptics:patching patched https 
2021-09-23T17:27:32.100Z appoptics:patching patched http 
2021-09-23T17:27:32.149Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:32.149Z appoptics:patching patched fs 
2021-09-23T17:27:32.165Z appoptics:patching patched zlib 
2021-09-23T17:27:32.214Z appoptics:patching patched mongodb-core 3.2.3
2021-09-23T17:27:32.222Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (69ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (42ms)


  33 passing (485ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:40.656Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:40.658Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:40.658Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:40.659Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:40.752Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:40.810Z appoptics:patching patched crypto 
2021-09-23T17:27:40.840Z appoptics:patching patched https 
2021-09-23T17:27:40.840Z appoptics:patching patched http 
2021-09-23T17:27:40.889Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:40.892Z appoptics:patching patched fs 
2021-09-23T17:27:40.915Z appoptics:patching patched zlib 
2021-09-23T17:27:40.970Z appoptics:patching patched mongodb-core 3.2.4
2021-09-23T17:27:40.977Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (61ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (47ms)


  33 passing (400ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:27:49.141Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:49.142Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:49.142Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:49.142Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:49.208Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:49.267Z appoptics:patching patched crypto 
2021-09-23T17:27:49.293Z appoptics:patching patched https 
2021-09-23T17:27:49.294Z appoptics:patching patched http 
2021-09-23T17:27:49.337Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:49.339Z appoptics:patching patched fs 
2021-09-23T17:27:49.354Z appoptics:patching patched zlib 
2021-09-23T17:27:49.397Z appoptics:patching patched mongodb-core 3.2.5
2021-09-23T17:27:49.404Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (282ms)


changed 1 package, and audited 1102 packages in 14s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:28:04.105Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:04.106Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:04.106Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:04.107Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:04.177Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:04.222Z appoptics:patching patched crypto 
2021-09-23T17:28:04.245Z appoptics:patching patched https 
2021-09-23T17:28:04.246Z appoptics:patching patched http 
2021-09-23T17:28:04.289Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:04.290Z appoptics:patching patched fs 
2021-09-23T17:28:04.303Z appoptics:patching patched zlib 
2021-09-23T17:28:04.344Z appoptics:patching patched mongodb-core 3.2.6
2021-09-23T17:28:04.350Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (327ms)


changed 1 package, and audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-23T17:28:12.193Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:12.194Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:12.194Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:12.194Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:12.263Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:12.307Z appoptics:patching patched crypto 
2021-09-23T17:28:12.328Z appoptics:patching patched https 
2021-09-23T17:28:12.329Z appoptics:patching patched http 
2021-09-23T17:28:12.372Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:12.372Z appoptics:patching patched fs 
2021-09-23T17:28:12.387Z appoptics:patching patched zlib 
2021-09-23T17:28:12.433Z appoptics:patching patched mongodb-core 3.2.7
2021-09-23T17:28:12.440Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (55ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (337ms)


up to date, audited 1102 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
