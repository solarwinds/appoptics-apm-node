npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:43.078Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:43.079Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:43.079Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:43.079Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:43.211Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:43.479Z appoptics:patching patched crypto 
2022-04-20T15:27:43.528Z appoptics:patching patched https 
2022-04-20T15:27:43.541Z appoptics:patching patched http 
2022-04-20T15:27:43.588Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:43.588Z appoptics:patching patched fs 
2022-04-20T15:27:43.631Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v18.0.0)
2022-04-20T15:27:43.641Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2022-04-20T15:27:43.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-26448128f7c363e4a6915bbb708d4c1cd53f7d67-241a890bd4ed42ad-01 outer:exit 2b-26448128f7c363e4a6915bbb708d4c1cd53f7d67-0903e479f31e9ebc-01
2022-04-20T15:27:43.750Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:27:43.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-67b57248da5efd932ee965ee2e0161cd6d11ed0b-09203d19f87cdc21-01 outer:exit 2b-67b57248da5efd932ee965ee2e0161cd6d11ed0b-6dd5a91c59da8215-01
2022-04-20T15:27:43.822Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:27:43.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d3f41aa6e845e75dda6d8a6baf9af5741c08264-7c719dce82cce000-01 outer:exit 2b-9d3f41aa6e845e75dda6d8a6baf9af5741c08264-f8ecb91aa050214f-01
2022-04-20T15:27:43.832Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:27:43.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-f952a72ab8b486962a50a5855d438aae39db81ae-b63c9c5e70bc2a94-01 outer:exit 2b-f952a72ab8b486962a50a5855d438aae39db81ae-07001567f74a2d6f-01
2022-04-20T15:27:43.836Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:27:43.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-c37f77b00cf686319d388444cf78e309110efe46-565a4986a9c9f22e-01 outer:exit 2b-c37f77b00cf686319d388444cf78e309110efe46-74c626f783d0f2a1-01
2022-04-20T15:27:43.842Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:27:43.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7ab7eceb7c81fac4bb9815f3a420c960ffdd87f-b1138f28e1a1aabf-01 outer:exit 2b-d7ab7eceb7c81fac4bb9815f3a420c960ffdd87f-2bc2466a663de1ae-01
2022-04-20T15:27:43.846Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:27:43.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4fe7b44e6b3767a5a02271f0d4f9d0240dbac6e-7d9163f77b610b0f-01 outer:exit 2b-e4fe7b44e6b3767a5a02271f0d4f9d0240dbac6e-c2cd103c0c92946a-01
2022-04-20T15:27:43.850Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:27:43.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-765fcdc2d692e60c65d1515ce6ce45c7beba623e-4f66232ac234ec8a-01 outer:exit 2b-765fcdc2d692e60c65d1515ce6ce45c7beba623e-adab7d4072cfea7d-01
2022-04-20T15:27:43.854Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:27:43.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4717f3e1c47ba0e0f761b6c710f11a6c0a82913-9c3e23aa5b75b9bf-01 outer:exit 2b-d4717f3e1c47ba0e0f761b6c710f11a6c0a82913-00cb28f40896618e-01
2022-04-20T15:27:43.856Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:27:43.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-92ef0e8fc759f3454a5bccd2e9c66b889e602393-bd273d2950e36a82-01 outer:exit 2b-92ef0e8fc759f3454a5bccd2e9c66b889e602393-15feb2ef632fc8ff-01
2022-04-20T15:27:43.859Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:27:43.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-32576deedc550a1a63e90d81e54265b8c33b6dda-ec35c5c9709bf49b-01 outer:exit 2b-32576deedc550a1a63e90d81e54265b8c33b6dda-200f8a4c105f0901-01
2022-04-20T15:27:43.862Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:27:43.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-c683bc69f55c14498983b2052ecc726aa920a4c7-1a4322ef529d4d35-01 outer:exit 2b-c683bc69f55c14498983b2052ecc726aa920a4c7-504c0c12c8ba87c6-01
2022-04-20T15:27:43.902Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:27:43.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d0a1c19cef46b9e5b2f49b93f3fafcc1f866e57-ebec93e91bee6f18-01 outer:exit 2b-1d0a1c19cef46b9e5b2f49b93f3fafcc1f866e57-5d5b73a4838a8d0b-01
2022-04-20T15:27:43.934Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:27:43.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b370b91fce25ec22ecdbc7e5f45e8f5dc0aeb9c-78149b31bf924454-01 outer:exit 2b-1b370b91fce25ec22ecdbc7e5f45e8f5dc0aeb9c-818edab47de2ce04-01
2022-04-20T15:27:43.985Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:27:43.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6279143f5e32f1e078810e57c4245f99e74d919-3391b4c37141e681-01 outer:exit 2b-d6279143f5e32f1e078810e57c4245f99e74d919-305575ad69ad0fb0-01
2022-04-20T15:27:43.991Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:27:43.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-abe5cbd8a0ff3884c53b05842ec34bba3abfe9c4-71a88d1a4f53025b-01 outer:exit 2b-abe5cbd8a0ff3884c53b05842ec34bba3abfe9c4-e5c044b1fce86861-01
2022-04-20T15:27:43.993Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:27:43.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-d01fbe4c890cf61eaf37f06f121c200cd8091ab2-2f1e027d57af8ee7-01 outer:exit 2b-d01fbe4c890cf61eaf37f06f121c200cd8091ab2-aa8a349da8eaae46-01
2022-04-20T15:27:43.998Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:27:44.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-533f64c606b71f7f1b9582c033d2bc404c8e2e2b-d12c138251ee70d7-01 outer:exit 2b-533f64c606b71f7f1b9582c033d2bc404c8e2e2b-782370701ad02d1c-01
2022-04-20T15:27:44.003Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:27:44.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-62a2abaef63c1f88d43156a90d49b858056dd33f-d403c784e0175d0d-01 outer:exit 2b-62a2abaef63c1f88d43156a90d49b858056dd33f-d6287676a28c6831-01
2022-04-20T15:27:44.006Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:27:44.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfa4083d6a2bc1c3231b81e3e0f6e46e7c64bb48-bf8b3853d946696c-01 outer:exit 2b-cfa4083d6a2bc1c3231b81e3e0f6e46e7c64bb48-7c604af05982937a-01
2022-04-20T15:27:44.009Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:27:44.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-68b52ad1541c5322fd29cc72399518196b992aef-1c529190b5a8fa6c-01 outer:exit 2b-68b52ad1541c5322fd29cc72399518196b992aef-347666a209623532-01
2022-04-20T15:27:44.011Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:27:44.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-f78bdb9e89260f8fed2c758c8d80596d0b7f67fc-00e61be382a9a19b-01 outer:exit 2b-f78bdb9e89260f8fed2c758c8d80596d0b7f67fc-9ffc27ae4729e82e-01
2022-04-20T15:27:44.014Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:27:44.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-6442b7a2abd0dec8645a4f13ae5663cd3b02dbc7-bda42d9950add3a1-01 outer:exit 2b-6442b7a2abd0dec8645a4f13ae5663cd3b02dbc7-ef3afdd0021b43a9-01
2022-04-20T15:27:44.017Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:27:44.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eb6f255cfb78cde593cb1db03c086f52126cc90-5be42502fe74f484-01 outer:exit 2b-0eb6f255cfb78cde593cb1db03c086f52126cc90-0657b7e8fbba7727-01
2022-04-20T15:27:44.020Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:27:44.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fda3034e197a99f490e07c472eefe3ce7f035b7-7934e1df19a0206d-01 outer:exit 2b-5fda3034e197a99f490e07c472eefe3ce7f035b7-fbe67a92e3f16dda-01
2022-04-20T15:27:44.022Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:27:44.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-1079c39090d60214b71fb8fbfc482724ce76069e-3f933af9c64e2bee-01 outer:exit 2b-1079c39090d60214b71fb8fbfc482724ce76069e-f195e192474536dd-01
2022-04-20T15:27:44.024Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:27:44.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-625526cf272697073e2e209b4f0d311e17c6fa5e-e98579717ed1e1f3-01 outer:exit 2b-625526cf272697073e2e209b4f0d311e17c6fa5e-207c8751c659a775-01
2022-04-20T15:27:44.065Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:27:44.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-617db016b38a2d41ca891be05735d6a4c70046ac-d129dc20cc589ab5-01 outer:exit 2b-617db016b38a2d41ca891be05735d6a4c70046ac-907cece4c54b32aa-01
2022-04-20T15:27:44.084Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:27:44.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-2779f6581abb53226bc9fc452d475e75934c1c21-3f896870533d496a-01 outer:exit 2b-2779f6581abb53226bc9fc452d475e75934c1c21-7fb66ab5f469ddaa-01
2022-04-20T15:27:44.093Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:27:44.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-da9f7c5e6590f0e6f26550cc2b73a06b2414e698-9cee436577af8004-01 outer:exit 2b-da9f7c5e6590f0e6f26550cc2b73a06b2414e698-a6c97616547c6dc5-01
2022-04-20T15:27:44.115Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:27:44.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-c17a5a343040c0862e3a442338b26f1161d8f2f2-ce7b06ca195c7d90-01 outer:exit 2b-c17a5a343040c0862e3a442338b26f1161d8f2f2-a22c19658a9a2da5-01
2022-04-20T15:27:44.119Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:27:44.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c0eca2cb665b98dbae5b2ad0fc218ca8e43c044-5400445e1ddf9dac-01 outer:exit 2b-6c0eca2cb665b98dbae5b2ad0fc218ca8e43c044-aabd62e843a9e7d9-01
2022-04-20T15:27:44.121Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:27:44.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7edcce8e6391fcab5756e4282734bd0e148f687-55378422640355b0-01 outer:exit 2b-a7edcce8e6391fcab5756e4282734bd0e148f687-a05e874bfc4ebec5-01
2022-04-20T15:27:44.130Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:27:44.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-518429773bd72a45b14bc4b6106b76b3dfee90b6-ed142a4d63bff6d9-01 outer:exit 2b-518429773bd72a45b14bc4b6106b76b3dfee90b6-d90a079dfad2b821-01
2022-04-20T15:27:44.138Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:27:44.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a3e8253a2967b49399bbeda93556c6fa617c958-836e2b4bfcdc24d0-01 outer:exit 2b-7a3e8253a2967b49399bbeda93556c6fa617c958-16ad916be0b3ad3e-01
2022-04-20T15:27:44.140Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:27:44.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-40b5ad54adc9f8791517a1e3bc5c197ad553fd7f-aeb3a2e90aef412b-01 outer:exit 2b-40b5ad54adc9f8791517a1e3bc5c197ad553fd7f-89e5a483a166223d-01
2022-04-20T15:27:44.142Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:27:44.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-f492368936ab4288bc5ff189a139b909b790284c-78d8e706f55cf021-01 outer:exit 2b-f492368936ab4288bc5ff189a139b909b790284c-5165925f5e02e9f7-01
2022-04-20T15:27:44.144Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:27:44.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce01705f9fd0842847829760140d17b4adff8d3e-8dcf091a5f71930b-01 outer:exit 2b-ce01705f9fd0842847829760140d17b4adff8d3e-5ce26611c812b519-01
2022-04-20T15:27:44.146Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:27:44.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-486031c2acd339fa6a3f0d0e0cb21c61b24481f2-04f0bab48dd5490b-01 outer:exit 2b-486031c2acd339fa6a3f0d0e0cb21c61b24481f2-efbd50f17f3c7eb5-01
2022-04-20T15:27:44.157Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:27:44.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-e496f6ce734e433c0c87ff68fe49effccd0d2b1c-0dd82d98bbe766a4-01 outer:exit 2b-e496f6ce734e433c0c87ff68fe49effccd0d2b1c-2c7fcee39ca196b1-01
2022-04-20T15:27:44.166Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:27:44.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-49a80db274cbb2cd8f249a1a99b66d0f29abe287-fc041b3dde3a33e1-01 outer:exit 2b-49a80db274cbb2cd8f249a1a99b66d0f29abe287-8e16704d69c0edb0-01
2022-04-20T15:27:44.169Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:27:44.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-24a5598ec410608c22a11eeda231a0e03c8a81f7-3a93e8910e082b0c-01 outer:exit 2b-24a5598ec410608c22a11eeda231a0e03c8a81f7-755b905884cbbc79-01
2022-04-20T15:27:44.172Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:27:44.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-e95534d3012088c100f5f44631b1342a49bc22f3-9595b677fdfd5d63-01 outer:exit 2b-e95534d3012088c100f5f44631b1342a49bc22f3-7e3e8e52e30efdb1-01
2022-04-20T15:27:44.231Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:27:44.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-10aeeda0ac4643f058c841f834867dbef4c89b5d-5cd926ea5f06d77f-01 outer:exit 2b-10aeeda0ac4643f058c841f834867dbef4c89b5d-9bd6b7ecbc21ee44-01
2022-04-20T15:27:44.278Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (609ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:50.399Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:50.400Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:50.400Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:50.401Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:50.476Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:50.694Z appoptics:patching patched crypto 
2022-04-20T15:27:50.818Z appoptics:patching patched https 
2022-04-20T15:27:50.818Z appoptics:patching patched http 
2022-04-20T15:27:50.921Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:50.921Z appoptics:patching patched fs 
2022-04-20T15:27:50.952Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v18.0.0)
2022-04-20T15:27:50.962Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2022-04-20T15:27:51.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-81bf20a98b19a13abb707e8f435c95257ba87c72-5e86425273e23840-01 outer:exit 2b-81bf20a98b19a13abb707e8f435c95257ba87c72-86472a0b417bcfc2-01
2022-04-20T15:27:51.009Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:27:51.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9b538f3e57b9efeb6dd39a12a45f6f219be6c2e-4a332a8b72362b5c-01 outer:exit 2b-a9b538f3e57b9efeb6dd39a12a45f6f219be6c2e-2de3f57d4fac3ec8-01
2022-04-20T15:27:51.052Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:27:51.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-6771fe2166dad21714c8bc48de5bea8210e8fee8-9b17fdb3b790838c-01 outer:exit 2b-6771fe2166dad21714c8bc48de5bea8210e8fee8-c176feb1ebc5fee7-01
2022-04-20T15:27:51.056Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:27:51.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa0116317913b318aabbfff2d9e35e11975ff7f0-91911cbefa77a131-01 outer:exit 2b-fa0116317913b318aabbfff2d9e35e11975ff7f0-6d619e38b8af8145-01
2022-04-20T15:27:51.059Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:27:51.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-1132029cfbd4646b1b0a2782640b65aefd8d1ad5-94ca8479502f859e-01 outer:exit 2b-1132029cfbd4646b1b0a2782640b65aefd8d1ad5-47facdc248414fce-01
2022-04-20T15:27:51.063Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:27:51.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd0baf5d9a173b668624c9767dcfff879c9ba1b9-ef36ca1c8cdfeeaa-01 outer:exit 2b-bd0baf5d9a173b668624c9767dcfff879c9ba1b9-1a658890395d9333-01
2022-04-20T15:27:51.066Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:27:51.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ecbc17b78e2a2ac4522eb08640cfe99bc4ee836-ebceb094076c288e-01 outer:exit 2b-8ecbc17b78e2a2ac4522eb08640cfe99bc4ee836-86eeacbe33f59078-01
2022-04-20T15:27:51.069Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:27:51.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ac8c430c789623020fe27bb5dafd74af2882404-e40132a97de5136b-01 outer:exit 2b-5ac8c430c789623020fe27bb5dafd74af2882404-a2b36dd4494c0b9b-01
2022-04-20T15:27:51.071Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:27:51.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-8801e104893d9061290a77aef0acf95142ee7a2b-4814dbc996f81238-01 outer:exit 2b-8801e104893d9061290a77aef0acf95142ee7a2b-0c2ed3a276018c50-01
2022-04-20T15:27:51.073Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:27:51.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c5323c7d47ca6a666ac9eae9d50138bfd500667-abbb96000e54d371-01 outer:exit 2b-9c5323c7d47ca6a666ac9eae9d50138bfd500667-6dccae6b340deeaf-01
2022-04-20T15:27:51.076Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:27:51.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-749dbe32f74177084ceec8eb3a79a1094bede646-c3420f1beffaa923-01 outer:exit 2b-749dbe32f74177084ceec8eb3a79a1094bede646-445d585ae50962d7-01
2022-04-20T15:27:51.080Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:27:51.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb7037a47dac3d73f485e1ff6571da1803ecd833-d139fa80b033895b-01 outer:exit 2b-cb7037a47dac3d73f485e1ff6571da1803ecd833-e0e684908c173f94-01
2022-04-20T15:27:51.086Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:27:51.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-298fa18e9f0a603e7009d1612a935c1e803cfc24-0826e2bb30ed0809-01 outer:exit 2b-298fa18e9f0a603e7009d1612a935c1e803cfc24-0fa5861ad64381c9-01
2022-04-20T15:27:51.101Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:27:51.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-34e79e83c27759b163e755aaebe8006d628759ae-8148d1d1769bc1c2-01 outer:exit 2b-34e79e83c27759b163e755aaebe8006d628759ae-eeef0af84ef7a29f-01
2022-04-20T15:27:51.141Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:27:51.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-44cb0c60a577584c16610486470646d0f6ce385c-4cbe741679e77a42-01 outer:exit 2b-44cb0c60a577584c16610486470646d0f6ce385c-9f1d2241c490f7cc-01
2022-04-20T15:27:51.144Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:27:51.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-13e3664163a6c1fc65e7fdad4b5a873e590e1d6f-ee1996a97e534c53-01 outer:exit 2b-13e3664163a6c1fc65e7fdad4b5a873e590e1d6f-365a4d6708a81a02-01
2022-04-20T15:27:51.146Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:27:51.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fd92e13e82db4ed2f6e073726b93ed1b0651f07-64a0ad2e61bd71bc-01 outer:exit 2b-1fd92e13e82db4ed2f6e073726b93ed1b0651f07-10fd3a6d48c38991-01
2022-04-20T15:27:51.148Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:27:51.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1115f3748ed62bae864579efac145824f14cc50-0ea6706e7965c218-01 outer:exit 2b-f1115f3748ed62bae864579efac145824f14cc50-8e2ff9b765f44594-01
2022-04-20T15:27:51.151Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:27:51.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f3b4e9b1b70609cebc705818fdd33b4f0083875-09779e44e16238b0-01 outer:exit 2b-7f3b4e9b1b70609cebc705818fdd33b4f0083875-dc78340126a2b82b-01
2022-04-20T15:27:51.153Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:27:51.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-f73ec8147e1d7f7831d21d4e1d8941c388fc1a55-2f9d41c9edf7eda3-01 outer:exit 2b-f73ec8147e1d7f7831d21d4e1d8941c388fc1a55-c6022ec0ca28b743-01
2022-04-20T15:27:51.155Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:27:51.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-179f8871e5b55b48c1403ca1f22858a597a6bdc3-a5aef17cbd5a9add-01 outer:exit 2b-179f8871e5b55b48c1403ca1f22858a597a6bdc3-4c712b3780282bba-01
2022-04-20T15:27:51.156Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:27:51.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-b13c8ab9d981ee93b689ce0640efe8e486adb550-d0be7e9ee851e04b-01 outer:exit 2b-b13c8ab9d981ee93b689ce0640efe8e486adb550-03b58328ca4e73a5-01
2022-04-20T15:27:51.158Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:27:51.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6372057e444aee7760f6418ff48374c5ed0e06a-0552caf123568493-01 outer:exit 2b-a6372057e444aee7760f6418ff48374c5ed0e06a-2d87da04ec6e22e2-01
2022-04-20T15:27:51.161Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:27:51.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-31aebc6bfe97b495f8688f1f7f54babad5244b77-8341d6fb23618acc-01 outer:exit 2b-31aebc6bfe97b495f8688f1f7f54babad5244b77-5227a0b8436f1e17-01
2022-04-20T15:27:51.164Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:27:51.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-514d90b693d7bc1e9e7148e041be15fabb9656c0-5665f644b25d0c30-01 outer:exit 2b-514d90b693d7bc1e9e7148e041be15fabb9656c0-a4ddbae7fe30b065-01
2022-04-20T15:27:51.166Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:27:51.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a3b88d57231f3138aa789c21eb7ff51a1a48c6c-334f460393005b3c-01 outer:exit 2b-0a3b88d57231f3138aa789c21eb7ff51a1a48c6c-21c11e7018186943-01
2022-04-20T15:27:51.168Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:27:51.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c0f430540a6e935469fc246e302827bafeb82e3-7d4f2ff80d533725-01 outer:exit 2b-6c0f430540a6e935469fc246e302827bafeb82e3-0222d8bb68150a7b-01
2022-04-20T15:27:51.173Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:27:51.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-88510966cd846ba5e098080803f14500836ac24d-04199ed126bcdd88-01 outer:exit 2b-88510966cd846ba5e098080803f14500836ac24d-17efe853b6af7f2c-01
2022-04-20T15:27:51.177Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:27:51.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d3dd95432a54e8dfcfa7c47da96ac70e6298148-1c76f9bdcebf40f0-01 outer:exit 2b-5d3dd95432a54e8dfcfa7c47da96ac70e6298148-aa5e3110d9bfa66d-01
2022-04-20T15:27:51.185Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:27:51.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3e44cb6ed7cbc9810fff6a32bf2f42babb3adb4-b10ab5812d510158-01 outer:exit 2b-a3e44cb6ed7cbc9810fff6a32bf2f42babb3adb4-0858c3ba60cbf012-01
2022-04-20T15:27:51.191Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:27:51.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab0e6c4dc1d20caab4e95d36c30aa4ac95bee9d4-7ed3655d78dc43d3-01 outer:exit 2b-ab0e6c4dc1d20caab4e95d36c30aa4ac95bee9d4-bba7260c3d7480c8-01
2022-04-20T15:27:51.193Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:27:51.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c93ccc3f303bea547b4c0d586dc8739781c8cd9-76c10ca464e16eca-01 outer:exit 2b-4c93ccc3f303bea547b4c0d586dc8739781c8cd9-f272c6b8b97cd5a8-01
2022-04-20T15:27:51.196Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:27:51.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-feb068b6f6c02cb878ed0f26c582b0ac2ac74dea-f46a858c80b7eced-01 outer:exit 2b-feb068b6f6c02cb878ed0f26c582b0ac2ac74dea-5b970e71aa91a910-01
2022-04-20T15:27:51.205Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:27:51.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-53bb07d712b7b55b048f89bf53cdee98d2dfd547-4443797c3c2c114c-01 outer:exit 2b-53bb07d712b7b55b048f89bf53cdee98d2dfd547-f30eac07e7165a60-01
2022-04-20T15:27:51.207Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:27:51.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ebacfdd707dcf5238d0d4ca34542be957e3053f-c1e1880ce9f8c3e0-01 outer:exit 2b-4ebacfdd707dcf5238d0d4ca34542be957e3053f-b6105e8193d6794b-01
2022-04-20T15:27:51.208Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:27:51.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4f96ab38dccc305a6f4e9dfb2ff78123eeac76d-46ea26fdef7c9599-01 outer:exit 2b-d4f96ab38dccc305a6f4e9dfb2ff78123eeac76d-9efc3d3a8c5a378b-01
2022-04-20T15:27:51.210Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:27:51.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f7b7b695ec1464299a278b7e96ecf66681ba544-729f036ecd36b9ae-01 outer:exit 2b-0f7b7b695ec1464299a278b7e96ecf66681ba544-e349b34e28d00005-01
2022-04-20T15:27:51.212Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:27:51.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a294131364f3e211ded2dac28533f9647814428-af27c5c2853d8c0b-01 outer:exit 2b-8a294131364f3e211ded2dac28533f9647814428-69bd754a6fbf4a41-01
2022-04-20T15:27:51.214Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:27:51.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c64277efa4f9ea507899f777416ac612be65294-3b2e4738bc608da6-01 outer:exit 2b-1c64277efa4f9ea507899f777416ac612be65294-dc89368ecbf4ae0a-01
2022-04-20T15:27:51.223Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:27:51.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-b34b7cb765e55fd31c1548f62b1c29b209062ff3-535ea490a99513c0-01 outer:exit 2b-b34b7cb765e55fd31c1548f62b1c29b209062ff3-b08066b807b184ce-01
2022-04-20T15:27:51.232Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:27:51.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-11fc34f1003cd70d16e75e7195608ea1c7af9aaf-4531dc39213fc124-01 outer:exit 2b-11fc34f1003cd70d16e75e7195608ea1c7af9aaf-e0fdbfbfcaeeb18c-01
2022-04-20T15:27:51.234Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:27:51.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc2ef3603149b945f2fce6f04a30e90a49282596-459a3a25e0885843-01 outer:exit 2b-bc2ef3603149b945f2fce6f04a30e90a49282596-a6872da9c17b2c4b-01
2022-04-20T15:27:51.237Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:27:51.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-644a032066e2b196b95f7b2ccac0d76fc7f6341f-c5e37b2e9037a8e9-01 outer:exit 2b-644a032066e2b196b95f7b2ccac0d76fc7f6341f-637aebd946a822a9-01
2022-04-20T15:27:51.244Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:27:51.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcf301faaa36bee0e81b07336660d29721f22b25-10830efd3dfebb24-01 outer:exit 2b-dcf301faaa36bee0e81b07336660d29721f22b25-99f44e5d563ff739-01
2022-04-20T15:27:51.271Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (302ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:57.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:57.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:57.800Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:57.801Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:57.862Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:57.973Z appoptics:patching patched crypto 
2022-04-20T15:27:57.991Z appoptics:patching patched https 
2022-04-20T15:27:57.992Z appoptics:patching patched http 
2022-04-20T15:27:58.039Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:58.039Z appoptics:patching patched fs 
2022-04-20T15:27:58.052Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v18.0.0)
2022-04-20T15:27:58.058Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2022-04-20T15:27:58.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-a894075d7338a0cbc830b24d70bd8e0196bbd6f0-adb9cf3ae3649dce-01 outer:exit 2b-a894075d7338a0cbc830b24d70bd8e0196bbd6f0-67cf65feca936b38-01
2022-04-20T15:27:58.099Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:27:58.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-99d881b09dbe4393906fcaed8492f9ef68544432-c5460878371bb0b8-01 outer:exit 2b-99d881b09dbe4393906fcaed8492f9ef68544432-3a9ecb3ce314f8d9-01
2022-04-20T15:27:58.142Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:27:58.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-e32382c18e65bff5d6de56efe26dc51011c36082-7aba28ffe356ddf2-01 outer:exit 2b-e32382c18e65bff5d6de56efe26dc51011c36082-a6af3f177e6584d3-01
2022-04-20T15:27:58.145Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:27:58.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-760d2c934a69486f88035b9a0b05de53519e735d-4e32a0aaeb23e840-01 outer:exit 2b-760d2c934a69486f88035b9a0b05de53519e735d-0a5b957fd9e67dce-01
2022-04-20T15:27:58.148Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:27:58.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-78a8fd6557753658c5d07226c45141cbc9cf61f6-6a55d511fac41a2b-01 outer:exit 2b-78a8fd6557753658c5d07226c45141cbc9cf61f6-597dc146ef4ad981-01
2022-04-20T15:27:58.154Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:27:58.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-2705127fe9dead2fabd6bf218c17b9c41e84c377-bc0fc6b97b404835-01 outer:exit 2b-2705127fe9dead2fabd6bf218c17b9c41e84c377-1cdd20c794cda041-01
2022-04-20T15:27:58.157Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:27:58.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e2ee39f1992c339860dc8ef97e7a05470b6c85d-6daafa4aee733b91-01 outer:exit 2b-1e2ee39f1992c339860dc8ef97e7a05470b6c85d-a72356cb8b969c5a-01
2022-04-20T15:27:58.159Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:27:58.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b23dc9b41d0acfff682a22b05a72d8b599a9a9f-9300e5b38bcee02a-01 outer:exit 2b-4b23dc9b41d0acfff682a22b05a72d8b599a9a9f-7807414e41a50401-01
2022-04-20T15:27:58.162Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:27:58.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-69d4bb78c01d9332e7299ae643899d6fdcd7b715-2763c94ccbb94737-01 outer:exit 2b-69d4bb78c01d9332e7299ae643899d6fdcd7b715-2dadfcfc2e30bfca-01
2022-04-20T15:27:58.164Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:27:58.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-1828454599dd8617ec0b4bd272b55c15ee5aa1a1-b2aa721c9ea56b2e-01 outer:exit 2b-1828454599dd8617ec0b4bd272b55c15ee5aa1a1-e790b3ecc345a821-01
2022-04-20T15:27:58.167Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:27:58.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf59322e0cd271d69755f751cd699bc69863b87a-1dd0dbf8c939c4ad-01 outer:exit 2b-cf59322e0cd271d69755f751cd699bc69863b87a-2719401d267ea289-01
2022-04-20T15:27:58.171Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:27:58.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-b50b4c12914b878bc1a0fa9792784e0f5b79963f-419a20192a727483-01 outer:exit 2b-b50b4c12914b878bc1a0fa9792784e0f5b79963f-8d15330612b298d0-01
2022-04-20T15:27:58.177Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:27:58.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-b809089b8761b3f6353c60d4ac5138269cf0b396-2fc0025ca24361d8-01 outer:exit 2b-b809089b8761b3f6353c60d4ac5138269cf0b396-250610a0da237e84-01
2022-04-20T15:27:58.191Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:27:58.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-33ba100dec25f07b801ea2c3826ec1b89da0c8d6-b1aee182565a7416-01 outer:exit 2b-33ba100dec25f07b801ea2c3826ec1b89da0c8d6-a71009c404c922eb-01
2022-04-20T15:27:58.232Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:27:58.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-88ad1761dad2f64710916ec6aeb9e862442bf4b9-0f576caeb13d5b23-01 outer:exit 2b-88ad1761dad2f64710916ec6aeb9e862442bf4b9-b5a8b15d5b7aa18e-01
2022-04-20T15:27:58.235Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:27:58.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-92d5bfe66795aedc477ff087f9684c369238d133-01ca4cf07a4e914c-01 outer:exit 2b-92d5bfe66795aedc477ff087f9684c369238d133-6872a1b9809dc6a5-01
2022-04-20T15:27:58.237Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:27:58.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd8080e526193812f7665ab74b71c735ed5d0cb1-54927d55620fb3ee-01 outer:exit 2b-dd8080e526193812f7665ab74b71c735ed5d0cb1-b0842471a715baf3-01
2022-04-20T15:27:58.240Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:27:58.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ad5c832130e47f8990b0b81a8ed0b125651804d-1f67601c44d6b235-01 outer:exit 2b-4ad5c832130e47f8990b0b81a8ed0b125651804d-1e11844d854ad328-01
2022-04-20T15:27:58.242Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:27:58.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-28d0991ee020feee709db8853ff090bb7db53eb7-edc331a97128085d-01 outer:exit 2b-28d0991ee020feee709db8853ff090bb7db53eb7-0341b8b21e44fc1e-01
2022-04-20T15:27:58.244Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:27:58.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-22bc61ba86c02f87c0fdce02766d43efd63dce2d-226111e79798d02e-01 outer:exit 2b-22bc61ba86c02f87c0fdce02766d43efd63dce2d-04cfc31656b767f4-01
2022-04-20T15:27:58.246Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:27:58.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f90a50c02fac611fcbe82a6fd90adb1a940fed7-5ccf623b135702e7-01 outer:exit 2b-2f90a50c02fac611fcbe82a6fd90adb1a940fed7-06e800904cc7cc07-01
2022-04-20T15:27:58.248Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:27:58.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-71762f1225cd504ab0c589503eaba68f6d3369fc-c2972a6f872cd754-01 outer:exit 2b-71762f1225cd504ab0c589503eaba68f6d3369fc-cb912b76fb9051fc-01
2022-04-20T15:27:58.250Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:27:58.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a42f8a398720892a593f0ec553620bcf2cfab23-968bf680800dea47-01 outer:exit 2b-1a42f8a398720892a593f0ec553620bcf2cfab23-e5618ac2b82c2c77-01
2022-04-20T15:27:58.253Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:27:58.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-19914341d89ae26d665797a585085e20990b6cea-c492c5ea891014db-01 outer:exit 2b-19914341d89ae26d665797a585085e20990b6cea-37863e94a0983506-01
2022-04-20T15:27:58.256Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:27:58.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb8a75149757d2e390977d1f757a20a6405d8dd6-ae04db6bacf02900-01 outer:exit 2b-bb8a75149757d2e390977d1f757a20a6405d8dd6-6276d6273c003f73-01
2022-04-20T15:27:58.258Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:27:58.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bc882c3a5a1dab258bbbd781d5d785d4a5b7237-4385be0de468516e-01 outer:exit 2b-3bc882c3a5a1dab258bbbd781d5d785d4a5b7237-dd1ead8f27d74cc8-01
2022-04-20T15:27:58.260Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:27:58.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b3d2b24cace3aaf01018772a4de484143f7ab26-dd5c50ab22947741-01 outer:exit 2b-4b3d2b24cace3aaf01018772a4de484143f7ab26-7129a28e2bd815ef-01
2022-04-20T15:27:58.266Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:27:58.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c9e57efca5a9aec65561e2871438be03e66973b-7d67a66cda709fdc-01 outer:exit 2b-0c9e57efca5a9aec65561e2871438be03e66973b-05a66171c9e04bbd-01
2022-04-20T15:27:58.270Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:27:58.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4f8cd7db553273e5fa3befdbbe6c24b75a5052f-996aa8e3f4f581de-01 outer:exit 2b-b4f8cd7db553273e5fa3befdbbe6c24b75a5052f-3af700d7d4eb2157-01
2022-04-20T15:27:58.277Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:27:58.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1b058054f602dd1fb36be48184c8340a1ec54e5-f4dd6251cd16328b-01 outer:exit 2b-a1b058054f602dd1fb36be48184c8340a1ec54e5-59cc4d4991f6504b-01
2022-04-20T15:27:58.284Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:27:58.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c0c3cc7139549e753abc5e4df829416cad5fa40-7925b92c3e44f430-01 outer:exit 2b-2c0c3cc7139549e753abc5e4df829416cad5fa40-c86193453424c34b-01
2022-04-20T15:27:58.286Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:27:58.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-e457f15a53cc62e5a27f874efe20ef1d4cb59ba7-3f71d9b267ca4e3d-01 outer:exit 2b-e457f15a53cc62e5a27f874efe20ef1d4cb59ba7-7374b4a9b3509ec7-01
2022-04-20T15:27:58.289Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:27:58.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9ed1280d841862605d2670a12b79790cdbfe6c4-940071c950b09345-01 outer:exit 2b-a9ed1280d841862605d2670a12b79790cdbfe6c4-0617097bcc18c97b-01
2022-04-20T15:27:58.296Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:27:58.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-83176b943ff4be5fa5a6e6f03e9096ba1c9aebfb-69f9ceb0623edd54-01 outer:exit 2b-83176b943ff4be5fa5a6e6f03e9096ba1c9aebfb-c843c94af727069c-01
2022-04-20T15:27:58.297Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:27:58.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-54637bfbf55eb9dc7a10d489275d3be6ab4bf9e1-f188b24aecbc8c86-01 outer:exit 2b-54637bfbf55eb9dc7a10d489275d3be6ab4bf9e1-a8f79cbe7fabb9a8-01
2022-04-20T15:27:58.299Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:27:58.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9fe844e35153c7c610755236a5d53e6dd690e22-80101b71a8723d1f-01 outer:exit 2b-c9fe844e35153c7c610755236a5d53e6dd690e22-ce4be8f7e6756dfe-01
2022-04-20T15:27:58.301Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:27:58.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-479d4628e598cb34a74c21ce9f83157c28d7b8c4-570079f68771190e-01 outer:exit 2b-479d4628e598cb34a74c21ce9f83157c28d7b8c4-bdff5e22f633afdc-01
2022-04-20T15:27:58.303Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:27:58.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-14b4914d80c5b8ef3e999150b4a492d10c25bf79-5b084521ba9e97db-01 outer:exit 2b-14b4914d80c5b8ef3e999150b4a492d10c25bf79-3358d237b0c95ecd-01
2022-04-20T15:27:58.304Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:27:58.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-682ff6f41e3ac3df00b12435ba540fe92c8bd303-d5ef5e41e4579710-01 outer:exit 2b-682ff6f41e3ac3df00b12435ba540fe92c8bd303-5b1df15dd0740eeb-01
2022-04-20T15:27:58.313Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:27:58.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-937c39b86796f776ba518865e82be8e6a3172799-2c5fcfb357632d49-01 outer:exit 2b-937c39b86796f776ba518865e82be8e6a3172799-76f1aadc6614e73b-01
2022-04-20T15:27:58.321Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:27:58.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c6f52db66b85bb589a0d70bfacfad7e3ccc4c2e-27462923d04a9b7b-01 outer:exit 2b-6c6f52db66b85bb589a0d70bfacfad7e3ccc4c2e-b7e84d3eb9e305a2-01
2022-04-20T15:27:58.324Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:27:58.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-466dc0e52222d40b78c52dfc03832c7ff47ff34e-bbb45a6e37a7bcf2-01 outer:exit 2b-466dc0e52222d40b78c52dfc03832c7ff47ff34e-4b1946fcc9411335-01
2022-04-20T15:27:58.326Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:27:58.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f4edeb5e91394e46a052902ca72913f714aa0a8-e619c8d4a32ad310-01 outer:exit 2b-6f4edeb5e91394e46a052902ca72913f714aa0a8-ec2cb12d253ab672-01
2022-04-20T15:27:58.328Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:27:58.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-fce3d40375f6fbfe191175c141872805ffb44c65-7a6e6a5ab5dad834-01 outer:exit 2b-fce3d40375f6fbfe191175c141872805ffb44c65-4ac61bece445cacf-01
2022-04-20T15:27:58.353Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (290ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:04.690Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:04.690Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:04.690Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:04.691Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:04.754Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:04.866Z appoptics:patching patched crypto 
2022-04-20T15:28:04.884Z appoptics:patching patched https 
2022-04-20T15:28:04.884Z appoptics:patching patched http 
2022-04-20T15:28:04.939Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:04.940Z appoptics:patching patched fs 
2022-04-20T15:28:04.953Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v18.0.0)
2022-04-20T15:28:04.958Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2022-04-20T15:28:05.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7149dc462a022edba4da534d411bff43bf135ae-a026b83f621b606f-01 outer:exit 2b-b7149dc462a022edba4da534d411bff43bf135ae-6ca5e8bcc280c70d-01
2022-04-20T15:28:05.005Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:05.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-729f4fed28a0c5471f5b2174dcbc4bcafd979031-ffa75bf3be36112f-01 outer:exit 2b-729f4fed28a0c5471f5b2174dcbc4bcafd979031-3278c18db9779c27-01
2022-04-20T15:28:05.050Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:05.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-c93914003f20664aa2ca62e394cc832c36852518-5f48185baab34b9e-01 outer:exit 2b-c93914003f20664aa2ca62e394cc832c36852518-314334e831ecd98d-01
2022-04-20T15:28:05.054Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:05.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1c67f14ba21095c877d3a9fca7ba48145879601-941eed27a98da670-01 outer:exit 2b-f1c67f14ba21095c877d3a9fca7ba48145879601-786967088e16409b-01
2022-04-20T15:28:05.057Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:05.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-abcdc9547373d3c99660dd918b917f92cab97321-42ff314109ee76d3-01 outer:exit 2b-abcdc9547373d3c99660dd918b917f92cab97321-5a23237fb2fdb8b6-01
2022-04-20T15:28:05.062Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:05.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a57ddd1c466d2cd956ea277cd6105334eb6bfa0-f66b0c5871b767f3-01 outer:exit 2b-1a57ddd1c466d2cd956ea277cd6105334eb6bfa0-9005f65f0e338257-01
2022-04-20T15:28:05.065Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:05.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ef03e8a157318e8163181ebbd084e756a214c6f-99f44304444aca57-01 outer:exit 2b-9ef03e8a157318e8163181ebbd084e756a214c6f-2bb8d1aba0224452-01
2022-04-20T15:28:05.068Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:05.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a68d35bf2b425ab45560c8cbb68823aaf93b804-3221816d0d885c4a-01 outer:exit 2b-5a68d35bf2b425ab45560c8cbb68823aaf93b804-b22d9f2f042bed92-01
2022-04-20T15:28:05.070Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:05.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-e177580f4cdfad4d565c1e6909fdbe45056e401c-e34b10694c6d2e6f-01 outer:exit 2b-e177580f4cdfad4d565c1e6909fdbe45056e401c-8c5d2c327c88d27f-01
2022-04-20T15:28:05.072Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:05.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-82a9d04d14f98da03eb02dde9c774d30a1b47285-1ca33bfcd290edfb-01 outer:exit 2b-82a9d04d14f98da03eb02dde9c774d30a1b47285-02acc734bea09108-01
2022-04-20T15:28:05.075Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:05.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-64d8729c7f35825d29da5dea8ec2ffa4f1345f53-047cc2e0427f646e-01 outer:exit 2b-64d8729c7f35825d29da5dea8ec2ffa4f1345f53-9c6359a5c9f1b134-01
2022-04-20T15:28:05.079Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:05.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-965ebdbc893879574421cfbac7100608f3af424a-d5f40f4b04b34f68-01 outer:exit 2b-965ebdbc893879574421cfbac7100608f3af424a-750c5e15508011dd-01
2022-04-20T15:28:05.085Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:05.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cd8c25960d4cdd0e01fb7b9b6469feca04299cb-237d8f10a8f538be-01 outer:exit 2b-6cd8c25960d4cdd0e01fb7b9b6469feca04299cb-af77cdf37e41fda8-01
2022-04-20T15:28:05.100Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:05.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce5f4c29858751e05e20358d2a65ee5035e85ffa-fa9fc259a84c051e-01 outer:exit 2b-ce5f4c29858751e05e20358d2a65ee5035e85ffa-66276e586c71001c-01
2022-04-20T15:28:05.140Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:05.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d2ae1ebdb9ab7a795e2b4f18c7052c39fb26e26-75237e91e81d4f45-01 outer:exit 2b-0d2ae1ebdb9ab7a795e2b4f18c7052c39fb26e26-5c1d539bc1d2af37-01
2022-04-20T15:28:05.143Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:05.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2dda23e6dd4e0fee67ae0645008d90b248baf61-0e7d596c9913c18b-01 outer:exit 2b-f2dda23e6dd4e0fee67ae0645008d90b248baf61-d4a6d828ded93cc3-01
2022-04-20T15:28:05.146Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:05.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-34227ab483e9f6e7a1e5d567ef643745bd99d733-03376cacee77d3dd-01 outer:exit 2b-34227ab483e9f6e7a1e5d567ef643745bd99d733-f8e0667e8d173f8e-01
2022-04-20T15:28:05.149Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:05.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-90067d51cc334b588c5fa04de8f5ff714b74ee21-91ec22b581e9db1e-01 outer:exit 2b-90067d51cc334b588c5fa04de8f5ff714b74ee21-b5a5e6cd86964f8c-01
2022-04-20T15:28:05.151Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:05.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4d85571e9fbce794e85a3ef9e4c1d31d7f9f450-2b307b22dfe5b6c8-01 outer:exit 2b-c4d85571e9fbce794e85a3ef9e4c1d31d7f9f450-8863a649d3f39c43-01
2022-04-20T15:28:05.153Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:05.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-de833dcfda86008722afb7b1eb5405e0f05d2a98-d01c09137eb67cbe-01 outer:exit 2b-de833dcfda86008722afb7b1eb5405e0f05d2a98-fb0813b45bab712b-01
2022-04-20T15:28:05.155Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:05.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-39e6a9af7396419cee2bfa60e8f2f09e139d584b-e8cc3c34a128c088-01 outer:exit 2b-39e6a9af7396419cee2bfa60e8f2f09e139d584b-c3ed812f16c878f5-01
2022-04-20T15:28:05.157Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:05.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-90556c20a3bd86ee4304a030bb1a2963c2f91d2b-991e694273d18bae-01 outer:exit 2b-90556c20a3bd86ee4304a030bb1a2963c2f91d2b-a816f5872684c811-01
2022-04-20T15:28:05.159Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:05.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9259cc34da77ee2e1ad5034971de2dd0ab37600-30717dfe67a94b30-01 outer:exit 2b-e9259cc34da77ee2e1ad5034971de2dd0ab37600-fd045fee2965b3dd-01
2022-04-20T15:28:05.161Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:05.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5c6f686071b9932247b508733bb696efc387f32-11fe7ac4006c86d5-01 outer:exit 2b-d5c6f686071b9932247b508733bb696efc387f32-c3a24887a1201dd4-01
2022-04-20T15:28:05.164Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:05.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4ce38a8cff340a56bd59d83897823aa02d43f75-1992f2b7ac2842ec-01 outer:exit 2b-d4ce38a8cff340a56bd59d83897823aa02d43f75-722ece4879223c8f-01
2022-04-20T15:28:05.166Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:05.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e98358ac35f0cf0bfb58c3a12bf1391e4aced2e-704e527177ca89a8-01 outer:exit 2b-8e98358ac35f0cf0bfb58c3a12bf1391e4aced2e-b2bb8fb41430b3c8-01
2022-04-20T15:28:05.169Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:05.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5d8bd9d15c5a93c7c89d2039b3ad0f60e8832cf-3ae098c60867a46b-01 outer:exit 2b-c5d8bd9d15c5a93c7c89d2039b3ad0f60e8832cf-f07d36ecd51b38f5-01
2022-04-20T15:28:05.175Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:05.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-34d560800dedfaaa8af89a1e430e9922a0d869c4-9af987b3934cbebd-01 outer:exit 2b-34d560800dedfaaa8af89a1e430e9922a0d869c4-6eed4ae5b15df371-01
2022-04-20T15:28:05.178Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:05.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffb856c088de7f2f4382b61e0c08c0c7f6e20c0a-ddffd0dbabf22b65-01 outer:exit 2b-ffb856c088de7f2f4382b61e0c08c0c7f6e20c0a-ecba51d28f9fb911-01
2022-04-20T15:28:05.186Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:05.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c04ed879afcba03b00a6fe21484961b0126079a-c10a7eb6e44404c8-01 outer:exit 2b-5c04ed879afcba03b00a6fe21484961b0126079a-3138ff55743f364c-01
2022-04-20T15:28:05.206Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:05.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-72d7d4525b0f6e5873f2fd172ade24cb40d86ef9-b4a2404f312b88b5-01 outer:exit 2b-72d7d4525b0f6e5873f2fd172ade24cb40d86ef9-9260faeb29636e7d-01
2022-04-20T15:28:05.208Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:05.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-608f1527eb5a8cad9b92824131d0f9a059b5d000-8f120b93fe6198b1-01 outer:exit 2b-608f1527eb5a8cad9b92824131d0f9a059b5d000-57e72e536c8c7ab4-01
2022-04-20T15:28:05.211Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:05.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-df7dcf98fdf078dfe8e43e5d53c89b54c08234bf-c549db07b36f43b8-01 outer:exit 2b-df7dcf98fdf078dfe8e43e5d53c89b54c08234bf-e319865071770f67-01
2022-04-20T15:28:05.217Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:05.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-08e725d858487af1f142a405a1ad2c5f00dc97c7-65112a872cd22023-01 outer:exit 2b-08e725d858487af1f142a405a1ad2c5f00dc97c7-7bfc546da2ae137a-01
2022-04-20T15:28:05.220Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:05.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-64c546655951860052003ecc1eb62620ee98fdbe-1bfe0b18b872852a-01 outer:exit 2b-64c546655951860052003ecc1eb62620ee98fdbe-51d0c7fc70354607-01
2022-04-20T15:28:05.222Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:05.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-816595dff985c100cf393ffe06d009662921e47f-25f07dbcc1790f3e-01 outer:exit 2b-816595dff985c100cf393ffe06d009662921e47f-64acc3a5fd4882cb-01
2022-04-20T15:28:05.223Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:05.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdea0a706616305ed6d0bfd2d857ce72c7c4b945-1657384827906a35-01 outer:exit 2b-bdea0a706616305ed6d0bfd2d857ce72c7c4b945-8ea31fea742ece69-01
2022-04-20T15:28:05.225Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:05.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfb08ac4011f6577e0a00c40edb02739fb8647d1-9e28b838491b9a5b-01 outer:exit 2b-dfb08ac4011f6577e0a00c40edb02739fb8647d1-280e6fc5aca9cb92-01
2022-04-20T15:28:05.227Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:05.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-2529f81c3f9855dd1b2656be9a9619005eaccc00-bca061e5a93f4209-01 outer:exit 2b-2529f81c3f9855dd1b2656be9a9619005eaccc00-1959d3dcef428ee5-01
2022-04-20T15:28:05.236Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:05.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-691694a90f7c00ccd14d5bd3e6b98d305141c526-fea014bb6449c759-01 outer:exit 2b-691694a90f7c00ccd14d5bd3e6b98d305141c526-e73237042fc50c4d-01
2022-04-20T15:28:05.243Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:05.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-24bf709f8ec46652e602f1ddd055ae6433d7381f-c8f99f1baa78e6fb-01 outer:exit 2b-24bf709f8ec46652e602f1ddd055ae6433d7381f-f44dea94c7a1d5ae-01
2022-04-20T15:28:05.245Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:05.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-271666d402792c879c9cddc7fe460fe317fcb3cd-cfa531d55448ac53-01 outer:exit 2b-271666d402792c879c9cddc7fe460fe317fcb3cd-b3a14a90ae7ffa9b-01
2022-04-20T15:28:05.248Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:05.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-50b4a7aae93703b47ba8a46b688f03417bd445a6-7aa31fdac0f43429-01 outer:exit 2b-50b4a7aae93703b47ba8a46b688f03417bd445a6-03a2b7fce211da54-01
2022-04-20T15:28:05.250Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:05.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-a601b601248045ae88ef2d7bcd760c5eafebdd7a-3581c512598d23bb-01 outer:exit 2b-a601b601248045ae88ef2d7bcd760c5eafebdd7a-5b3136ce5871303a-01
2022-04-20T15:28:05.279Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (315ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:11.729Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:11.730Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:11.730Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:11.730Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:11.796Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:11.933Z appoptics:patching patched crypto 
2022-04-20T15:28:11.953Z appoptics:patching patched https 
2022-04-20T15:28:11.954Z appoptics:patching patched http 
2022-04-20T15:28:12.025Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:12.026Z appoptics:patching patched fs 
2022-04-20T15:28:12.040Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v18.0.0)
2022-04-20T15:28:12.045Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2022-04-20T15:28:12.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b0d4ffb84262682afed0a92ce4c188c97d4e991-e5f689b0338ac27c-01 outer:exit 2b-5b0d4ffb84262682afed0a92ce4c188c97d4e991-28233caa621d8ec1-01
2022-04-20T15:28:12.090Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:12.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2666a55fe20af0cca677241ce7fba18ffb79390-498c3e6615d3d948-01 outer:exit 2b-c2666a55fe20af0cca677241ce7fba18ffb79390-1a3b6ff26e935cda-01
2022-04-20T15:28:12.136Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:12.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-c63f36e11d4de261c4dbaac3f3ccc575130b1b51-bdfd58559d728482-01 outer:exit 2b-c63f36e11d4de261c4dbaac3f3ccc575130b1b51-ab91410f1af871ac-01
2022-04-20T15:28:12.140Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:12.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-74fdf2a8844fd5dea06ab76f5b8b9edb9b96f3c5-5964a7bed48f2a7d-01 outer:exit 2b-74fdf2a8844fd5dea06ab76f5b8b9edb9b96f3c5-b6a18db961cf6e3f-01
2022-04-20T15:28:12.143Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:12.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d15bb16dd8ed143f265647e59f57b34f636315e-d0bd8e8bfab103a5-01 outer:exit 2b-6d15bb16dd8ed143f265647e59f57b34f636315e-9c79bec7df9567a7-01
2022-04-20T15:28:12.149Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:12.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcee6e5ea7e7c4ffda0b915626762d8f3cd7a590-f5a68e791a16ce44-01 outer:exit 2b-dcee6e5ea7e7c4ffda0b915626762d8f3cd7a590-2cb1e491ab4c18f6-01
2022-04-20T15:28:12.152Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:12.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-f655d820eeef59f0b97021084727f7b46e9b8424-6d788df46d188a8a-01 outer:exit 2b-f655d820eeef59f0b97021084727f7b46e9b8424-f908dab69215d6ff-01
2022-04-20T15:28:12.155Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:12.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-47edba92ce460f04da15efaf6a8eae4615d35d43-fc845bf6885beef4-01 outer:exit 2b-47edba92ce460f04da15efaf6a8eae4615d35d43-0490921cc24ecf37-01
2022-04-20T15:28:12.157Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:12.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-e844171963b49dd267809c5234ee73abf69ff95a-90ac5d6945781d32-01 outer:exit 2b-e844171963b49dd267809c5234ee73abf69ff95a-3aeb70fa45711b1e-01
2022-04-20T15:28:12.160Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:12.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bd7dea3f3042d3b97a1f380f3124c1f855b94b5-d12ae1b2bd800b46-01 outer:exit 2b-7bd7dea3f3042d3b97a1f380f3124c1f855b94b5-2e2bbe379b797ec2-01
2022-04-20T15:28:12.163Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:12.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bae539ec939ed7aadcaf8647c03411c6f3f72d7-1d73fe52e1d1f9a3-01 outer:exit 2b-7bae539ec939ed7aadcaf8647c03411c6f3f72d7-a1a88adc5e403481-01
2022-04-20T15:28:12.167Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:12.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-65f4891144bc95a08c998c56f365015ad31e56cf-6d084ebf39cc1a2b-01 outer:exit 2b-65f4891144bc95a08c998c56f365015ad31e56cf-21679582d389bf9a-01
2022-04-20T15:28:12.174Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:12.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1d5b8b2ef2862a8b7cd82910fe74b136bbf5287-64221dbc09ad0619-01 outer:exit 2b-d1d5b8b2ef2862a8b7cd82910fe74b136bbf5287-5193bc2f4bb1cdea-01
2022-04-20T15:28:12.193Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:12.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7c23da72ccf3bc3fa97fd24c44210051a0a6ec6-42049a33cb32babf-01 outer:exit 2b-d7c23da72ccf3bc3fa97fd24c44210051a0a6ec6-8b15733fdf317944-01
2022-04-20T15:28:12.234Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:12.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecf8ec55ae67e8c0570f35ccbca300e7d9017f0b-ce75f57d48c25738-01 outer:exit 2b-ecf8ec55ae67e8c0570f35ccbca300e7d9017f0b-ec807e953de81e67-01
2022-04-20T15:28:12.236Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:12.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-7269d2675fe990fc29624e13c7242d0329ddbcbe-2f0f20abc430a2a2-01 outer:exit 2b-7269d2675fe990fc29624e13c7242d0329ddbcbe-3311c6d9c8ffbea3-01
2022-04-20T15:28:12.239Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:12.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a2997dbf8a9d5ddccb71d4394d2b8b77914b450-e5c2abefc4aa15f8-01 outer:exit 2b-5a2997dbf8a9d5ddccb71d4394d2b8b77914b450-dfd20eb4fddae0ce-01
2022-04-20T15:28:12.242Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:12.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-08a55a41390aea8c4f8455f6d1ad11249dca9471-6d6c68d13370cf42-01 outer:exit 2b-08a55a41390aea8c4f8455f6d1ad11249dca9471-a0d254e998572b95-01
2022-04-20T15:28:12.244Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:12.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef3a46ed2039ae5f93b08e56b9954267fb3abacd-2520431ee0a351ef-01 outer:exit 2b-ef3a46ed2039ae5f93b08e56b9954267fb3abacd-5e35f74177b39868-01
2022-04-20T15:28:12.247Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:12.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-171ae5c94b03bdbf8a964122a495ee680da99c99-ba53f9b9b297883c-01 outer:exit 2b-171ae5c94b03bdbf8a964122a495ee680da99c99-fe259c5c63c66ac4-01
2022-04-20T15:28:12.249Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:12.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c83003fe0002d350bb77daa64b056eac2b099a3-86890dbb21cae49e-01 outer:exit 2b-2c83003fe0002d350bb77daa64b056eac2b099a3-23756249427d80d6-01
2022-04-20T15:28:12.251Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:12.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5db50ad7ca8a6ef0b443f7fd10b4b6b5af945a6-88d7477d6f4ec943-01 outer:exit 2b-c5db50ad7ca8a6ef0b443f7fd10b4b6b5af945a6-10ba8617c712005f-01
2022-04-20T15:28:12.253Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:12.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4c107dba6c255f3e0f477db3618e7bd4f44d79f-fcaa07fcccc78d20-01 outer:exit 2b-b4c107dba6c255f3e0f477db3618e7bd4f44d79f-dd581402d7a739d1-01
2022-04-20T15:28:12.255Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:12.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-70396d52964dcdbd5a306dbc1bb4e2c1a458d128-733f37a1753c5934-01 outer:exit 2b-70396d52964dcdbd5a306dbc1bb4e2c1a458d128-5e57ae50819a0614-01
2022-04-20T15:28:12.258Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:12.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f0483749d4f8df347f30ff4f2ce8a50ee9ca287-355fcb6f239ee627-01 outer:exit 2b-7f0483749d4f8df347f30ff4f2ce8a50ee9ca287-4330f0227f1fc5e6-01
2022-04-20T15:28:12.261Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:12.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-f015ac40a3da72b7083e47a0220cfb3b98882040-aa3308b9515dcc5f-01 outer:exit 2b-f015ac40a3da72b7083e47a0220cfb3b98882040-57c7a518ac9b14e4-01
2022-04-20T15:28:12.263Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:12.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-e13a7f0502444be2d6cc84270ca07d64f67d301f-a80cbc5250f53ec8-01 outer:exit 2b-e13a7f0502444be2d6cc84270ca07d64f67d301f-f2654cb2d2e335f5-01
2022-04-20T15:28:12.269Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:12.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-43548b2ca744121b0578dad1e75c08144b935912-38bb6986ddb65ff5-01 outer:exit 2b-43548b2ca744121b0578dad1e75c08144b935912-b18917032c7b2042-01
2022-04-20T15:28:12.275Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:12.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfacd71b975136a4a03916bbbfe1602aa75d668a-4cfcdb7e091f9662-01 outer:exit 2b-bfacd71b975136a4a03916bbbfe1602aa75d668a-34cbcc39c62c7c7c-01
2022-04-20T15:28:12.282Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:12.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-81077563f3f0322796bc115f692d51b53ecd7d1f-55d6cb47ab10d386-01 outer:exit 2b-81077563f3f0322796bc115f692d51b53ecd7d1f-1d373b8d170f9ef5-01
2022-04-20T15:28:12.300Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:12.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-9895fe2e287d39bed48efc7f68461ad70f2f8829-1971ef604cf7517d-01 outer:exit 2b-9895fe2e287d39bed48efc7f68461ad70f2f8829-9ce537d04d8e286a-01
2022-04-20T15:28:12.303Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:12.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b4305dd20b39b19c30601e6bf4059ddcb1121fc-6d41851006c83cb5-01 outer:exit 2b-1b4305dd20b39b19c30601e6bf4059ddcb1121fc-bfa9bd54d1035fb1-01
2022-04-20T15:28:12.306Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:12.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f27484fed4e1df9cb27bafb988c717554d0fefb-891b5f5455dfeec4-01 outer:exit 2b-0f27484fed4e1df9cb27bafb988c717554d0fefb-3b62b11628a6d212-01
2022-04-20T15:28:12.312Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:12.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-125059c0e114fca1d7116819e7a10ae1c93499f3-a352b2041f7706de-01 outer:exit 2b-125059c0e114fca1d7116819e7a10ae1c93499f3-dae1ab0cc700cbd7-01
2022-04-20T15:28:12.314Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:12.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-da06ea7109f2eda23470912811e71f15b102a670-b39163dfde08b237-01 outer:exit 2b-da06ea7109f2eda23470912811e71f15b102a670-90c24e7690cf05f5-01
2022-04-20T15:28:12.316Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:12.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-32e30dd667e4213ad448b2c34a21bf9b868db85a-57bf0b85efd8cca7-01 outer:exit 2b-32e30dd667e4213ad448b2c34a21bf9b868db85a-efcc2779302d54d3-01
2022-04-20T15:28:12.317Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:12.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-917cd6f7ae36487ff21722790af776b886b0df0b-296623ede4137ca9-01 outer:exit 2b-917cd6f7ae36487ff21722790af776b886b0df0b-355cd26f4529758a-01
2022-04-20T15:28:12.319Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:12.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-24426ad43e7b4c33da433fbebfe792022402ac70-e217c17187996614-01 outer:exit 2b-24426ad43e7b4c33da433fbebfe792022402ac70-b6903ab9001707b1-01
2022-04-20T15:28:12.321Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:12.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-8647b2d97dfdc1113985ceefad114f51e91d63eb-e98cfc9eea89b203-01 outer:exit 2b-8647b2d97dfdc1113985ceefad114f51e91d63eb-c3e702f7cdde158f-01
2022-04-20T15:28:12.330Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:12.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-60b1ba5bb86214eaba3e340254a7526ba39a345c-6551e9021a82381d-01 outer:exit 2b-60b1ba5bb86214eaba3e340254a7526ba39a345c-a4aae1f1e6e3eeee-01
2022-04-20T15:28:12.337Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:12.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ea4e37bc686eac1534d02b2a947ed826a0f17b6-25f85f14b60ffa6a-01 outer:exit 2b-3ea4e37bc686eac1534d02b2a947ed826a0f17b6-51936bd924b8b1f4-01
2022-04-20T15:28:12.340Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:12.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c8bd319ba376bcf6cce08504e4855069ca80975-25720c5ea1a677a0-01 outer:exit 2b-9c8bd319ba376bcf6cce08504e4855069ca80975-2bc4d8e3e1fb22af-01
2022-04-20T15:28:12.343Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:12.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-92698e8d9b959cf870103857d4740df9331d71cc-51f6c0f0c286a2e2-01 outer:exit 2b-92698e8d9b959cf870103857d4740df9331d71cc-952f4a72e5da6188-01
2022-04-20T15:28:12.345Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:12.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-313723597ca72cf731ab54e199c6863f5e88f974-3496a1ba865ea610-01 outer:exit 2b-313723597ca72cf731ab54e199c6863f5e88f974-999a226c95bc47e4-01
2022-04-20T15:28:12.373Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (322ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:18.484Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:18.484Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:18.484Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:18.485Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:18.592Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:18.720Z appoptics:patching patched crypto 
2022-04-20T15:28:18.761Z appoptics:patching patched https 
2022-04-20T15:28:18.762Z appoptics:patching patched http 
2022-04-20T15:28:18.811Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:18.811Z appoptics:patching patched fs 
2022-04-20T15:28:18.828Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v18.0.0)
2022-04-20T15:28:18.834Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2022-04-20T15:28:18.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dedf73cd14a34568b0f03d592a584537368ef69-05800bdc1d692233-01 outer:exit 2b-5dedf73cd14a34568b0f03d592a584537368ef69-7331e17bb54f0492-01
2022-04-20T15:28:18.880Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:18.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-f46f1d66f935094df3659cfc9d69d2a0946ceeee-6e92cd760a8f2177-01 outer:exit 2b-f46f1d66f935094df3659cfc9d69d2a0946ceeee-60605ddb094a29a9-01
2022-04-20T15:28:18.926Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:18.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebdd27127b3b35575037df2e08c99e42248c9e96-48689e92951bc959-01 outer:exit 2b-ebdd27127b3b35575037df2e08c99e42248c9e96-f7100c609edb756e-01
2022-04-20T15:28:18.930Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:18.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1cd1c3489fcc8da5d5875c1bdaae954686fe7b6-8c0371312a61eea7-01 outer:exit 2b-b1cd1c3489fcc8da5d5875c1bdaae954686fe7b6-10effa52cc431863-01
2022-04-20T15:28:18.934Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:18.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dd1f571353655246d583f0c9f91fc1b00058b20-edaa665cf4bd346e-01 outer:exit 2b-3dd1f571353655246d583f0c9f91fc1b00058b20-41c7e8af4780d364-01
2022-04-20T15:28:18.943Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:18.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c9217a17e143da9548c925c3705df3ad95dfcb2-20fadf46cb3182ac-01 outer:exit 2b-4c9217a17e143da9548c925c3705df3ad95dfcb2-a08ce2a3efd73819-01
2022-04-20T15:28:18.948Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:18.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-698dbce2ca93eb03b3d655b46c097e6448482d47-5273c6adf9982a8e-01 outer:exit 2b-698dbce2ca93eb03b3d655b46c097e6448482d47-6ca4b77ebf154ac4-01
2022-04-20T15:28:18.955Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:18.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-411e826a454f5b69be354d9928d47a1e8167c385-7cd5c81b51572c52-01 outer:exit 2b-411e826a454f5b69be354d9928d47a1e8167c385-4ed7130f3f21b145-01
2022-04-20T15:28:18.961Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:18.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f88cb866099bb56eaf212123e5df42d428479a8-dc49b5967ac8b716-01 outer:exit 2b-7f88cb866099bb56eaf212123e5df42d428479a8-73f992d9eba7588c-01
2022-04-20T15:28:18.963Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:18.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-725c550e915777ebf49058e2898471a26561de22-b3117903ead31d35-01 outer:exit 2b-725c550e915777ebf49058e2898471a26561de22-9e2a511635af3383-01
2022-04-20T15:28:18.970Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:18.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-86f0703552dbee753559cb3e246308470cbac250-12086d6fe9aabd7e-01 outer:exit 2b-86f0703552dbee753559cb3e246308470cbac250-b99ececfab9de601-01
2022-04-20T15:28:18.974Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:18.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-75a3f812705bfd442dbcd5d518f70953854f67b3-a42c4130001f79c0-01 outer:exit 2b-75a3f812705bfd442dbcd5d518f70953854f67b3-002c5897b22c0270-01
2022-04-20T15:28:18.982Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:19.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e3bda0f1939547a5cb23ff6b3361a3b9b3b16fe-4ad3a089d49d91f0-01 outer:exit 2b-4e3bda0f1939547a5cb23ff6b3361a3b9b3b16fe-d35890c5bd007e29-01
2022-04-20T15:28:19.001Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:19.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-28cd6cb58383b424aaef828ce16dcb215d7cc644-ff92a2f4bad764c2-01 outer:exit 2b-28cd6cb58383b424aaef828ce16dcb215d7cc644-50536d8a87b77a42-01
2022-04-20T15:28:19.043Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:19.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-926a47eb29d2b63249549ab3bfef3bb8d418b914-4407889cc5dbd859-01 outer:exit 2b-926a47eb29d2b63249549ab3bfef3bb8d418b914-fc3279102f1e6100-01
2022-04-20T15:28:19.046Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:19.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b698465b2cdbaccdad6c2686751ac98bb1e7e76-80511e1b413c7405-01 outer:exit 2b-0b698465b2cdbaccdad6c2686751ac98bb1e7e76-0155438daf7c6a6a-01
2022-04-20T15:28:19.049Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:19.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a2e7c07d9c9d3464df6e2d37f71dcd064a3c957-ea222de17a9d9b41-01 outer:exit 2b-2a2e7c07d9c9d3464df6e2d37f71dcd064a3c957-f5e6630a9a5e8789-01
2022-04-20T15:28:19.051Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:19.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-28c7d92aa245ec16b34eec3fe9a0365ca0a015a1-d620fa66a0a0cecb-01 outer:exit 2b-28c7d92aa245ec16b34eec3fe9a0365ca0a015a1-f93f0908a9f728d4-01
2022-04-20T15:28:19.053Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:19.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-7942e6d7a42d603feb41356151bfc78ac125be18-3055a52fdbdd272a-01 outer:exit 2b-7942e6d7a42d603feb41356151bfc78ac125be18-b8801688696b89d4-01
2022-04-20T15:28:19.055Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:19.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b8db1ae7aa4eb77b57aae46a2901c91e54bbd8c-5131d034ee26cf58-01 outer:exit 2b-7b8db1ae7aa4eb77b57aae46a2901c91e54bbd8c-d80912a63d78c850-01
2022-04-20T15:28:19.058Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:19.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-efad9e643affed7cac43d474f3bd91667546ceb8-79bd1db101f95203-01 outer:exit 2b-efad9e643affed7cac43d474f3bd91667546ceb8-14b4d57a4ba36ac0-01
2022-04-20T15:28:19.059Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:19.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-e63d69a3a97d659df2b97081569eed08bfaf30f4-528f63922815a54c-01 outer:exit 2b-e63d69a3a97d659df2b97081569eed08bfaf30f4-9557eb99feccc6d6-01
2022-04-20T15:28:19.061Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:19.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-62f0d62d8411911068613a863db71a542d4ea5e9-5a229762311ccb4c-01 outer:exit 2b-62f0d62d8411911068613a863db71a542d4ea5e9-8f996bbe3f5a195c-01
2022-04-20T15:28:19.071Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:19.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd6be20deb2b640b03123f6b1b385c73469977c0-ef71c84836479be1-01 outer:exit 2b-fd6be20deb2b640b03123f6b1b385c73469977c0-fea5a0b6ebc31b0e-01
2022-04-20T15:28:19.073Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:19.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ded227248bcdd59ecea501a6286127d6b1278e2-930e174c625836ee-01 outer:exit 2b-6ded227248bcdd59ecea501a6286127d6b1278e2-16504d08239eb8ca-01
2022-04-20T15:28:19.078Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:19.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6bc7c44cf197adf7ff8b54ec824d4e0b67adca6-436bd72e558d7c42-01 outer:exit 2b-c6bc7c44cf197adf7ff8b54ec824d4e0b67adca6-9850a65dacf82890-01
2022-04-20T15:28:19.080Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:19.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ea4211b4e5afe4689bd589143f42c91e17bff54-96c2718bf2ebf24a-01 outer:exit 2b-4ea4211b4e5afe4689bd589143f42c91e17bff54-7d3c9e0705dcb428-01
2022-04-20T15:28:19.086Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:19.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-40d469950e6a7f9ff5626f7019bfa2e028f84c87-2ac82071fafcc00c-01 outer:exit 2b-40d469950e6a7f9ff5626f7019bfa2e028f84c87-db45c2bedff4185c-01
2022-04-20T15:28:19.090Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:19.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-0439fa9f06fea1583ebb5a80fbab5268fd7dd92e-f38260cdb44199be-01 outer:exit 2b-0439fa9f06fea1583ebb5a80fbab5268fd7dd92e-aac359d29e13de1d-01
2022-04-20T15:28:19.102Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:19.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc71daf10c924d33f2874c5a1714e0576e1b9030-7a287a0a475599e2-01 outer:exit 2b-bc71daf10c924d33f2874c5a1714e0576e1b9030-d201a83459a7e00c-01
2022-04-20T15:28:19.112Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:19.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-123c620af299fe1d209a563d72a186ef4623cd81-2558f77be75a6b88-01 outer:exit 2b-123c620af299fe1d209a563d72a186ef4623cd81-ade204a751bd0cd2-01
2022-04-20T15:28:19.115Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:19.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb6f294d6b9ab1336dc93b6e4986744314d10dbb-8a8c03553fbe5c60-01 outer:exit 2b-fb6f294d6b9ab1336dc93b6e4986744314d10dbb-d9ee857b520ae8c3-01
2022-04-20T15:28:19.118Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:19.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-534d9c5a227abc0a50c23d7af5724690d0b906af-53e2c89cc44aa9f3-01 outer:exit 2b-534d9c5a227abc0a50c23d7af5724690d0b906af-c227b29c4431b3e3-01
2022-04-20T15:28:19.124Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:19.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-a781438463daeb3990725f9c005f4f32241b427d-2a30ef9482178070-01 outer:exit 2b-a781438463daeb3990725f9c005f4f32241b427d-747bbe06e203a47f-01
2022-04-20T15:28:19.126Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:19.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4375e8c8ece5ddd002136ebf2bf01adde0b4197-6dcb2aa9c0d27f53-01 outer:exit 2b-e4375e8c8ece5ddd002136ebf2bf01adde0b4197-f2a261d76fc72384-01
2022-04-20T15:28:19.128Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:19.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-7735b026fad827b27d86edf2a4d3adfbfaa19bd6-91fb8e814a157c68-01 outer:exit 2b-7735b026fad827b27d86edf2a4d3adfbfaa19bd6-b8a4e389d1e8e1b2-01
2022-04-20T15:28:19.130Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:19.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-1221b649b54b4261a82319cd00cec0db2df0ed54-de450b9228670b1b-01 outer:exit 2b-1221b649b54b4261a82319cd00cec0db2df0ed54-8712fce7623d1e36-01
2022-04-20T15:28:19.131Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:19.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-55fa91495317f56b854f255710204b55a0e55941-12bd5cb7f57c8f86-01 outer:exit 2b-55fa91495317f56b854f255710204b55a0e55941-4af333a9b2793145-01
2022-04-20T15:28:19.133Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:19.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dfa97df5d5b2c79d372aaf635d6e94b4a7215c7-4ec974d6d2d46fde-01 outer:exit 2b-4dfa97df5d5b2c79d372aaf635d6e94b4a7215c7-ea5fd2f09a9b9b02-01
2022-04-20T15:28:19.141Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:19.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-d93e03df355e4f68d0626d46d9aa343fcc512ff7-be122b18c4142b0d-01 outer:exit 2b-d93e03df355e4f68d0626d46d9aa343fcc512ff7-0070517c4cc92660-01
2022-04-20T15:28:19.152Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:19.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-70cdb576ffeb70b513f2db8143249f8739093152-5d8e0eb3e81bfa34-01 outer:exit 2b-70cdb576ffeb70b513f2db8143249f8739093152-88a6a8871f8f9d3b-01
2022-04-20T15:28:19.155Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:19.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-39b0d683ca55943633615ea499111146d05f773e-b1ea3690af635b3e-01 outer:exit 2b-39b0d683ca55943633615ea499111146d05f773e-5d24d07f20ca1abb-01
2022-04-20T15:28:19.157Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:19.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-a62123795aba01f5ee440eb179efa642368876b7-7091f8320c7665e3-01 outer:exit 2b-a62123795aba01f5ee440eb179efa642368876b7-49dd487448fc7972-01
2022-04-20T15:28:19.160Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:19.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ef1f2f1119285036da6cafdcb952e14803eb1d0-72016843aea2c47b-01 outer:exit 2b-6ef1f2f1119285036da6cafdcb952e14803eb1d0-dcb3781a346c3701-01
2022-04-20T15:28:19.191Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (351ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:25.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:25.457Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:25.457Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:25.458Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:25.515Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:25.626Z appoptics:patching patched crypto 
2022-04-20T15:28:25.645Z appoptics:patching patched https 
2022-04-20T15:28:25.645Z appoptics:patching patched http 
2022-04-20T15:28:25.715Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:25.715Z appoptics:patching patched fs 
2022-04-20T15:28:25.736Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v18.0.0)
2022-04-20T15:28:25.742Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2022-04-20T15:28:25.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-4722241d26238618229d210e0beb833ddb155a7d-18cc4773b17019dd-01 outer:exit 2b-4722241d26238618229d210e0beb833ddb155a7d-5be1cb78aaa0eb7b-01
2022-04-20T15:28:25.783Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:25.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-01e7d1f0c2853003384e377a1867c08c0917296f-fb61955bf0cc699e-01 outer:exit 2b-01e7d1f0c2853003384e377a1867c08c0917296f-76ed11b1a9ef2ea0-01
2022-04-20T15:28:25.826Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:25.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-b92b68bce75d5de612cb504cc0f31ea3359f492b-44b5e266d034272c-01 outer:exit 2b-b92b68bce75d5de612cb504cc0f31ea3359f492b-92be264dfd423b3c-01
2022-04-20T15:28:25.830Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:25.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-05edc6edaa352623e0f3a24400f6d34316cd45c2-653df40dcb405033-01 outer:exit 2b-05edc6edaa352623e0f3a24400f6d34316cd45c2-66bf4e9f6366f032-01
2022-04-20T15:28:25.833Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:25.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-c29527cdca533b5a6a5193d4303e293548843359-5ec07f6ef3fefa49-01 outer:exit 2b-c29527cdca533b5a6a5193d4303e293548843359-0a5199b31ec4b87f-01
2022-04-20T15:28:25.837Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:25.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa34c04f0e667f58ff6ab634157cac6144e6aed2-c7599856ce9b7207-01 outer:exit 2b-aa34c04f0e667f58ff6ab634157cac6144e6aed2-b4c6b7e32529278b-01
2022-04-20T15:28:25.840Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:25.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b05ede71872c1ea6f92f2622cf9c49caa506763-74825845e900f27f-01 outer:exit 2b-6b05ede71872c1ea6f92f2622cf9c49caa506763-238cc19624a7192c-01
2022-04-20T15:28:25.843Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:25.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-3db7d398ec9752d9b0179d5932a6b3c232c5a14b-594b4fe39bec7ca9-01 outer:exit 2b-3db7d398ec9752d9b0179d5932a6b3c232c5a14b-77bdc913f6cb9f97-01
2022-04-20T15:28:25.845Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:25.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-db4cde36d7c57ba28a602f6df2a7a56494fcefdf-aab8bb9f9afba51a-01 outer:exit 2b-db4cde36d7c57ba28a602f6df2a7a56494fcefdf-9225c755b4d9ea51-01
2022-04-20T15:28:25.848Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:25.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-a92f541927e787def64b4e2f4386f14198f8ad94-893268ecf053c6ea-01 outer:exit 2b-a92f541927e787def64b4e2f4386f14198f8ad94-5c392478e689bcac-01
2022-04-20T15:28:25.851Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:25.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b19ff479c9c0a173e4919c0caa4aa0cf24b44c9-b601fc18c8873c89-01 outer:exit 2b-3b19ff479c9c0a173e4919c0caa4aa0cf24b44c9-3ce0aff195182d9e-01
2022-04-20T15:28:25.854Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:25.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-251bff1ee5039a7b0c990eaab39d7ab87f22c415-5099b9d7f9d0cebe-01 outer:exit 2b-251bff1ee5039a7b0c990eaab39d7ab87f22c415-32116dd719d3a47d-01
2022-04-20T15:28:25.860Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:25.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2c391cb57d97f869b7bc4a59001400f973cb6c2-bdf51d15d7540151-01 outer:exit 2b-c2c391cb57d97f869b7bc4a59001400f973cb6c2-02c062f99bf1b83e-01
2022-04-20T15:28:25.877Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:25.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-08b991e62b69623fe9df26e34694292dd5fc7cee-4382004cdaa12eff-01 outer:exit 2b-08b991e62b69623fe9df26e34694292dd5fc7cee-cd6a59efcbe4bf98-01
2022-04-20T15:28:25.914Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:25.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-72087ff5a30523913868d31018c6fe3e1be2b5eb-4c956a7aadb6e9a7-01 outer:exit 2b-72087ff5a30523913868d31018c6fe3e1be2b5eb-0dcb0afb5e366a63-01
2022-04-20T15:28:25.917Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:25.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-71e704e127c67f5aecd560a005240e7e0152f8b1-9a217898e86b77e3-01 outer:exit 2b-71e704e127c67f5aecd560a005240e7e0152f8b1-5286f70fe59a97e1-01
2022-04-20T15:28:25.919Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:25.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff5a0242950f89283d473140c62a4c32484e5704-0a80cd8b40802a93-01 outer:exit 2b-ff5a0242950f89283d473140c62a4c32484e5704-fef08691c17cf445-01
2022-04-20T15:28:25.921Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:25.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-35913b6805e8ac2b00b332e79132d8a0e1bed471-d8a23ba4d69bdd0d-01 outer:exit 2b-35913b6805e8ac2b00b332e79132d8a0e1bed471-0fd8abb4f52e45ac-01
2022-04-20T15:28:25.923Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:25.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ae6589b5bf2b090c4fc50c750e655850d778aec-a3a0baf49b3fed60-01 outer:exit 2b-1ae6589b5bf2b090c4fc50c750e655850d778aec-8692fcaf247a2d1c-01
2022-04-20T15:28:25.925Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:25.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-d238a9edf848077cf864995d787bc514b193cfbe-7db63b07307349cb-01 outer:exit 2b-d238a9edf848077cf864995d787bc514b193cfbe-56d19262e47c2b65-01
2022-04-20T15:28:25.927Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:25.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd64d07fe2aaa213f8122c5daba38f086595832b-b0f02124fde91d62-01 outer:exit 2b-dd64d07fe2aaa213f8122c5daba38f086595832b-79eb14e3fc49c247-01
2022-04-20T15:28:25.929Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:25.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-8081e98bf50df77ab37cd1f4cfd969d7956e28aa-8fe534e52465c3aa-01 outer:exit 2b-8081e98bf50df77ab37cd1f4cfd969d7956e28aa-3b4b8ccba92c2319-01
2022-04-20T15:28:25.931Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:25.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-fda17861e4aed9b882f6457bf69cc15f703d4403-30b59db4eeda11be-01 outer:exit 2b-fda17861e4aed9b882f6457bf69cc15f703d4403-7e0d9730878db603-01
2022-04-20T15:28:25.935Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:25.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-c59cb792f5c5db01c0d5e9e83319d8614bf37d5b-0b815930af7e1c54-01 outer:exit 2b-c59cb792f5c5db01c0d5e9e83319d8614bf37d5b-3243377ff2cab6ca-01
2022-04-20T15:28:25.938Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:25.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-e36051faf7c75c57a1d789c2878d295e52f7c8c8-3836a8ea00e14880-01 outer:exit 2b-e36051faf7c75c57a1d789c2878d295e52f7c8c8-12ef151a5594ff5e-01
2022-04-20T15:28:25.940Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:25.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-fff51dc389bcecae087a62d7016cdc76908d3278-664bb634a1c9670a-01 outer:exit 2b-fff51dc389bcecae087a62d7016cdc76908d3278-82e833bba5fd0da4-01
2022-04-20T15:28:25.942Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:25.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-001bc76bf8eadcfb4caaf91ff13133d80c9270df-f497b9d6efffbebd-01 outer:exit 2b-001bc76bf8eadcfb4caaf91ff13133d80c9270df-94a45ac455ff7ba2-01
2022-04-20T15:28:25.948Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:25.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4cfa1302733b73b9d1a159a6038ac5f97e3a606-66caf01bdfc60e2b-01 outer:exit 2b-b4cfa1302733b73b9d1a159a6038ac5f97e3a606-0720ff4eb52066a8-01
2022-04-20T15:28:25.951Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:25.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-529c9b3d0ee331be412215734c9fa62046ccbb5e-3329803ba92440d6-01 outer:exit 2b-529c9b3d0ee331be412215734c9fa62046ccbb5e-ccc7c2bb83977d9b-01
2022-04-20T15:28:25.959Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:25.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5b9c517dbc3e2696893c060b3cb72420e73cfb4-9953332ac506e931-01 outer:exit 2b-d5b9c517dbc3e2696893c060b3cb72420e73cfb4-b2e9d7186ca96188-01
2022-04-20T15:28:25.965Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:25.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-81be7f5ea34e4a2df98c673515162462b015741b-466ab96a6157f5a4-01 outer:exit 2b-81be7f5ea34e4a2df98c673515162462b015741b-64c27ee2bf11e7ff-01
2022-04-20T15:28:25.966Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:25.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f1fce9a525138d78d1b374126e055852583506d-de36f68d0fa5d885-01 outer:exit 2b-8f1fce9a525138d78d1b374126e055852583506d-c8e30c5f1f1a4c4b-01
2022-04-20T15:28:25.969Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:25.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe9cb30969a551e97d47b633ecb7bef8979379df-072a74c9300ad9c6-01 outer:exit 2b-fe9cb30969a551e97d47b633ecb7bef8979379df-c69aabf1d5d29802-01
2022-04-20T15:28:25.975Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:25.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1cb756d5eab402921ac45039c90b4c17c4c87cd-d5c7b35c429cc630-01 outer:exit 2b-c1cb756d5eab402921ac45039c90b4c17c4c87cd-1404af74324edf45-01
2022-04-20T15:28:25.977Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:25.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-224c43c40c8aefd98dfc48d5d8372c8c5bf40007-c70ea18b35d08f11-01 outer:exit 2b-224c43c40c8aefd98dfc48d5d8372c8c5bf40007-b712877561d0c9f2-01
2022-04-20T15:28:25.978Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:25.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d6ea608fd9a0c0651e662e175bf79d51e149437-36b378752b238966-01 outer:exit 2b-3d6ea608fd9a0c0651e662e175bf79d51e149437-ebe701a5f82e908d-01
2022-04-20T15:28:25.980Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:25.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-03ed3ed51e184e2124d6fadb4d79a1b1547c22ed-f4634a4a841ab0c6-01 outer:exit 2b-03ed3ed51e184e2124d6fadb4d79a1b1547c22ed-27ddea9a320a35d5-01
2022-04-20T15:28:25.982Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:25.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-46be06bbfc39bdcc177605fac2c039c8815ebeec-e60dcb85d7b85d76-01 outer:exit 2b-46be06bbfc39bdcc177605fac2c039c8815ebeec-5f9ab3f4550a9163-01
2022-04-20T15:28:25.984Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:25.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-9528229b006aa5f413688044f9485546a0bc2f0e-eb2ceb7a2ba32456-01 outer:exit 2b-9528229b006aa5f413688044f9485546a0bc2f0e-2cdfdcc4b100e84d-01
2022-04-20T15:28:25.992Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:25.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-41c24c9c2234e79ca6670bb436b7fd92b34808d1-a288122302265b3f-01 outer:exit 2b-41c24c9c2234e79ca6670bb436b7fd92b34808d1-4911af1ac7f7a7c5-01
2022-04-20T15:28:25.999Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:26.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-03d1fd0319bea7439ccad4e2c32438c090719e63-c0879cc58b85e5ed-01 outer:exit 2b-03d1fd0319bea7439ccad4e2c32438c090719e63-adce48a298034f07-01
2022-04-20T15:28:26.002Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:26.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-e807aac7f33bf5eaa2dc2ca1d6cd13da39737b7d-2a8ce724b30c9f6e-01 outer:exit 2b-e807aac7f33bf5eaa2dc2ca1d6cd13da39737b7d-b3036e73dc71c846-01
2022-04-20T15:28:26.004Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:26.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c445b19bfaf1205959cea77dd246dbbb60a9b58-36550ac842f03458-01 outer:exit 2b-9c445b19bfaf1205959cea77dd246dbbb60a9b58-528681db653691b8-01
2022-04-20T15:28:26.006Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:26.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-dba980d9176fd3f30b8ad194c4fe0273a0914bf3-6993c3e27455ff62-01 outer:exit 2b-dba980d9176fd3f30b8ad194c4fe0273a0914bf3-74f92c3f9fc89aba-01
2022-04-20T15:28:26.035Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (287ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:32.568Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:32.569Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:32.569Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:32.570Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:32.628Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:32.738Z appoptics:patching patched crypto 
2022-04-20T15:28:32.755Z appoptics:patching patched https 
2022-04-20T15:28:32.755Z appoptics:patching patched http 
2022-04-20T15:28:32.803Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:32.803Z appoptics:patching patched fs 
2022-04-20T15:28:32.816Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v18.0.0)
2022-04-20T15:28:32.821Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2022-04-20T15:28:32.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-07d35df6c87b8559f94b5c1292b5cd288933ce9b-948a9e6c7ef81082-01 outer:exit 2b-07d35df6c87b8559f94b5c1292b5cd288933ce9b-3de48378e2633ae9-01
2022-04-20T15:28:32.863Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:32.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-77bd908983e67a929352acc66a57b9179f3fb120-77f7924cc4915ae8-01 outer:exit 2b-77bd908983e67a929352acc66a57b9179f3fb120-f9f42b3831cd6bb1-01
2022-04-20T15:28:32.905Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:32.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f025953fef8c4cc95038f6dbb2567d1df61355c-fa6f85cf70b4b6ab-01 outer:exit 2b-9f025953fef8c4cc95038f6dbb2567d1df61355c-686ce0da0628c01b-01
2022-04-20T15:28:32.909Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:32.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-a07b645ecc67f5b7e05b43b089c83e6d4d321c00-ed6c4692698340bc-01 outer:exit 2b-a07b645ecc67f5b7e05b43b089c83e6d4d321c00-f9f55da2665c0de1-01
2022-04-20T15:28:32.912Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:32.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b35d68c350e85be7f0c5279cfbaaede9e77bd45-ab8b39e926340c6d-01 outer:exit 2b-3b35d68c350e85be7f0c5279cfbaaede9e77bd45-6b81d4993e733e29-01
2022-04-20T15:28:32.916Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:32.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-eeb8674714ffd5c2e4666e18d00fbd7081f5320e-ccb81cad7f0fe42f-01 outer:exit 2b-eeb8674714ffd5c2e4666e18d00fbd7081f5320e-ea1c90a63bf254e1-01
2022-04-20T15:28:32.919Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:32.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cbefa0ff4c183b635b9009fa8f182e0eb60b48e-d959821a5dbe982a-01 outer:exit 2b-5cbefa0ff4c183b635b9009fa8f182e0eb60b48e-0905d948ed3689c2-01
2022-04-20T15:28:32.921Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:32.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-43ba27b72d64e87683013372b694825a52de4cd0-b88a32ebcd57f018-01 outer:exit 2b-43ba27b72d64e87683013372b694825a52de4cd0-a451b89a2833360b-01
2022-04-20T15:28:32.923Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:32.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-885a9fd898d70bf4e125a602f31c025a61ba8225-0e680348d553d23f-01 outer:exit 2b-885a9fd898d70bf4e125a602f31c025a61ba8225-0157497fc207d02c-01
2022-04-20T15:28:32.926Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:32.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9fd4ea072539ddf4f734411cb54b399d4d47187-413f9ebd162cdc56-01 outer:exit 2b-b9fd4ea072539ddf4f734411cb54b399d4d47187-dabc7d373519ecb4-01
2022-04-20T15:28:32.929Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:32.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-28858df822c9956c9ad37d4e2264abce33e84cab-c2fc67acb676ebea-01 outer:exit 2b-28858df822c9956c9ad37d4e2264abce33e84cab-1e53e411bbf8ac7d-01
2022-04-20T15:28:32.932Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:32.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f6989759cb615c186ba4c95d8dfcbcca809173a-d53c76539f100729-01 outer:exit 2b-0f6989759cb615c186ba4c95d8dfcbcca809173a-ba2ebb2af49074d9-01
2022-04-20T15:28:32.938Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:32.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-df007b8d02c5eb91ffde5581d77f1d6612c73671-35595b2046dbc9ac-01 outer:exit 2b-df007b8d02c5eb91ffde5581d77f1d6612c73671-ca13c0e532fefa68-01
2022-04-20T15:28:32.955Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:32.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-244ef1400e65223056f1b9f89fded5c1de11e21f-9046094d4a5d5a07-01 outer:exit 2b-244ef1400e65223056f1b9f89fded5c1de11e21f-ef1716b94dd378a0-01
2022-04-20T15:28:32.997Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:33.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-a95fee7389d76dd673368881d5db4c6f05092f01-bacbf67545ebcc5f-01 outer:exit 2b-a95fee7389d76dd673368881d5db4c6f05092f01-919284f0957b3870-01
2022-04-20T15:28:33.001Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:33.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-89e183e896abb4e3bfe742d55bc198fa23c2a80d-cee4e9f13a0db950-01 outer:exit 2b-89e183e896abb4e3bfe742d55bc198fa23c2a80d-101ffedaf2759229-01
2022-04-20T15:28:33.004Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:33.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2f416e21b55811f9fc348e1c34c66d497f0a640-375ca6838ce8a43e-01 outer:exit 2b-d2f416e21b55811f9fc348e1c34c66d497f0a640-38eaf824859f5eb9-01
2022-04-20T15:28:33.006Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:33.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-3666dfc5cc9b75cb885d8bea096eb1353e735ff0-cf23a8791ebab0dd-01 outer:exit 2b-3666dfc5cc9b75cb885d8bea096eb1353e735ff0-4280ca6fd09696ca-01
2022-04-20T15:28:33.008Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:33.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-43211c0f2ac95fd7fcf462fa8fd407f00855c729-46f3ae442d11e782-01 outer:exit 2b-43211c0f2ac95fd7fcf462fa8fd407f00855c729-558ca20efb7b1bb0-01
2022-04-20T15:28:33.012Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:33.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-53bda6cfec918d2b2e9c2c59569f63b782bf2288-933b2ddec7bb3a7d-01 outer:exit 2b-53bda6cfec918d2b2e9c2c59569f63b782bf2288-13be3887c073391f-01
2022-04-20T15:28:33.014Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:33.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-543d9ca24b53cc5acdb190179f51c59bded18c0a-7e2a20cc7a24f66a-01 outer:exit 2b-543d9ca24b53cc5acdb190179f51c59bded18c0a-b9d298c832e50df5-01
2022-04-20T15:28:33.016Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:33.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-566751d3d28b248580cda6165e0a3e53454d297e-8c997c271f72c8bf-01 outer:exit 2b-566751d3d28b248580cda6165e0a3e53454d297e-ac339dad4613a0b5-01
2022-04-20T15:28:33.018Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:33.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-15641b53287b080643fb745d4824a8e193bf8be9-7723fc047beaf256-01 outer:exit 2b-15641b53287b080643fb745d4824a8e193bf8be9-21f633d5a9de2380-01
2022-04-20T15:28:33.021Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:33.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d27d8f63263ebfdfb7b7bb75f923308e5e53ff7-c2a802bf144ae6e4-01 outer:exit 2b-6d27d8f63263ebfdfb7b7bb75f923308e5e53ff7-4a16683287352628-01
2022-04-20T15:28:33.023Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:33.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-aeae6a788d268b386b18280a116a119817975b3b-25c02767e0b6845c-01 outer:exit 2b-aeae6a788d268b386b18280a116a119817975b3b-d8f8716db376d0f0-01
2022-04-20T15:28:33.026Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:33.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-877754c32f9e4b0b8e538d851c0af209ca197577-b7e5da8f060c8b5e-01 outer:exit 2b-877754c32f9e4b0b8e538d851c0af209ca197577-6dd0492df6b2b93a-01
2022-04-20T15:28:33.028Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:33.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-20f7d2064cef27d53edea9abad62b45a888a2670-3baab1020579576b-01 outer:exit 2b-20f7d2064cef27d53edea9abad62b45a888a2670-2167c66f182392df-01
2022-04-20T15:28:33.033Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:33.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-0465393e9b91d79c03b33c2698e208bf15c508aa-c8dd79377bfc4ba6-01 outer:exit 2b-0465393e9b91d79c03b33c2698e208bf15c508aa-a76ba753be5ac9f2-01
2022-04-20T15:28:33.037Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:33.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-70f1eb159fc27865bf60cbb74d5514006d70f461-955d896837840071-01 outer:exit 2b-70f1eb159fc27865bf60cbb74d5514006d70f461-1c0b4e8b36e281c5-01
2022-04-20T15:28:33.044Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:33.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee5b7c48126845ad98a807b14a62e9f5763d7fbd-6b6701b891e94b2e-01 outer:exit 2b-ee5b7c48126845ad98a807b14a62e9f5763d7fbd-f49a66c27f9358f4-01
2022-04-20T15:28:33.050Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:33.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-f95b756b53cb1a916a32c9676b560703ef54ac0b-cd21ac7467dc4f00-01 outer:exit 2b-f95b756b53cb1a916a32c9676b560703ef54ac0b-9beb979dffb1db92-01
2022-04-20T15:28:33.052Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:33.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a752456b96cf2eed37ea984b7d37dd6176bfad9-5521862121e5591c-01 outer:exit 2b-7a752456b96cf2eed37ea984b7d37dd6176bfad9-2463cd17e2433b1c-01
2022-04-20T15:28:33.055Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:33.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-845fd4cbb8b146b5c09d53c91a64cdbb6b866600-ff2e1405ebc19899-01 outer:exit 2b-845fd4cbb8b146b5c09d53c91a64cdbb6b866600-c4985e7659d23711-01
2022-04-20T15:28:33.062Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:33.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-d163885c7846c60aeb549569162d361130d6d1d2-31e272937feafae2-01 outer:exit 2b-d163885c7846c60aeb549569162d361130d6d1d2-daac4ea49b494006-01
2022-04-20T15:28:33.063Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:33.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-20aaf347d7b322b2f872ee65117579b82807659d-bf739086c1650385-01 outer:exit 2b-20aaf347d7b322b2f872ee65117579b82807659d-d0446ec7b47204e3-01
2022-04-20T15:28:33.065Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:33.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-888ad58b4d31a835a903ce67ac10134b8f1dd653-9e429e3f2bb4b13d-01 outer:exit 2b-888ad58b4d31a835a903ce67ac10134b8f1dd653-ee64d3058165770e-01
2022-04-20T15:28:33.067Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:33.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-b15e0a86ca127da0a2142b366f84ce9f82513114-6ff8d4d846a33475-01 outer:exit 2b-b15e0a86ca127da0a2142b366f84ce9f82513114-088e80d47f9f7687-01
2022-04-20T15:28:33.068Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:33.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bb27e13dd48b12c5fa4323ac8df8948f06a3b7a-1f364c33abdf72ff-01 outer:exit 2b-9bb27e13dd48b12c5fa4323ac8df8948f06a3b7a-bd7cf94e0ebf57d8-01
2022-04-20T15:28:33.070Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:33.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-66e731749d64099ffc7f267697a99fdaf45cb474-8f3c68eea83acd96-01 outer:exit 2b-66e731749d64099ffc7f267697a99fdaf45cb474-6210b5d5e2a73800-01
2022-04-20T15:28:33.078Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:33.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a99e30801656e9559ee35bd494692cf6c8407da-7eddb3a512ebb425-01 outer:exit 2b-4a99e30801656e9559ee35bd494692cf6c8407da-96f509840075d9e1-01
2022-04-20T15:28:33.086Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:33.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-6806ea74a6cc4786f6e46508d5708b3004129fbe-5dbb27fb84e21b54-01 outer:exit 2b-6806ea74a6cc4786f6e46508d5708b3004129fbe-6f7aca0246a0241d-01
2022-04-20T15:28:33.090Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:33.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-a74add2ba943b0cb18fde9a7bd67a5f8be466682-90adda84906eb666-01 outer:exit 2b-a74add2ba943b0cb18fde9a7bd67a5f8be466682-7a280e4b0c40c508-01
2022-04-20T15:28:33.092Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:33.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-f121d83cb11993e3ade3463442101c80bbf1570d-2876107566eb02b2-01 outer:exit 2b-f121d83cb11993e3ade3463442101c80bbf1570d-3577e017d5086816-01
2022-04-20T15:28:33.095Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:33.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-21403e45c8b2adc4612230335511e7ec688e82e9-1f63657037bec9e0-01 outer:exit 2b-21403e45c8b2adc4612230335511e7ec688e82e9-0dff78024f34e4d5-01
2022-04-20T15:28:33.121Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (295ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:39.145Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:39.145Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:39.145Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:39.146Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:39.203Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:39.313Z appoptics:patching patched crypto 
2022-04-20T15:28:39.339Z appoptics:patching patched https 
2022-04-20T15:28:39.339Z appoptics:patching patched http 
2022-04-20T15:28:39.382Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:39.382Z appoptics:patching patched fs 
2022-04-20T15:28:39.395Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v18.0.0)
2022-04-20T15:28:39.400Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2022-04-20T15:28:39.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-934f28895e08871ae006f9b445c70b5050efef96-c4fc53ab6e69bf50-01 outer:exit 2b-934f28895e08871ae006f9b445c70b5050efef96-ef3ed5dfb80bef4c-01
2022-04-20T15:28:39.446Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:39.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2720da35cb8d43933a0c00ca2bc06809f6f3c2e-355b94442586c76a-01 outer:exit 2b-e2720da35cb8d43933a0c00ca2bc06809f6f3c2e-22e98862e6f2bab1-01
2022-04-20T15:28:39.490Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:39.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fdfc48609b237d6589d65942e9beafda8e6f369-16969f765d50b758-01 outer:exit 2b-5fdfc48609b237d6589d65942e9beafda8e6f369-48d739a6ffd2cdc5-01
2022-04-20T15:28:39.494Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:39.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-83c347c4ebf9a3184c3faebe69caed881ee1d7a1-fc337a789c2674ea-01 outer:exit 2b-83c347c4ebf9a3184c3faebe69caed881ee1d7a1-0f8ac1ca0c9c8443-01
2022-04-20T15:28:39.497Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:39.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-08729e935c7c34ba0e62f0f73a4201940eb4c4c7-1a87f46017e43526-01 outer:exit 2b-08729e935c7c34ba0e62f0f73a4201940eb4c4c7-4ed79539e50c4033-01
2022-04-20T15:28:39.501Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:39.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bfa0b5291e48b6baf9e8cf38f0231a13dfd7e9a-e8f1eb44fcd37d8b-01 outer:exit 2b-3bfa0b5291e48b6baf9e8cf38f0231a13dfd7e9a-8f3fac69fd2acc2d-01
2022-04-20T15:28:39.507Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:39.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b0e27c462415a22aeecbd349509cb2103aa6c90-108fac94f33c972e-01 outer:exit 2b-7b0e27c462415a22aeecbd349509cb2103aa6c90-3c914776187e416c-01
2022-04-20T15:28:39.509Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:39.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-6508eaf3b8693a0ce73416cbb854f59dca2fede6-7d736831b77b27ad-01 outer:exit 2b-6508eaf3b8693a0ce73416cbb854f59dca2fede6-3322ef34f7ab1914-01
2022-04-20T15:28:39.512Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:39.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eba771a38b8eb0f45bd973c2e7a99dc87720d05-b28d6f9c80ef7ce6-01 outer:exit 2b-0eba771a38b8eb0f45bd973c2e7a99dc87720d05-060f46ce0d8a5e57-01
2022-04-20T15:28:39.514Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:39.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-cda84aee364e52d56bf05e26c496fede11175b37-d801a60f1ffae0be-01 outer:exit 2b-cda84aee364e52d56bf05e26c496fede11175b37-73925ab383630c05-01
2022-04-20T15:28:39.517Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:39.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d7bb7c394828970e57f58ecf430ff2eb809c87d-1ed9e75a739ffed1-01 outer:exit 2b-5d7bb7c394828970e57f58ecf430ff2eb809c87d-1f99c8208f19047c-01
2022-04-20T15:28:39.520Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:39.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b86ea4b8fd1ed723109919cbd5debf341f90ee3-6d715336febcbc1b-01 outer:exit 2b-7b86ea4b8fd1ed723109919cbd5debf341f90ee3-d618309d6bd889a1-01
2022-04-20T15:28:39.526Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:39.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f67dc19a3358f67a268f525cbe177dc56e3d5c8-68b70cce9e3050cc-01 outer:exit 2b-3f67dc19a3358f67a268f525cbe177dc56e3d5c8-ead1c43df93035fe-01
2022-04-20T15:28:39.542Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:39.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-c24b3b61f7defc88016aeff21734cc6c71ae7018-56f43fcb53f30841-01 outer:exit 2b-c24b3b61f7defc88016aeff21734cc6c71ae7018-7da09784a78479c2-01
2022-04-20T15:28:39.582Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:39.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a409e6f4e182891990f913296783530b1e17108-fb8a64c8342b8628-01 outer:exit 2b-9a409e6f4e182891990f913296783530b1e17108-7615c42145b73633-01
2022-04-20T15:28:39.585Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:39.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d5f6426826436a45d74a41017377cbeaa163777-16e7aa59e4f1ad73-01 outer:exit 2b-8d5f6426826436a45d74a41017377cbeaa163777-7df916631927e3aa-01
2022-04-20T15:28:39.588Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:39.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-f37d444439b45830dedddb46bffe266ac026e84e-f89eac41da11f638-01 outer:exit 2b-f37d444439b45830dedddb46bffe266ac026e84e-471eb6ccd00d19e8-01
2022-04-20T15:28:39.590Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:39.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-cac1f0ae42ed025d4c0c2a9a836c3adbeef7cf37-571dc664e5194e01-01 outer:exit 2b-cac1f0ae42ed025d4c0c2a9a836c3adbeef7cf37-d2630f7c9d2493d2-01
2022-04-20T15:28:39.592Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:39.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-34f1180294740f3bcfd9c024eaad3db97d49dc3a-e74c2ddf82607d1f-01 outer:exit 2b-34f1180294740f3bcfd9c024eaad3db97d49dc3a-212bfe9446749df6-01
2022-04-20T15:28:39.594Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:39.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-e19cf52d9678ec4142761f0964b48528e62d90fc-d9dca3c9481b54ae-01 outer:exit 2b-e19cf52d9678ec4142761f0964b48528e62d90fc-dc9b49355fdcf88a-01
2022-04-20T15:28:39.596Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:39.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-22fd5cdd9efe4f8545a1ad195fa8d526dc87ff86-d21e6968ad8b92ae-01 outer:exit 2b-22fd5cdd9efe4f8545a1ad195fa8d526dc87ff86-28217e111ad42f90-01
2022-04-20T15:28:39.598Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:39.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6d551cbbe7c4d1d071d2d929f6293b0d76ed1ef-a8fce9601b1bb953-01 outer:exit 2b-d6d551cbbe7c4d1d071d2d929f6293b0d76ed1ef-1e48b67b98a0d8f0-01
2022-04-20T15:28:39.600Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:39.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-68fbee5eed313aed20649225fd31d886d2530608-0540f97077d48f86-01 outer:exit 2b-68fbee5eed313aed20649225fd31d886d2530608-65063461fae5f835-01
2022-04-20T15:28:39.602Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:39.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cca31bcd4e657f1abbcecc3172c410f6059ccdf-327e4a94861c5ecb-01 outer:exit 2b-2cca31bcd4e657f1abbcecc3172c410f6059ccdf-69379c913b33b2d7-01
2022-04-20T15:28:39.605Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:39.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-29090c46d99c4077db419f26bb03f9e88d0bf50e-4a76e52ab7c38803-01 outer:exit 2b-29090c46d99c4077db419f26bb03f9e88d0bf50e-fa7c06e148507ef4-01
2022-04-20T15:28:39.607Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:39.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4d3ae3cb4c799887a7eb5b99215e4a9a1dd7eaa-d5ec7449fcea4b61-01 outer:exit 2b-c4d3ae3cb4c799887a7eb5b99215e4a9a1dd7eaa-c78225ba5b0f9843-01
2022-04-20T15:28:39.609Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:39.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-f422848e0d35717844fdb9bc6c92c0c5c32a400f-7787df085b7f1f6e-01 outer:exit 2b-f422848e0d35717844fdb9bc6c92c0c5c32a400f-4ee8fcbd922f05cf-01
2022-04-20T15:28:39.614Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:39.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-a97b52603f087e1d2800c9539f5fdb8f89e0831d-0d65ba4f55d3a9e5-01 outer:exit 2b-a97b52603f087e1d2800c9539f5fdb8f89e0831d-f15c4a1a0196c5ca-01
2022-04-20T15:28:39.618Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:39.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2262028ba18728ab915936cceb849443cf9a812-018acb7fa3b5782d-01 outer:exit 2b-b2262028ba18728ab915936cceb849443cf9a812-8a5fb91319d8e864-01
2022-04-20T15:28:39.627Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:39.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e4107f7499fad8b467418481d4b98d40ee337e4-fb91b449f73797cf-01 outer:exit 2b-8e4107f7499fad8b467418481d4b98d40ee337e4-cc74efe237ac81da-01
2022-04-20T15:28:39.633Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:39.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-969706902f1defad651747ae11cc54c1dc2eef31-c77b4058dfbe4f0e-01 outer:exit 2b-969706902f1defad651747ae11cc54c1dc2eef31-5ba0a513c3c3262a-01
2022-04-20T15:28:39.635Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:39.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-35a8ec1063c58d062d0bd73f86769db87ff4503a-87d9edf4b37d76bd-01 outer:exit 2b-35a8ec1063c58d062d0bd73f86769db87ff4503a-abaa66c958e47e82-01
2022-04-20T15:28:39.638Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:39.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2002401928900f591db681f4acac6d440466f97-d1c64acda5b8bbba-01 outer:exit 2b-e2002401928900f591db681f4acac6d440466f97-7df27a20ef55441a-01
2022-04-20T15:28:39.643Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:39.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc603608f373326197c4665394418adbc16a9abf-b7d9917b7d5156e4-01 outer:exit 2b-dc603608f373326197c4665394418adbc16a9abf-489c82d4f7588859-01
2022-04-20T15:28:39.645Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:39.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad60cd0f6e49edadef20cfd88646a6a0e856b315-ba638935f9dcd783-01 outer:exit 2b-ad60cd0f6e49edadef20cfd88646a6a0e856b315-00e27ccbcbabf0a6-01
2022-04-20T15:28:39.647Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:39.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-23074dfbb7a1efef78b6fa84f87343f7394815a8-57b471fc0bd3580f-01 outer:exit 2b-23074dfbb7a1efef78b6fa84f87343f7394815a8-da48224256b444ce-01
2022-04-20T15:28:39.648Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:39.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-b54f072792b6fc518ed767a52da9b5e0ce50b602-839307e6858a9663-01 outer:exit 2b-b54f072792b6fc518ed767a52da9b5e0ce50b602-fa35b43abdc6e398-01
2022-04-20T15:28:39.650Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:39.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffb601502c36381b4d0c8cdf1c6dab8904d11514-851c19534cb17484-01 outer:exit 2b-ffb601502c36381b4d0c8cdf1c6dab8904d11514-a639fa691f883d03-01
2022-04-20T15:28:39.652Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:39.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-315f68cb303203c05f41fb08ab1635b62a75b2ed-ad592f490e7fbf50-01 outer:exit 2b-315f68cb303203c05f41fb08ab1635b62a75b2ed-3c4b094c5c48d9c2-01
2022-04-20T15:28:39.660Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:39.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-7776322bddf52851fee8f4678b12200e16149ced-ddd75b695adc5722-01 outer:exit 2b-7776322bddf52851fee8f4678b12200e16149ced-7ea297b88950884d-01
2022-04-20T15:28:39.668Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:39.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-6095bed697373371036622048380ca1b6a35f428-af392746c7065e93-01 outer:exit 2b-6095bed697373371036622048380ca1b6a35f428-5b9e566eaa9a16ee-01
2022-04-20T15:28:39.670Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:39.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-06c2b18624b5353e2cee7aa5bde10bcb187069b4-7e7aa633220f4665-01 outer:exit 2b-06c2b18624b5353e2cee7aa5bde10bcb187069b4-d016515cd3f647ef-01
2022-04-20T15:28:39.673Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:39.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ffcf567ba65b11d82a70663f899da886848e3a0-2461131d29ac0905-01 outer:exit 2b-7ffcf567ba65b11d82a70663f899da886848e3a0-f29a7e287d59f9ee-01
2022-04-20T15:28:39.675Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:39.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dab385177ea04a7a013527a7654fc104f03bc66-3e17b1b4dc305a15-01 outer:exit 2b-2dab385177ea04a7a013527a7654fc104f03bc66-608c2b3f36efa376-01
2022-04-20T15:28:39.700Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (294ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:46.570Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:46.571Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:46.571Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:46.572Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:46.630Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:46.740Z appoptics:patching patched crypto 
2022-04-20T15:28:46.757Z appoptics:patching patched https 
2022-04-20T15:28:46.758Z appoptics:patching patched http 
2022-04-20T15:28:46.807Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:46.807Z appoptics:patching patched fs 
2022-04-20T15:28:46.820Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v18.0.0)
2022-04-20T15:28:46.825Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2022-04-20T15:28:46.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cd2b5dffea7f4e52b3484f92cf0c86e66fa86ed-776df6c23ac4c723-01 outer:exit 2b-3cd2b5dffea7f4e52b3484f92cf0c86e66fa86ed-1ee51d825286eb61-01
2022-04-20T15:28:46.867Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:46.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e525201b441e43977abaf9451398552d8ad1d7b-c7b0d4d012b718bd-01 outer:exit 2b-8e525201b441e43977abaf9451398552d8ad1d7b-b2432735d0c0b095-01
2022-04-20T15:28:46.911Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:46.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-18a4c3b4fb32a32b96f3aa0ff4ce0cb8ca8dc11f-25018d202047c7c0-01 outer:exit 2b-18a4c3b4fb32a32b96f3aa0ff4ce0cb8ca8dc11f-3ca96f9d657fb0ee-01
2022-04-20T15:28:46.915Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:46.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-c17cbd3baf5f3ad80b01ec590ddd1243ca7b3f14-1627ef285519875b-01 outer:exit 2b-c17cbd3baf5f3ad80b01ec590ddd1243ca7b3f14-c8b0cdc89a2170d2-01
2022-04-20T15:28:46.918Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:46.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-f40a437ff53c96262ecda97e0bb47940c94c8b07-dc60bdd1a2a82c30-01 outer:exit 2b-f40a437ff53c96262ecda97e0bb47940c94c8b07-90f0e3ade00d5589-01
2022-04-20T15:28:46.923Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:46.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdc54f220fc06ce9e60591c875f1034da8b16b1e-df32de369138888b-01 outer:exit 2b-cdc54f220fc06ce9e60591c875f1034da8b16b1e-b4236070ddb342fb-01
2022-04-20T15:28:46.926Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:46.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cb3aa48914aa541ca58b197a5bdeed3a83fee4c-37bae1a9032dfcb1-01 outer:exit 2b-6cb3aa48914aa541ca58b197a5bdeed3a83fee4c-6d53d88eda80cd8b-01
2022-04-20T15:28:46.928Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:46.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb66eb0dbd34303349eb65c9148415901bc3eb23-e3abaa8cec1dfc48-01 outer:exit 2b-eb66eb0dbd34303349eb65c9148415901bc3eb23-5a2fc57b586c2349-01
2022-04-20T15:28:46.931Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:46.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e43fc837d82ed8ecef78b126b0b8873dfbfed50-fc92cd57ed0bcc67-01 outer:exit 2b-3e43fc837d82ed8ecef78b126b0b8873dfbfed50-6f47f584a5c09b47-01
2022-04-20T15:28:46.933Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:46.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3d1b44298be158405aa281bbb2cd2908a27d795-6e651c90e23995ef-01 outer:exit 2b-f3d1b44298be158405aa281bbb2cd2908a27d795-c0344a940572ec07-01
2022-04-20T15:28:46.936Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:46.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c9b65cea2ba0d1d24bdcafedd448d03ab95f93b-585434d760479fe9-01 outer:exit 2b-1c9b65cea2ba0d1d24bdcafedd448d03ab95f93b-d5708c483244ed91-01
2022-04-20T15:28:46.940Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:46.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5c5f10c348eb685f0de79f56d938a6adb4b30be-929af16aa30a19f7-01 outer:exit 2b-f5c5f10c348eb685f0de79f56d938a6adb4b30be-03337753affdd650-01
2022-04-20T15:28:46.946Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:46.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-79511cdedbeca2efa5c046c720130461ff9ea130-ae15c067311f6b7b-01 outer:exit 2b-79511cdedbeca2efa5c046c720130461ff9ea130-479e35a0cb2bdb3a-01
2022-04-20T15:28:46.968Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:47.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-01e2ec138cd5d81c0f4bb266134b5546da6a26ed-f51511f1279fbfad-01 outer:exit 2b-01e2ec138cd5d81c0f4bb266134b5546da6a26ed-bd6e32758326eb4d-01
2022-04-20T15:28:47.006Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:47.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-97485e5d0e4ff739f8532370d54ff6cd75769bdb-377e26e376dc1040-01 outer:exit 2b-97485e5d0e4ff739f8532370d54ff6cd75769bdb-c297e3608594e0eb-01
2022-04-20T15:28:47.009Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:47.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-d996a5271510e942339529ef31f6fe83ed1a865f-385d4cb70b2e7268-01 outer:exit 2b-d996a5271510e942339529ef31f6fe83ed1a865f-c96f99f74ac67edc-01
2022-04-20T15:28:47.011Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:47.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-077b4a3571b780ec333d320d17a43586cdadc7cc-8447ef59d653d629-01 outer:exit 2b-077b4a3571b780ec333d320d17a43586cdadc7cc-827f92d537cef0f7-01
2022-04-20T15:28:47.015Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:47.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-f274e687724c33c470feab7b35a2bdc6113fa4c6-875f58dbd8e1936c-01 outer:exit 2b-f274e687724c33c470feab7b35a2bdc6113fa4c6-9e653d6c40828f3f-01
2022-04-20T15:28:47.018Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:47.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec642ca92e233fcdbd482dc97016198a616d9a9b-f2ab67a38e8b48ba-01 outer:exit 2b-ec642ca92e233fcdbd482dc97016198a616d9a9b-df51a4b8dd7954e1-01
2022-04-20T15:28:47.019Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:47.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-833d309dfff0adb03d5461971cb49e60c0c14ff6-564c39553ec908a9-01 outer:exit 2b-833d309dfff0adb03d5461971cb49e60c0c14ff6-1796f904c5986760-01
2022-04-20T15:28:47.022Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:47.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-91257b7e2cf6f7751fc1b391afdef574de746ffb-e91391dc5fc202c2-01 outer:exit 2b-91257b7e2cf6f7751fc1b391afdef574de746ffb-4f0ca0535208fc8c-01
2022-04-20T15:28:47.023Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:47.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-b750e07e62b88f044ffe8634a8438100df479538-12ad7bbe9eaa4bc6-01 outer:exit 2b-b750e07e62b88f044ffe8634a8438100df479538-d3c2163a560be5a5-01
2022-04-20T15:28:47.025Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:47.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-03ebada93aef1146add50ac7ab4d284287313833-4588341335ce89c7-01 outer:exit 2b-03ebada93aef1146add50ac7ab4d284287313833-6c6244564b513d14-01
2022-04-20T15:28:47.028Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:47.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6b79a678f84609eca4dd4a39b06796000ecb668-35bfdd776c57cbdb-01 outer:exit 2b-c6b79a678f84609eca4dd4a39b06796000ecb668-550fb2c72eb03b3d-01
2022-04-20T15:28:47.031Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:47.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-e01dfa3eb69619ec7a547be439412a76fbcf6b20-871c6f6c54bd7e1b-01 outer:exit 2b-e01dfa3eb69619ec7a547be439412a76fbcf6b20-c5a04032d2c34fa3-01
2022-04-20T15:28:47.033Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:47.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-27f3e750e8ebba95e019fa1bb95628cc97ece0f9-2ea1a81531358303-01 outer:exit 2b-27f3e750e8ebba95e019fa1bb95628cc97ece0f9-4131dcebfb612984-01
2022-04-20T15:28:47.035Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:47.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-27e7abc7df8267e2f6834e8c50a662a0415f849e-c74fdb2f86d33058-01 outer:exit 2b-27e7abc7df8267e2f6834e8c50a662a0415f849e-97307451b56cc7e6-01
2022-04-20T15:28:47.041Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:47.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a77da1a182fe40af8adc6aaaa3dccf1d8a44919-a04d568b87449369-01 outer:exit 2b-3a77da1a182fe40af8adc6aaaa3dccf1d8a44919-9916a865d0d0774b-01
2022-04-20T15:28:47.045Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:47.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ae24bf069b0cd54a551cfca4dc3b4f26a65332b-7aabcaf61bf3829b-01 outer:exit 2b-1ae24bf069b0cd54a551cfca4dc3b4f26a65332b-ed30023eddc53ec5-01
2022-04-20T15:28:47.054Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:47.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f62471bcece3d7af5fb590624c2e9d55b3af911-81f2fd0640271550-01 outer:exit 2b-1f62471bcece3d7af5fb590624c2e9d55b3af911-ed5239a259e913f1-01
2022-04-20T15:28:47.061Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:47.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3562d939efefb9b290a87ee32b9082a2575bf33-0218c6c7355557ab-01 outer:exit 2b-e3562d939efefb9b290a87ee32b9082a2575bf33-2436ee6287511180-01
2022-04-20T15:28:47.063Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:47.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5838792958ff5b9271028b8bbe0798c1dc8e6ba-5cab48dc9805f032-01 outer:exit 2b-b5838792958ff5b9271028b8bbe0798c1dc8e6ba-cbbf006cf2d6f756-01
2022-04-20T15:28:47.067Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:47.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-caca172c20d972dd252e733e43072e16cb8e7431-64c66c8df8a0e9ed-01 outer:exit 2b-caca172c20d972dd252e733e43072e16cb8e7431-8feedcce10e9ab44-01
2022-04-20T15:28:47.078Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:47.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-a84557194abb9b1fe9a582bd7ccbbccf106a2a82-b193aa7b32fbeb7f-01 outer:exit 2b-a84557194abb9b1fe9a582bd7ccbbccf106a2a82-cdd878974cbe2235-01
2022-04-20T15:28:47.080Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:47.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d75010f90354bcb1167ae9e135709dee16dec9b-59604a281ecab006-01 outer:exit 2b-1d75010f90354bcb1167ae9e135709dee16dec9b-af06a8b395b3eb3d-01
2022-04-20T15:28:47.082Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:47.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-65179089f540cbcd0a9123d15d1812f1cfc7e70f-6c4352c6be838f86-01 outer:exit 2b-65179089f540cbcd0a9123d15d1812f1cfc7e70f-3354ccbd8188ef39-01
2022-04-20T15:28:47.084Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:47.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-a50bb47e7933e6e8ee1cf3c1f1ed46c76fff0dce-f51de1bfcf600c68-01 outer:exit 2b-a50bb47e7933e6e8ee1cf3c1f1ed46c76fff0dce-20d31e0b9fd83a84-01
2022-04-20T15:28:47.086Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:47.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-63ee5afe0df568977db254c6e348e0354ae2bd43-087ba83e9f898e4a-01 outer:exit 2b-63ee5afe0df568977db254c6e348e0354ae2bd43-a649216f01e62d22-01
2022-04-20T15:28:47.087Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:47.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea9d89251a24563f1e7193b7ed6fe682f1aac857-0e26f3c3587f6ce0-01 outer:exit 2b-ea9d89251a24563f1e7193b7ed6fe682f1aac857-7615141ea18f8e6f-01
2022-04-20T15:28:47.096Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:47.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-30705dd67a56c2c761df74e0f4adef25450d917e-7fb252b07a2941e7-01 outer:exit 2b-30705dd67a56c2c761df74e0f4adef25450d917e-30a01ae43db1d61e-01
2022-04-20T15:28:47.104Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:47.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-88d1c00f063b33d288510ed3458730ead84a5feb-8ed2159b2bd59f8e-01 outer:exit 2b-88d1c00f063b33d288510ed3458730ead84a5feb-fda37516bf4970a6-01
2022-04-20T15:28:47.106Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:47.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1b60e3ece57e0bb4ff0488cf46d3ddf5b966278-050f27b79550e523-01 outer:exit 2b-b1b60e3ece57e0bb4ff0488cf46d3ddf5b966278-d9782bd35e6e8f4e-01
2022-04-20T15:28:47.110Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:47.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-183d876402a079dc04a0bf146c6dd2632858b8f9-b711c6e949c56a31-01 outer:exit 2b-183d876402a079dc04a0bf146c6dd2632858b8f9-93eec33d89f780f1-01
2022-04-20T15:28:47.112Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:47.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-a906724ec26dbacbab714c138e25c4df24fbbecd-18634e54488e525e-01 outer:exit 2b-a906724ec26dbacbab714c138e25c4df24fbbecd-9172731830896d18-01
2022-04-20T15:28:47.138Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (307ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:53.107Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:53.107Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:53.107Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:53.108Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:53.166Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:53.276Z appoptics:patching patched crypto 
2022-04-20T15:28:53.294Z appoptics:patching patched https 
2022-04-20T15:28:53.294Z appoptics:patching patched http 
2022-04-20T15:28:53.343Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:53.343Z appoptics:patching patched fs 
2022-04-20T15:28:53.356Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v18.0.0)
2022-04-20T15:28:53.362Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2022-04-20T15:28:53.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-81e66650b64b9ef2cd3ce8d9d91bc59392fdd3f9-bd53060607dda10b-01 outer:exit 2b-81e66650b64b9ef2cd3ce8d9d91bc59392fdd3f9-78894a84dae2e6c9-01
2022-04-20T15:28:53.415Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:28:53.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fae8d79efe773ebdd01a761c7b4e895e9e7263d-d6f79b68b1024eea-01 outer:exit 2b-9fae8d79efe773ebdd01a761c7b4e895e9e7263d-35abf286a569e994-01
2022-04-20T15:28:53.460Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:28:53.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d03e837a9e9e2710fbf7c90a50b21e11c81d78c-5f2c43f2ca7cb210-01 outer:exit 2b-8d03e837a9e9e2710fbf7c90a50b21e11c81d78c-4560159c40619e6f-01
2022-04-20T15:28:53.464Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:28:53.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1aa57dd76db83b6982585109fac17af0eb1c027-851bdceda5775747-01 outer:exit 2b-c1aa57dd76db83b6982585109fac17af0eb1c027-dacc42a9be87aa00-01
2022-04-20T15:28:53.467Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:28:53.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-1722c95ef0fd51966837ae2f8cdc977c3e901935-4fcc6fdaa0f402a2-01 outer:exit 2b-1722c95ef0fd51966837ae2f8cdc977c3e901935-1244e3b14ea21d08-01
2022-04-20T15:28:53.471Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:28:53.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a15447e6321bdd0aa0c2fe407f97c9dffa6f569-a9aa7f9f822bffc7-01 outer:exit 2b-1a15447e6321bdd0aa0c2fe407f97c9dffa6f569-d83eb1c2fdeb74d1-01
2022-04-20T15:28:53.474Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:28:53.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f820583d794d9fa4930e18858e62be00b01761c-e1434ac4fe99490c-01 outer:exit 2b-1f820583d794d9fa4930e18858e62be00b01761c-f4175310f5a6cc09-01
2022-04-20T15:28:53.477Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:28:53.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-a399828120f1bd8153d0859b12cda5846dbe2cba-cc81f609bd7a0807-01 outer:exit 2b-a399828120f1bd8153d0859b12cda5846dbe2cba-4016a8ee427b7460-01
2022-04-20T15:28:53.479Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:28:53.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-a740ae21969dbe62b6a1da6ad7fcefe6b45d26da-d3a4e5a08ba7d09a-01 outer:exit 2b-a740ae21969dbe62b6a1da6ad7fcefe6b45d26da-a127819f2374450c-01
2022-04-20T15:28:53.482Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:28:53.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f41c0ff084a3778fc8c8080434555abf6645b1d-6dd1907a5ca6659f-01 outer:exit 2b-2f41c0ff084a3778fc8c8080434555abf6645b1d-7b3e4b2dcf4b2fd1-01
2022-04-20T15:28:53.485Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:28:53.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-abf8df14e4a751728b44dde01564876e321c7f0a-9236eabf9dc29402-01 outer:exit 2b-abf8df14e4a751728b44dde01564876e321c7f0a-b4ca1019b25fad14-01
2022-04-20T15:28:53.489Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:28:53.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8e7c899c0fdce97d7713d7a1615153a0665dec1-111f3fc88b98a63e-01 outer:exit 2b-c8e7c899c0fdce97d7713d7a1615153a0665dec1-87f6c2f45c7529e3-01
2022-04-20T15:28:53.495Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:28:53.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddc21b28174dfb34fec90f595162eb937afac1be-fc3edc192a85d346-01 outer:exit 2b-ddc21b28174dfb34fec90f595162eb937afac1be-4fd96efe3450e445-01
2022-04-20T15:28:53.510Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:28:53.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a108ba2b79ef710746e5d65ef527a301a19576d-a06a2e1dfa4adc56-01 outer:exit 2b-8a108ba2b79ef710746e5d65ef527a301a19576d-ed756359af4fc67f-01
2022-04-20T15:28:53.548Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:28:53.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5ab234668054ba835c7fc16026e776fd521c3f8-cd2e940aed352a53-01 outer:exit 2b-f5ab234668054ba835c7fc16026e776fd521c3f8-2659b62a9eff3ca3-01
2022-04-20T15:28:53.551Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:28:53.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-4322aad2abbacc9f08889e11467dce4d62988db0-fb7e77c33b3f67b4-01 outer:exit 2b-4322aad2abbacc9f08889e11467dce4d62988db0-7f4ee768bfbad491-01
2022-04-20T15:28:53.553Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:28:53.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9a37cca526bf8369519a9823e87122fa251694b-0f72d5130ff79049-01 outer:exit 2b-d9a37cca526bf8369519a9823e87122fa251694b-5132f57ed934bef1-01
2022-04-20T15:28:53.556Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:28:53.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8a444e1b0fbcb1cffb12964dace37df28edae54-847ebdd82c5f860a-01 outer:exit 2b-a8a444e1b0fbcb1cffb12964dace37df28edae54-2569f423353030aa-01
2022-04-20T15:28:53.559Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:28:53.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-d787dbfc17e6491737817f1f27fcde425246c1a7-93d5a71620ba6896-01 outer:exit 2b-d787dbfc17e6491737817f1f27fcde425246c1a7-ee8b19e75c809ec2-01
2022-04-20T15:28:53.561Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:28:53.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0c9e8597e5baba13a57b88874e2e46570abd612-74ddc1955658b2e7-01 outer:exit 2b-c0c9e8597e5baba13a57b88874e2e46570abd612-dd3a21924c81c533-01
2022-04-20T15:28:53.563Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:28:53.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ba012e92045836952e42e3985bd622414d5c585-d65c6e80b1f0b695-01 outer:exit 2b-2ba012e92045836952e42e3985bd622414d5c585-2be555191b725236-01
2022-04-20T15:28:53.565Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:28:53.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-e89e1aa3a1b0f78e7ace0ac482b24500d869573b-01a509fec615478b-01 outer:exit 2b-e89e1aa3a1b0f78e7ace0ac482b24500d869573b-1863a5afe28f0073-01
2022-04-20T15:28:53.567Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:28:53.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e457e321d976802a5c00ce0147d45c3ae2292f1-c9aa669ebaa37f8a-01 outer:exit 2b-3e457e321d976802a5c00ce0147d45c3ae2292f1-2d1f4f368b9433de-01
2022-04-20T15:28:53.570Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:28:53.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-04bbf4321e078acccdb0638d00707d86077bc5cf-b57032fb83945186-01 outer:exit 2b-04bbf4321e078acccdb0638d00707d86077bc5cf-e8998164ea4b4c5a-01
2022-04-20T15:28:53.572Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:28:53.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-cec342242ae4188aec97279b3c55e305b5acb9e0-c9bfbcc4808e2877-01 outer:exit 2b-cec342242ae4188aec97279b3c55e305b5acb9e0-1c0574562b93f099-01
2022-04-20T15:28:53.574Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:28:53.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-97a8a592ce73c541ca8ff6c2959e441b442b4ba2-46004f85033c89a4-01 outer:exit 2b-97a8a592ce73c541ca8ff6c2959e441b442b4ba2-ee134157722ba5ca-01
2022-04-20T15:28:53.576Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:28:53.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a4398f6846f02cc187bb05a69acb44b0bd7a630-0fb8ca3f86b3ca15-01 outer:exit 2b-9a4398f6846f02cc187bb05a69acb44b0bd7a630-c8f33549fdd9aa2b-01
2022-04-20T15:28:53.582Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:28:53.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b14885f0316009cff0841a329cc44c17bf14476-96b477852a6165ea-01 outer:exit 2b-8b14885f0316009cff0841a329cc44c17bf14476-e0cbdb7293fea2b2-01
2022-04-20T15:28:53.586Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:28:53.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-feb039afe11a1b6ea219d64b670adb291820aefe-81e4cdf2642b1589-01 outer:exit 2b-feb039afe11a1b6ea219d64b670adb291820aefe-ac5715cc572aabf5-01
2022-04-20T15:28:53.596Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:28:53.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-97355199346446061529987d9f05d5a436ab2f09-dde0fe2efebdf998-01 outer:exit 2b-97355199346446061529987d9f05d5a436ab2f09-f16ad6c4b2672d64-01
2022-04-20T15:28:53.602Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:28:53.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-818809641208468ac71883add35f9709b3f21051-d5f60fb890385929-01 outer:exit 2b-818809641208468ac71883add35f9709b3f21051-23284760710ec56d-01
2022-04-20T15:28:53.604Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:28:53.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-75e9b707e32e0a5ec0f96a97f0536c4dbc58be0f-be48fb23ae284383-01 outer:exit 2b-75e9b707e32e0a5ec0f96a97f0536c4dbc58be0f-f2b9005be67b1207-01
2022-04-20T15:28:53.607Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:28:53.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcb38e8ecd4276769e755f7b665ebd4f782e7711-78c99dafd3718575-01 outer:exit 2b-fcb38e8ecd4276769e755f7b665ebd4f782e7711-d295f3babf4175e8-01
2022-04-20T15:28:53.612Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:28:53.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-963307dc880aeabaf215cd37f27e570dfe490652-c622f316795ed233-01 outer:exit 2b-963307dc880aeabaf215cd37f27e570dfe490652-9610cd31d3da52fa-01
2022-04-20T15:28:53.615Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:28:53.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e4fafa2f574e47638decbb6955e76a27cdc320f-c7ef0b2dce369b73-01 outer:exit 2b-0e4fafa2f574e47638decbb6955e76a27cdc320f-a165baaeec04faef-01
2022-04-20T15:28:53.617Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:28:53.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-cee754c54ab6ca6999f4d48ada0c59e038c6d86a-0e72bef49022e309-01 outer:exit 2b-cee754c54ab6ca6999f4d48ada0c59e038c6d86a-b63a559227732de1-01
2022-04-20T15:28:53.619Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:28:53.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fb40705ce506503b8cf7beee4cdf17d0de4b712-b1b754417330cf37-01 outer:exit 2b-0fb40705ce506503b8cf7beee4cdf17d0de4b712-0142e664912a0b91-01
2022-04-20T15:28:53.620Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:28:53.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-14a5733e7ae4da0459ac535536ba66544703493b-340a0cce3f68dc86-01 outer:exit 2b-14a5733e7ae4da0459ac535536ba66544703493b-7e244408768acca2-01
2022-04-20T15:28:53.622Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:28:53.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3304b25003aa3b9cf10c084bf708653cc7ffd0d-be8bef38cc78eee2-01 outer:exit 2b-c3304b25003aa3b9cf10c084bf708653cc7ffd0d-64cc276272b689c8-01
2022-04-20T15:28:53.631Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:28:53.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9c04c382ad900f691996e4659dc72343523cc33-62df4f353ee1352f-01 outer:exit 2b-c9c04c382ad900f691996e4659dc72343523cc33-4eaac1a61c275199-01
2022-04-20T15:28:53.639Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:28:53.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e64922baa24180b3e98c64dd7228ec9718d683d-728f5bd335d47852-01 outer:exit 2b-8e64922baa24180b3e98c64dd7228ec9718d683d-847603d2e02df18e-01
2022-04-20T15:28:53.641Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:28:53.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4afa07ec612aebc9c7816f1cef6fc6245984a14-6aea453bfac2626a-01 outer:exit 2b-d4afa07ec612aebc9c7816f1cef6fc6245984a14-0586d8a606e21a96-01
2022-04-20T15:28:53.644Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:28:53.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a9c8307beddb064e6f4d6941b6dd05f2e9fa418-d812a7774e83db40-01 outer:exit 2b-5a9c8307beddb064e6f4d6941b6dd05f2e9fa418-78462421984c4c82-01
2022-04-20T15:28:53.646Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:28:53.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-009ef7a08d29a2e6e5e90d58442b6cddde4f158f-23ae19686727a5c0-01 outer:exit 2b-009ef7a08d29a2e6e5e90d58442b6cddde4f158f-31d2019effb53afa-01
2022-04-20T15:28:53.671Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (304ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:00.444Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:00.445Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:00.445Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:00.446Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:00.534Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:00.651Z appoptics:patching patched crypto 
2022-04-20T15:29:00.669Z appoptics:patching patched https 
2022-04-20T15:29:00.670Z appoptics:patching patched http 
2022-04-20T15:29:00.719Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:00.720Z appoptics:patching patched fs 
2022-04-20T15:29:00.733Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v18.0.0)
2022-04-20T15:29:00.739Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2022-04-20T15:29:00.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-3751379ff960a3b6aa96847a1532a47dec251615-9d04b25e1c0aecfd-01 outer:exit 2b-3751379ff960a3b6aa96847a1532a47dec251615-6dd2e039e8644ceb-01
2022-04-20T15:29:00.781Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:00.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-51b4d1d77e44cc4203e539ac828dab0e7b8e5f9d-936ed2a37ea53edd-01 outer:exit 2b-51b4d1d77e44cc4203e539ac828dab0e7b8e5f9d-2d87bc44d40575e9-01
2022-04-20T15:29:00.825Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:00.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-6547942d30a9bdbe3d44c783e91c0bafd374486c-a7704f978a11f914-01 outer:exit 2b-6547942d30a9bdbe3d44c783e91c0bafd374486c-5527d02247d7472b-01
2022-04-20T15:29:00.828Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:00.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-b172c6cb3f7f3e6fcf39b533ab271b7576b22566-5a6065048bb2b197-01 outer:exit 2b-b172c6cb3f7f3e6fcf39b533ab271b7576b22566-5b325ef2a82fa553-01
2022-04-20T15:29:00.831Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:00.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-75ca6e0d032686cd5980fb888a03b10a715afb3d-3ead21c8292781cf-01 outer:exit 2b-75ca6e0d032686cd5980fb888a03b10a715afb3d-b34d75daf626e772-01
2022-04-20T15:29:00.836Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:00.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-6985b6df6a034807590689eef0f8227abbd7a4b3-7286ef4b9758d51c-01 outer:exit 2b-6985b6df6a034807590689eef0f8227abbd7a4b3-4a6b9ed2308c8112-01
2022-04-20T15:29:00.839Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:00.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cb56519518bba13b417a0f74f59ada6ff9319ec-e6724b353ce05e0f-01 outer:exit 2b-8cb56519518bba13b417a0f74f59ada6ff9319ec-0cd311aa6d7e8290-01
2022-04-20T15:29:00.841Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:00.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-717c9824b8e283bcae96efa8b58e0728893a97f8-4a8bfe20412cbab1-01 outer:exit 2b-717c9824b8e283bcae96efa8b58e0728893a97f8-cfb7ead77f4f6943-01
2022-04-20T15:29:00.844Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:00.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ae9593082ad47e07a0729f6b360e06b9b34fdc0-23147f9c1cfffaf6-01 outer:exit 2b-2ae9593082ad47e07a0729f6b360e06b9b34fdc0-e1443ea29fa05056-01
2022-04-20T15:29:00.846Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:00.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-304f37122194dee180aa0dcdb0929c781b94937f-c13768a1170c985a-01 outer:exit 2b-304f37122194dee180aa0dcdb0929c781b94937f-b4afb839abf130f2-01
2022-04-20T15:29:00.849Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:00.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-dba346beb1ccf85e458832d6aef33701a82f794f-8da8688fe27cec2e-01 outer:exit 2b-dba346beb1ccf85e458832d6aef33701a82f794f-bd8dcd37b93c2539-01
2022-04-20T15:29:00.853Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:00.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a66c01448669e9887ca9914e5c5804ec484d7c9-546ae12ab4d93f18-01 outer:exit 2b-5a66c01448669e9887ca9914e5c5804ec484d7c9-604dd6549085130d-01
2022-04-20T15:29:00.859Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:00.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c2dcf597d54372a7d372279d34c9091086ce9a-e9cd4a0c7eba0e7a-01 outer:exit 2b-65c2dcf597d54372a7d372279d34c9091086ce9a-7981682550bd4900-01
2022-04-20T15:29:00.874Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:00.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f62a457dec45b1d4ae1d58e020b2527a0346db4-a571b373c4240190-01 outer:exit 2b-2f62a457dec45b1d4ae1d58e020b2527a0346db4-8f6372e9114011ef-01
2022-04-20T15:29:00.915Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:00.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9fdfad7dc4397fd9586318deaab66c60eca1ae7-b8faaa4a6b897ec9-01 outer:exit 2b-c9fdfad7dc4397fd9586318deaab66c60eca1ae7-c1927f2c2bf88609-01
2022-04-20T15:29:00.917Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:00.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-2634d0d17e5b33959ed0c860701fecbdb79c518a-96727312ccad50c0-01 outer:exit 2b-2634d0d17e5b33959ed0c860701fecbdb79c518a-c89962cd5f4fcd00-01
2022-04-20T15:29:00.920Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:00.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-75c02908a20a6ceae879b326764f184691232b65-d1b94d511ae26769-01 outer:exit 2b-75c02908a20a6ceae879b326764f184691232b65-119fa74c46b52725-01
2022-04-20T15:29:00.922Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:00.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd9901502d830c1ad98589939373cc886b9964cd-db1922124027d208-01 outer:exit 2b-bd9901502d830c1ad98589939373cc886b9964cd-53ad159ce2079446-01
2022-04-20T15:29:00.926Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:00.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-9da14f0aa50a22111e70fc159337011fc45444ae-853385101ec11707-01 outer:exit 2b-9da14f0aa50a22111e70fc159337011fc45444ae-7971f115bada2bfc-01
2022-04-20T15:29:00.928Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:00.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-93adbdbdd8dd3433f0958e35bcb90e6f805712b6-e2e6cbe6d555c5f2-01 outer:exit 2b-93adbdbdd8dd3433f0958e35bcb90e6f805712b6-7bfc0e4b3ebedeac-01
2022-04-20T15:29:00.930Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:00.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-43221a1cace8bcfee1b60463e4992317b365d1ca-a62333b44c169fbc-01 outer:exit 2b-43221a1cace8bcfee1b60463e4992317b365d1ca-98c3daec6aade2c4-01
2022-04-20T15:29:00.932Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:00.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9bff2a414c171579e3fbd3bd035763aac5e6491-082e7a4a24d4e620-01 outer:exit 2b-e9bff2a414c171579e3fbd3bd035763aac5e6491-faf9b207b6a5a906-01
2022-04-20T15:29:00.933Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:00.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a7dd321161c46d3ff42d0b9d18f1004e6510e58-a5706a00b473fd34-01 outer:exit 2b-4a7dd321161c46d3ff42d0b9d18f1004e6510e58-f92d6c249d93eb7a-01
2022-04-20T15:29:00.936Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:00.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8733e1abae059d7a238ddde588062449d11bb1f-023d87f1be872dd4-01 outer:exit 2b-a8733e1abae059d7a238ddde588062449d11bb1f-845d13c5a36b734a-01
2022-04-20T15:29:00.939Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:00.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-23198a4152854802f0e7b86677ee181eaeacf333-125337308fe58cca-01 outer:exit 2b-23198a4152854802f0e7b86677ee181eaeacf333-83628b17848dc897-01
2022-04-20T15:29:00.941Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:00.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-58937bebe5879ce68cc8eeb0be021f1e7db9d666-3e2bf3442f5dcc99-01 outer:exit 2b-58937bebe5879ce68cc8eeb0be021f1e7db9d666-cc80543bcb17f5c4-01
2022-04-20T15:29:00.943Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:00.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc6fa4aa49b2e8ce36f566026e6b11d530433fa2-e76e68792b6bb11f-01 outer:exit 2b-cc6fa4aa49b2e8ce36f566026e6b11d530433fa2-a6fdac1f686501a6-01
2022-04-20T15:29:00.949Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:00.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c62a1b8aaea050b69795ae90a4c1aad4643e971-f7c436c32420d0a5-01 outer:exit 2b-0c62a1b8aaea050b69795ae90a4c1aad4643e971-f5ff589246afc665-01
2022-04-20T15:29:00.954Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:00.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-09f8668725b6731f664c073e816db4659aa1786b-1be576a42d26fc00-01 outer:exit 2b-09f8668725b6731f664c073e816db4659aa1786b-7312176b15991669-01
2022-04-20T15:29:00.963Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:00.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d7ee56b5233cbdf8fc3b67b523428e27e4bf372-4aafdb5830038db5-01 outer:exit 2b-4d7ee56b5233cbdf8fc3b67b523428e27e4bf372-f3dc33c46356106d-01
2022-04-20T15:29:00.969Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:00.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-62ff8adccb825da90360a552aa859349613c8c3d-c40b8df0557b83e7-01 outer:exit 2b-62ff8adccb825da90360a552aa859349613c8c3d-da7968eb6e8fa2d0-01
2022-04-20T15:29:00.971Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:00.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee527eb3e9e2974757710deb14043d846247ebfc-088b66cf95e59a41-01 outer:exit 2b-ee527eb3e9e2974757710deb14043d846247ebfc-79ce36909db67e93-01
2022-04-20T15:29:00.974Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:00.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-04f3a148fa21d9e40c379c1510680f491e80e968-ca9c0922feacedce-01 outer:exit 2b-04f3a148fa21d9e40c379c1510680f491e80e968-d203c4eb548215c3-01
2022-04-20T15:29:00.980Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:00.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-76be54ef697fce0b280ff02acefa010157b3dc60-95f5e391cef6cd6c-01 outer:exit 2b-76be54ef697fce0b280ff02acefa010157b3dc60-09fd2e2a00504360-01
2022-04-20T15:29:00.982Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:00.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b2d0828e8a22c0b63f86cddeb702b74fd3c965d-da02b9ed642e6ab3-01 outer:exit 2b-9b2d0828e8a22c0b63f86cddeb702b74fd3c965d-b59ac7760bc34142-01
2022-04-20T15:29:00.983Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:00.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-220c8c5f90b008fc987bc7cdefb02146701a42c6-32cac5ca73420e53-01 outer:exit 2b-220c8c5f90b008fc987bc7cdefb02146701a42c6-477ccbe7acff3ef7-01
2022-04-20T15:29:00.985Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:00.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ab52c6e2c85de8fb5a77a09d5283a3513437b49-c7e857326da99743-01 outer:exit 2b-3ab52c6e2c85de8fb5a77a09d5283a3513437b49-3042c9a4b2d6df35-01
2022-04-20T15:29:00.987Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:00.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d802bcf021dc51ed96b5a954a7eec3b51cfd816-8176062cd37024ff-01 outer:exit 2b-4d802bcf021dc51ed96b5a954a7eec3b51cfd816-734e565385c588d0-01
2022-04-20T15:29:00.989Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:00.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-d75eabd0df562fcec0479f8a0d2156e07faf6e85-d6187f6ec03d6ff8-01 outer:exit 2b-d75eabd0df562fcec0479f8a0d2156e07faf6e85-db6ef1f1bab2a6a9-01
2022-04-20T15:29:00.996Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:01.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a13611b4b82f909d6801532b0f9fc372234c777-e5efcaf6b83739f6-01 outer:exit 2b-3a13611b4b82f909d6801532b0f9fc372234c777-7b8540b0e1c210c8-01
2022-04-20T15:29:01.004Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:01.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dd3c23c9429e71c1ebc92f994967ed61b0aa107-0447314e9ae8039a-01 outer:exit 2b-6dd3c23c9429e71c1ebc92f994967ed61b0aa107-b63cc60fa8caa268-01
2022-04-20T15:29:01.007Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:01.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-31f0b4f9e4f31d913a2008d18656a6ad276f3434-c49b56e617d1eeb4-01 outer:exit 2b-31f0b4f9e4f31d913a2008d18656a6ad276f3434-8e81d1f3b893a7ea-01
2022-04-20T15:29:01.009Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:01.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-35200a3b90ca4705e7026292d8b98308e4326fbf-94d52c5d4617d40a-01 outer:exit 2b-35200a3b90ca4705e7026292d8b98308e4326fbf-c729f8fd6157f769-01
2022-04-20T15:29:01.012Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:01.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-3248cc65d6e582c793a47f1532565a8554ae2956-96cdb86c491228f9-01 outer:exit 2b-3248cc65d6e582c793a47f1532565a8554ae2956-75ec9e855aba82ba-01
2022-04-20T15:29:01.038Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (294ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:07.218Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:07.219Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:07.219Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:07.220Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:07.346Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:07.528Z appoptics:patching patched crypto 
2022-04-20T15:29:07.586Z appoptics:patching patched https 
2022-04-20T15:29:07.587Z appoptics:patching patched http 
2022-04-20T15:29:07.662Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:07.662Z appoptics:patching patched fs 
2022-04-20T15:29:07.692Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v18.0.0)
2022-04-20T15:29:07.698Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2022-04-20T15:29:07.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-113151f9e687e2592354ddba64a6ed5f142bba89-b2d1cb868b7a1dda-01 outer:exit 2b-113151f9e687e2592354ddba64a6ed5f142bba89-bf92fbfa33a9a394-01
2022-04-20T15:29:07.777Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:07.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-83da5bbb917fe4a4f1f094ac58c7371dbf4c0c04-ebf502437f2abda7-01 outer:exit 2b-83da5bbb917fe4a4f1f094ac58c7371dbf4c0c04-b3961dbf55bd24c2-01
2022-04-20T15:29:07.841Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:07.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f21a8b8e692d6bbf705666443dc3371e5c9d893-6230edd0b5ddb8a7-01 outer:exit 2b-4f21a8b8e692d6bbf705666443dc3371e5c9d893-12a02812f2ae3274-01
2022-04-20T15:29:07.845Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:07.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-c50bd22465d1b8733304c218d7db33b60dd24218-1c0823457d144fc3-01 outer:exit 2b-c50bd22465d1b8733304c218d7db33b60dd24218-20e4a3571f91f081-01
2022-04-20T15:29:07.853Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:07.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ad384b562a00a83e90dc5a4be12260fd14b6639-808d842856a943c7-01 outer:exit 2b-3ad384b562a00a83e90dc5a4be12260fd14b6639-3e8a3be7016cb2ee-01
2022-04-20T15:29:07.859Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:07.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a3d55770e0af1b42c9705387d7b21f2804b601c-94bed74dd5b77737-01 outer:exit 2b-7a3d55770e0af1b42c9705387d7b21f2804b601c-501ce6bf2db3bf8b-01
2022-04-20T15:29:07.863Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:07.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7ebcdc3a017fcf427e8f2590d8e4994c2fc5e5e-f8268303eb103ca5-01 outer:exit 2b-e7ebcdc3a017fcf427e8f2590d8e4994c2fc5e5e-1261e2070f362132-01
2022-04-20T15:29:07.867Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:07.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-22b9199c057631155aaf4814cde65a042a3d22df-2e72dc73827deffe-01 outer:exit 2b-22b9199c057631155aaf4814cde65a042a3d22df-1da7513af9e335f5-01
2022-04-20T15:29:07.875Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:07.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a87639a6d55a3dfb090909f661b05f28291d545-f060d248b5a7c38e-01 outer:exit 2b-7a87639a6d55a3dfb090909f661b05f28291d545-0a295ba475e5174e-01
2022-04-20T15:29:07.882Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:07.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-c16c061123ce8fd3081bcf4a924c7c214bcf9658-3361e046c129510d-01 outer:exit 2b-c16c061123ce8fd3081bcf4a924c7c214bcf9658-e7b415cf7ae6834d-01
2022-04-20T15:29:07.886Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:07.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-52745265b1d3e9baf2135ac36c85bb816d2ee99f-7562b2d3204b8e27-01 outer:exit 2b-52745265b1d3e9baf2135ac36c85bb816d2ee99f-6f15ec55ee932bb1-01
2022-04-20T15:29:07.891Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:07.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-61faff84690dcbcf758d1635fe6fa3fe93aa02db-55fe632ba7742fbd-01 outer:exit 2b-61faff84690dcbcf758d1635fe6fa3fe93aa02db-8c0a91ede4220f06-01
2022-04-20T15:29:07.923Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:07.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-411ec04fc0a686c6f639dd34eec073b563df9222-955916c9f90734c4-01 outer:exit 2b-411ec04fc0a686c6f639dd34eec073b563df9222-3a9d6294a3c37065-01
2022-04-20T15:29:07.940Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:07.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba7d2c6c5a55d6abac712815ce80884831eab3ed-0cf90cd24fbc2d06-01 outer:exit 2b-ba7d2c6c5a55d6abac712815ce80884831eab3ed-37f24bb7fd50d82f-01
2022-04-20T15:29:07.978Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:07.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d9df24f7a2376bda717709433dfbdab89f284cd-bf9af03777667b0b-01 outer:exit 2b-5d9df24f7a2376bda717709433dfbdab89f284cd-eacc0752d6fb4f9d-01
2022-04-20T15:29:07.981Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:07.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-0253e10e4c30aa354c944695494d7d994e04f25e-a6420b3eebc8d6de-01 outer:exit 2b-0253e10e4c30aa354c944695494d7d994e04f25e-27e798b3517698f0-01
2022-04-20T15:29:07.984Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:07.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b4fe582a40cd66e990ac32ce70881852e1dbc5c-0250042c2097e77f-01 outer:exit 2b-2b4fe582a40cd66e990ac32ce70881852e1dbc5c-dd4fc2c193a73c4b-01
2022-04-20T15:29:07.987Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:07.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce0b09ace8c46c2af4218c97e2fab55dd47473b9-2e69a73201da0db0-01 outer:exit 2b-ce0b09ace8c46c2af4218c97e2fab55dd47473b9-c09db0f235439bbd-01
2022-04-20T15:29:07.992Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:07.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-b364623824cffd1c980acd597d93b68c9648e444-63fbfbab4eb117ce-01 outer:exit 2b-b364623824cffd1c980acd597d93b68c9648e444-e6384774a2da14d2-01
2022-04-20T15:29:07.995Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:07.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e05355d7a6a0f8d6d1134a5b0a3197a04face3b-7fa2f4567c901b09-01 outer:exit 2b-5e05355d7a6a0f8d6d1134a5b0a3197a04face3b-28a723a85997a5c9-01
2022-04-20T15:29:07.999Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:08.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-fca3d3e8d16547576089ee7026b291c62f2c7da0-c07ebd2600ce4112-01 outer:exit 2b-fca3d3e8d16547576089ee7026b291c62f2c7da0-d51aed3704aed98d-01
2022-04-20T15:29:08.002Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:08.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a9e4f46f1fa3c9919cf051ccfd5aced63504957-b2ad74e1a5f0dc25-01 outer:exit 2b-9a9e4f46f1fa3c9919cf051ccfd5aced63504957-609ae07bd343db3c-01
2022-04-20T15:29:08.008Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:08.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-c05a240c5244f394d4f71ef13f9d938bee6f4ee6-f489140c6b633c0d-01 outer:exit 2b-c05a240c5244f394d4f71ef13f9d938bee6f4ee6-1adc04a79ae9d9c9-01
2022-04-20T15:29:08.012Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:08.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7f966c670a25242d3a37848dd6c53439c15c57e-da92365b27a5cd23-01 outer:exit 2b-d7f966c670a25242d3a37848dd6c53439c15c57e-6ff38ce25b55f9b8-01
2022-04-20T15:29:08.015Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:08.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f48ec1f7c72901e918889363e01e40aa8f60b50-a7a11ab001af40c7-01 outer:exit 2b-8f48ec1f7c72901e918889363e01e40aa8f60b50-9c8f4e3799495988-01
2022-04-20T15:29:08.020Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:08.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-1536cfdc615704a28aad7b45e45ebea27e3377ee-9a9f45c2a6d56870-01 outer:exit 2b-1536cfdc615704a28aad7b45e45ebea27e3377ee-c0c43844e939c868-01
2022-04-20T15:29:08.024Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:08.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf73e62c5fe21de12bda15c6832fd09aaaad9136-f3206abcbdb9c486-01 outer:exit 2b-bf73e62c5fe21de12bda15c6832fd09aaaad9136-cf28c4c1260d7ed1-01
2022-04-20T15:29:08.054Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:08.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-63a1d306078c7531411da026cc8790dea4aad7ec-672b1212db9d2ba3-01 outer:exit 2b-63a1d306078c7531411da026cc8790dea4aad7ec-83850bc2f0371fbb-01
2022-04-20T15:29:08.080Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:08.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-1280b22198824f602a7ddc7d05c36fcb049ac90a-da0e72c1d80c21b4-01 outer:exit 2b-1280b22198824f602a7ddc7d05c36fcb049ac90a-a5207f20b1bd3c92-01
2022-04-20T15:29:08.089Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:08.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-c081a206b9718997bb407548901ab39e7e5447c3-16ed6f0fbdcebd5f-01 outer:exit 2b-c081a206b9718997bb407548901ab39e7e5447c3-7960ece43b218f96-01
2022-04-20T15:29:08.095Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:08.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4830983668ad543c6f4d726a1a19cd85e0b3b28-1dac2f12d9ec98b2-01 outer:exit 2b-e4830983668ad543c6f4d726a1a19cd85e0b3b28-e12946d4f19f4105-01
2022-04-20T15:29:08.098Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:08.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c8fa07b84ed2df21588ced862b6f3a03961a9b5-d154d487afb4609e-01 outer:exit 2b-2c8fa07b84ed2df21588ced862b6f3a03961a9b5-1a0529e2248950c4-01
2022-04-20T15:29:08.101Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:08.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcc0eb9c4dd44baa5f05c594a02ed9174bb6c3c5-d25fbacbfe89e643-01 outer:exit 2b-fcc0eb9c4dd44baa5f05c594a02ed9174bb6c3c5-56571bfd2749e95f-01
2022-04-20T15:29:08.115Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:08.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-c663243e177f9142ef500ab482c97b2bc9d81b18-2d50a6a7ec0b82d2-01 outer:exit 2b-c663243e177f9142ef500ab482c97b2bc9d81b18-e322a80f8bbf0635-01
2022-04-20T15:29:08.117Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:08.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-caf770cede7f181fc3a03515be856576a7094cf0-1f5b0245d8394f86-01 outer:exit 2b-caf770cede7f181fc3a03515be856576a7094cf0-80f119a70e9fdb16-01
2022-04-20T15:29:08.119Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:08.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dadbc859e9669765d88dbdda65f1924be5e3d9c-56fddfb13d2a2785-01 outer:exit 2b-8dadbc859e9669765d88dbdda65f1924be5e3d9c-e75e767e3f9e1852-01
2022-04-20T15:29:08.120Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:08.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae0c3f94a83d522c4b0024ef86157c02687e83cb-26291cdd89e9f7a6-01 outer:exit 2b-ae0c3f94a83d522c4b0024ef86157c02687e83cb-b1a52d2ee5503515-01
2022-04-20T15:29:08.126Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:08.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-44e8f04887a8f0d7a60453b41e422093af86cded-037e652ae6f34fd7-01 outer:exit 2b-44e8f04887a8f0d7a60453b41e422093af86cded-3074457fcd1ed167-01
2022-04-20T15:29:08.128Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:08.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8fd967c714c61ef2119de9ec3c42e880d642662-6a5695808f949583-01 outer:exit 2b-c8fd967c714c61ef2119de9ec3c42e880d642662-1eb71554d4270909-01
2022-04-20T15:29:08.137Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:08.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-76db372331e4e297d655fcef125b16b380ecef45-4b01bf1df2366ef9-01 outer:exit 2b-76db372331e4e297d655fcef125b16b380ecef45-fbcb50fca024abfb-01
2022-04-20T15:29:08.147Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:08.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-7acce81a0de5a1e60ddc6034c0f994346ca48cba-e10111c995bfd9b3-01 outer:exit 2b-7acce81a0de5a1e60ddc6034c0f994346ca48cba-2ba32a56d750e369-01
2022-04-20T15:29:08.153Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:08.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-822b0d29fb3bae4e5c22bd13485f4ff36e03dde5-8c16df6a240d6d35-01 outer:exit 2b-822b0d29fb3bae4e5c22bd13485f4ff36e03dde5-cc83b1c0f3aeb127-01
2022-04-20T15:29:08.155Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:08.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b31d7ea1e6f40ae4a9ecc25322c4dfbc7a969f0-0c1b79edb415665b-01 outer:exit 2b-6b31d7ea1e6f40ae4a9ecc25322c4dfbc7a969f0-5d40039bdd8b271c-01
2022-04-20T15:29:08.179Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:08.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-c45ea6abbd9597769ca9cb4183e4d3946de33747-1389f1bec194b5a4-01 outer:exit 2b-c45ea6abbd9597769ca9cb4183e4d3946de33747-b8f716c538bbf793-01
2022-04-20T15:29:08.216Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (509ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:14.336Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:14.336Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:14.336Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:14.337Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:14.399Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:14.524Z appoptics:patching patched crypto 
2022-04-20T15:29:14.559Z appoptics:patching patched https 
2022-04-20T15:29:14.559Z appoptics:patching patched http 
2022-04-20T15:29:14.609Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:14.609Z appoptics:patching patched fs 
2022-04-20T15:29:14.623Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v18.0.0)
2022-04-20T15:29:14.629Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2022-04-20T15:29:14.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-272971fe3f4da9606897255a64bb29f5548f020b-102e163b5024876d-01 outer:exit 2b-272971fe3f4da9606897255a64bb29f5548f020b-3a035d938ca5286f-01
2022-04-20T15:29:14.673Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:14.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e4d5379e6774ae7488217bf7e9ea1d4797d13f8-809ca07fead0e659-01 outer:exit 2b-4e4d5379e6774ae7488217bf7e9ea1d4797d13f8-241e90e53ed94ed4-01
2022-04-20T15:29:14.716Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:14.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eafacaa70a1bf452fd6a927ee843ade6fb97330-940e0c2773bc49f2-01 outer:exit 2b-3eafacaa70a1bf452fd6a927ee843ade6fb97330-77beaf9bb78be4f0-01
2022-04-20T15:29:14.720Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:14.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a89bb8707e5296854d8072664111b33c7a8472d-5392329443e56e9a-01 outer:exit 2b-7a89bb8707e5296854d8072664111b33c7a8472d-fade88fe37e58291-01
2022-04-20T15:29:14.723Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:14.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-c548e6e2c98255368688e7be7671b6753128a0b7-5b04b7c19243278c-01 outer:exit 2b-c548e6e2c98255368688e7be7671b6753128a0b7-06656559c67fa9e5-01
2022-04-20T15:29:14.727Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:14.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-15806c9321411967498017c5dcd7d2e1ed6439c1-6900e8e851a1c7c7-01 outer:exit 2b-15806c9321411967498017c5dcd7d2e1ed6439c1-be82a63a82f3dbd3-01
2022-04-20T15:29:14.730Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:14.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-0810bc1a11a43b90c3f7fec25366034a66e19170-e4daab556e1e5dd7-01 outer:exit 2b-0810bc1a11a43b90c3f7fec25366034a66e19170-499e11a80750cd5b-01
2022-04-20T15:29:14.732Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:14.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-de595b337208bf565e6331b54116f7d2a84463a0-f5eb865fbd15aa91-01 outer:exit 2b-de595b337208bf565e6331b54116f7d2a84463a0-0f4fbd000930d1e3-01
2022-04-20T15:29:14.735Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:14.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-62fc4518ed50d6dd757496ca9535f9d5c038ac3d-e7e541fc0731de8c-01 outer:exit 2b-62fc4518ed50d6dd757496ca9535f9d5c038ac3d-f86957ef69764b1f-01
2022-04-20T15:29:14.737Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:14.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ee9408586f389176b87ea3add160fd0b61d1cf8-385acd21035b6560-01 outer:exit 2b-8ee9408586f389176b87ea3add160fd0b61d1cf8-140031ddd2654774-01
2022-04-20T15:29:14.740Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:14.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-6401081586f0e30f99c60e8817150b51f5d65608-122acf2c7d7afa63-01 outer:exit 2b-6401081586f0e30f99c60e8817150b51f5d65608-ecad2b62954a2673-01
2022-04-20T15:29:14.744Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:14.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-29fee7c14cff6557d9d4afbaf2b392da9facc143-d76c217a0612b626-01 outer:exit 2b-29fee7c14cff6557d9d4afbaf2b392da9facc143-92b3339c687f0349-01
2022-04-20T15:29:14.750Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:14.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0c9da87f722d1207f1e0ea4ca3a991618aaf14b-6b9d0fe0f48fc99e-01 outer:exit 2b-d0c9da87f722d1207f1e0ea4ca3a991618aaf14b-d51b8b879b5ed857-01
2022-04-20T15:29:14.766Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:14.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6a497f9980386038bbb17d711b64c2ee5ef2835-74e3146e50fa6fad-01 outer:exit 2b-e6a497f9980386038bbb17d711b64c2ee5ef2835-b5939f2f417ef61e-01
2022-04-20T15:29:14.805Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:14.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f2277578ee4318deb0c5c2b2ca2cfb613639dd8-d0464371667be0af-01 outer:exit 2b-5f2277578ee4318deb0c5c2b2ca2cfb613639dd8-a98433c6fb19dfe9-01
2022-04-20T15:29:14.807Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:14.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-99fb18ce8598a40597de76610e95c2a97a9722ab-4bc1b33ad61cc91f-01 outer:exit 2b-99fb18ce8598a40597de76610e95c2a97a9722ab-dfb26f3120d49036-01
2022-04-20T15:29:14.810Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:14.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e0acbf44e2a566e654a992138f2422aa9e4421c-acd55bf9b39054bd-01 outer:exit 2b-6e0acbf44e2a566e654a992138f2422aa9e4421c-30fbc4bed6dd1070-01
2022-04-20T15:29:14.812Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:14.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-69f203a541f0b3e2b908c387591be9268dc2bcc7-fb736b23c7cafdd2-01 outer:exit 2b-69f203a541f0b3e2b908c387591be9268dc2bcc7-b4f72dbead50cbe6-01
2022-04-20T15:29:14.814Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:14.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-94e3b05afe4668eae9f81cd0976222d7dd9fa1ea-bb93a00a08ae5705-01 outer:exit 2b-94e3b05afe4668eae9f81cd0976222d7dd9fa1ea-bbc7830a38e7a809-01
2022-04-20T15:29:14.816Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:14.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-9286769a01f0fe9b03d5abc06178c2ce71240268-783c4fabf372972d-01 outer:exit 2b-9286769a01f0fe9b03d5abc06178c2ce71240268-ac5dbbcd0c4d5a8b-01
2022-04-20T15:29:14.818Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:14.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dac5c7ab842fe57998bef8fc48b356d9294d1e2-68a5ce3c9703be88-01 outer:exit 2b-6dac5c7ab842fe57998bef8fc48b356d9294d1e2-ff8c85c55f884005-01
2022-04-20T15:29:14.820Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:14.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-906ec3d9d15609a46135fb22d0ace555ae78c679-77f6e342ff3b2504-01 outer:exit 2b-906ec3d9d15609a46135fb22d0ace555ae78c679-28ce0a94dcecc70f-01
2022-04-20T15:29:14.822Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:14.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-e08488ea035ca7a4748d3504f9275e2ca437ef96-bb17385cdcf5c218-01 outer:exit 2b-e08488ea035ca7a4748d3504f9275e2ca437ef96-5f8590fc4da33514-01
2022-04-20T15:29:14.824Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:14.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-34971cddb088783873b5c440a4606533be231308-f5c7fcf225d2448e-01 outer:exit 2b-34971cddb088783873b5c440a4606533be231308-4dbdf9011f58e6e7-01
2022-04-20T15:29:14.827Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:14.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-269e0210fea9fb05123d9015b22846857cbf33b8-3eaa2811757472bb-01 outer:exit 2b-269e0210fea9fb05123d9015b22846857cbf33b8-6a7c4182a906052a-01
2022-04-20T15:29:14.829Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:14.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-7085caeecdaf1c1eacf783118727d85dfb52d0bd-6ee0595c9a6e5ba7-01 outer:exit 2b-7085caeecdaf1c1eacf783118727d85dfb52d0bd-7e1b047e73f22e79-01
2022-04-20T15:29:14.831Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:14.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-0022d2c627e6ac68db9f98fb1b5167446558c3f3-02521f283d266021-01 outer:exit 2b-0022d2c627e6ac68db9f98fb1b5167446558c3f3-d8db5a10f77c78a6-01
2022-04-20T15:29:14.837Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:14.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e397f94bd76b3dd2154d6be97a89f15e20eb228-a5ae350777687fa5-01 outer:exit 2b-5e397f94bd76b3dd2154d6be97a89f15e20eb228-e0ce3bbf0cea2a89-01
2022-04-20T15:29:14.843Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:14.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1cd39d06de72943ad66c82d6e3c3ac89ccb8fad-3258e08c17441560-01 outer:exit 2b-f1cd39d06de72943ad66c82d6e3c3ac89ccb8fad-959a219e59cd791e-01
2022-04-20T15:29:14.850Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:14.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-2963e2482db68ba2849e708e004a599d638be3cc-7f323b76a210bb65-01 outer:exit 2b-2963e2482db68ba2849e708e004a599d638be3cc-397f83b69916a643-01
2022-04-20T15:29:14.856Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:14.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-541cb6cf1d3fb5b86549911482f9112e38d885b7-3f564e73577c5e95-01 outer:exit 2b-541cb6cf1d3fb5b86549911482f9112e38d885b7-91a0fd07a1f60d20-01
2022-04-20T15:29:14.858Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:14.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-1131af1fd2ef9180eaf0b43d4ffd682d5aa34442-49fab778ba812515-01 outer:exit 2b-1131af1fd2ef9180eaf0b43d4ffd682d5aa34442-b24cab5625bb94b3-01
2022-04-20T15:29:14.860Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:14.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-050425ff495f54cb9172877103698192ec7955a1-40eaaad71196dbe5-01 outer:exit 2b-050425ff495f54cb9172877103698192ec7955a1-7aa7ca746d6fdd66-01
2022-04-20T15:29:14.866Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:14.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4c759042227d27c43182ae0260178e3276c5978-0758308a095b9669-01 outer:exit 2b-d4c759042227d27c43182ae0260178e3276c5978-64b9b3be4b0cc82a-01
2022-04-20T15:29:14.868Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:14.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-449fac790ce404bc3def3b398b8617a7c155db5a-b9466fa403995212-01 outer:exit 2b-449fac790ce404bc3def3b398b8617a7c155db5a-22e00511a9deb528-01
2022-04-20T15:29:14.870Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:14.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-da8138aedbfbe9449abef6348ebc393c6bb90e8e-3ab5e8c7bc60f4f6-01 outer:exit 2b-da8138aedbfbe9449abef6348ebc393c6bb90e8e-f4993c31e1307038-01
2022-04-20T15:29:14.872Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:14.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-63d49f1aa0e463806a6768667aa63ebdb5894270-f0512912a5fd67e1-01 outer:exit 2b-63d49f1aa0e463806a6768667aa63ebdb5894270-9e7ce01c16d95e77-01
2022-04-20T15:29:14.874Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:14.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-baacb5e36a0a284fc8b97d676aa5cd3bb5085b13-d1009463d3d652eb-01 outer:exit 2b-baacb5e36a0a284fc8b97d676aa5cd3bb5085b13-0d819e21bb07beb2-01
2022-04-20T15:29:14.875Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:14.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ccc26844a41b5d02ce5cc828373ae45457feb18-1a2d1382b92d66c9-01 outer:exit 2b-8ccc26844a41b5d02ce5cc828373ae45457feb18-ee2f598c50d4daed-01
2022-04-20T15:29:14.883Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:14.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-f33d956db21465ee85323125360dc0f296ffa7ce-ef7cc1e247c9322c-01 outer:exit 2b-f33d956db21465ee85323125360dc0f296ffa7ce-eb7bfcd2f5fc6871-01
2022-04-20T15:29:14.891Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:14.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac6de1afeaa59281ebc73e1111cb1e59ca12cc9c-4ddbbe611b356de8-01 outer:exit 2b-ac6de1afeaa59281ebc73e1111cb1e59ca12cc9c-3fcb43939de250c9-01
2022-04-20T15:29:14.898Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:14.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-81e2ae9e5a7e10641063319ca91ef65bc3fedbdd-0d0cff426279031b-01 outer:exit 2b-81e2ae9e5a7e10641063319ca91ef65bc3fedbdd-4e7d68a62e9aac0d-01
2022-04-20T15:29:14.900Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:14.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2f6f532e81da2e4d08a6b5c2f6aecc1ffc87b5f-2d0c1c6e7eca9fd3-01 outer:exit 2b-c2f6f532e81da2e4d08a6b5c2f6aecc1ffc87b5f-94ace2f6735bb2b2-01
2022-04-20T15:29:14.902Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:14.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-522e53101c5c3dcef21451e6cdbcdbfc578643df-cd8dbc38b721fa0b-01 outer:exit 2b-522e53101c5c3dcef21451e6cdbcdbfc578643df-9a9db949feb21dc2-01
2022-04-20T15:29:14.929Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (293ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:21.583Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:21.583Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:21.583Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:21.584Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:21.642Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:21.751Z appoptics:patching patched crypto 
2022-04-20T15:29:21.769Z appoptics:patching patched https 
2022-04-20T15:29:21.769Z appoptics:patching patched http 
2022-04-20T15:29:21.816Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:21.816Z appoptics:patching patched fs 
2022-04-20T15:29:21.829Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v18.0.0)
2022-04-20T15:29:21.834Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2022-04-20T15:29:21.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fa8ea7be36d18e284b9bce2d9b256af1d583258-9a1029596e386acf-01 outer:exit 2b-5fa8ea7be36d18e284b9bce2d9b256af1d583258-fe8552b1aa3f10d5-01
2022-04-20T15:29:21.877Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:21.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e1923762b146d1df1b8e2cb8f22cfb0fbd12e9f-607d1db71e498d28-01 outer:exit 2b-0e1923762b146d1df1b8e2cb8f22cfb0fbd12e9f-16bb25ceed40d048-01
2022-04-20T15:29:21.920Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:21.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad2a5ca532f70d27ececcbf10bc432c11778b20e-19f354dca6b283fc-01 outer:exit 2b-ad2a5ca532f70d27ececcbf10bc432c11778b20e-6fd4b8466e237b0c-01
2022-04-20T15:29:21.923Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:21.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-e486e7a45cc19bb57b4dc756e4c073bfcfd2874d-72590c18645ee2a3-01 outer:exit 2b-e486e7a45cc19bb57b4dc756e4c073bfcfd2874d-6388684e79e5e57a-01
2022-04-20T15:29:21.926Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:21.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-505302493d4d1c58cb9503dc33b997a258187e69-d006456c8b0e3367-01 outer:exit 2b-505302493d4d1c58cb9503dc33b997a258187e69-1be2270c8fe28d0f-01
2022-04-20T15:29:21.931Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:21.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ea952596f38ba0e9e802d422a183204b7a03788-8bc300a7269b9a9e-01 outer:exit 2b-6ea952596f38ba0e9e802d422a183204b7a03788-00e8b8a62a9f9c88-01
2022-04-20T15:29:21.934Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:21.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5ba17dbc0b82ee4b17d3699b43b67debef43d99-0c1c2419671f25e5-01 outer:exit 2b-e5ba17dbc0b82ee4b17d3699b43b67debef43d99-be4eb0674fabba18-01
2022-04-20T15:29:21.936Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:21.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5bfed939055a69afaef1eb4f0789a0fd44706c3-ca0e664d3504c91d-01 outer:exit 2b-d5bfed939055a69afaef1eb4f0789a0fd44706c3-5c7b6cbed2b5c819-01
2022-04-20T15:29:21.938Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:21.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-ced520971433d44287625c4a92e10c58a8127c9d-a2dadfff791fa0be-01 outer:exit 2b-ced520971433d44287625c4a92e10c58a8127c9d-728860e282516aaf-01
2022-04-20T15:29:21.942Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:21.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-a57b187ff56f9d1f72fb57a331d2840848ebac6e-9e19a173af874615-01 outer:exit 2b-a57b187ff56f9d1f72fb57a331d2840848ebac6e-24adee2fbfd591ca-01
2022-04-20T15:29:21.946Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:21.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d40cb78990d63cbfc1bb40b48467c71c661840a-3c173e8ef5a700a9-01 outer:exit 2b-0d40cb78990d63cbfc1bb40b48467c71c661840a-764475571c5235d6-01
2022-04-20T15:29:21.950Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:21.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd3564c5784584e29e68498bd8afc43ce0f852c1-72b7e836e6a00dd3-01 outer:exit 2b-bd3564c5784584e29e68498bd8afc43ce0f852c1-cb57818c57c6c6d7-01
2022-04-20T15:29:21.956Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:21.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-f31052a781e58eb41c76ee3085b5bea49f4d555f-c36595091f53146b-01 outer:exit 2b-f31052a781e58eb41c76ee3085b5bea49f4d555f-0d66d5e21467046a-01
2022-04-20T15:29:21.980Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:22.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-82d475c8c46bc90a22f7206d90bfba212a8188bb-e8cebf70c51ab47f-01 outer:exit 2b-82d475c8c46bc90a22f7206d90bfba212a8188bb-9b4f19235e288ba2-01
2022-04-20T15:29:22.024Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:22.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-c200a686fa5a2bac55124e89eaf07667fbce0735-869bb25330e1290a-01 outer:exit 2b-c200a686fa5a2bac55124e89eaf07667fbce0735-585e7a86c602b669-01
2022-04-20T15:29:22.029Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:22.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dc3ca618aa7fa97240e5c8f92c247b3b4d9918e-d67c9f54d0373d67-01 outer:exit 2b-8dc3ca618aa7fa97240e5c8f92c247b3b4d9918e-7bfea0574b183bfa-01
2022-04-20T15:29:22.032Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:22.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ba32dca3e5c7beb48a4fabc1a294242527476af-ddcdfc9ee5a121be-01 outer:exit 2b-0ba32dca3e5c7beb48a4fabc1a294242527476af-d36f385a030ff6bc-01
2022-04-20T15:29:22.034Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:22.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb9243240f60b1bb8c0daa1f92a17605cc551366-cf6fe00faa08f35b-01 outer:exit 2b-fb9243240f60b1bb8c0daa1f92a17605cc551366-6cb676b03046912d-01
2022-04-20T15:29:22.037Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:22.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-c46db680b20ed44acde6a1f21c3f03ab54d45ebf-a653e6290539cf05-01 outer:exit 2b-c46db680b20ed44acde6a1f21c3f03ab54d45ebf-14e58af956fc9691-01
2022-04-20T15:29:22.039Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:22.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-849b078c65e48558bada0aacf62cf55f105d4544-2d7696b4eaf859c8-01 outer:exit 2b-849b078c65e48558bada0aacf62cf55f105d4544-ca815fb49a0af81c-01
2022-04-20T15:29:22.041Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:22.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff10d5f88c84aef55a70101ba1ddb0aac5b18f8c-b541bc698265b606-01 outer:exit 2b-ff10d5f88c84aef55a70101ba1ddb0aac5b18f8c-2b045fc54f04f95f-01
2022-04-20T15:29:22.042Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:22.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5603de38deaeba638eda9d2cb3586f0f908c346-596cef05a98ae53f-01 outer:exit 2b-e5603de38deaeba638eda9d2cb3586f0f908c346-e75d9fb0f798d05b-01
2022-04-20T15:29:22.044Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:22.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5257b1e9e698d91df3c14352568975b5fee2e68-61a704432f4d0f4f-01 outer:exit 2b-f5257b1e9e698d91df3c14352568975b5fee2e68-c10689ea3a8dd27e-01
2022-04-20T15:29:22.047Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:22.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fca35d41967ff2302c96baf24689f2202f8137b-63c91b13ca475d4e-01 outer:exit 2b-9fca35d41967ff2302c96baf24689f2202f8137b-21a8eb84bdf6c851-01
2022-04-20T15:29:22.050Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:22.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d044f4db9b8841121ae9a37a8c2a6ead47d7338-1ea00c173a37f654-01 outer:exit 2b-2d044f4db9b8841121ae9a37a8c2a6ead47d7338-8b806271caebed68-01
2022-04-20T15:29:22.052Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:22.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-b29ef8f81c8030c289eb9a8b9575db695d6a15aa-6326dba4f27caad3-01 outer:exit 2b-b29ef8f81c8030c289eb9a8b9575db695d6a15aa-15ce99bd634db30d-01
2022-04-20T15:29:22.058Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:22.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-16db389f4cceb55628b8e378d2fe240cdda4aee9-1f04c7e4b14dcc80-01 outer:exit 2b-16db389f4cceb55628b8e378d2fe240cdda4aee9-82078087166d16a9-01
2022-04-20T15:29:22.064Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:22.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-f086894f659e39e0845e7ade311875d672735ecc-50ef90d2b1638e46-01 outer:exit 2b-f086894f659e39e0845e7ade311875d672735ecc-2f002064123817d1-01
2022-04-20T15:29:22.068Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:22.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-25c79873935bf4656dc7fc11a3e41144e0516fa5-f48400e006cea268-01 outer:exit 2b-25c79873935bf4656dc7fc11a3e41144e0516fa5-c65d2a81f467c992-01
2022-04-20T15:29:22.076Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:22.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-df3ea6e15baacba2ec92bca0894d0e8601f49826-8d39d59397bf98b1-01 outer:exit 2b-df3ea6e15baacba2ec92bca0894d0e8601f49826-79fe79dce064906a-01
2022-04-20T15:29:22.081Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:22.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-72bb7872d5a23201c7c139caf6a8bc141212195e-aad46c9bc251b5c6-01 outer:exit 2b-72bb7872d5a23201c7c139caf6a8bc141212195e-711584b29d5fd371-01
2022-04-20T15:29:22.083Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:22.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc7f9148ad19efaf4c3789062529ef2a7ad695dd-299bffb02c291a6e-01 outer:exit 2b-bc7f9148ad19efaf4c3789062529ef2a7ad695dd-2c1fb9a2ccd1b7a5-01
2022-04-20T15:29:22.086Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:22.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7587e44bac76b3ae05e33be10e6d78f39b0d1d7-dc78f76b9155505c-01 outer:exit 2b-d7587e44bac76b3ae05e33be10e6d78f39b0d1d7-248d5fdbdd77c28a-01
2022-04-20T15:29:22.093Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:22.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-741ba0b7714c728612f11fedbba379e622def0a9-068a977f4c24c947-01 outer:exit 2b-741ba0b7714c728612f11fedbba379e622def0a9-d83f8d1d54c3cef6-01
2022-04-20T15:29:22.094Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:22.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-61b22eff9e2a67c4cb22fe0e446509252270140b-26d22c062bb46e9d-01 outer:exit 2b-61b22eff9e2a67c4cb22fe0e446509252270140b-92e111567f725c35-01
2022-04-20T15:29:22.096Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:22.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-64d064f65aeda4d596418fb283840033782c58f0-c4c0c75e1754df12-01 outer:exit 2b-64d064f65aeda4d596418fb283840033782c58f0-cd946b80e981176e-01
2022-04-20T15:29:22.098Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:22.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-62b9d62765b2e9acaa4d76e1569b9b4ef666367e-c4d54ad9781be535-01 outer:exit 2b-62b9d62765b2e9acaa4d76e1569b9b4ef666367e-4da5baf956893d22-01
2022-04-20T15:29:22.100Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:22.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-72af1b45947d969d55d10482a4fa32c6754ee1ba-705ecb2beae55b0d-01 outer:exit 2b-72af1b45947d969d55d10482a4fa32c6754ee1ba-e70016f5fa24ab18-01
2022-04-20T15:29:22.101Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:22.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-683f7f1e89e3e01724e93130628735308a96e093-8f2b3d060f52d5cd-01 outer:exit 2b-683f7f1e89e3e01724e93130628735308a96e093-932ff3f2f5863f0c-01
2022-04-20T15:29:22.114Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:22.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-f48a3fe4f2c4ee602b61c97d868e2e1450f277ab-bad5577e6c6e53e6-01 outer:exit 2b-f48a3fe4f2c4ee602b61c97d868e2e1450f277ab-405b7588e8d81bf5-01
2022-04-20T15:29:22.126Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:22.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-4882dddd2cdf671a6d099cd26545dbb1b560c2a2-750c0e2b6f5371d4-01 outer:exit 2b-4882dddd2cdf671a6d099cd26545dbb1b560c2a2-6d3d34122ced60ce-01
2022-04-20T15:29:22.129Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:22.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f8e31c9a70944ebead6143f3c0297542dcbeefe-0f114579951fb1b5-01 outer:exit 2b-0f8e31c9a70944ebead6143f3c0297542dcbeefe-bdffa572a4918b4e-01
2022-04-20T15:29:22.131Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:22.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebd274612e9096773b61560e08046a783ed155e5-8f2bb5f3592cb7b6-01 outer:exit 2b-ebd274612e9096773b61560e08046a783ed155e5-a9591a639d70f30b-01
2022-04-20T15:29:22.134Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:22.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6c4ae34738fecd3ee130c1d3f28a76da60da396-0c3775398ea7119d-01 outer:exit 2b-e6c4ae34738fecd3ee130c1d3f28a76da60da396-9e5482c3e224ff67-01
2022-04-20T15:29:22.164Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (324ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:28.044Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:28.045Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:28.045Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:28.046Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:28.104Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:28.213Z appoptics:patching patched crypto 
2022-04-20T15:29:28.230Z appoptics:patching patched https 
2022-04-20T15:29:28.230Z appoptics:patching patched http 
2022-04-20T15:29:28.272Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:28.272Z appoptics:patching patched fs 
2022-04-20T15:29:28.295Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v18.0.0)
2022-04-20T15:29:28.301Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2022-04-20T15:29:28.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-b08d518575c3676ab8b1378004b04bdb04e00e04-bc4c92b71ff08b2e-01 outer:exit 2b-b08d518575c3676ab8b1378004b04bdb04e00e04-d035d1e484c24936-01
2022-04-20T15:29:28.348Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:28.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-687a6fde2fa0804bd7e3e2d544540930099a6ac3-13845121d2369931-01 outer:exit 2b-687a6fde2fa0804bd7e3e2d544540930099a6ac3-aca1ee15304d4025-01
2022-04-20T15:29:28.391Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:28.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9cd433f089186a47ff2866f0b7e291298530a07-bf57e39af70c1ff1-01 outer:exit 2b-f9cd433f089186a47ff2866f0b7e291298530a07-fd4b2aa4d0d16017-01
2022-04-20T15:29:28.396Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:28.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ee1c48ab36bbda5f06441c9efe9c68b7b91fa2a-3abf198915d98fb0-01 outer:exit 2b-6ee1c48ab36bbda5f06441c9efe9c68b7b91fa2a-5ab750b29e22c472-01
2022-04-20T15:29:28.399Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:28.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-0efc132e45fed19dc820df90c81fe49e4331243e-c5ce00b0301cd6a7-01 outer:exit 2b-0efc132e45fed19dc820df90c81fe49e4331243e-21a9d10bf90050a5-01
2022-04-20T15:29:28.403Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:28.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-26173a37c314190824ab21b7f9d55a1dd3d20a89-07da814b8cd9f563-01 outer:exit 2b-26173a37c314190824ab21b7f9d55a1dd3d20a89-aa3cbc7a626bcade-01
2022-04-20T15:29:28.407Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:28.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f45bbc99deb9f879a16180a69da9d9d284688a8-f77d7914d4bc44ec-01 outer:exit 2b-9f45bbc99deb9f879a16180a69da9d9d284688a8-d81ea623463c3fc7-01
2022-04-20T15:29:28.409Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:28.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-b35aa59007496e0e12ab7e744e8db3289074e0ce-9cad620c76bded0c-01 outer:exit 2b-b35aa59007496e0e12ab7e744e8db3289074e0ce-00b290a4a8b080c4-01
2022-04-20T15:29:28.412Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:28.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-c71d48bb3f12598430fe6c8e36b3a313de70f419-a3b0354338e231f1-01 outer:exit 2b-c71d48bb3f12598430fe6c8e36b3a313de70f419-46dd4e0f52c11da4-01
2022-04-20T15:29:28.416Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:28.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-78c4b493043f2e9e9d7417fccc2251e2f0b87815-8db2f7dd6b863cb2-01 outer:exit 2b-78c4b493043f2e9e9d7417fccc2251e2f0b87815-c699f503c26eb9ec-01
2022-04-20T15:29:28.419Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:28.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-822c3d4847a7b076ddb73194e77e77cf6288389e-a303fc5e659fb611-01 outer:exit 2b-822c3d4847a7b076ddb73194e77e77cf6288389e-461e06748b862f1e-01
2022-04-20T15:29:28.423Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:28.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8542b4a0d9d9440dabff329bc6c7f1413b2a34c-46cd70c5058d561a-01 outer:exit 2b-a8542b4a0d9d9440dabff329bc6c7f1413b2a34c-a8a44a4406934179-01
2022-04-20T15:29:28.429Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:28.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4f405d1135d75fadf5c73bbac181905d54d5d72-e81835bb87da4252-01 outer:exit 2b-d4f405d1135d75fadf5c73bbac181905d54d5d72-dce63802918bb1d2-01
2022-04-20T15:29:28.444Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:28.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-75e6b2007ac697b5edbc5786f3fbaa7aa25c407d-837d2116f54dc52a-01 outer:exit 2b-75e6b2007ac697b5edbc5786f3fbaa7aa25c407d-9ead73cb00ddd7f0-01
2022-04-20T15:29:28.485Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:28.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a6e65f754ece15d8ec12deeaece57980ac187a4-370a8678d27ba422-01 outer:exit 2b-9a6e65f754ece15d8ec12deeaece57980ac187a4-ebc82e7e8a3a6889-01
2022-04-20T15:29:28.488Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:28.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-89779bdbc934cb524ea9c118e7c1783fff58b158-b386fcb03a0156c7-01 outer:exit 2b-89779bdbc934cb524ea9c118e7c1783fff58b158-9b9562db1f76c965-01
2022-04-20T15:29:28.490Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:28.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7fe75ec1e9e9dcce19c0b08b3a061c760f14fc4-60e2a825fb2a6883-01 outer:exit 2b-a7fe75ec1e9e9dcce19c0b08b3a061c760f14fc4-01d08ad6d06c9b77-01
2022-04-20T15:29:28.493Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:28.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-17bd8eb654a874f26837a3f5344e068734e4bada-88e7229d8a4e0001-01 outer:exit 2b-17bd8eb654a874f26837a3f5344e068734e4bada-1e4c5ef443c9b083-01
2022-04-20T15:29:28.495Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:28.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-a98332e270402c08c17216f8be49701a7d91142a-a1def29dd35cf4f2-01 outer:exit 2b-a98332e270402c08c17216f8be49701a7d91142a-95d8256878f14864-01
2022-04-20T15:29:28.497Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:28.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-d919f4f964f2de847c4d2bc3349ff57ec0d2549f-e1dbe61e7690fa88-01 outer:exit 2b-d919f4f964f2de847c4d2bc3349ff57ec0d2549f-446779055e8d589e-01
2022-04-20T15:29:28.499Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:28.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-71ed0edd775b60e44cc41e99412a1d9c7fac0692-46d54d53d7de56b0-01 outer:exit 2b-71ed0edd775b60e44cc41e99412a1d9c7fac0692-bb4fa4492cffb9ed-01
2022-04-20T15:29:28.501Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:28.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-033119dcae435c37ec1a420bfba836b4ab43e448-3699bb4d022fdc22-01 outer:exit 2b-033119dcae435c37ec1a420bfba836b4ab43e448-e54a21499b250a37-01
2022-04-20T15:29:28.502Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:28.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb512d809752afafd96680fcd015cd1d78c1ae50-faa5f7f04ac3d139-01 outer:exit 2b-cb512d809752afafd96680fcd015cd1d78c1ae50-3e181add0a38cc20-01
2022-04-20T15:29:28.505Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:28.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-83e455b2388003767a6b112171697fe01d40ee45-d217ee8d9f04cc09-01 outer:exit 2b-83e455b2388003767a6b112171697fe01d40ee45-9a688302ec7b535c-01
2022-04-20T15:29:28.508Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:28.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2274823f08366a0887c15e64bce8da56796b8d8-2e754896446caeec-01 outer:exit 2b-d2274823f08366a0887c15e64bce8da56796b8d8-a3063002334413de-01
2022-04-20T15:29:28.510Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:28.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-3995485f0493adba26113ddc6c883ba12d56f279-b1cb1061e84ac707-01 outer:exit 2b-3995485f0493adba26113ddc6c883ba12d56f279-15ecdf074ebd9b76-01
2022-04-20T15:29:28.512Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:28.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0f6422b9094b96db4baf207aa310dc56a914f86-caaf472da4a8212f-01 outer:exit 2b-e0f6422b9094b96db4baf207aa310dc56a914f86-f2938cb7d6fee268-01
2022-04-20T15:29:28.518Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:28.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b5579a691a43eb93a878f6142df2165f04061ee-268c57768c60d166-01 outer:exit 2b-2b5579a691a43eb93a878f6142df2165f04061ee-83a2e72b0d4abce2-01
2022-04-20T15:29:28.523Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:28.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-226df901e8889906c63034391d5fcffecccc03e9-4f8c3de8cff56e04-01 outer:exit 2b-226df901e8889906c63034391d5fcffecccc03e9-c160203de8c7a7e9-01
2022-04-20T15:29:28.531Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:28.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-be25a346da0b7fb27c3d7130dd6da25fcbfa6472-0a4881e07ce884cf-01 outer:exit 2b-be25a346da0b7fb27c3d7130dd6da25fcbfa6472-f0d5dd4d17b4f88a-01
2022-04-20T15:29:28.536Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:28.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-516826910bfd75986a86df0ecda456e9c32de934-4f0b713dbcf51598-01 outer:exit 2b-516826910bfd75986a86df0ecda456e9c32de934-ac169ca2c191efa2-01
2022-04-20T15:29:28.538Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:28.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-190eb379130837a9126f88b0fd05c8ae7fc9e6c7-8b6579c7c2641ab1-01 outer:exit 2b-190eb379130837a9126f88b0fd05c8ae7fc9e6c7-6332ca1a67b8c81d-01
2022-04-20T15:29:28.541Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:28.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-43e8709a5e136193d45d8e7d14385bae9324e4ad-714599b1be2cdf8a-01 outer:exit 2b-43e8709a5e136193d45d8e7d14385bae9324e4ad-9df3938cf33652af-01
2022-04-20T15:29:28.547Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:28.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbbcac186a63c1b075baa0e01636cc6ee5f9df3c-6f5fb127933f941e-01 outer:exit 2b-bbbcac186a63c1b075baa0e01636cc6ee5f9df3c-2d55dfb9842e6e44-01
2022-04-20T15:29:28.549Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:28.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-705dfde043a6346ca12b17108c7c73ddaa54eb33-40ebe6e8db7e25f0-01 outer:exit 2b-705dfde043a6346ca12b17108c7c73ddaa54eb33-44a5406bda6b6a2a-01
2022-04-20T15:29:28.551Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:28.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-737cc4f47d3cea4dafb5f6259fb493830c06dd06-d817919c7e322730-01 outer:exit 2b-737cc4f47d3cea4dafb5f6259fb493830c06dd06-18a99fe3b8d26038-01
2022-04-20T15:29:28.552Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:28.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aac61f354ef73dfc5227217e9dd2a571ed69ce8-f15c4b43c2f77385-01 outer:exit 2b-8aac61f354ef73dfc5227217e9dd2a571ed69ce8-c117eba441e1ecba-01
2022-04-20T15:29:28.554Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:28.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf68f920fca6d2cc8e32765879882e71701c505a-b77707ba2f611871-01 outer:exit 2b-cf68f920fca6d2cc8e32765879882e71701c505a-b439aff64a1e7d7d-01
2022-04-20T15:29:28.556Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:28.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-d08565998e3276577131236417cba56cdffe08f2-64c45b7d0b56d439-01 outer:exit 2b-d08565998e3276577131236417cba56cdffe08f2-4139e0941a36f3c4-01
2022-04-20T15:29:28.564Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:28.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-94b422c89b9dc5b0a391b5397fdb60d669ceac85-8641d009f77e8fb4-01 outer:exit 2b-94b422c89b9dc5b0a391b5397fdb60d669ceac85-1e55bc19c48dcad6-01
2022-04-20T15:29:28.572Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:28.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf86f079f283d09acc3bfd53965d6491c34b4279-27e62283230c0169-01 outer:exit 2b-bf86f079f283d09acc3bfd53965d6491c34b4279-45e4632364382f55-01
2022-04-20T15:29:28.574Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:28.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-48df5dbb64dc8e208dc02d82ed59e59e4382c1d6-110cb4eae0afe4bc-01 outer:exit 2b-48df5dbb64dc8e208dc02d82ed59e59e4382c1d6-85489c626fe43572-01
2022-04-20T15:29:28.577Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:28.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-507a4dc7d8fb11cc39075907a9f55a5a07c346cc-9ca21471b54ad931-01 outer:exit 2b-507a4dc7d8fb11cc39075907a9f55a5a07c346cc-a341da810e1652a7-01
2022-04-20T15:29:28.579Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:28.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-efbf9817edd7f3222ec6d2a64b539d14d32f2934-08816fcd09f1bf99-01 outer:exit 2b-efbf9817edd7f3222ec6d2a64b539d14d32f2934-90af58ac5cac8171-01
2022-04-20T15:29:28.607Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (301ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:35.417Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:35.417Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:35.418Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:35.418Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:35.476Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:35.584Z appoptics:patching patched crypto 
2022-04-20T15:29:35.602Z appoptics:patching patched https 
2022-04-20T15:29:35.603Z appoptics:patching patched http 
2022-04-20T15:29:35.645Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:35.645Z appoptics:patching patched fs 
2022-04-20T15:29:35.668Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v18.0.0)
2022-04-20T15:29:35.673Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2022-04-20T15:29:35.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-f330abb150758a44cae6ecf137105c203d0ac773-dc6fd3c353b7e70f-01 outer:exit 2b-f330abb150758a44cae6ecf137105c203d0ac773-d7918ff6a04f965b-01
2022-04-20T15:29:35.719Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:35.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-95fd80f3a438e3e2372ba8c37fda4352ce1a8463-ab2e5d3b62a9b7bd-01 outer:exit 2b-95fd80f3a438e3e2372ba8c37fda4352ce1a8463-f86793c1c3c2ceaa-01
2022-04-20T15:29:35.762Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:35.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee77cffad128881f50637e8e7fab523da2eadd03-9bc3c53e3237d515-01 outer:exit 2b-ee77cffad128881f50637e8e7fab523da2eadd03-cd2ef8a1c8d2e8fe-01
2022-04-20T15:29:35.766Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:35.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f06608b87bceb2aa5fd481804050c8ce9b84d06-e99846e572b371e8-01 outer:exit 2b-0f06608b87bceb2aa5fd481804050c8ce9b84d06-e176b87fc2e1b29d-01
2022-04-20T15:29:35.769Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:35.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-05e477fd323b70f9675c660190b121a490be4212-42deff1fe705bbad-01 outer:exit 2b-05e477fd323b70f9675c660190b121a490be4212-736c51df0fcac11d-01
2022-04-20T15:29:35.774Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:35.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c59d76bdbc59447d28ca716fbdeecb8b62e57e5-702d5c0c60b2f699-01 outer:exit 2b-4c59d76bdbc59447d28ca716fbdeecb8b62e57e5-99c17335d761fa07-01
2022-04-20T15:29:35.777Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:35.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ac92e85e322e7de1fda62294d1feb2312cad654-50a17a69393fa812-01 outer:exit 2b-8ac92e85e322e7de1fda62294d1feb2312cad654-a071365d5ccd05ba-01
2022-04-20T15:29:35.782Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:35.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2ebf4adf8b8e184a6ce9700c8165c78b56c5d0c-4a298638c27b1e04-01 outer:exit 2b-c2ebf4adf8b8e184a6ce9700c8165c78b56c5d0c-7517f778d7b79647-01
2022-04-20T15:29:35.794Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:35.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfa44214860715d7eea5a705bae0cad8bb8188c9-8bf4094364a08203-01 outer:exit 2b-dfa44214860715d7eea5a705bae0cad8bb8188c9-293290c8513972cd-01
2022-04-20T15:29:35.797Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:35.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-da0c7a1e61c6b49c923b6e0621f3740ba8bd8744-53d67db4113df00d-01 outer:exit 2b-da0c7a1e61c6b49c923b6e0621f3740ba8bd8744-e5afd8299c24aaf1-01
2022-04-20T15:29:35.802Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:35.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-d01cdd44587d1a1d582708fca16c7cb506a51eeb-a5930a7dd943da03-01 outer:exit 2b-d01cdd44587d1a1d582708fca16c7cb506a51eeb-5d25fc8b53af568f-01
2022-04-20T15:29:35.806Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:35.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-b60fd43a04b6adbee51c8076d9471531584f0b5e-30814c8afd9b34a3-01 outer:exit 2b-b60fd43a04b6adbee51c8076d9471531584f0b5e-582065e8dea2b8e2-01
2022-04-20T15:29:35.812Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:35.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-96fc989335efd0fa83f4fc697401735911cf539c-d284e78628412177-01 outer:exit 2b-96fc989335efd0fa83f4fc697401735911cf539c-03e6c784a29e92c2-01
2022-04-20T15:29:35.828Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:35.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-496cff3e21debc9df7178667704160a80d66a37a-bd33991719e6c216-01 outer:exit 2b-496cff3e21debc9df7178667704160a80d66a37a-5d9cf999da48f11a-01
2022-04-20T15:29:35.868Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:35.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8a0a542c2d0b1ab459767535399b5c9232abbd0-78c1a9f28d14c885-01 outer:exit 2b-a8a0a542c2d0b1ab459767535399b5c9232abbd0-03622b0748de100f-01
2022-04-20T15:29:35.871Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:35.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b78aebca2f4299497e8eebb572f7cb0d4970487-ede3ee93b4ca4767-01 outer:exit 2b-7b78aebca2f4299497e8eebb572f7cb0d4970487-4ef3706c6d49e868-01
2022-04-20T15:29:35.873Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:35.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-e715b00f0db4022d5f45580362d23316ebc01ce9-124f57b73a70aa96-01 outer:exit 2b-e715b00f0db4022d5f45580362d23316ebc01ce9-e7c26c6b5e12b74d-01
2022-04-20T15:29:35.876Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:35.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-b961f3757d2fe93e27be4e4701cfa56109603570-3434baecb8a9c6e7-01 outer:exit 2b-b961f3757d2fe93e27be4e4701cfa56109603570-5b9687716f9243e1-01
2022-04-20T15:29:35.879Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:35.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-eda501830801af3e2bca063e437f729244dfd16c-80b7722e141b4138-01 outer:exit 2b-eda501830801af3e2bca063e437f729244dfd16c-05aa7dde8248bbf3-01
2022-04-20T15:29:35.880Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:35.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd303fe72665d6b2bda6a3f024bd36501f309a3a-fc87e2826f053f29-01 outer:exit 2b-dd303fe72665d6b2bda6a3f024bd36501f309a3a-3a28a152dcef4497-01
2022-04-20T15:29:35.882Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:35.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab994b2cd03c18a419ade1f1692a9b153cd5f2e0-a642a113c2461cf2-01 outer:exit 2b-ab994b2cd03c18a419ade1f1692a9b153cd5f2e0-3ca4339f63d15c0f-01
2022-04-20T15:29:35.884Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:35.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-95d17770c55a31e5335a2520f0ee73c37dc74296-2ed8f096e0f77a95-01 outer:exit 2b-95d17770c55a31e5335a2520f0ee73c37dc74296-f238ca237d4d4e00-01
2022-04-20T15:29:35.886Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:35.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-b123bae00c8a727b8a6cb7e3d34655d015ac2599-4dda4ec9f430324d-01 outer:exit 2b-b123bae00c8a727b8a6cb7e3d34655d015ac2599-634218ec0ddc5539-01
2022-04-20T15:29:35.889Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:35.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-22b8dd34e65c2450782f959e6c2977214dcd3c87-4322a22abcf52054-01 outer:exit 2b-22b8dd34e65c2450782f959e6c2977214dcd3c87-bcce67510b2057af-01
2022-04-20T15:29:35.892Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:35.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbceaeca0a99057b59edacb60ef9341ff6ab99bb-80912b3e84501bd0-01 outer:exit 2b-dbceaeca0a99057b59edacb60ef9341ff6ab99bb-2d091ff4a0c887a3-01
2022-04-20T15:29:35.894Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:35.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bf972c3ac24d4eb9dd0623fd54b65a16bb69339-ef7fd3e8cabc52f3-01 outer:exit 2b-4bf972c3ac24d4eb9dd0623fd54b65a16bb69339-f6d304fc73c45a73-01
2022-04-20T15:29:35.896Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:35.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-701842d0905d85a2190ef3ec26c925b9a7c9c3c7-ca6496209ab3c0fc-01 outer:exit 2b-701842d0905d85a2190ef3ec26c925b9a7c9c3c7-7ed92437bd8f8a50-01
2022-04-20T15:29:35.902Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:35.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bd28e6674bd31699f590b8d67d6e425ea3129ee-47bd7680823a5961-01 outer:exit 2b-2bd28e6674bd31699f590b8d67d6e425ea3129ee-3113b8749adfa778-01
2022-04-20T15:29:35.907Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:35.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1dce10e8c693afe778ae5c25951df331711a5dd-812c482f9efa3c3d-01 outer:exit 2b-d1dce10e8c693afe778ae5c25951df331711a5dd-194621c9ff141f86-01
2022-04-20T15:29:35.915Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:35.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-22a6e6884a460a881444e8ed493a4dd687a44e1a-265e769f7da8a414-01 outer:exit 2b-22a6e6884a460a881444e8ed493a4dd687a44e1a-0af008adb2573fde-01
2022-04-20T15:29:35.921Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:35.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-382476f04b04e4013e53f97c0b8997ea55a64df8-e6372c079117658d-01 outer:exit 2b-382476f04b04e4013e53f97c0b8997ea55a64df8-f30f1300f8d7b6f3-01
2022-04-20T15:29:35.923Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:35.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-505af2e4e9a9e256393218f08a6a2c84c7f04710-9b28096285663445-01 outer:exit 2b-505af2e4e9a9e256393218f08a6a2c84c7f04710-0956853905e45a64-01
2022-04-20T15:29:35.926Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:35.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5754ed96ec4161812fef010bdfb08093b1fd170-e9c07594188d2a23-01 outer:exit 2b-b5754ed96ec4161812fef010bdfb08093b1fd170-990aac0f18750420-01
2022-04-20T15:29:35.932Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:35.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab920f079805e4eef24fc14866c5cb9772a5682e-05fd62979921daf5-01 outer:exit 2b-ab920f079805e4eef24fc14866c5cb9772a5682e-9b18463bf1c0fc7f-01
2022-04-20T15:29:35.934Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:35.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc6f05ce8a308b78b3de2b44025640b125f65aed-8cb9720bb7dfe73e-01 outer:exit 2b-fc6f05ce8a308b78b3de2b44025640b125f65aed-edeff48be2db87eb-01
2022-04-20T15:29:35.936Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:35.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8bde257a61d26ffece8884949bce5069b09bd8d-b3e39a87b10b9241-01 outer:exit 2b-b8bde257a61d26ffece8884949bce5069b09bd8d-5ee94870861b0e73-01
2022-04-20T15:29:35.938Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:35.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-11a15ff1e5dd8cf4547f4109c53fabdb5531e55d-e6926c2e3c4351b8-01 outer:exit 2b-11a15ff1e5dd8cf4547f4109c53fabdb5531e55d-8b122f1213a067c8-01
2022-04-20T15:29:35.939Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:35.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-64f36b1050f209b22fd7988ff2ecb32513761b73-c58edfcbfe111a32-01 outer:exit 2b-64f36b1050f209b22fd7988ff2ecb32513761b73-9063b42f18b70864-01
2022-04-20T15:29:35.941Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:35.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bc2d1efa7d617bd8c7853f5d029333ee23b991e-4840dbd33b3bf88d-01 outer:exit 2b-2bc2d1efa7d617bd8c7853f5d029333ee23b991e-1f6dab91b7b55080-01
2022-04-20T15:29:35.951Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:35.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5e1955a36c34a029546c73e3b0dc0a51a41c6fb-ca9f46b1c04f98bd-01 outer:exit 2b-e5e1955a36c34a029546c73e3b0dc0a51a41c6fb-1595c0953655ebc2-01
2022-04-20T15:29:35.958Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:35.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-7627438eaa12a4d14c547fd053a197e3a97c1e8e-7cd11108afd0462a-01 outer:exit 2b-7627438eaa12a4d14c547fd053a197e3a97c1e8e-49ad5819f2ecbc9d-01
2022-04-20T15:29:35.962Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:35.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-a20037a943011853bd9bc800129d6e4b03f90c97-a855d8774f3f5ba2-01 outer:exit 2b-a20037a943011853bd9bc800129d6e4b03f90c97-8637ba769a8e4b2a-01
2022-04-20T15:29:35.964Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:35.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-34d48b79e4551d16ec17b7fe4416199680add5ef-a80676e0c01e2c3b-01 outer:exit 2b-34d48b79e4551d16ec17b7fe4416199680add5ef-2a7f19df93ae449a-01
2022-04-20T15:29:35.967Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:35.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-06016febfe5642ae939e754329e22e5172cbb4c5-0687ad9fafd4a693-01 outer:exit 2b-06016febfe5642ae939e754329e22e5172cbb4c5-e236a90593a7db6a-01
2022-04-20T15:29:35.992Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (314ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:42.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:42.012Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:42.012Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:42.013Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:42.071Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:42.184Z appoptics:patching patched crypto 
2022-04-20T15:29:42.202Z appoptics:patching patched https 
2022-04-20T15:29:42.203Z appoptics:patching patched http 
2022-04-20T15:29:42.245Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:42.245Z appoptics:patching patched fs 
2022-04-20T15:29:42.268Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v18.0.0)
2022-04-20T15:29:42.273Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2022-04-20T15:29:42.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-726b92cb2bee822cd4d58f1fe81abce646b6cb6e-f1c7aa1619b767e4-01 outer:exit 2b-726b92cb2bee822cd4d58f1fe81abce646b6cb6e-94f23c850f23f712-01
2022-04-20T15:29:42.318Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:42.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-a81eccb3bea99494a4cefa2eca63d0432e26d1c3-4440b1315f8595d0-01 outer:exit 2b-a81eccb3bea99494a4cefa2eca63d0432e26d1c3-f2e86000d7c1edbe-01
2022-04-20T15:29:42.377Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:42.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd2d03756b59b0342c4e62300c6eab431200a19d-6e609d0e9e79b21c-01 outer:exit 2b-bd2d03756b59b0342c4e62300c6eab431200a19d-b57766f43a2958c4-01
2022-04-20T15:29:42.390Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:42.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe37ae66a1d1e7d28884f01a06359d7d5f0bead1-488c0980a050ca1e-01 outer:exit 2b-fe37ae66a1d1e7d28884f01a06359d7d5f0bead1-2fd47602dff96040-01
2022-04-20T15:29:42.394Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:42.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a47d46e5de053cf7ced34f560fb9fe798417353-d2c475a1b8aa800c-01 outer:exit 2b-4a47d46e5de053cf7ced34f560fb9fe798417353-550e1253681b358f-01
2022-04-20T15:29:42.401Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:42.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1a85852b4c9bdd2b4e404f97bb67f33346b6ccf-9c4ffd63722fd360-01 outer:exit 2b-c1a85852b4c9bdd2b4e404f97bb67f33346b6ccf-08db2b97ef2776f4-01
2022-04-20T15:29:42.405Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:42.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d95bcdbe8a68228aa3f9a48ed013e1693d49295-19a15db4e21b5158-01 outer:exit 2b-6d95bcdbe8a68228aa3f9a48ed013e1693d49295-564703428c29ec17-01
2022-04-20T15:29:42.411Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:42.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-3451a219de40bd0e01974b68576b0e6ebad04e91-89740f9cda44d93c-01 outer:exit 2b-3451a219de40bd0e01974b68576b0e6ebad04e91-fe70a8aa7d6f9b6d-01
2022-04-20T15:29:42.414Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:42.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef02cb0892b29472853a0fbdc0daec2504988a4c-e755021513e8fa97-01 outer:exit 2b-ef02cb0892b29472853a0fbdc0daec2504988a4c-855d3f4f7c7c0fdd-01
2022-04-20T15:29:42.419Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:42.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-624d88d60e3e66ee171f1f32962a106751ac7f1b-9eeda17f2f794d0d-01 outer:exit 2b-624d88d60e3e66ee171f1f32962a106751ac7f1b-3e4ec27d10f71cfc-01
2022-04-20T15:29:42.423Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:42.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-24894ffa80ce36d5665f62b7d8c7f59692652c32-44eb106a2aad4709-01 outer:exit 2b-24894ffa80ce36d5665f62b7d8c7f59692652c32-8a83fe226e0a22b1-01
2022-04-20T15:29:42.427Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:42.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-b350bea1b769fc29314fd2cc5f636924795bee74-c55b247a74622df4-01 outer:exit 2b-b350bea1b769fc29314fd2cc5f636924795bee74-0b41f40ee00a840e-01
2022-04-20T15:29:42.438Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:42.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-c053c570d378faa3918fe6ed843d3c9c1757529e-30d79516c00b55d2-01 outer:exit 2b-c053c570d378faa3918fe6ed843d3c9c1757529e-d925395380c82659-01
2022-04-20T15:29:42.461Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:42.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d7b780db26977ee010919073087089e4c72db9e-f23f8003690184dc-01 outer:exit 2b-1d7b780db26977ee010919073087089e4c72db9e-35fb11f003bfd4a0-01
2022-04-20T15:29:42.522Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:42.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b8cb378bb910fe28933d112fdab03672b11421f-129c0d390b0a7e61-01 outer:exit 2b-9b8cb378bb910fe28933d112fdab03672b11421f-df5090efa8aefb1e-01
2022-04-20T15:29:42.526Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:42.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d01cd6c4be5b9f7a3b055b283aff45479984362-f4b6f91d08acf8af-01 outer:exit 2b-1d01cd6c4be5b9f7a3b055b283aff45479984362-939969d349b8548e-01
2022-04-20T15:29:42.528Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:42.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-70edef89113de294ff24e94d2b66d2d3daa9a1ff-e74c6cb64e969bea-01 outer:exit 2b-70edef89113de294ff24e94d2b66d2d3daa9a1ff-4789226a27521443-01
2022-04-20T15:29:42.531Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:42.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-b93945f1edd8107ade1cd7ab260701ac5d1dcf27-2b36ae7f34613b56-01 outer:exit 2b-b93945f1edd8107ade1cd7ab260701ac5d1dcf27-fad97a7e77025fd0-01
2022-04-20T15:29:42.533Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:42.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-709b22299077dc454dfe9fc9738aae2702616f7e-97017d23030957c5-01 outer:exit 2b-709b22299077dc454dfe9fc9738aae2702616f7e-402836131ef53c56-01
2022-04-20T15:29:42.535Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:42.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-107b8650b04cf965f34a1279beb6e46873204e52-79e971189265b6ca-01 outer:exit 2b-107b8650b04cf965f34a1279beb6e46873204e52-45c5da0f2d78508f-01
2022-04-20T15:29:42.537Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:42.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-a52007a9c63860bb4a7ba7c2c3a422198541ba25-c596226a9caae75c-01 outer:exit 2b-a52007a9c63860bb4a7ba7c2c3a422198541ba25-e9f39c57ec0b65f0-01
2022-04-20T15:29:42.539Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:42.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-2eac3881b538fc9f780dcb8fbeb7a3bd984545e2-e15bfda64c4473e6-01 outer:exit 2b-2eac3881b538fc9f780dcb8fbeb7a3bd984545e2-7eaa89b066ebaac3-01
2022-04-20T15:29:42.540Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:42.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4a3a349f6af295bd2e4aba8c8f3ef41a579b22c-f894b131e52d0846-01 outer:exit 2b-e4a3a349f6af295bd2e4aba8c8f3ef41a579b22c-6d555a43d31a75f7-01
2022-04-20T15:29:42.543Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:42.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-43f65a70c8852d4df5ee30e725881947446293c4-6496418594c46ce7-01 outer:exit 2b-43f65a70c8852d4df5ee30e725881947446293c4-7b7bff76fd0e4438-01
2022-04-20T15:29:42.546Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:42.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-100ec0cf4e2419590b8bb0d0da2e87bcbee9d2fa-84d95952f30214e6-01 outer:exit 2b-100ec0cf4e2419590b8bb0d0da2e87bcbee9d2fa-d9caedab5ecd01fe-01
2022-04-20T15:29:42.548Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:42.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ee396448c301f8185d9fd8397e73c29a1fcd1de-d819f2ea4e0e9bd5-01 outer:exit 2b-7ee396448c301f8185d9fd8397e73c29a1fcd1de-736b338633682fc5-01
2022-04-20T15:29:42.550Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:42.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d164714810b118640c063e0a687380539870c45-33e1808f5e733148-01 outer:exit 2b-8d164714810b118640c063e0a687380539870c45-1868a9cf5286722b-01
2022-04-20T15:29:42.556Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:42.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-51b2bef40cbfd903b0665701e17066cbb4c30855-cfc599847c90a4bd-01 outer:exit 2b-51b2bef40cbfd903b0665701e17066cbb4c30855-9dd1de476d65775e-01
2022-04-20T15:29:42.561Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:42.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fa6008583ba7ba1aa8001ea100da61a8e7e32e2-4957e9afdf2b4509-01 outer:exit 2b-8fa6008583ba7ba1aa8001ea100da61a8e7e32e2-70b7bcba8314f83c-01
2022-04-20T15:29:42.569Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:42.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-84579ebd3d6929a3ca22a3148e5cf151da912351-c8057f15b0d12518-01 outer:exit 2b-84579ebd3d6929a3ca22a3148e5cf151da912351-facfad703576cc67-01
2022-04-20T15:29:42.577Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:42.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-c59bac4542ae0d6174d372adc3cfc552ecbe0d11-79905f753a86edb4-01 outer:exit 2b-c59bac4542ae0d6174d372adc3cfc552ecbe0d11-c8b92ffdabbfb5da-01
2022-04-20T15:29:42.579Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:42.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dcb5ca62303355d5f3cfec8cf561241ed29482e-e051cbd869b3897f-01 outer:exit 2b-0dcb5ca62303355d5f3cfec8cf561241ed29482e-d26af45f7f4e3a98-01
2022-04-20T15:29:42.581Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:42.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-f319efa631ada8b4ffe4e9359b57b6d75ab9277a-86db6d93eb35e557-01 outer:exit 2b-f319efa631ada8b4ffe4e9359b57b6d75ab9277a-f2422cdf8a8877bc-01
2022-04-20T15:29:42.587Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:42.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-347bede86eaae4c25011157e481d2730dda03972-bdbe9d72401ea3a8-01 outer:exit 2b-347bede86eaae4c25011157e481d2730dda03972-72ba0cba2a242225-01
2022-04-20T15:29:42.589Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:42.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-aab4d066ade4bee8c0b5e9de0539235460b08e71-bd3f20d98e9e9b08-01 outer:exit 2b-aab4d066ade4bee8c0b5e9de0539235460b08e71-1923a5a982450b85-01
2022-04-20T15:29:42.591Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:42.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b3dd9bbc5b16158d704c74ca19d756d5d180a56-a3290b7b0329845c-01 outer:exit 2b-7b3dd9bbc5b16158d704c74ca19d756d5d180a56-2e7cb5f54ff4506f-01
2022-04-20T15:29:42.593Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:42.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f791c8b2a8c92721f07e80cde7d8a79fbf01964-215656695116b048-01 outer:exit 2b-6f791c8b2a8c92721f07e80cde7d8a79fbf01964-226085c1377264a1-01
2022-04-20T15:29:42.594Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:42.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ef283785668979a79274130084831e3632caff8-98e672ee79cb833e-01 outer:exit 2b-8ef283785668979a79274130084831e3632caff8-be7d20aca4e5a408-01
2022-04-20T15:29:42.596Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:42.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a2c4e5c0ca333eddf33356f405c22858e170557-7fdefe67d2122fb7-01 outer:exit 2b-7a2c4e5c0ca333eddf33356f405c22858e170557-493208ea3fe03949-01
2022-04-20T15:29:42.605Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:42.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d9a976e65c05486135902fc013ab0bd976deb14-1fcb98fbcab2778a-01 outer:exit 2b-1d9a976e65c05486135902fc013ab0bd976deb14-68e8e89625a38059-01
2022-04-20T15:29:42.612Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:42.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6fb0b3dd0794d5e71534faad24d45e2fc5adeed-e1bfcf5fde3b13ec-01 outer:exit 2b-d6fb0b3dd0794d5e71534faad24d45e2fc5adeed-169b9612e9fdf127-01
2022-04-20T15:29:42.615Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:42.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-9650e71d3f5af0efc0f0c179f86879adf1fa8806-4de1b61af42a5c20-01 outer:exit 2b-9650e71d3f5af0efc0f0c179f86879adf1fa8806-12c091c301402fe6-01
2022-04-20T15:29:42.618Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:42.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec0be7dfe232f69318bb649e507cfd6793eaca46-14ccc2bbc441ce98-01 outer:exit 2b-ec0be7dfe232f69318bb649e507cfd6793eaca46-3eb608c21eadca86-01
2022-04-20T15:29:42.620Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:42.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-d59613d3431a9562f762749c795a487ec92f5d5c-a422036ce2020786-01 outer:exit 2b-d59613d3431a9562f762749c795a487ec92f5d5c-f5a1fa4f70fac3db-01
2022-04-20T15:29:42.645Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (366ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:48.912Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:48.912Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:48.912Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:48.913Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:48.971Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:49.080Z appoptics:patching patched crypto 
2022-04-20T15:29:49.099Z appoptics:patching patched https 
2022-04-20T15:29:49.099Z appoptics:patching patched http 
2022-04-20T15:29:49.140Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:49.141Z appoptics:patching patched fs 
2022-04-20T15:29:49.164Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v18.0.0)
2022-04-20T15:29:49.169Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2022-04-20T15:29:49.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a5aea0653a7b1bf4625de15f31e7d600909cfbb-9bcc9adc62ddad64-01 outer:exit 2b-6a5aea0653a7b1bf4625de15f31e7d600909cfbb-df2f44017e83f068-01
2022-04-20T15:29:49.216Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:49.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c76e6b777ae89b775530f63a6444c887bd984fb-62ef7316ff07cc38-01 outer:exit 2b-2c76e6b777ae89b775530f63a6444c887bd984fb-959b844b5c35558c-01
2022-04-20T15:29:49.259Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:49.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-edead2f8cf169c021650dfe5a7cb77250e6e7bc2-f8e2b596b4d9bca3-01 outer:exit 2b-edead2f8cf169c021650dfe5a7cb77250e6e7bc2-315684d6f22a978d-01
2022-04-20T15:29:49.262Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:49.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-d804c6d324a534ceb1ad271ddf7baeca7c575651-7f3ed79cf599e5b8-01 outer:exit 2b-d804c6d324a534ceb1ad271ddf7baeca7c575651-45af553213944695-01
2022-04-20T15:29:49.265Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:49.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d28771769e52addb35e071053f70ffc68f806d6-5eb9f0f126df78c2-01 outer:exit 2b-5d28771769e52addb35e071053f70ffc68f806d6-0bfa084fea9e2722-01
2022-04-20T15:29:49.269Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:49.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-b333d56b3a49a1332746b58e2b3c0f7298fb191f-c048a04ec1b51274-01 outer:exit 2b-b333d56b3a49a1332746b58e2b3c0f7298fb191f-6186e911416cde6d-01
2022-04-20T15:29:49.272Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:49.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7b5ee2667d1ac6f36ddcce29bd9ae6048a68c36-0c864a1250d2b7fa-01 outer:exit 2b-a7b5ee2667d1ac6f36ddcce29bd9ae6048a68c36-96124bc953ca4973-01
2022-04-20T15:29:49.275Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:49.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-e281a20f44bbc71f53a36268b9832c8ea26a4938-84d788d195445ee9-01 outer:exit 2b-e281a20f44bbc71f53a36268b9832c8ea26a4938-b7e8e20c0abb1e96-01
2022-04-20T15:29:49.278Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:49.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-cebdd728816e39656196cf318f79fa2021074f64-88e8ffcdb8822fb7-01 outer:exit 2b-cebdd728816e39656196cf318f79fa2021074f64-c1b09c942535af1b-01
2022-04-20T15:29:49.280Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:49.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-78b2508551778ada6cbb995db3b307a99be8e7eb-873c4eb2f4160a30-01 outer:exit 2b-78b2508551778ada6cbb995db3b307a99be8e7eb-ca451ae44d8f46a5-01
2022-04-20T15:29:49.285Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:49.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef9a4f036f4e5a731b4512af526e5a3d448f7c7e-d6515615db9d0b0f-01 outer:exit 2b-ef9a4f036f4e5a731b4512af526e5a3d448f7c7e-bff73558ffb2c79a-01
2022-04-20T15:29:49.289Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:49.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-27b33d9e83f8101a2ccd8bf09370f268e64e71ac-01eaf9454a3ba582-01 outer:exit 2b-27b33d9e83f8101a2ccd8bf09370f268e64e71ac-7752f4e30e8c1122-01
2022-04-20T15:29:49.295Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:49.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-142a9b5381cde2d420a3ff0cf3d3c7ad71c6d1a6-9e30be8aaefde1d0-01 outer:exit 2b-142a9b5381cde2d420a3ff0cf3d3c7ad71c6d1a6-7d864c6ce313e840-01
2022-04-20T15:29:49.310Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:49.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc526255285af738ccd7b5c93440bef22e596fb8-03ba29e78ba14000-01 outer:exit 2b-fc526255285af738ccd7b5c93440bef22e596fb8-5e66fada8d06ad8e-01
2022-04-20T15:29:49.361Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:49.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-61197cc2fec5b86aab40cdf24aab2c7648c28575-6428bb4bb3af4139-01 outer:exit 2b-61197cc2fec5b86aab40cdf24aab2c7648c28575-a8257d274fc0286e-01
2022-04-20T15:29:49.364Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:49.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed7bed2575a5d00dd6ebb7d20849e1c69704ff09-6ab9ecbf70af796b-01 outer:exit 2b-ed7bed2575a5d00dd6ebb7d20849e1c69704ff09-b937bb1fc0de725f-01
2022-04-20T15:29:49.367Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:49.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ec7a0b53c803882ccd96db0de839c721ddbc6a9-5b35f20ac74eda1a-01 outer:exit 2b-7ec7a0b53c803882ccd96db0de839c721ddbc6a9-9accc6826db46381-01
2022-04-20T15:29:49.369Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:49.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-52227fa03b63c0a2ca5debedd912632863271e38-6b18613a6c74faca-01 outer:exit 2b-52227fa03b63c0a2ca5debedd912632863271e38-ad87e51e6cfc4adb-01
2022-04-20T15:29:49.372Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:49.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2cf20c3829daf54aa6ef72b61009551b4b12201-689640e6f03edae3-01 outer:exit 2b-b2cf20c3829daf54aa6ef72b61009551b4b12201-01b7258d6c60a597-01
2022-04-20T15:29:49.374Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:49.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f04fefa9c3e3dc3cc5bb3a8f8d1b81ef3b24aa2-10ea9da2afeeb4e5-01 outer:exit 2b-9f04fefa9c3e3dc3cc5bb3a8f8d1b81ef3b24aa2-b2590d521e3c816a-01
2022-04-20T15:29:49.376Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:49.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ed20700b2a5315acd6b19557b720e83517c8dcf-5d45d9af916de934-01 outer:exit 2b-9ed20700b2a5315acd6b19557b720e83517c8dcf-683f2ef2fbfd7c3a-01
2022-04-20T15:29:49.379Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:49.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-130c38d84692603a227ab0a9ad3018422c5ecc76-4c7fb16aa6580e1f-01 outer:exit 2b-130c38d84692603a227ab0a9ad3018422c5ecc76-a42bd1385726f906-01
2022-04-20T15:29:49.381Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:49.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-af3b8c2d6bc98358a96986c912b15b4a9c92dc61-ade0640a7a697048-01 outer:exit 2b-af3b8c2d6bc98358a96986c912b15b4a9c92dc61-9ae06610d989e504-01
2022-04-20T15:29:49.383Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:49.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-7892c0ebd7765d8345b3f2ca39c60844718f18cd-f19689d86a22d94a-01 outer:exit 2b-7892c0ebd7765d8345b3f2ca39c60844718f18cd-156ad71a6c95501f-01
2022-04-20T15:29:49.386Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:49.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc8164550d805b3ec90c8c1268be19d25705af3a-63323cd054f8e0e5-01 outer:exit 2b-bc8164550d805b3ec90c8c1268be19d25705af3a-e1d7ce812073f066-01
2022-04-20T15:29:49.390Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:49.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cf163c1f393ad0d608a50a10818f97160923566-a7a7027648ac1543-01 outer:exit 2b-6cf163c1f393ad0d608a50a10818f97160923566-cc2db108d3aaef7e-01
2022-04-20T15:29:49.392Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:49.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-acb4bdfc5526768175f3eed0a31cc735deb58f26-661b6f61f994c337-01 outer:exit 2b-acb4bdfc5526768175f3eed0a31cc735deb58f26-4e60bed3e0d4226f-01
2022-04-20T15:29:49.398Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:49.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-e994e3cd1ab3fa18464a657da7e5c54ca1e2f765-4ac541a9fc30fee0-01 outer:exit 2b-e994e3cd1ab3fa18464a657da7e5c54ca1e2f765-99e2b131d52672ad-01
2022-04-20T15:29:49.406Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:49.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ea850b30197f12d41a973a6acbda8f89567d2f3-1ca71abf354f33f3-01 outer:exit 2b-0ea850b30197f12d41a973a6acbda8f89567d2f3-153f1e0f46593890-01
2022-04-20T15:29:49.414Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:49.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0e0f075c6da2a127112ad92a6aa3783119b9fd3-500568a44da09e35-01 outer:exit 2b-d0e0f075c6da2a127112ad92a6aa3783119b9fd3-dd4af7bf0ffb6fc0-01
2022-04-20T15:29:49.421Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:49.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a0d0d81c8affd2dd96d8262bff9c00edfc7f14e-a296dde9555dc2ec-01 outer:exit 2b-2a0d0d81c8affd2dd96d8262bff9c00edfc7f14e-253855e610c2c0f6-01
2022-04-20T15:29:49.424Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:49.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-d28c20f4ce853572f46a81ba07702e9f8d3c63c3-ec237fe75bd20826-01 outer:exit 2b-d28c20f4ce853572f46a81ba07702e9f8d3c63c3-f108129103306c5b-01
2022-04-20T15:29:49.431Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:49.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-093932f9ba111b41ba3e3cfae82322a6170f64e0-9f96f4c957d5b943-01 outer:exit 2b-093932f9ba111b41ba3e3cfae82322a6170f64e0-b86df97c1ee06632-01
2022-04-20T15:29:49.450Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:49.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7db7b690d02b1e68aed4a6a71cf4b709ccd21fd-da9d9c26bab50e81-01 outer:exit 2b-e7db7b690d02b1e68aed4a6a71cf4b709ccd21fd-a7b6ce3a88cdd175-01
2022-04-20T15:29:49.452Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:49.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1b49933a566d4568b62fcdbb527ba43aaad1752-b23cd89b9adbd55a-01 outer:exit 2b-d1b49933a566d4568b62fcdbb527ba43aaad1752-f888c14215abb2fc-01
2022-04-20T15:29:49.454Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:49.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b1c677aa29bf94a3672afb63af40217751c5864-a7c316371b4209bb-01 outer:exit 2b-3b1c677aa29bf94a3672afb63af40217751c5864-428ccedfc10e8e59-01
2022-04-20T15:29:49.455Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:49.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a240b5116e42e506ee1a3cb7650605972a9d9eb-804c8c938710f882-01 outer:exit 2b-5a240b5116e42e506ee1a3cb7650605972a9d9eb-87e12e25b0107868-01
2022-04-20T15:29:49.457Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:49.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-5551382618aac159f0246de45c15e85f970f4b15-961ede788bd58772-01 outer:exit 2b-5551382618aac159f0246de45c15e85f970f4b15-24a30d1864f48b2d-01
2022-04-20T15:29:49.459Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:49.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-b93bbd4a2b9521051cf05e76d00858e32046049d-de91c7fdef8441a8-01 outer:exit 2b-b93bbd4a2b9521051cf05e76d00858e32046049d-c8c2bb66e8d5108d-01
2022-04-20T15:29:49.467Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:49.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-12bd316502b35c6067fb53bf23d21040445a4e76-a3d9b828c4d4e065-01 outer:exit 2b-12bd316502b35c6067fb53bf23d21040445a4e76-875f86bc898e6c7d-01
2022-04-20T15:29:49.474Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:49.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-93003d2dfec01f868e8d482d7a8f30ad1b897591-7bb2226bb6ef6e53-01 outer:exit 2b-93003d2dfec01f868e8d482d7a8f30ad1b897591-c6355a3f0187ed27-01
2022-04-20T15:29:49.477Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:49.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9cdb0c106ad4dfba509008fa3991558cfde1b0b-ed8cf8a0769bdcb0-01 outer:exit 2b-f9cdb0c106ad4dfba509008fa3991558cfde1b0b-6d7f68ae88420b91-01
2022-04-20T15:29:49.480Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:49.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ae5dadf2085edbf000e134727d59c2f3c21bb80-923e14dffaae38bd-01 outer:exit 2b-0ae5dadf2085edbf000e134727d59c2f3c21bb80-96568261e6aaada3-01
2022-04-20T15:29:49.482Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:49.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-226939687a21d5795d61860361b46451b4069f11-af2bf243b3fb0ee7-01 outer:exit 2b-226939687a21d5795d61860361b46451b4069f11-55e764e0814bd355-01
2022-04-20T15:29:49.507Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (332ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:55.950Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:55.951Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:55.951Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:55.952Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:56.028Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:56.152Z appoptics:patching patched crypto 
2022-04-20T15:29:56.193Z appoptics:patching patched https 
2022-04-20T15:29:56.194Z appoptics:patching patched http 
2022-04-20T15:29:56.237Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:56.238Z appoptics:patching patched fs 
2022-04-20T15:29:56.266Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v18.0.0)
2022-04-20T15:29:56.272Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2022-04-20T15:29:56.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-7719ce2bf679b1ae77261933bde1a234a9b07398-cb0cba91acb597c0-01 outer:exit 2b-7719ce2bf679b1ae77261933bde1a234a9b07398-ffe40cede2dc47f5-01
2022-04-20T15:29:56.323Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:29:56.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-994f2873c6f13953ead9a161501af0d9ad2a1f4f-271c074f11585d42-01 outer:exit 2b-994f2873c6f13953ead9a161501af0d9ad2a1f4f-eb5bd329b8707c5c-01
2022-04-20T15:29:56.371Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:29:56.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5a544b3f3ac9aa0ebf736b81827512fac378812-bff4b81a0632279a-01 outer:exit 2b-a5a544b3f3ac9aa0ebf736b81827512fac378812-7675aa84c5250122-01
2022-04-20T15:29:56.377Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:29:56.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-29d67bd6dec7ca5b67de2afbbbaff10be48ec53b-b224e925b3a39854-01 outer:exit 2b-29d67bd6dec7ca5b67de2afbbbaff10be48ec53b-881eac6332123dd8-01
2022-04-20T15:29:56.380Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:29:56.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f5abed5e214b3e0e55c778a8425ae823128169f-4e58ca2124fb2edc-01 outer:exit 2b-6f5abed5e214b3e0e55c778a8425ae823128169f-84ba4652c2fde23f-01
2022-04-20T15:29:56.388Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:29:56.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fa25182456edd8c61a21a3d18bdb8e311e084b4-d3bbbffb049cde08-01 outer:exit 2b-3fa25182456edd8c61a21a3d18bdb8e311e084b4-d1cead1d8b2a841c-01
2022-04-20T15:29:56.391Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:29:56.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-adac6c8e659ebc502e21a100b3242016ad076e67-6ab6defd29b3c9b8-01 outer:exit 2b-adac6c8e659ebc502e21a100b3242016ad076e67-99d1a9960e11bf51-01
2022-04-20T15:29:56.393Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:29:56.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec4aa8bc8b5c9cceed4d9304d1ca2483ee36af0c-4aadf0cbc9c888ac-01 outer:exit 2b-ec4aa8bc8b5c9cceed4d9304d1ca2483ee36af0c-7511559ce556f21d-01
2022-04-20T15:29:56.396Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:29:56.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d0e446ac4bef4c8d30126efbfb16f84d1a1b161-96437004282a1f76-01 outer:exit 2b-1d0e446ac4bef4c8d30126efbfb16f84d1a1b161-cf8592463b0607be-01
2022-04-20T15:29:56.398Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:29:56.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-e373c91766a1b5952606a92595650337c6635e51-d4ca1315f36cfafe-01 outer:exit 2b-e373c91766a1b5952606a92595650337c6635e51-7689b426e0f857d5-01
2022-04-20T15:29:56.401Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:29:56.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-71d7e37b8f4c071fa274ff7b667ff2b45ec33b2c-a4f0a1d5e060ad7c-01 outer:exit 2b-71d7e37b8f4c071fa274ff7b667ff2b45ec33b2c-bbdf4cb66d4303e2-01
2022-04-20T15:29:56.405Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:29:56.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-e56f5aabd139867975035ceb30be926604bce6c6-df2e82029aa03980-01 outer:exit 2b-e56f5aabd139867975035ceb30be926604bce6c6-8d553f4851cf9dc3-01
2022-04-20T15:29:56.411Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:29:56.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-8910b73bc3b3453a8a70d3beb0c129d1d64b943a-6ef735d207db7ddf-01 outer:exit 2b-8910b73bc3b3453a8a70d3beb0c129d1d64b943a-a5b9dc91ad02468d-01
2022-04-20T15:29:56.426Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:29:56.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4d7b15f3e8b92d78fb14dc31e8c2fc6bde9c145-abf72f214035a454-01 outer:exit 2b-a4d7b15f3e8b92d78fb14dc31e8c2fc6bde9c145-ee6f80320e2e10a3-01
2022-04-20T15:29:56.471Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:29:56.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-a80c72ab1482d27ae6c2bc3a5627fd061137afc2-86621b0f9aeeaad9-01 outer:exit 2b-a80c72ab1482d27ae6c2bc3a5627fd061137afc2-4ba4fc6229db5d52-01
2022-04-20T15:29:56.475Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:29:56.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ff5b2f155e83bb1fb7519ba957e68958c86266d-ba5b322e4f58cb68-01 outer:exit 2b-4ff5b2f155e83bb1fb7519ba957e68958c86266d-5834537687b5081f-01
2022-04-20T15:29:56.478Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:29:56.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-e379d3e9ace36090f1d78abdb0a4d31013c67bdf-66f57cd403b94999-01 outer:exit 2b-e379d3e9ace36090f1d78abdb0a4d31013c67bdf-7bc38c7a535be8c2-01
2022-04-20T15:29:56.482Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:29:56.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-e694965051f9cfadc0748ce478e05c8b313981f6-c57cad5e325591d7-01 outer:exit 2b-e694965051f9cfadc0748ce478e05c8b313981f6-addca4208f597b14-01
2022-04-20T15:29:56.484Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:29:56.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-f28f1126f5061b95c809711fc109568a5f66ff84-1241b0220fe442db-01 outer:exit 2b-f28f1126f5061b95c809711fc109568a5f66ff84-13f0ba133da2d7de-01
2022-04-20T15:29:56.487Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:29:56.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-22909605c51dd5bdc64fcb60c475c8859fa187a9-d9fa818d66cefbb8-01 outer:exit 2b-22909605c51dd5bdc64fcb60c475c8859fa187a9-d314690deb17d279-01
2022-04-20T15:29:56.489Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:29:56.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-afdb5a14be1a128ea5833b58101a3ee905ab5fb8-d8e2b479d78d75d6-01 outer:exit 2b-afdb5a14be1a128ea5833b58101a3ee905ab5fb8-6e722cecabc3ace9-01
2022-04-20T15:29:56.495Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:29:56.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fe19a6e6146d9fc4bacc2777fd03921c7167cf0-2d589317d727b75b-01 outer:exit 2b-8fe19a6e6146d9fc4bacc2777fd03921c7167cf0-c0bf05be9053d85a-01
2022-04-20T15:29:56.497Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:29:56.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-14bb8e3aaf5046a4d5b5d0542c121b49a1a9cebe-89c7b6657b2135ba-01 outer:exit 2b-14bb8e3aaf5046a4d5b5d0542c121b49a1a9cebe-e8b817bbee8b6cc4-01
2022-04-20T15:29:56.502Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:29:56.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-911411efcd2f09687fee81d3154f697f2dbcf50d-2b045cd8504bd1a3-01 outer:exit 2b-911411efcd2f09687fee81d3154f697f2dbcf50d-354151498eb81aa4-01
2022-04-20T15:29:56.505Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:29:56.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dc869b391699650f00f53120b19623b4c74dc47-81f356bf17471867-01 outer:exit 2b-7dc869b391699650f00f53120b19623b4c74dc47-216f57f894a3258f-01
2022-04-20T15:29:56.508Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:29:56.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d89727dfb574c6600d4b8835db02c2d56d85ca7-2d81193cfa8e513f-01 outer:exit 2b-9d89727dfb574c6600d4b8835db02c2d56d85ca7-2b2b60e7ccbf17d2-01
2022-04-20T15:29:56.510Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:29:56.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-b187f1907a67be78ee9e69d4d0e036502f53a065-af11b535cbf4446a-01 outer:exit 2b-b187f1907a67be78ee9e69d4d0e036502f53a065-1067c0fb57135028-01
2022-04-20T15:29:56.517Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:29:56.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-399f23df589e50d2898f5c3499d51adb54d8d2b6-23fa4c673633bde6-01 outer:exit 2b-399f23df589e50d2898f5c3499d51adb54d8d2b6-96c092803ea96766-01
2022-04-20T15:29:56.524Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:29:56.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6888b10dbfa09b33a943e92ebbeeb82008930e3-c385a23585ed478e-01 outer:exit 2b-d6888b10dbfa09b33a943e92ebbeeb82008930e3-60867f37277d1c11-01
2022-04-20T15:29:56.533Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:29:56.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-171d0cfc44b77dc1bc8a01326241b4262f6529ce-febb7ee268ef7c00-01 outer:exit 2b-171d0cfc44b77dc1bc8a01326241b4262f6529ce-abb5eb5c0aba3b24-01
2022-04-20T15:29:56.539Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:29:56.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f3ca4511ebc53d23548c6ef141fa9a4341a499b-a176eb55a4c4ba13-01 outer:exit 2b-3f3ca4511ebc53d23548c6ef141fa9a4341a499b-ad2dff3b417ca6d2-01
2022-04-20T15:29:56.541Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:29:56.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-62d99ea7dbf1c8f96ca64124c8ab0fbdab764990-e8c190de96f8e0c3-01 outer:exit 2b-62d99ea7dbf1c8f96ca64124c8ab0fbdab764990-d4e1db4999b0d061-01
2022-04-20T15:29:56.544Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:29:56.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-69501a3d5b5129d9f2818fd58d44d9665719d646-e5beea1da68c5fd8-01 outer:exit 2b-69501a3d5b5129d9f2818fd58d44d9665719d646-d36070fa8f2d86e9-01
2022-04-20T15:29:56.551Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:29:56.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9d21914b2bb71a84c3339378e5712726ba6fef3-845aa0e591d4b3ab-01 outer:exit 2b-a9d21914b2bb71a84c3339378e5712726ba6fef3-b2d66abb60b2fc81-01
2022-04-20T15:29:56.553Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:29:56.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-83be67a9f55ada6d3ff62bbdf9fd82a19f5ee261-aafe1bb911efda8d-01 outer:exit 2b-83be67a9f55ada6d3ff62bbdf9fd82a19f5ee261-07a1b1f43150e160-01
2022-04-20T15:29:56.562Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:29:56.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-434db63c6e54e1e17a26ded4543afd28383b6015-d4f05a990f7573e9-01 outer:exit 2b-434db63c6e54e1e17a26ded4543afd28383b6015-ed09d8c7fe08a1d7-01
2022-04-20T15:29:56.563Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:29:56.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f89738f558d95d0cd438f37cdbb15290ae98436-aaa5d7751b1951b5-01 outer:exit 2b-6f89738f558d95d0cd438f37cdbb15290ae98436-43167bf11c097746-01
2022-04-20T15:29:56.565Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:29:56.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ed562d81e8bfa72620763a0ec0e0c1dbd58e6d9-62b1eaec50ef47fd-01 outer:exit 2b-7ed562d81e8bfa72620763a0ec0e0c1dbd58e6d9-3fecf05325a6a29c-01
2022-04-20T15:29:56.570Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:29:56.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae75a3db941a5625356ea53aef805669ccc2eca0-4986c5f0c3a3b53d-01 outer:exit 2b-ae75a3db941a5625356ea53aef805669ccc2eca0-b47fd10e7ef1b568-01
2022-04-20T15:29:56.579Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:29:56.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4d87553afbc3f6d7e747a8d64f0bf32eae6e5ec-f41c472d82bf6636-01 outer:exit 2b-e4d87553afbc3f6d7e747a8d64f0bf32eae6e5ec-9863df635a55fa70-01
2022-04-20T15:29:56.590Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:29:56.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b73f8e7eb7022047668f253b891a64d778fc88a-8f7f6c48641f3262-01 outer:exit 2b-4b73f8e7eb7022047668f253b891a64d778fc88a-73b4994154d498e1-01
2022-04-20T15:29:56.593Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:29:56.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ef7270463b5ec473477840cc381fb3260645a35-6d8586b354cd888c-01 outer:exit 2b-2ef7270463b5ec473477840cc381fb3260645a35-692a9bcf099d04c3-01
2022-04-20T15:29:56.596Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:29:56.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6a96cb8a8b3bf2b572b7c450d1a7966d238b9d0-23c177a6cae4e3db-01 outer:exit 2b-d6a96cb8a8b3bf2b572b7c450d1a7966d238b9d0-788c7b08b3b50519-01
2022-04-20T15:29:56.599Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:29:56.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a75436d07afb6282213f8d30d32b887008f3fc5-893e905f089349ae-01 outer:exit 2b-5a75436d07afb6282213f8d30d32b887008f3fc5-cfe28cdc05afde59-01
2022-04-20T15:29:56.655Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (376ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:02.939Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:02.939Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:02.939Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:02.940Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:03.053Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:03.190Z appoptics:patching patched crypto 
2022-04-20T15:30:03.220Z appoptics:patching patched https 
2022-04-20T15:30:03.221Z appoptics:patching patched http 
2022-04-20T15:30:03.265Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:03.265Z appoptics:patching patched fs 
2022-04-20T15:30:03.289Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v18.0.0)
2022-04-20T15:30:03.295Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2022-04-20T15:30:03.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-07659060ecd4f3a402091fa46762a0b4d3b3e41b-42efdb4f6837103a-01 outer:exit 2b-07659060ecd4f3a402091fa46762a0b4d3b3e41b-0652c7f4a225981e-01
2022-04-20T15:30:03.339Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:03.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d09168165123c47d9a133ad9619b29b05f22b51-c4ccdf199a92bd5e-01 outer:exit 2b-4d09168165123c47d9a133ad9619b29b05f22b51-042a1e402860747b-01
2022-04-20T15:30:03.383Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:03.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f2bbcffb865adf03fd7d9e927a7f7e2641b5115-f0c53a25ea411e74-01 outer:exit 2b-6f2bbcffb865adf03fd7d9e927a7f7e2641b5115-5de9ed03b7a11aae-01
2022-04-20T15:30:03.387Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:03.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd12eece8d35faa2efe106471b780937cbc3c322-ec2e33fb1b3fa3a6-01 outer:exit 2b-cd12eece8d35faa2efe106471b780937cbc3c322-9667c114864bef61-01
2022-04-20T15:30:03.392Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:03.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-dee31581d763728dda0be3b7db5fc49839fff126-0472230b0223e130-01 outer:exit 2b-dee31581d763728dda0be3b7db5fc49839fff126-b98ba0bba73ec1a0-01
2022-04-20T15:30:03.396Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:03.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-22cd59cb554e0142458148636709cbf5799e9bba-38ab36acf6d0e146-01 outer:exit 2b-22cd59cb554e0142458148636709cbf5799e9bba-796d8f614eeb5647-01
2022-04-20T15:30:03.399Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:03.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-945fde37fb5ce40e0a4cd21b3bead425c690cd5b-2b380eae21325821-01 outer:exit 2b-945fde37fb5ce40e0a4cd21b3bead425c690cd5b-a69adbeb02128bdb-01
2022-04-20T15:30:03.402Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:03.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebedd0128fb68b6683f007fb029b26c9b2b8a8ce-11b33a453bab9e24-01 outer:exit 2b-ebedd0128fb68b6683f007fb029b26c9b2b8a8ce-9a0fc34c0d762bde-01
2022-04-20T15:30:03.404Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:03.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-5857658561e3acd060f9e405dbc0b42b480ef1f2-2a09259404598b06-01 outer:exit 2b-5857658561e3acd060f9e405dbc0b42b480ef1f2-dd3b080c62779deb-01
2022-04-20T15:30:03.407Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:03.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0ad542d5212340306d6b4b5760f4e26724c6613-91cf44420d46497c-01 outer:exit 2b-a0ad542d5212340306d6b4b5760f4e26724c6613-d21e37c60bf94c01-01
2022-04-20T15:30:03.410Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:03.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd5f7e034038b7092bf2d6a2fd946323bad58f0c-e8a8df6a6510a3e4-01 outer:exit 2b-fd5f7e034038b7092bf2d6a2fd946323bad58f0c-22f21b0268cc7792-01
2022-04-20T15:30:03.413Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:03.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-33771c169ebeec4ab1869904c13651af3fa6ac79-f41529e9212b0515-01 outer:exit 2b-33771c169ebeec4ab1869904c13651af3fa6ac79-66cb2604b6a8e17c-01
2022-04-20T15:30:03.420Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:03.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2d3be321c3f503f4f2912e0c51f540ae5383ccd-ab3ace2c21e91058-01 outer:exit 2b-e2d3be321c3f503f4f2912e0c51f540ae5383ccd-cf9364e2808dac8f-01
2022-04-20T15:30:03.435Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:03.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b821d67687637c1d523beb0bf267647c5491111-a1b9fe4678a7807e-01 outer:exit 2b-1b821d67687637c1d523beb0bf267647c5491111-1042290f86b28fe6-01
2022-04-20T15:30:03.475Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:03.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-eea9562e514b50b6db2f32f2f0f1e60b670f8b2c-591f7995f6a6c800-01 outer:exit 2b-eea9562e514b50b6db2f32f2f0f1e60b670f8b2c-a00c7eebc786307c-01
2022-04-20T15:30:03.478Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:03.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cae234ada30f7ec2cda116f0edf58f60d6d3441-8ab71a3e804631e1-01 outer:exit 2b-3cae234ada30f7ec2cda116f0edf58f60d6d3441-8e434cc0561c10f2-01
2022-04-20T15:30:03.481Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:03.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-baa9bb280a5289bab6f4b64c39e722f80aa88900-e33ebfb995d23177-01 outer:exit 2b-baa9bb280a5289bab6f4b64c39e722f80aa88900-6da241575031bc55-01
2022-04-20T15:30:03.483Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:03.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-330ea97ae8863a3281548e6daaa4c454929539f9-374666a858512d70-01 outer:exit 2b-330ea97ae8863a3281548e6daaa4c454929539f9-49d991a058131ed9-01
2022-04-20T15:30:03.486Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:03.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-26df652d75255cb5580876e1ab0e0b5c5beab72c-566b7fd1b8faa874-01 outer:exit 2b-26df652d75255cb5580876e1ab0e0b5c5beab72c-04a7ea113baa9423-01
2022-04-20T15:30:03.487Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:03.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8287bbffd1b085429f807bdcb96797d878008b4-2b93a63c6c19a64c-01 outer:exit 2b-d8287bbffd1b085429f807bdcb96797d878008b4-2667816281190fbc-01
2022-04-20T15:30:03.489Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:03.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-378750de01014763410ae9b257652d73610fecb5-5aa694e6872e1041-01 outer:exit 2b-378750de01014763410ae9b257652d73610fecb5-8abee70789abba5a-01
2022-04-20T15:30:03.491Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:03.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f030faef1b5cdd1f176e0c71ebb6cd9c8e1a56c-89887795a9857312-01 outer:exit 2b-3f030faef1b5cdd1f176e0c71ebb6cd9c8e1a56c-0bb232cc2acd4771-01
2022-04-20T15:30:03.493Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:03.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-ede6c078877d821c81300b2af326c6f1bd6c7f90-c1c969fcaa243aa9-01 outer:exit 2b-ede6c078877d821c81300b2af326c6f1bd6c7f90-3caf4e14e1f8af92-01
2022-04-20T15:30:03.495Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:03.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-018adcad5f2024f9b4ed1a5fc9086eb014e29d86-af886ac9b7de080e-01 outer:exit 2b-018adcad5f2024f9b4ed1a5fc9086eb014e29d86-0a7e0d9b07138e7d-01
2022-04-20T15:30:03.498Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:03.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a91d9cdc1e8ba772f0abe0d8095c12b2e36f453-74f2bc969cfa71f4-01 outer:exit 2b-3a91d9cdc1e8ba772f0abe0d8095c12b2e36f453-29a96f5d0efaac7b-01
2022-04-20T15:30:03.500Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:03.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7476b56e54071118551d9336a448fa53c2ec601-b42245c6e7593b63-01 outer:exit 2b-d7476b56e54071118551d9336a448fa53c2ec601-2da7b9981c4a29b8-01
2022-04-20T15:30:03.502Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:03.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-71f739b6c6bca490a08dbfeb6ac6cc16b7636244-ade95e926761887f-01 outer:exit 2b-71f739b6c6bca490a08dbfeb6ac6cc16b7636244-060dbd0f1d8a5bb6-01
2022-04-20T15:30:03.508Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:03.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cfbcab11962a85e09124839ee54ae36470333ef-87c77c578d233ce9-01 outer:exit 2b-3cfbcab11962a85e09124839ee54ae36470333ef-499510c772585bad-01
2022-04-20T15:30:03.513Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:03.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-673d9b1937b12011eb53696108167308eb103e1a-fdf28e02fb64023a-01 outer:exit 2b-673d9b1937b12011eb53696108167308eb103e1a-3c8929c31315c8d2-01
2022-04-20T15:30:03.520Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:03.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-9667da373989fe428c591c229abbf4c385628f33-32d9c032efbffbe1-01 outer:exit 2b-9667da373989fe428c591c229abbf4c385628f33-08bbff7f2f452b58-01
2022-04-20T15:30:03.526Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:03.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d73e8f687c77b811d67ee9efe1c8981cb9c6e1a-0fd12bac38af1059-01 outer:exit 2b-0d73e8f687c77b811d67ee9efe1c8981cb9c6e1a-41a673c7ef1f1b61-01
2022-04-20T15:30:03.528Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:03.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-297422a6ea839d0a14aa1d2cb39144daa0ed2ce7-1581780510e50c70-01 outer:exit 2b-297422a6ea839d0a14aa1d2cb39144daa0ed2ce7-61f8b26a7c5f9993-01
2022-04-20T15:30:03.530Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:03.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fc0785bbd7d6bf4c67e3a86d61b7eaf36619a07-35073985ebad3fc7-01 outer:exit 2b-8fc0785bbd7d6bf4c67e3a86d61b7eaf36619a07-ff7df90b3e933b9c-01
2022-04-20T15:30:03.536Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:03.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-b36f65580dd7351110f0b39f4a47d26c4da1ca44-85f9f50c0307507a-01 outer:exit 2b-b36f65580dd7351110f0b39f4a47d26c4da1ca44-6a704e91c79828e3-01
2022-04-20T15:30:03.538Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:03.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-71d56eb5db23f12caba4537170fa1aae87ce23bb-70291b84f3e7355c-01 outer:exit 2b-71d56eb5db23f12caba4537170fa1aae87ce23bb-78c4e748e6dcfb12-01
2022-04-20T15:30:03.540Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:03.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-61e8647d476ee53e4f5f57a19c53fe82691ca601-d8946c7436199813-01 outer:exit 2b-61e8647d476ee53e4f5f57a19c53fe82691ca601-3846c1f521498d91-01
2022-04-20T15:30:03.542Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:03.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-f754b22fa4fbc79aae88c4d897a94747985d30f4-7bb92cb209f3bd44-01 outer:exit 2b-f754b22fa4fbc79aae88c4d897a94747985d30f4-714647b9d07ac432-01
2022-04-20T15:30:03.543Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:03.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-f060c054c272fe7c75fa405b4ccd6a350908bf46-a88bcce9cd72a661-01 outer:exit 2b-f060c054c272fe7c75fa405b4ccd6a350908bf46-f474aff1952f4d97-01
2022-04-20T15:30:03.545Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:03.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-d851f314a529996a9a40c22c325450347ba92937-878bd459a7b89ae5-01 outer:exit 2b-d851f314a529996a9a40c22c325450347ba92937-743d221ec9681dc6-01
2022-04-20T15:30:03.553Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:03.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-29f72ec39c03ce3053b800943e083904c34d0669-900097603f523539-01 outer:exit 2b-29f72ec39c03ce3053b800943e083904c34d0669-049a33c2aee42886-01
2022-04-20T15:30:03.562Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:03.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-53bbd255f4c4d042838aa1f4aefa5739e3cbfeba-e757258187cfc1ee-01 outer:exit 2b-53bbd255f4c4d042838aa1f4aefa5739e3cbfeba-81bb4958514a12c0-01
2022-04-20T15:30:03.564Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:03.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-5287698e48ae4cf69a479cc0b68813e14d94827f-eaaa369793addfd2-01 outer:exit 2b-5287698e48ae4cf69a479cc0b68813e14d94827f-e15613167bc62ef6-01
2022-04-20T15:30:03.567Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:03.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-156583dcdc38eff6792b3fb570ec685ddc0db692-dc076566fd502d8c-01 outer:exit 2b-156583dcdc38eff6792b3fb570ec685ddc0db692-f0b0549d27c78963-01
2022-04-20T15:30:03.569Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:03.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc1761cc9aaa7e0ddf3e88d660567a066a6e6c62-340c7567ddf5066d-01 outer:exit 2b-fc1761cc9aaa7e0ddf3e88d660567a066a6e6c62-321562ee413b5f2c-01
2022-04-20T15:30:03.597Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (295ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:10.011Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:10.011Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:10.011Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:10.012Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:10.070Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:10.181Z appoptics:patching patched crypto 
2022-04-20T15:30:10.198Z appoptics:patching patched https 
2022-04-20T15:30:10.199Z appoptics:patching patched http 
2022-04-20T15:30:10.242Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:10.243Z appoptics:patching patched fs 
2022-04-20T15:30:10.266Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v18.0.0)
2022-04-20T15:30:10.271Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2022-04-20T15:30:10.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-837043b470049ed10735d68ef21261d9f0f84813-8d55d76d30a16824-01 outer:exit 2b-837043b470049ed10735d68ef21261d9f0f84813-2f0f54e9b5aac92b-01
2022-04-20T15:30:10.313Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:10.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-01035781db4f12545f33ea9dcc4c7eb06b5c99ec-025411ce9718ca7b-01 outer:exit 2b-01035781db4f12545f33ea9dcc4c7eb06b5c99ec-7e5666865876e000-01
2022-04-20T15:30:10.357Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:10.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a27bb8497abefe4c4e8a805e44f9a5b209282eb-96f532bba9573326-01 outer:exit 2b-0a27bb8497abefe4c4e8a805e44f9a5b209282eb-8ee547cd490f2ade-01
2022-04-20T15:30:10.361Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:10.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-251fc66a61dbef7c57ad056d822e6df191f6a670-43e9d7e07936f64c-01 outer:exit 2b-251fc66a61dbef7c57ad056d822e6df191f6a670-8c1e01cafcd9844d-01
2022-04-20T15:30:10.364Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:10.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7e11ff38f9ca78084b5328c4800ae5c51fdabaf-10e26c8343d53768-01 outer:exit 2b-b7e11ff38f9ca78084b5328c4800ae5c51fdabaf-0728a1b518283d7c-01
2022-04-20T15:30:10.368Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:10.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-be07f5616694e0eede39b46d1908759d22049c89-e62c7af53619a3f1-01 outer:exit 2b-be07f5616694e0eede39b46d1908759d22049c89-ade1f769a3909cd8-01
2022-04-20T15:30:10.371Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:10.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-de94ea9449a23ddc1c11009bc5f9af7aefed6b4a-9f35878edecbe98f-01 outer:exit 2b-de94ea9449a23ddc1c11009bc5f9af7aefed6b4a-568fe0e58162f231-01
2022-04-20T15:30:10.374Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:10.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab50c4b764917d8c38ea6f7ba17003617b34d96d-9501bb944d77c1fe-01 outer:exit 2b-ab50c4b764917d8c38ea6f7ba17003617b34d96d-4e30b65b0d3acb96-01
2022-04-20T15:30:10.377Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:10.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a61762781da51630999c4315a53dc074d5a143e-03e5ae16a1960f4c-01 outer:exit 2b-8a61762781da51630999c4315a53dc074d5a143e-d6cee8517df48320-01
2022-04-20T15:30:10.379Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:10.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-29bf023d12af25c3ad2bbbba4b0c8b9d4502377c-d5dc6978baabdf9b-01 outer:exit 2b-29bf023d12af25c3ad2bbbba4b0c8b9d4502377c-9dfa8f9e6474b9cf-01
2022-04-20T15:30:10.384Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:10.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e868a69a5fd1d81923d7108ee7e6ba0a6874521-5cb9fceca6e06dab-01 outer:exit 2b-7e868a69a5fd1d81923d7108ee7e6ba0a6874521-0cb82514cd177940-01
2022-04-20T15:30:10.388Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:10.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fd65f2067cc305f9c734b7510d4b0fbd7738aad-3c093160ffec29ec-01 outer:exit 2b-0fd65f2067cc305f9c734b7510d4b0fbd7738aad-39a486bc92be8de2-01
2022-04-20T15:30:10.394Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:10.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdd6cf5ee17bb5e1b4ef86de5587e81ed6e278c7-80e34b040d14fc76-01 outer:exit 2b-fdd6cf5ee17bb5e1b4ef86de5587e81ed6e278c7-f9f04fdce1170736-01
2022-04-20T15:30:10.410Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:10.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-0692179d025ed2bccbf4cf306e5d7e1a022d993d-cebd318bb2a8a040-01 outer:exit 2b-0692179d025ed2bccbf4cf306e5d7e1a022d993d-4b7cc5c6b132f53f-01
2022-04-20T15:30:10.447Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:10.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-821108fd8ecb19482f4d1ec52fe76a4448ed7f75-ab19af53094fb34f-01 outer:exit 2b-821108fd8ecb19482f4d1ec52fe76a4448ed7f75-b99c76283b71d95a-01
2022-04-20T15:30:10.450Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:10.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-70aa372eef05d40eba079e575a7460d87835d442-cbe854610fb88b2d-01 outer:exit 2b-70aa372eef05d40eba079e575a7460d87835d442-7891a4238ceae5c6-01
2022-04-20T15:30:10.453Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:10.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-06e3a45007623f1f6ba53ff64f0ab24f4befaa67-93ee12bd34bc03a7-01 outer:exit 2b-06e3a45007623f1f6ba53ff64f0ab24f4befaa67-7e748cc0d8fac6cc-01
2022-04-20T15:30:10.456Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:10.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddd0f9ef0889197de5833a1973b707c634710250-516e672428261d17-01 outer:exit 2b-ddd0f9ef0889197de5833a1973b707c634710250-8b4c7ef64efacead-01
2022-04-20T15:30:10.458Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:10.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbbb0b49827419ed02587a6565610a118e1d7d8e-95bdfdc6908971d7-01 outer:exit 2b-bbbb0b49827419ed02587a6565610a118e1d7d8e-cb0f3d5383d2f5c0-01
2022-04-20T15:30:10.460Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:10.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-da30d9a843f685d5cf13452403926cddba98ddbf-d6f67c1d9085b97f-01 outer:exit 2b-da30d9a843f685d5cf13452403926cddba98ddbf-1f62a6bdd7703b79-01
2022-04-20T15:30:10.462Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:10.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dd58faa215552c551db744d09e72230c6fcfec8-04166c450cd10df3-01 outer:exit 2b-3dd58faa215552c551db744d09e72230c6fcfec8-1c8a8f9a09fed181-01
2022-04-20T15:30:10.464Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:10.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0b70db5bbc3a6bde4afb0d5c5a9c37ec39c6868-3846301a7fc599ec-01 outer:exit 2b-a0b70db5bbc3a6bde4afb0d5c5a9c37ec39c6868-3bfe5cd6e013c527-01
2022-04-20T15:30:10.465Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:10.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-e61e86431b1d646aaa9aac56f94d7a8855f26c8f-e9650b371bfa83f8-01 outer:exit 2b-e61e86431b1d646aaa9aac56f94d7a8855f26c8f-c69f48213c4ac3c7-01
2022-04-20T15:30:10.468Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:10.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ffee88318dda713aa0ae9798d47ee4d779ad129-ef780ad646c1b93f-01 outer:exit 2b-7ffee88318dda713aa0ae9798d47ee4d779ad129-ce616e50a37b97c3-01
2022-04-20T15:30:10.471Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:10.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2ef197604f2f95a99e32bee2dc9f5f20cf10437-8f42deb6c09b486f-01 outer:exit 2b-d2ef197604f2f95a99e32bee2dc9f5f20cf10437-32c568cde1db805b-01
2022-04-20T15:30:10.473Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:10.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-20470cb9ae8d450563ffcd16f4c439c57ef76e97-68d2c208bfd655e9-01 outer:exit 2b-20470cb9ae8d450563ffcd16f4c439c57ef76e97-d95e9eee679a1413-01
2022-04-20T15:30:10.475Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:10.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb071b88c63aac5fa5990c40a99b2dc394f1abaa-b4d2f4b2fc4e351c-01 outer:exit 2b-eb071b88c63aac5fa5990c40a99b2dc394f1abaa-0919db97eac593ee-01
2022-04-20T15:30:10.481Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:10.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a20ac966a92719d7794814e74a60960376ea237-7a1eb7b421cf7cb4-01 outer:exit 2b-1a20ac966a92719d7794814e74a60960376ea237-9f4d1e2003d1cf6d-01
2022-04-20T15:30:10.487Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:10.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b09cf73dc060ac34c1d27defde3fa83193b851a-cb841b7a6af7bc2f-01 outer:exit 2b-3b09cf73dc060ac34c1d27defde3fa83193b851a-7c1a2cca9d29af9e-01
2022-04-20T15:30:10.495Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:10.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-53e541b7b2b9cc2cc54d7322871a22fad2e07dd9-d421a30de0310dab-01 outer:exit 2b-53e541b7b2b9cc2cc54d7322871a22fad2e07dd9-1a351cc9c0b57393-01
2022-04-20T15:30:10.501Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:10.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8d8fdf71e85190ae2b3321080ce7ba135545b53-231952db937d0f8f-01 outer:exit 2b-b8d8fdf71e85190ae2b3321080ce7ba135545b53-91fe164bd042a937-01
2022-04-20T15:30:10.503Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:10.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d0a754e05a3c194f9d83b694da362ba2e3b1c91-ec7fc9d490df8698-01 outer:exit 2b-0d0a754e05a3c194f9d83b694da362ba2e3b1c91-91010269a68f65f9-01
2022-04-20T15:30:10.506Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:10.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e7280ccb921d4f7ce3f82d74ce1195bd465f1e4-c2cf4040f0686447-01 outer:exit 2b-6e7280ccb921d4f7ce3f82d74ce1195bd465f1e4-756304be5d1272c6-01
2022-04-20T15:30:10.512Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:10.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d68614f53a5c4d5fd395f1bb9a874fca56b8f50-3722ee5902d19bfc-01 outer:exit 2b-5d68614f53a5c4d5fd395f1bb9a874fca56b8f50-c58213243f1a0a37-01
2022-04-20T15:30:10.514Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:10.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-112d6ef6d704db314885fc12cc7613053388f8b6-c707ada0c77841d3-01 outer:exit 2b-112d6ef6d704db314885fc12cc7613053388f8b6-86a2c828ba73b970-01
2022-04-20T15:30:10.516Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:10.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-82cd33bfdcca9ca4ef4d865c567c4461e0913590-737f855d299f67a5-01 outer:exit 2b-82cd33bfdcca9ca4ef4d865c567c4461e0913590-01f979b2c8eb54a1-01
2022-04-20T15:30:10.517Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:10.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-f69caa39b2ea3dfcf7667618898bcc0f7c79d88e-28fc276031531d11-01 outer:exit 2b-f69caa39b2ea3dfcf7667618898bcc0f7c79d88e-c44df0c81d71a329-01
2022-04-20T15:30:10.519Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:10.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-b843a577f0845965a8289f363329fb1d3cc46862-c96b4ee1281eacdf-01 outer:exit 2b-b843a577f0845965a8289f363329fb1d3cc46862-385b4f3cf173c5b8-01
2022-04-20T15:30:10.521Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:10.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf9eae672345dbab71ba5c0bf9ea6bf717358fe5-21fa19b39e3e3924-01 outer:exit 2b-bf9eae672345dbab71ba5c0bf9ea6bf717358fe5-674a6779b3993678-01
2022-04-20T15:30:10.530Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:10.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6cab6587ae02ec39406e2a89ec50cbd5d59dca4-c0795eb61d1de5c7-01 outer:exit 2b-c6cab6587ae02ec39406e2a89ec50cbd5d59dca4-25b121737524ed15-01
2022-04-20T15:30:10.539Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:10.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-73ef6dc3c8dcbdab7737fd29ce728a1050b78532-00bb10c43091cfbf-01 outer:exit 2b-73ef6dc3c8dcbdab7737fd29ce728a1050b78532-8a67ddd306dda541-01
2022-04-20T15:30:10.542Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:10.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2f0fe185defd3b180bc615c8b791cbe0fae3e06-f7377430e9832549-01 outer:exit 2b-f2f0fe185defd3b180bc615c8b791cbe0fae3e06-724ce93d795234e2-01
2022-04-20T15:30:10.544Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:10.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-09daaf06cb0daff4c447f30df771f48712083156-b06739ac9f253832-01 outer:exit 2b-09daaf06cb0daff4c447f30df771f48712083156-fe25c69061a035e6-01
2022-04-20T15:30:10.546Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:10.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-fda0129d599ed71bd8f6eaabc13c1a1da5a05191-28263edd83f2fef6-01 outer:exit 2b-fda0129d599ed71bd8f6eaabc13c1a1da5a05191-793f10b380e0f709-01
2022-04-20T15:30:10.571Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (295ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:16.926Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:16.927Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:16.927Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:16.927Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:17.000Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:17.119Z appoptics:patching patched crypto 
2022-04-20T15:30:17.137Z appoptics:patching patched https 
2022-04-20T15:30:17.138Z appoptics:patching patched http 
2022-04-20T15:30:17.182Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:17.182Z appoptics:patching patched fs 
2022-04-20T15:30:17.204Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v18.0.0)
2022-04-20T15:30:17.210Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2022-04-20T15:30:17.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-d644492ec6169e9c8b96daf9227a7c02ce49e908-a46a81fd9271bb00-01 outer:exit 2b-d644492ec6169e9c8b96daf9227a7c02ce49e908-b157442ebbace4f2-01
2022-04-20T15:30:17.254Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:17.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-141ce22ed962ccec703032fc35e4a602ea122e88-1953aacb97c89ed2-01 outer:exit 2b-141ce22ed962ccec703032fc35e4a602ea122e88-8303a8e6c24d0212-01
2022-04-20T15:30:17.300Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:17.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-e37c069137ed78c990b36d45a250b8a36540ba46-d7f8ba6fa2ada089-01 outer:exit 2b-e37c069137ed78c990b36d45a250b8a36540ba46-fff8c3cd91ce7f78-01
2022-04-20T15:30:17.304Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:17.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fb5d9cf0aec6547e047543654107a0eae46dd52-84c7067c0c320d65-01 outer:exit 2b-2fb5d9cf0aec6547e047543654107a0eae46dd52-84a418f0bae9c664-01
2022-04-20T15:30:17.307Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:17.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-105107553d86a06bf84b3ec4c8aa738c922cd05e-c86a218f20f2eb83-01 outer:exit 2b-105107553d86a06bf84b3ec4c8aa738c922cd05e-777dd7961abcb78b-01
2022-04-20T15:30:17.311Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:17.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b80293a39944891192a942ac49ddfcaa33e2945-68e45a678a89a15d-01 outer:exit 2b-1b80293a39944891192a942ac49ddfcaa33e2945-d22c24f37daa3c86-01
2022-04-20T15:30:17.314Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:17.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-918ea9cca174c7b3d9d98509cd04071fb06af85b-5255e040494c676d-01 outer:exit 2b-918ea9cca174c7b3d9d98509cd04071fb06af85b-9da19a8caebb681c-01
2022-04-20T15:30:17.317Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:17.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ebe315dcc57b899c2e632f94ae8bb3ec54cce3f-bbc8c5fe681d0551-01 outer:exit 2b-3ebe315dcc57b899c2e632f94ae8bb3ec54cce3f-d87345c1257c65bb-01
2022-04-20T15:30:17.319Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:17.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-4db0b6be0742afe6d62dfa92184bf8f80f2c9ec6-3f8834e35255fea1-01 outer:exit 2b-4db0b6be0742afe6d62dfa92184bf8f80f2c9ec6-ea4d56a1daed76c1-01
2022-04-20T15:30:17.322Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:17.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba2cf3633da798f51bcef669a999d6855de811bb-b084a033c14442d3-01 outer:exit 2b-ba2cf3633da798f51bcef669a999d6855de811bb-38f823174be37c3f-01
2022-04-20T15:30:17.325Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:17.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-113aa847bf94122018c7cbcd262d51a2c75d2701-204bc2f3198fae14-01 outer:exit 2b-113aa847bf94122018c7cbcd262d51a2c75d2701-a0c98a3d4a367b8d-01
2022-04-20T15:30:17.331Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:17.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-930a5a95b82a53107a1ec69dffc0e897e6bd8492-e7286b04cee6f351-01 outer:exit 2b-930a5a95b82a53107a1ec69dffc0e897e6bd8492-380aaa86fc7992e0-01
2022-04-20T15:30:17.337Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:17.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-729a26081522c6898525a17352ab6f9117062da8-d4121069e27b951b-01 outer:exit 2b-729a26081522c6898525a17352ab6f9117062da8-1ad69507ae8f2e30-01
2022-04-20T15:30:17.353Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:17.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca27cc1e66150f35f3993a2e6f8a69e535639ae7-5c110422801856ed-01 outer:exit 2b-ca27cc1e66150f35f3993a2e6f8a69e535639ae7-31d4b1690aa1297d-01
2022-04-20T15:30:17.391Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:17.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2de654ce61f451183c571c06f307628574a7cd0-b1beac0e316c73f6-01 outer:exit 2b-f2de654ce61f451183c571c06f307628574a7cd0-7b0291f756794dd5-01
2022-04-20T15:30:17.393Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:17.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-d381ecc9986a67ab1ad6e1d4fb72de753cd0acc8-bcbd02b2e966f8a9-01 outer:exit 2b-d381ecc9986a67ab1ad6e1d4fb72de753cd0acc8-3101ca61d05f663b-01
2022-04-20T15:30:17.396Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:17.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1551ed792eb83cfa205d9e5a15a70a1280eec76-5ebb71d13d864a7e-01 outer:exit 2b-e1551ed792eb83cfa205d9e5a15a70a1280eec76-812fb619dcbcf973-01
2022-04-20T15:30:17.398Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:17.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-98aef5b9606b6b32a3aba4501ab286f0cb2471d8-7529214a161cb681-01 outer:exit 2b-98aef5b9606b6b32a3aba4501ab286f0cb2471d8-3a925de8594a3ffc-01
2022-04-20T15:30:17.400Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:17.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-70f65fa2b05653e2dbfba3b36245f597196ea59d-9ee1519aaddaa6bb-01 outer:exit 2b-70f65fa2b05653e2dbfba3b36245f597196ea59d-33db8cd88898ceb2-01
2022-04-20T15:30:17.402Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:17.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-34382c1d135cc1b3acba8a5fc3f4e0719d95506e-ccef57985a00a8f6-01 outer:exit 2b-34382c1d135cc1b3acba8a5fc3f4e0719d95506e-41a553346d3efaba-01
2022-04-20T15:30:17.411Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:17.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea66e342d73f0e0b50b9450786358d9275dd9241-eaa85b12543b9236-01 outer:exit 2b-ea66e342d73f0e0b50b9450786358d9275dd9241-495d9949aaa84900-01
2022-04-20T15:30:17.413Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:17.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-1be49e126ef5bd90b7871fd65de0f16e76c3ad42-ff60aeec97fcec88-01 outer:exit 2b-1be49e126ef5bd90b7871fd65de0f16e76c3ad42-e3cd86d5baca5bc0-01
2022-04-20T15:30:17.415Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:17.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-66cdd8554d80b64ca2669ddf626ff82a73606cd6-d2ec957b9367e180-01 outer:exit 2b-66cdd8554d80b64ca2669ddf626ff82a73606cd6-33e1906f2f997a48-01
2022-04-20T15:30:17.418Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:17.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b1cc87a6e763786201be8c74412aece4fdfc79b-e1e1f04a98c0d6ab-01 outer:exit 2b-7b1cc87a6e763786201be8c74412aece4fdfc79b-693e3022d6a47e81-01
2022-04-20T15:30:17.421Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:17.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3b7dfaf6e0082413bd6d637fccfcb20d0998386-289f2effb9e4556e-01 outer:exit 2b-f3b7dfaf6e0082413bd6d637fccfcb20d0998386-5f0302e779657deb-01
2022-04-20T15:30:17.423Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:17.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-041754bdcfcaefbb667599e3b1ceba762c3f5a65-f42e17acab746c99-01 outer:exit 2b-041754bdcfcaefbb667599e3b1ceba762c3f5a65-eb9f4a5713cc0310-01
2022-04-20T15:30:17.425Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:17.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e731e6d4b7cd2270257407725e4d94dcf2fb18c-690e4de99e83647d-01 outer:exit 2b-5e731e6d4b7cd2270257407725e4d94dcf2fb18c-fd9320bcfe827599-01
2022-04-20T15:30:17.431Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:17.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-a58bc4dc8c92d5a65d0e2c46c6e77f118a940941-5fc5b54d43a666a0-01 outer:exit 2b-a58bc4dc8c92d5a65d0e2c46c6e77f118a940941-1aa9fb3370984813-01
2022-04-20T15:30:17.437Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:17.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-abdf5a2c982f29e754dd03fd5d787832c93d0b08-39f5aed94d2724a7-01 outer:exit 2b-abdf5a2c982f29e754dd03fd5d787832c93d0b08-e4f5f1fd28149101-01
2022-04-20T15:30:17.444Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:17.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-a758f7abc1d3ed4ec628d7d99130c6654ddce09f-fd7683918cfb72b9-01 outer:exit 2b-a758f7abc1d3ed4ec628d7d99130c6654ddce09f-a1844ae84ff82bd8-01
2022-04-20T15:30:17.450Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:17.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdd290c12ed7cd413c8d169578fdd9658bbeb8ce-1494ce789861bffd-01 outer:exit 2b-bdd290c12ed7cd413c8d169578fdd9658bbeb8ce-cec663058e18cc41-01
2022-04-20T15:30:17.452Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:17.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce0066393e864051999cf110a5dd58724c257d89-89deee42fe3e639e-01 outer:exit 2b-ce0066393e864051999cf110a5dd58724c257d89-217e0b7ddd5650ff-01
2022-04-20T15:30:17.455Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:17.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-03468939d3e372f25ce91390861726d821a67c53-a45bfce5dac54e59-01 outer:exit 2b-03468939d3e372f25ce91390861726d821a67c53-32a129572ae2a319-01
2022-04-20T15:30:17.461Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:17.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe89d6176a3f69fe0914e1534e3b4955533c115e-0d69c266b9cdc4b4-01 outer:exit 2b-fe89d6176a3f69fe0914e1534e3b4955533c115e-a8e54676dc67bc0f-01
2022-04-20T15:30:17.463Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:17.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-004daab7dbab95817ea0f2b87184e70e7bd33767-9a087be5f5eca0d7-01 outer:exit 2b-004daab7dbab95817ea0f2b87184e70e7bd33767-f5c94ea6ff68baee-01
2022-04-20T15:30:17.464Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:17.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0e107893e0732935618e83823666e3d7fdccec8-d6e00a728eabe53f-01 outer:exit 2b-d0e107893e0732935618e83823666e3d7fdccec8-a27905823ba965ff-01
2022-04-20T15:30:17.466Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:17.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-31f8beab95ff8ab972028f0b6cd32ca9577a65a3-7c98d6a781c940ad-01 outer:exit 2b-31f8beab95ff8ab972028f0b6cd32ca9577a65a3-b3cae2a3317abf73-01
2022-04-20T15:30:17.468Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:17.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c85bfa1ba9e78d85e125314e763b78fe486af12-1f4c984589daffbe-01 outer:exit 2b-7c85bfa1ba9e78d85e125314e763b78fe486af12-0bafbecd5d2f36c0-01
2022-04-20T15:30:17.469Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:17.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-c122fc2180b4eb6040860f5f25d789ec05d658e1-99c6007f57e41a5a-01 outer:exit 2b-c122fc2180b4eb6040860f5f25d789ec05d658e1-fceb009319ff4ed6-01
2022-04-20T15:30:17.477Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:17.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d47db633e641b167cc4a337827a3e99f73fdfc7-cfc3db75bd60c3cb-01 outer:exit 2b-3d47db633e641b167cc4a337827a3e99f73fdfc7-0d43be1407a893cf-01
2022-04-20T15:30:17.485Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:17.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-252cf88fd97e05b4a3bf1517609d6a6486726244-84683d5357b02628-01 outer:exit 2b-252cf88fd97e05b4a3bf1517609d6a6486726244-f0f9a0bc30f04fc5-01
2022-04-20T15:30:17.488Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:17.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0edbf500d18cf4fa0f7249ee99dec1823c6c315-e52a8d57f206d009-01 outer:exit 2b-f0edbf500d18cf4fa0f7249ee99dec1823c6c315-a4e38a4c6449c389-01
2022-04-20T15:30:17.490Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:17.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-330ab9be4194a14081df88c9674148daf6381661-4503637971ca22da-01 outer:exit 2b-330ab9be4194a14081df88c9674148daf6381661-224c492c9b675b48-01
2022-04-20T15:30:17.492Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:17.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5456b1dd079440f0db505fcb0f3650ce82f43ad-2987e0cf8d84ead5-01 outer:exit 2b-d5456b1dd079440f0db505fcb0f3650ce82f43ad-db775e9f8f058da9-01
2022-04-20T15:30:17.518Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (302ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:24.317Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:24.318Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:24.318Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:24.318Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:24.400Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:24.515Z appoptics:patching patched crypto 
2022-04-20T15:30:24.533Z appoptics:patching patched https 
2022-04-20T15:30:24.533Z appoptics:patching patched http 
2022-04-20T15:30:24.574Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:24.575Z appoptics:patching patched fs 
2022-04-20T15:30:24.597Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v18.0.0)
2022-04-20T15:30:24.602Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2022-04-20T15:30:24.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-23ab3f5d3303d33481bd9c150a1b7a01e28ee030-0b3219a598c82d16-01 outer:exit 2b-23ab3f5d3303d33481bd9c150a1b7a01e28ee030-411f35cf3132fe5a-01
2022-04-20T15:30:24.645Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:24.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-086a1f53037313e844d4d6ee11a9286eb803fc77-b62cada9cd0fa9be-01 outer:exit 2b-086a1f53037313e844d4d6ee11a9286eb803fc77-e95976d30d46840d-01
2022-04-20T15:30:24.688Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:24.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-c12b3ece467af8e03e25652427dfe4ca70887dee-bc2b6ea3e9ef0188-01 outer:exit 2b-c12b3ece467af8e03e25652427dfe4ca70887dee-fd41e48e8623c3ce-01
2022-04-20T15:30:24.691Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:24.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ef9f7f811f4cd90f041be43e1ee5a0d772024c5-9fc573ac230cef66-01 outer:exit 2b-7ef9f7f811f4cd90f041be43e1ee5a0d772024c5-6270116f7830986d-01
2022-04-20T15:30:24.695Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:24.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-e454e880bbf4192e42535a804a42dfe2fbb6e44c-837daf8b0542936a-01 outer:exit 2b-e454e880bbf4192e42535a804a42dfe2fbb6e44c-d904d271c5d63c99-01
2022-04-20T15:30:24.699Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:24.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-d195d413a28bd025f15e3dc51fccad261f6cdd00-862367403a20cd94-01 outer:exit 2b-d195d413a28bd025f15e3dc51fccad261f6cdd00-44d7a84f219ee358-01
2022-04-20T15:30:24.702Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:24.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-c723954de6772262f2270ccdf72970549ddb37eb-d435a500a63f7eea-01 outer:exit 2b-c723954de6772262f2270ccdf72970549ddb37eb-64062eb2092ef81b-01
2022-04-20T15:30:24.705Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:24.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-efbe005aaa19f9d78dd5ef5aece774ac40aadf4a-2832e5291b1e555b-01 outer:exit 2b-efbe005aaa19f9d78dd5ef5aece774ac40aadf4a-ed3728171f5ec917-01
2022-04-20T15:30:24.707Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:24.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-96a2b8b3e8146518366fb72267880615dcd52281-0b3e74621475b768-01 outer:exit 2b-96a2b8b3e8146518366fb72267880615dcd52281-49e50195492c14d6-01
2022-04-20T15:30:24.710Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:24.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-7050321b252854588d32021ca64cf4bf1ad08e94-5ab615a75acf9353-01 outer:exit 2b-7050321b252854588d32021ca64cf4bf1ad08e94-c83428cd2f6d5163-01
2022-04-20T15:30:24.713Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:24.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-af906c350459a2e756aa9730a6a34d1b62813a1f-d0a7af0819a512e3-01 outer:exit 2b-af906c350459a2e756aa9730a6a34d1b62813a1f-dd793f1f54658702-01
2022-04-20T15:30:24.717Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:24.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb1dc01aed429cd42974c7e67b9fd36970fb6101-17b58808622b0c9b-01 outer:exit 2b-fb1dc01aed429cd42974c7e67b9fd36970fb6101-e21375dafd16c51d-01
2022-04-20T15:30:24.723Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:24.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbe9376356537bf87837cca8bcd717d250ee4d34-4914ff375e1adb80-01 outer:exit 2b-dbe9376356537bf87837cca8bcd717d250ee4d34-48dd5b07968fc519-01
2022-04-20T15:30:24.739Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:24.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fb7ebeb466fdddd5313ffca826272c4b393164f-121af7934dce4cff-01 outer:exit 2b-1fb7ebeb466fdddd5313ffca826272c4b393164f-e0971558f716d2cd-01
2022-04-20T15:30:24.778Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:24.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-5628222684615bdb279b3d453c7d4496f9386105-1d9572327f2b2a35-01 outer:exit 2b-5628222684615bdb279b3d453c7d4496f9386105-29002c15886df03c-01
2022-04-20T15:30:24.781Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:24.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c000c000e6e039493be07165afb7878f370394e-8a5457896efaf834-01 outer:exit 2b-4c000c000e6e039493be07165afb7878f370394e-ba236f19a2d78e6d-01
2022-04-20T15:30:24.783Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:24.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-9735bf54a22dd525717c736c5316e1ef27fa5da0-1783bcb8d8da0dff-01 outer:exit 2b-9735bf54a22dd525717c736c5316e1ef27fa5da0-b385551a11b7935e-01
2022-04-20T15:30:24.786Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:24.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ea07d5ba268c57d121f0115fdf7416ebeff3886-264ee45e750bbfe4-01 outer:exit 2b-5ea07d5ba268c57d121f0115fdf7416ebeff3886-5a618e1e9602f1a3-01
2022-04-20T15:30:24.788Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:24.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-24d31bf05d83ed6b2527bfd446f82bbe2ee278c9-0d50ae8ab99dbe39-01 outer:exit 2b-24d31bf05d83ed6b2527bfd446f82bbe2ee278c9-af74547f46ec9944-01
2022-04-20T15:30:24.790Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:24.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c1da6993674efff8beb099776447c14eb0b1da1-971f900d927f5f1c-01 outer:exit 2b-9c1da6993674efff8beb099776447c14eb0b1da1-fee1bc19dda215a7-01
2022-04-20T15:30:24.792Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:24.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-c69fc02127b23ce281b4d9d455280fb4ab27e9e8-e27a7c9695365a2f-01 outer:exit 2b-c69fc02127b23ce281b4d9d455280fb4ab27e9e8-5a4256cc4a7ff4e7-01
2022-04-20T15:30:24.794Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:24.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-79cb924832a237bf4cf0d6d46ce14c195db60817-ea4029ce43740c20-01 outer:exit 2b-79cb924832a237bf4cf0d6d46ce14c195db60817-338472a23b44db71-01
2022-04-20T15:30:24.796Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:24.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3b5c5f3c3be0d29d80759f380f5cc1b0e288404-31806c90974e5c4c-01 outer:exit 2b-a3b5c5f3c3be0d29d80759f380f5cc1b0e288404-584693af807a7c6e-01
2022-04-20T15:30:24.798Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:24.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-c951ec29f6d4f3983b7bbe9aef621ce3f6b86c6e-36d894cffaa0e638-01 outer:exit 2b-c951ec29f6d4f3983b7bbe9aef621ce3f6b86c6e-919bb0fecfaba9d5-01
2022-04-20T15:30:24.801Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:24.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bb9a2632f8a4639780330042333762f3f97b9c2-04ed979900f7446d-01 outer:exit 2b-5bb9a2632f8a4639780330042333762f3f97b9c2-c0bc9cec74e921a0-01
2022-04-20T15:30:24.803Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:24.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-222ce77d1c1288e16fce3f0af4e8dd00f5668531-6a55659c3c38b1fe-01 outer:exit 2b-222ce77d1c1288e16fce3f0af4e8dd00f5668531-67ebe4449eb809a3-01
2022-04-20T15:30:24.805Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:24.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb59356888888c58ddcb6dfe655c9c8ff08cea48-8279647d376627bf-01 outer:exit 2b-cb59356888888c58ddcb6dfe655c9c8ff08cea48-c8cfe30c19d80b39-01
2022-04-20T15:30:24.811Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:24.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bc80cb8ffcb9588a76d5eec2bb23297b04bd556-fa086999c9fd6dc5-01 outer:exit 2b-5bc80cb8ffcb9588a76d5eec2bb23297b04bd556-70a5a1e0ac35fc64-01
2022-04-20T15:30:24.818Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:24.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-8eb4530df15808376bac29377f23e49e24b84bb0-f3a63fe0b34e2906-01 outer:exit 2b-8eb4530df15808376bac29377f23e49e24b84bb0-6798ffc25e7b1232-01
2022-04-20T15:30:24.825Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:24.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c2e4b95220263358d26dbb36cf8737d8d5a1ef0-72d8877608af7b69-01 outer:exit 2b-1c2e4b95220263358d26dbb36cf8737d8d5a1ef0-2ecaa5eadd924d16-01
2022-04-20T15:30:24.832Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:24.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-102ce129ad4201bafaa4c60a5f128efeca71cf30-79c109d042bc98ad-01 outer:exit 2b-102ce129ad4201bafaa4c60a5f128efeca71cf30-807b354cb9b9ac60-01
2022-04-20T15:30:24.834Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:24.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-9465b12c8808cccb999dcd42acc68607ce8a0ee5-23c1353cee1198df-01 outer:exit 2b-9465b12c8808cccb999dcd42acc68607ce8a0ee5-be67268efa4209ac-01
2022-04-20T15:30:24.837Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:24.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bf48012651b872c9623ae641a0b0d7d3c5f033f-f86be3a05ac71307-01 outer:exit 2b-4bf48012651b872c9623ae641a0b0d7d3c5f033f-989c6aaf98767a12-01
2022-04-20T15:30:24.842Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:24.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a71f9329dd080d2c3a39fedd4322923aa7008ec-1e5e32473f6570b4-01 outer:exit 2b-7a71f9329dd080d2c3a39fedd4322923aa7008ec-be2a1c72911623e6-01
2022-04-20T15:30:24.844Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:24.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-12cb802d47b08ed2ac7ba5d18ed05ad87ea98e78-2b31b078ff1d5ac7-01 outer:exit 2b-12cb802d47b08ed2ac7ba5d18ed05ad87ea98e78-9e0e781f1a624326-01
2022-04-20T15:30:24.846Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:24.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-88896a9cc56719bb46c54f81ad1d41046ebf4730-4807b50c2170ea4e-01 outer:exit 2b-88896a9cc56719bb46c54f81ad1d41046ebf4730-923147882bdf4fa8-01
2022-04-20T15:30:24.848Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:24.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5a3d62b1d77cbe4e1dc55cb1f432f1aa29e2fb8-c292791e52fd65cf-01 outer:exit 2b-c5a3d62b1d77cbe4e1dc55cb1f432f1aa29e2fb8-ce8497fd82f1d92d-01
2022-04-20T15:30:24.849Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:24.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a595b2fba92d68aa4410b92998ceab376b8d375-34a073bb0b914f33-01 outer:exit 2b-8a595b2fba92d68aa4410b92998ceab376b8d375-c30c2cb4099d148b-01
2022-04-20T15:30:24.851Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:24.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-954a80c58f555e4d58ca8a0bc3f0ddf2f7cff612-6881180de4f39baa-01 outer:exit 2b-954a80c58f555e4d58ca8a0bc3f0ddf2f7cff612-73ced15b162f3596-01
2022-04-20T15:30:24.858Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:24.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea5c580fc84d2ac53245244f676f297e9fe92880-fb9ff06cc272c667-01 outer:exit 2b-ea5c580fc84d2ac53245244f676f297e9fe92880-ec757898edcbabcb-01
2022-04-20T15:30:24.865Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:24.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-542eddd279cabea49dab5a6c24e8f181fc324556-204f09aaf5e21fee-01 outer:exit 2b-542eddd279cabea49dab5a6c24e8f181fc324556-edea1c577d680c88-01
2022-04-20T15:30:24.868Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:24.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ae99f8b304d883de3cb6f6d8a84e5b0a5108203-5132b6904f2ec0d8-01 outer:exit 2b-8ae99f8b304d883de3cb6f6d8a84e5b0a5108203-bd7051b92d06e9a6-01
2022-04-20T15:30:24.870Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:24.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ca61fda9c6805da1621d2f6cc397f90fcf58f47-a509d6f5bf8b88ca-01 outer:exit 2b-8ca61fda9c6805da1621d2f6cc397f90fcf58f47-3e941d3420476950-01
2022-04-20T15:30:24.874Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:24.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6fda2ba1aec95788966c819d1a1e93bb5762c31-74672d3c02f1e067-01 outer:exit 2b-b6fda2ba1aec95788966c819d1a1e93bb5762c31-bccbec456b187059-01
2022-04-20T15:30:24.901Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (293ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:30.806Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:30.806Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:30.806Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:30.807Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:30.865Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:30.974Z appoptics:patching patched crypto 
2022-04-20T15:30:30.991Z appoptics:patching patched https 
2022-04-20T15:30:30.992Z appoptics:patching patched http 
2022-04-20T15:30:31.034Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:31.035Z appoptics:patching patched fs 
2022-04-20T15:30:31.057Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v18.0.0)
2022-04-20T15:30:31.062Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2022-04-20T15:30:31.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-c49c7058c8f6492ba2a0eabf620c7ef25b0ba98c-73ca7994d360915b-01 outer:exit 2b-c49c7058c8f6492ba2a0eabf620c7ef25b0ba98c-48bb3346d4bff3b8-01
2022-04-20T15:30:31.106Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:31.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-36669f398e971d74bb27f8e8ea65ea7832c6d87f-476cd2070e899462-01 outer:exit 2b-36669f398e971d74bb27f8e8ea65ea7832c6d87f-09533d3dd20ef717-01
2022-04-20T15:30:31.150Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:31.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6a2ecfd622f315bf227b125400b8f538303d644-4173033a8486974e-01 outer:exit 2b-e6a2ecfd622f315bf227b125400b8f538303d644-c40be75e54b503df-01
2022-04-20T15:30:31.154Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:31.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccbc731811e9606b4e03c5ace9f68845ee153ad9-5fedd89950a3f2e4-01 outer:exit 2b-ccbc731811e9606b4e03c5ace9f68845ee153ad9-b077b90ad6188052-01
2022-04-20T15:30:31.157Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:31.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f72ef5f29d79bed8c68fd95cb38c5eb0cf15696-0bf72aa58582b145-01 outer:exit 2b-2f72ef5f29d79bed8c68fd95cb38c5eb0cf15696-6afa738634c97d2a-01
2022-04-20T15:30:31.162Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:31.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-9181bdee43645939f9385549b979f57fa7f79b1d-54619cd4b17b1a07-01 outer:exit 2b-9181bdee43645939f9385549b979f57fa7f79b1d-617e34518a0bfa08-01
2022-04-20T15:30:31.165Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:31.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-58a9e01686269b2f04f4639df83a1cd1c315fc2f-7fb0f6a7faedd82e-01 outer:exit 2b-58a9e01686269b2f04f4639df83a1cd1c315fc2f-e848b3820a32835e-01
2022-04-20T15:30:31.167Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:31.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f6fcd9b16613f853a3a7ba903ecd71da73fbed3-4e38d72aa670ad51-01 outer:exit 2b-5f6fcd9b16613f853a3a7ba903ecd71da73fbed3-b10bd4d0644e767e-01
2022-04-20T15:30:31.170Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:31.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-08a0439e1dccd586a05cc8ad00bbfcd5f021f279-cfc84aa68df0e839-01 outer:exit 2b-08a0439e1dccd586a05cc8ad00bbfcd5f021f279-6361b933016f5fc3-01
2022-04-20T15:30:31.172Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:31.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-9522bb39cdf9e1973e96c60552921e0e9f5a7dfa-fa37a679b4746841-01 outer:exit 2b-9522bb39cdf9e1973e96c60552921e0e9f5a7dfa-3c5f1b06382e9580-01
2022-04-20T15:30:31.175Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:31.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f05d9cf6587b731728336377b5a1036ce69608d-b3682bbf3be4c8d1-01 outer:exit 2b-1f05d9cf6587b731728336377b5a1036ce69608d-2c55386d1d6dbbc4-01
2022-04-20T15:30:31.178Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:31.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-f096e0e81109c9df37079a688babb8443e78ba6a-78a2b1c2e6a749ef-01 outer:exit 2b-f096e0e81109c9df37079a688babb8443e78ba6a-7e888bdcbab71a0e-01
2022-04-20T15:30:31.196Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:31.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c92c27dad3888fdf993061a6ddfd6186765bb96-70904e7ffd195db1-01 outer:exit 2b-8c92c27dad3888fdf993061a6ddfd6186765bb96-d377c30159e773f6-01
2022-04-20T15:30:31.222Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:31.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-479c89a1b585c39dc6371b9bcb576e60c428daef-0aa8cac902a4af87-01 outer:exit 2b-479c89a1b585c39dc6371b9bcb576e60c428daef-7884e3887aff021b-01
2022-04-20T15:30:31.271Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:31.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-e97d1c8b6883d07ca1a487c8ea79974775966a96-29a2940c4de32556-01 outer:exit 2b-e97d1c8b6883d07ca1a487c8ea79974775966a96-cc4620e11798cf68-01
2022-04-20T15:30:31.274Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:31.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-31eb5ea2dcdb84488d95c6404e0ab7721b2b0098-8e28aec210f704d4-01 outer:exit 2b-31eb5ea2dcdb84488d95c6404e0ab7721b2b0098-38745f5f773be5e1-01
2022-04-20T15:30:31.279Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:31.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-b850810e2f9d9df093bd5660089767864a50744a-ad2d7027f1fc4d3a-01 outer:exit 2b-b850810e2f9d9df093bd5660089767864a50744a-a57df7d1380f1d6c-01
2022-04-20T15:30:31.281Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:31.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e7bdc352c12cd8cdf50452d96179c437f68afda-7124b9478833f611-01 outer:exit 2b-8e7bdc352c12cd8cdf50452d96179c437f68afda-eba2eb10ff65ece7-01
2022-04-20T15:30:31.284Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:31.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-af2e36270615d75c42a40128b0f4bd6e5446b119-3ea656ddc17c11d2-01 outer:exit 2b-af2e36270615d75c42a40128b0f4bd6e5446b119-96f7a2fe6b8c3148-01
2022-04-20T15:30:31.286Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:31.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-61ebb5aef37f08005e3fb993e3f40bf3496f2191-fc749ae04981fcaa-01 outer:exit 2b-61ebb5aef37f08005e3fb993e3f40bf3496f2191-1310354562c2c3d4-01
2022-04-20T15:30:31.287Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:31.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdf48388c40971f36fdcc6f2a71db75fa1b2b9c9-55a5bc2f91935c69-01 outer:exit 2b-bdf48388c40971f36fdcc6f2a71db75fa1b2b9c9-72a13c62a7b6614d-01
2022-04-20T15:30:31.294Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:31.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f87f57f81facc49553be5565e843f147ea3c48-322bcb8062250400-01 outer:exit 2b-87f87f57f81facc49553be5565e843f147ea3c48-63329d3259b4be4b-01
2022-04-20T15:30:31.296Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:31.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-818390bd959cb08ccafd03d6acc40ded0958da48-57b5c4a7e5d30ad5-01 outer:exit 2b-818390bd959cb08ccafd03d6acc40ded0958da48-7ec59c30e9a6dcd1-01
2022-04-20T15:30:31.299Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:31.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-28c08705ed17ae97edaf0b70780f56e03d0cda56-883088a59444957b-01 outer:exit 2b-28c08705ed17ae97edaf0b70780f56e03d0cda56-284c6e674fe68fc8-01
2022-04-20T15:30:31.305Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:31.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-d08dc05ce26546e40b238df989dc775fe60b9057-5793dc2ca908a534-01 outer:exit 2b-d08dc05ce26546e40b238df989dc775fe60b9057-13073d447a75eb52-01
2022-04-20T15:30:31.310Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:31.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-80fa882966149608ad042e66f4514a66e8d3cf54-32bd410d7dbbb79d-01 outer:exit 2b-80fa882966149608ad042e66f4514a66e8d3cf54-8a8edc2076f5c1ca-01
2022-04-20T15:30:31.312Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:31.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fa0e7bece06bf88f3d7942daf2985e590cee898-3e23a87a316dd0ad-01 outer:exit 2b-4fa0e7bece06bf88f3d7942daf2985e590cee898-c4d123d04d61d881-01
2022-04-20T15:30:31.334Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:31.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-722ff47776b6f378e156672d6922053a9aba6774-90a56ba3e9a92836-01 outer:exit 2b-722ff47776b6f378e156672d6922053a9aba6774-ded1fdd4329937dd-01
2022-04-20T15:30:31.356Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:31.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2a0315a0085c521eb105e80a0adfbcd178571b1-b51e9b5f585d169a-01 outer:exit 2b-d2a0315a0085c521eb105e80a0adfbcd178571b1-a5dc9b8a9d4488d8-01
2022-04-20T15:30:31.365Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:31.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bddfcaab5677eca24ed0d96f5bfdafa8cc25fca-c5054ea4570a536b-01 outer:exit 2b-1bddfcaab5677eca24ed0d96f5bfdafa8cc25fca-dcb60cd7fd2c6600-01
2022-04-20T15:30:31.380Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:31.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-50131bd3ad65d9cf4e0d5ac3a4dc1faaeafc0764-421782235b5ff88f-01 outer:exit 2b-50131bd3ad65d9cf4e0d5ac3a4dc1faaeafc0764-f49db753c51adc7b-01
2022-04-20T15:30:31.383Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:31.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a7179443ce8c69b2f5d89a3cd0e9888528b8689-14ceb9fab73606b3-01 outer:exit 2b-8a7179443ce8c69b2f5d89a3cd0e9888528b8689-273351c6557466ad-01
2022-04-20T15:30:31.388Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:31.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d2bfcfb6c653e44bbb228639794019e596a08f5-d0b8c2509b80ebf6-01 outer:exit 2b-2d2bfcfb6c653e44bbb228639794019e596a08f5-499b7b6d34138d15-01
2022-04-20T15:30:31.394Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:31.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1d87748b7f1a3d38c6144278bbfb63cc4f6e8eb-2884d9a2ff057448-01 outer:exit 2b-f1d87748b7f1a3d38c6144278bbfb63cc4f6e8eb-94552172a103dd61-01
2022-04-20T15:30:31.396Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:31.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-827b83d889ce22c00174d4d79ca8eafa00bf725b-67d17fec2a119a6a-01 outer:exit 2b-827b83d889ce22c00174d4d79ca8eafa00bf725b-5f33e37601473ef4-01
2022-04-20T15:30:31.398Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:31.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-00f060a9c4324cb71cacdd5bf913dc88aed3bc50-c1bad2fe5f0a73f6-01 outer:exit 2b-00f060a9c4324cb71cacdd5bf913dc88aed3bc50-c8e7386d23a1aa43-01
2022-04-20T15:30:31.400Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:31.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-e993382a2492a5b0fb80578dc7c03927440aad68-df6aad9d710024ed-01 outer:exit 2b-e993382a2492a5b0fb80578dc7c03927440aad68-8e4a2a8b4692c9c2-01
2022-04-20T15:30:31.402Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:31.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-251fbaaa23e2f36b38b534ccad1a6e53c7ea132f-dac795582cc9c800-01 outer:exit 2b-251fbaaa23e2f36b38b534ccad1a6e53c7ea132f-2ceba35e1e964533-01
2022-04-20T15:30:31.404Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:31.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-e53c0627d6993a99c46f109538df9557836167fd-9087125b730bd439-01 outer:exit 2b-e53c0627d6993a99c46f109538df9557836167fd-cf277b4003847ef5-01
2022-04-20T15:30:31.415Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:31.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cb9944ffab2cf35b58a234cf6e18afc756b1540-4d921e0298609ed4-01 outer:exit 2b-9cb9944ffab2cf35b58a234cf6e18afc756b1540-1d148a9098ed5a51-01
2022-04-20T15:30:31.424Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:31.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bf2b5f3b8ea7f9637b5766dc43f708b16a6e061-e7970ee857d984d8-01 outer:exit 2b-2bf2b5f3b8ea7f9637b5766dc43f708b16a6e061-4338020d2de5232e-01
2022-04-20T15:30:31.427Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:31.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-1232e3bf9d56877c3f9b455e4a20ed4d9e0d2b5d-196ebf3936441241-01 outer:exit 2b-1232e3bf9d56877c3f9b455e4a20ed4d9e0d2b5d-4639d453b0c7e02a-01
2022-04-20T15:30:31.430Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:31.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-be30dd03fe0f94ae50bb7e8eb29dff228366f44e-33054e88bd6f2896-01 outer:exit 2b-be30dd03fe0f94ae50bb7e8eb29dff228366f44e-dde4de93818ca2eb-01
2022-04-20T15:30:31.445Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:31.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-d570f230bb1f84029e86bc2606dd547314597db6-75ce7dd1c82d97bd-01 outer:exit 2b-d570f230bb1f84029e86bc2606dd547314597db6-8980cbc228cf4003-01
2022-04-20T15:30:31.472Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (404ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:37.991Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:37.992Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:37.992Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:37.993Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:38.051Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:38.163Z appoptics:patching patched crypto 
2022-04-20T15:30:38.189Z appoptics:patching patched https 
2022-04-20T15:30:38.189Z appoptics:patching patched http 
2022-04-20T15:30:38.227Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:38.228Z appoptics:patching patched fs 
2022-04-20T15:30:38.250Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v18.0.0)
2022-04-20T15:30:38.256Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2022-04-20T15:30:38.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c4429a537addceb1330254b9d50a56d475b0f27-da3d5ee9a76576c2-01 outer:exit 2b-9c4429a537addceb1330254b9d50a56d475b0f27-f16f8bd458983c0a-01
2022-04-20T15:30:38.302Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:38.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-7299feac350a001b40c5bb23b58fe9b734ceff93-ae77ac9c37849e4a-01 outer:exit 2b-7299feac350a001b40c5bb23b58fe9b734ceff93-24d994e0c6ec6d35-01
2022-04-20T15:30:38.345Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:38.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-05d1051278759e8d0b087b67c5f63f8844fe61ed-f4638bf890e8d7aa-01 outer:exit 2b-05d1051278759e8d0b087b67c5f63f8844fe61ed-6c28a1429400d653-01
2022-04-20T15:30:38.350Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:38.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f4abaef6920c896411124253b44add4c584e84c-3d73c10ce6a82fc7-01 outer:exit 2b-1f4abaef6920c896411124253b44add4c584e84c-0d2417e251e65425-01
2022-04-20T15:30:38.354Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:38.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-c208a647fa666fbd1caa095b25378dd3582f3831-0600ab13545fafe5-01 outer:exit 2b-c208a647fa666fbd1caa095b25378dd3582f3831-c8410d8b97ee3c6d-01
2022-04-20T15:30:38.358Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:38.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd3b1918a0ac96787358c8ffa6a04b21a93036ce-2131aa43ffb284c3-01 outer:exit 2b-dd3b1918a0ac96787358c8ffa6a04b21a93036ce-9ee871533f40b9d6-01
2022-04-20T15:30:38.361Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:38.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-a29c3045d952db73da39904d56c3a6f5368f4081-d1b2b66e04989eb6-01 outer:exit 2b-a29c3045d952db73da39904d56c3a6f5368f4081-3d989a07eaa1a723-01
2022-04-20T15:30:38.363Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:38.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-714d7fe8a5f75acf9aa144ac6ffc4d34bf6e5de7-85c44d3f9fa1db5e-01 outer:exit 2b-714d7fe8a5f75acf9aa144ac6ffc4d34bf6e5de7-9ea6c674c55bc1f1-01
2022-04-20T15:30:38.366Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:38.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf8b5c6e35f1b953e9963d41d8388b513d57f20e-5eff8d802402af6a-01 outer:exit 2b-cf8b5c6e35f1b953e9963d41d8388b513d57f20e-105c686510b23dc1-01
2022-04-20T15:30:38.368Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:38.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-486dee9d21f07e47ac2d12b6f4312ea43b676dfd-1a57239b9bec179f-01 outer:exit 2b-486dee9d21f07e47ac2d12b6f4312ea43b676dfd-538c811b831c07f9-01
2022-04-20T15:30:38.371Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:38.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ce93dbba62329fcf214b2f93161190b7d0aff52-1f7a7a3da2a2f859-01 outer:exit 2b-1ce93dbba62329fcf214b2f93161190b7d0aff52-4ddc4e75b3c65394-01
2022-04-20T15:30:38.375Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:38.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c73b13087c4255d3ef7f4f1be03bb4b4ecb7e6d-fc28ce80f776962c-01 outer:exit 2b-8c73b13087c4255d3ef7f4f1be03bb4b4ecb7e6d-8161e0da30d9a545-01
2022-04-20T15:30:38.381Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:38.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e1538b2b0b5ad74e10c1f39d20e8d505b801745-5353e3688865c60a-01 outer:exit 2b-2e1538b2b0b5ad74e10c1f39d20e8d505b801745-1ab41127360b16a7-01
2022-04-20T15:30:38.396Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:38.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a7f6942db33ec5952445e21d352884ac6226bfa-1369a0745129bb64-01 outer:exit 2b-3a7f6942db33ec5952445e21d352884ac6226bfa-8b9ff52a4cc1571c-01
2022-04-20T15:30:38.435Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:38.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-850fc2bd4995cf033e9b9eab73f81ae071684e05-b6b83c80f015de8e-01 outer:exit 2b-850fc2bd4995cf033e9b9eab73f81ae071684e05-5605bbc868270eb4-01
2022-04-20T15:30:38.437Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:38.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b04ee8203922a81e69f2573cc1c6c7ceec08b57-a5526b5eca78f8fd-01 outer:exit 2b-4b04ee8203922a81e69f2573cc1c6c7ceec08b57-02d842948ec3c0fe-01
2022-04-20T15:30:38.440Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:38.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bf8191e0790e43e63cddc19b3b22c321450de1a-7d98ce379abdcc28-01 outer:exit 2b-4bf8191e0790e43e63cddc19b3b22c321450de1a-225f719e69ec373f-01
2022-04-20T15:30:38.442Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:38.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a958a987959613672277bd9bbc020780dff09e3-1398fe01a2c46c12-01 outer:exit 2b-7a958a987959613672277bd9bbc020780dff09e3-b2c2dd1059e21d68-01
2022-04-20T15:30:38.445Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:38.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-3846fd25d0ad783c7bd1d52be4ffb751cedba891-369cad398cea7912-01 outer:exit 2b-3846fd25d0ad783c7bd1d52be4ffb751cedba891-b4a1dda1f28e6bd8-01
2022-04-20T15:30:38.447Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:38.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-b23a4eee4a58dad097b8ef7836991020f52c0902-cb97c68cc87e806c-01 outer:exit 2b-b23a4eee4a58dad097b8ef7836991020f52c0902-4ac1fc90793b9520-01
2022-04-20T15:30:38.449Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:38.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-9006237885ac9abbca1b6a8ab6095df4221a8e97-1029009c0063fcc6-01 outer:exit 2b-9006237885ac9abbca1b6a8ab6095df4221a8e97-1f05a90316506361-01
2022-04-20T15:30:38.451Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:38.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-92baf8124dce4e2cfe7a5db958c91135c8991db3-8ebec09090d04939-01 outer:exit 2b-92baf8124dce4e2cfe7a5db958c91135c8991db3-41570d56d9d6aed4-01
2022-04-20T15:30:38.453Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:38.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-c38f1e736f0e41d831bcbe401a27019f2a888220-411d4b0e9106966f-01 outer:exit 2b-c38f1e736f0e41d831bcbe401a27019f2a888220-d666f8062012070f-01
2022-04-20T15:30:38.455Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:38.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ba1757280a8a8f1f01fc11080ffd1f35ab03eaf-f8b9383d6eecd0a0-01 outer:exit 2b-8ba1757280a8a8f1f01fc11080ffd1f35ab03eaf-c9665c4961de8e3f-01
2022-04-20T15:30:38.458Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:38.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dfd22d074c4c6d68b57ba090ae330d0cca729d7-f8c7018265004c0d-01 outer:exit 2b-7dfd22d074c4c6d68b57ba090ae330d0cca729d7-d696d811b158d668-01
2022-04-20T15:30:38.460Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:38.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ba50003fee36b93bc97ea585e6ee572ecca2baa-c5f48f4929f42f57-01 outer:exit 2b-0ba50003fee36b93bc97ea585e6ee572ecca2baa-5acb7854d0020c54-01
2022-04-20T15:30:38.462Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:38.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-24f1c18268f184288d86ba489d6842436f59d920-63547a94586889eb-01 outer:exit 2b-24f1c18268f184288d86ba489d6842436f59d920-8ba7b7c90f02b7ce-01
2022-04-20T15:30:38.468Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:38.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-314d1e889ad02fb81ec4707b359d3b20854fc987-d178544253fac7f8-01 outer:exit 2b-314d1e889ad02fb81ec4707b359d3b20854fc987-a35af2c28295aeaa-01
2022-04-20T15:30:38.473Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:38.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-195ca384e7db31832080f1f6fb94d40e0d219fa3-a9baffc81a249ee4-01 outer:exit 2b-195ca384e7db31832080f1f6fb94d40e0d219fa3-0ee6f47ae7c00a9e-01
2022-04-20T15:30:38.482Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:38.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-f844370b47c261275f8c4c30f4aa29733d45a0a3-ecded0757aaad872-01 outer:exit 2b-f844370b47c261275f8c4c30f4aa29733d45a0a3-dbc76fe7be16e499-01
2022-04-20T15:30:38.487Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:38.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-90b7cbc25de6ee624583b29b2e6b71edc9e78118-db3b893ab8e9ae1e-01 outer:exit 2b-90b7cbc25de6ee624583b29b2e6b71edc9e78118-c46ab902efdd9bc6-01
2022-04-20T15:30:38.489Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:38.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e892316b3de0a6abb48ab4ac5a7918da5c0431c-fcd06765e2d56004-01 outer:exit 2b-6e892316b3de0a6abb48ab4ac5a7918da5c0431c-8e1394a84ad19ddf-01
2022-04-20T15:30:38.491Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:38.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-440cd51e1d7a4e7e9271386543aa7e480b396d64-7fdb29a5dea7a02f-01 outer:exit 2b-440cd51e1d7a4e7e9271386543aa7e480b396d64-f33e7b4308e4a923-01
2022-04-20T15:30:38.497Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:38.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-df4fc776bfba5ba0b4e20677856a4fd116aefd6e-dc946251bdc8ee74-01 outer:exit 2b-df4fc776bfba5ba0b4e20677856a4fd116aefd6e-386f3029a57133c6-01
2022-04-20T15:30:38.499Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:38.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-40f21225c681346fd30b8aadde146ef0c72a832d-cb70b9a229cb2494-01 outer:exit 2b-40f21225c681346fd30b8aadde146ef0c72a832d-5d9396799ca39e68-01
2022-04-20T15:30:38.501Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:38.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-b764e42b7ebb33e63e89eca070009337c21dcadf-4324b79994031750-01 outer:exit 2b-b764e42b7ebb33e63e89eca070009337c21dcadf-6f42d36f4d1d400d-01
2022-04-20T15:30:38.502Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:38.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-7722539bc6147fc5f93c60958834794d141d332d-b323434206e73ab2-01 outer:exit 2b-7722539bc6147fc5f93c60958834794d141d332d-f60069acf09c0ee6-01
2022-04-20T15:30:38.504Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:38.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-e744728dbe5ffcbcb94e9cebd5db79ee137d2b91-74aa8cbd485ecf41-01 outer:exit 2b-e744728dbe5ffcbcb94e9cebd5db79ee137d2b91-446e7ac5c3e136f3-01
2022-04-20T15:30:38.506Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:38.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b72a4260fd38fa3ee41cc291ad20169a6335373-09d20a7e4ddcd04c-01 outer:exit 2b-5b72a4260fd38fa3ee41cc291ad20169a6335373-7c5e2f28dd5bdd24-01
2022-04-20T15:30:38.515Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:38.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-a58a10c0db79ef202dd7704f96ff500942ab2e15-65cb0aa74847e156-01 outer:exit 2b-a58a10c0db79ef202dd7704f96ff500942ab2e15-058d1526d6fa29dd-01
2022-04-20T15:30:38.522Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:38.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-05f70fbbf32c6ce88d56cd4c5de86263171b79d4-5ec4e377075f5498-01 outer:exit 2b-05f70fbbf32c6ce88d56cd4c5de86263171b79d4-e9c93edcc8335135-01
2022-04-20T15:30:38.525Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:38.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-26ec6d13285c647bc6798ffa7ff1888647c94d41-696765b7f7de54a7-01 outer:exit 2b-26ec6d13285c647bc6798ffa7ff1888647c94d41-d14b4f5084d244cf-01
2022-04-20T15:30:38.532Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:38.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-836c8f2ade006b1f4a0d3f123c548f41eb9102b0-5262995837813fd0-01 outer:exit 2b-836c8f2ade006b1f4a0d3f123c548f41eb9102b0-9e71b88bdafd46c6-01
2022-04-20T15:30:38.534Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:38.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-98374e1eb8e6988db3859418ffea3bb5e7107798-ba263d8cdb4526b8-01 outer:exit 2b-98374e1eb8e6988db3859418ffea3bb5e7107798-ae8fdf15fd52fcfe-01
2022-04-20T15:30:38.561Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (298ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:45.093Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:45.095Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:45.095Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:45.096Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:45.171Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:45.332Z appoptics:patching patched crypto 
2022-04-20T15:30:45.404Z appoptics:patching patched https 
2022-04-20T15:30:45.405Z appoptics:patching patched http 
2022-04-20T15:30:45.473Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:45.474Z appoptics:patching patched fs 
2022-04-20T15:30:45.500Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v18.0.0)
2022-04-20T15:30:45.506Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2022-04-20T15:30:45.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddf1a22b596004a8f6ee74f60f527c47823797a0-054f624498f3c92d-01 outer:exit 2b-ddf1a22b596004a8f6ee74f60f527c47823797a0-169ff814f607d68c-01
2022-04-20T15:30:45.556Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:45.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-624946941bf52fc7cc6e6b8784e7d1237e426ba1-32ff395491a969a4-01 outer:exit 2b-624946941bf52fc7cc6e6b8784e7d1237e426ba1-033d21bd9b9cc9d3-01
2022-04-20T15:30:45.599Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:45.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-6919f22bed5b266961a105b1066d481ff5240877-c85389f835f0be0e-01 outer:exit 2b-6919f22bed5b266961a105b1066d481ff5240877-85b734a34a7505bc-01
2022-04-20T15:30:45.603Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:45.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-f840d98c39b9759cf60edee6cf99b3377e70775f-9d08c0ab5cda72aa-01 outer:exit 2b-f840d98c39b9759cf60edee6cf99b3377e70775f-a682e3081ae3b9dc-01
2022-04-20T15:30:45.606Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:45.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba567513e6faf7681de396006e4b79841f996592-2822909f36c61bd9-01 outer:exit 2b-ba567513e6faf7681de396006e4b79841f996592-b0eebffb5f7526a3-01
2022-04-20T15:30:45.611Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:45.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cddc0cc12e7f851f68fe7ea2785e81f64210d3b-06f718f8148d6e91-01 outer:exit 2b-5cddc0cc12e7f851f68fe7ea2785e81f64210d3b-f0c7cc51e9a77fad-01
2022-04-20T15:30:45.614Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:45.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-c55109200c90466644b8d7ad42b5f3f19a6c828d-9a18dd8387e0eed9-01 outer:exit 2b-c55109200c90466644b8d7ad42b5f3f19a6c828d-09083ea5ca7de56e-01
2022-04-20T15:30:45.616Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:45.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c7fd2d13df62216f831478369afb93b79475402-d65634aac61f51a6-01 outer:exit 2b-6c7fd2d13df62216f831478369afb93b79475402-4172982c480d64ad-01
2022-04-20T15:30:45.619Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:45.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3ccb28254a3a172db26f4b861d5b394253bd8ee-22c364c5dbec8bdc-01 outer:exit 2b-b3ccb28254a3a172db26f4b861d5b394253bd8ee-696545571fa15292-01
2022-04-20T15:30:45.622Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:45.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-0363ffa00b68d95d482bfd7623e1702ffdba2905-015bd44c164e64d6-01 outer:exit 2b-0363ffa00b68d95d482bfd7623e1702ffdba2905-2f6fd9e4c927774e-01
2022-04-20T15:30:45.626Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:45.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a12442b1e907f4f268c0940bc9de5b017894c27-4b0be52897390fb0-01 outer:exit 2b-5a12442b1e907f4f268c0940bc9de5b017894c27-c8ad214e0d118f98-01
2022-04-20T15:30:45.629Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:45.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-28223900df88adfbc1f76f9e90bb7f4b106ffffb-7067eb63f50bb260-01 outer:exit 2b-28223900df88adfbc1f76f9e90bb7f4b106ffffb-3b2b6a76ba4bc440-01
2022-04-20T15:30:45.635Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:45.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca91885735dd06ea5b29f05232df9a622e3476f2-18dd1f6e8747b8b3-01 outer:exit 2b-ca91885735dd06ea5b29f05232df9a622e3476f2-669037915b52ffb0-01
2022-04-20T15:30:45.651Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:45.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-69a87f0abcd0c421a5c70ca21a0303540083ee96-d79237e391337d50-01 outer:exit 2b-69a87f0abcd0c421a5c70ca21a0303540083ee96-6e27be2285d0504f-01
2022-04-20T15:30:45.690Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:45.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-e68d6faa20f572a441f3a79b434c602d161bf421-6f1d6224916554e3-01 outer:exit 2b-e68d6faa20f572a441f3a79b434c602d161bf421-ca6f248bd7a02cbf-01
2022-04-20T15:30:45.698Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:45.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-b384512d9775fbf8dfdc2006fe2c4635baaa5043-cbc333b59b310ffb-01 outer:exit 2b-b384512d9775fbf8dfdc2006fe2c4635baaa5043-b82b4169582f0b30-01
2022-04-20T15:30:45.701Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:45.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-f26166366bd0be76e7e1282eabd48b7dbe9e5d8b-da6151153c98f7ff-01 outer:exit 2b-f26166366bd0be76e7e1282eabd48b7dbe9e5d8b-edeec98e562330fb-01
2022-04-20T15:30:45.704Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:45.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-a726d9bf0d98c0e01c2be326405fab944a1c2db7-81ef91ca3a5d2ea2-01 outer:exit 2b-a726d9bf0d98c0e01c2be326405fab944a1c2db7-eda99c076db9525e-01
2022-04-20T15:30:45.706Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:45.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-15022fe866905d13233cacd0c532fa787566a068-ce184e99affbe34f-01 outer:exit 2b-15022fe866905d13233cacd0c532fa787566a068-0a37d315daee1449-01
2022-04-20T15:30:45.708Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:45.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-38c546ec75c293e310c3fb9d9bb0343e027cc780-16990e909c05047b-01 outer:exit 2b-38c546ec75c293e310c3fb9d9bb0343e027cc780-da28d826c65474fb-01
2022-04-20T15:30:45.710Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:45.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a8f393bd39811d55963af98d74aa67816fd6bfd-a52b8d1b78c7b1b2-01 outer:exit 2b-9a8f393bd39811d55963af98d74aa67816fd6bfd-49b67e3de7584554-01
2022-04-20T15:30:45.712Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:45.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8561139cc6d02c3b3ee054fbe4f4a7f9983bc4b-2b67020f922f2143-01 outer:exit 2b-d8561139cc6d02c3b3ee054fbe4f4a7f9983bc4b-c888d1701f21921a-01
2022-04-20T15:30:45.714Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:45.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6b66f78ecd724694264a4109a778d0890b30473-6b7d5c5d2781fee0-01 outer:exit 2b-d6b66f78ecd724694264a4109a778d0890b30473-e7ae2565497d8662-01
2022-04-20T15:30:45.718Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:45.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-92b52d55a0425f0aa2cf18a4f0320391fb6954bf-490e10c99b21fe65-01 outer:exit 2b-92b52d55a0425f0aa2cf18a4f0320391fb6954bf-d384cc9e5c181da6-01
2022-04-20T15:30:45.721Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:45.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-f20e72f094c5cb3c82497402a5511f67914e1310-18ff9e6a882c06f0-01 outer:exit 2b-f20e72f094c5cb3c82497402a5511f67914e1310-506e667960f45cec-01
2022-04-20T15:30:45.723Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:45.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-65f83c11e41cc7debbc5b46e7456badf9aa3f5c7-3fcee0954749fa01-01 outer:exit 2b-65f83c11e41cc7debbc5b46e7456badf9aa3f5c7-70cd5e5ff18a0be9-01
2022-04-20T15:30:45.726Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:45.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d48921850e747a1d34b718abb06e902e9aa0067-b10f83ed94383667-01 outer:exit 2b-1d48921850e747a1d34b718abb06e902e9aa0067-4ccdf387626b092b-01
2022-04-20T15:30:45.732Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:45.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-761543eeb9e98abfeb122bc65cb7d1b404ec1c99-94a856eb2e9ca582-01 outer:exit 2b-761543eeb9e98abfeb122bc65cb7d1b404ec1c99-ffc6ea7d97be0283-01
2022-04-20T15:30:45.739Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:45.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-48ace15a1782426149b8664d89693a4171405e27-36ccebe922e48c1f-01 outer:exit 2b-48ace15a1782426149b8664d89693a4171405e27-8373656060cd5f7c-01
2022-04-20T15:30:45.755Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:45.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-b86a11ef1483b1a7259829276d3ae3145f96373e-0ab24d10d899f6a0-01 outer:exit 2b-b86a11ef1483b1a7259829276d3ae3145f96373e-05e1074b46d77bfb-01
2022-04-20T15:30:45.763Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:45.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-059e1457ef2a9b0750e346281200449124820814-96ec743391468337-01 outer:exit 2b-059e1457ef2a9b0750e346281200449124820814-b15e50a9166e148e-01
2022-04-20T15:30:45.766Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:45.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdda11d8892045b6c28c2772b59fad9760223b58-a509175b12f533df-01 outer:exit 2b-cdda11d8892045b6c28c2772b59fad9760223b58-b5b78e9139361110-01
2022-04-20T15:30:45.769Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:45.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-46a85546c772c05aa38e25161011448b516a451e-66227dd1a64f11b6-01 outer:exit 2b-46a85546c772c05aa38e25161011448b516a451e-dffc9bc4e39930fa-01
2022-04-20T15:30:45.776Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:45.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-52ca61ab90d8c063088123e6bb19b7599082e030-7f70efeebb5c8294-01 outer:exit 2b-52ca61ab90d8c063088123e6bb19b7599082e030-e2ed31593df57af9-01
2022-04-20T15:30:45.780Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:45.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-52321b61b2a44309caedb4d1b5a253b2e56f7536-7af1b34d62310b4f-01 outer:exit 2b-52321b61b2a44309caedb4d1b5a253b2e56f7536-95636b992c9dfa94-01
2022-04-20T15:30:45.782Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:45.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-21a8d253107e48cc4bca8dc7a4dcaa1046256fc7-15761dd429f6b744-01 outer:exit 2b-21a8d253107e48cc4bca8dc7a4dcaa1046256fc7-643b78fc18352d8e-01
2022-04-20T15:30:45.784Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:45.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a98063285b1b443b858e127b44040705a7593df-e9210adedea37ac7-01 outer:exit 2b-4a98063285b1b443b858e127b44040705a7593df-e91c4b66a0142b4f-01
2022-04-20T15:30:45.786Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:45.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c0a86d728b3a392bd46b600eddb541c29a7af90-43dd3268eadc6239-01 outer:exit 2b-7c0a86d728b3a392bd46b600eddb541c29a7af90-c6fd3fd0264e7720-01
2022-04-20T15:30:45.788Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:45.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7a3d10e28ba94d440bf7a3dc96fd3489cec872f-a27ee35f33d567d1-01 outer:exit 2b-c7a3d10e28ba94d440bf7a3dc96fd3489cec872f-9b3a0404502d8a38-01
2022-04-20T15:30:45.797Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:45.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-755b2716061dee48209afdd0b03ae9f1870c08eb-f6c34498871b7bfc-01 outer:exit 2b-755b2716061dee48209afdd0b03ae9f1870c08eb-de37e14c8a778c91-01
2022-04-20T15:30:45.808Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:45.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-57069d2963090bd0b658278d46a689bd6b3996f7-cb8ae04af3a3f018-01 outer:exit 2b-57069d2963090bd0b658278d46a689bd6b3996f7-1de733f87cff75b3-01
2022-04-20T15:30:45.810Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:45.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ae54291641814a3779a6b435bf84be4bee49b37-19972969820a8e49-01 outer:exit 2b-4ae54291641814a3779a6b435bf84be4bee49b37-541aa5b22d69b877-01
2022-04-20T15:30:45.813Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:45.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-322fe5ec04e1c7a7dd184ef14703fcba34bb14da-6ecbf674cd651022-01 outer:exit 2b-322fe5ec04e1c7a7dd184ef14703fcba34bb14da-53be9acc498eab45-01
2022-04-20T15:30:45.816Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:45.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-67615ccf8edae346d17060c796dead792538a112-4257b979aa5666ef-01 outer:exit 2b-67615ccf8edae346d17060c796dead792538a112-964e6675ad1c44d7-01
2022-04-20T15:30:45.857Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (345ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:51.856Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:51.856Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:51.856Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:51.857Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:51.915Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:52.026Z appoptics:patching patched crypto 
2022-04-20T15:30:52.052Z appoptics:patching patched https 
2022-04-20T15:30:52.053Z appoptics:patching patched http 
2022-04-20T15:30:52.091Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:52.091Z appoptics:patching patched fs 
2022-04-20T15:30:52.117Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v18.0.0)
2022-04-20T15:30:52.123Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2022-04-20T15:30:52.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddf990a0a6336537eb8ea187603f5434513550b6-e25df8994a9137ad-01 outer:exit 2b-ddf990a0a6336537eb8ea187603f5434513550b6-720bed8f0c464133-01
2022-04-20T15:30:52.169Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:52.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae6a753dcc4fd5a70179cc310608a7aa2631c898-8ab77752bdb994d4-01 outer:exit 2b-ae6a753dcc4fd5a70179cc310608a7aa2631c898-abbe5b94e4ea35fe-01
2022-04-20T15:30:52.214Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:52.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d6aafb6d3a86736ace13fca39e35dde4c207437-0a4a495387bf0c76-01 outer:exit 2b-8d6aafb6d3a86736ace13fca39e35dde4c207437-0d922831f914f67d-01
2022-04-20T15:30:52.218Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:52.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-9852c1eba7202bca1c91473d3b3e89f961348b85-73d1f7eebdf43c4b-01 outer:exit 2b-9852c1eba7202bca1c91473d3b3e89f961348b85-dc234d0d6990c5fe-01
2022-04-20T15:30:52.222Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:52.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-66068bb326e67d7837265b9c5268283f3272b2ad-77072bc11c16504c-01 outer:exit 2b-66068bb326e67d7837265b9c5268283f3272b2ad-e4c8bbd609debb72-01
2022-04-20T15:30:52.228Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:52.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ae324a8172e7ce7cc07b27d2f687c259c9c4ff4-565f4066000bb97c-01 outer:exit 2b-7ae324a8172e7ce7cc07b27d2f687c259c9c4ff4-58ee636c0b42493a-01
2022-04-20T15:30:52.231Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:52.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1a0ef5482882a2fc9a9fc4e53f52ee4977611ec-1bd602688225b5ce-01 outer:exit 2b-d1a0ef5482882a2fc9a9fc4e53f52ee4977611ec-8d532acb252cabf6-01
2022-04-20T15:30:52.234Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:52.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-40cd8aabb5022b206d33c7999f49e90d2f754e95-86f3a9e423361934-01 outer:exit 2b-40cd8aabb5022b206d33c7999f49e90d2f754e95-597638b63ddf7cb2-01
2022-04-20T15:30:52.236Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:52.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac416a690e25f3010d749684c5fca78cf212766f-5b91ea8d45dbca58-01 outer:exit 2b-ac416a690e25f3010d749684c5fca78cf212766f-a2330ce20ba776fa-01
2022-04-20T15:30:52.239Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:52.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-fadba814f6a16a68d92928e424f80ead0b273578-ff2083a1d6fde2af-01 outer:exit 2b-fadba814f6a16a68d92928e424f80ead0b273578-59b8e79ee21f7538-01
2022-04-20T15:30:52.241Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:52.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e1b018d39d9d60aeb8d8c892deca6c927a12948-cc1fe2f356611c6e-01 outer:exit 2b-5e1b018d39d9d60aeb8d8c892deca6c927a12948-d5f1cda50d59d484-01
2022-04-20T15:30:52.245Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:52.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdae538eafa6dbb8f21c5b9b535fd29f8ac0fbb4-73503febb35c881a-01 outer:exit 2b-fdae538eafa6dbb8f21c5b9b535fd29f8ac0fbb4-cae59070dd428549-01
2022-04-20T15:30:52.251Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:52.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-0094fd2beca4147b2fd33dad88a598c2182a6dcc-9531d00d99179845-01 outer:exit 2b-0094fd2beca4147b2fd33dad88a598c2182a6dcc-bd4993e67895f3b9-01
2022-04-20T15:30:52.268Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:30:52.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6032c3eda2e90fa60c3761374e7b73c128db6c8-a8f14e9a0047cf49-01 outer:exit 2b-b6032c3eda2e90fa60c3761374e7b73c128db6c8-f2fa762edf324353-01
2022-04-20T15:30:52.307Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:30:52.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc76867f08ee9f91b7494a4589e09504857b6764-589f11f71d24e9e5-01 outer:exit 2b-bc76867f08ee9f91b7494a4589e09504857b6764-35171b74988591b0-01
2022-04-20T15:30:52.310Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:30:52.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-322bb736a86d855863bd860a8a53ce9658cfe2b4-5d0cb1c377e098a6-01 outer:exit 2b-322bb736a86d855863bd860a8a53ce9658cfe2b4-97c577a026850be0-01
2022-04-20T15:30:52.312Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:30:52.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-29951a65afb4a6d9175ab28e8c3e59891c17e5e1-69e0e5fa3788e10b-01 outer:exit 2b-29951a65afb4a6d9175ab28e8c3e59891c17e5e1-1afe498bf9d5c61c-01
2022-04-20T15:30:52.314Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:30:52.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7e99610c70e4cf9f27734799df99d2e89aeb266-f0fe1222add0e1bf-01 outer:exit 2b-b7e99610c70e4cf9f27734799df99d2e89aeb266-7c28e481e3e1c2e9-01
2022-04-20T15:30:52.317Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:30:52.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c5d9a60956c0dfde6de1d05a9ff79f00c84d5a3-69cc65bfae5cb98f-01 outer:exit 2b-1c5d9a60956c0dfde6de1d05a9ff79f00c84d5a3-5e84a6cd3c7a13c4-01
2022-04-20T15:30:52.318Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:30:52.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f88df3cf7bf770e5cdd5b3dcb312254384f2bc4-b9b955978d0ef744-01 outer:exit 2b-7f88df3cf7bf770e5cdd5b3dcb312254384f2bc4-7edac5140a051db2-01
2022-04-20T15:30:52.320Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:30:52.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-abe40b36a3228f5bac1657b5a196fabdc277235c-a25f21aba0b10cd6-01 outer:exit 2b-abe40b36a3228f5bac1657b5a196fabdc277235c-e37e45091438b1e6-01
2022-04-20T15:30:52.322Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:30:52.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-24e05a2e04b9ce6ac067d7c8d2c0f1a9d0d0bbd4-84d73113518ea08c-01 outer:exit 2b-24e05a2e04b9ce6ac067d7c8d2c0f1a9d0d0bbd4-0b25046a97aba0c5-01
2022-04-20T15:30:52.324Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:30:52.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-600fc5216c4a119e9f2dd02ff176385bf002ea36-e50493d017c99e11-01 outer:exit 2b-600fc5216c4a119e9f2dd02ff176385bf002ea36-26f89e7c4cf391fc-01
2022-04-20T15:30:52.327Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:30:52.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-b47e4556f21cdc14a82f862459168ec1ebd84d16-140130325f7b3aa5-01 outer:exit 2b-b47e4556f21cdc14a82f862459168ec1ebd84d16-cfdaca35781b3ca8-01
2022-04-20T15:30:52.329Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:30:52.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9a0583ef5dd193a35e28b52d8bd599c1f5f2f14-0138b075e474a73f-01 outer:exit 2b-a9a0583ef5dd193a35e28b52d8bd599c1f5f2f14-9e2b25ad447abb03-01
2022-04-20T15:30:52.331Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:30:52.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-07392f18353187bf31e1ec60e6cca7bb8a4b2e3f-b33aafc82355b1d5-01 outer:exit 2b-07392f18353187bf31e1ec60e6cca7bb8a4b2e3f-db12ef2f56c57fda-01
2022-04-20T15:30:52.333Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:30:52.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-7594d5752d156ebe87b086efc3c5125b92814102-592766835c01ef20-01 outer:exit 2b-7594d5752d156ebe87b086efc3c5125b92814102-d54e6f12413b2ec3-01
2022-04-20T15:30:52.339Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:30:52.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f9a41a2582820b30efae139a13b27838643d696-e636c3e4dd055aa0-01 outer:exit 2b-1f9a41a2582820b30efae139a13b27838643d696-f692803196edd86d-01
2022-04-20T15:30:52.345Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:30:52.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a00243c1247b75664e6169d07ece3541ccf6be1-0b83fca61cb13b48-01 outer:exit 2b-5a00243c1247b75664e6169d07ece3541ccf6be1-e15f9b9138f63acf-01
2022-04-20T15:30:52.352Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:30:52.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-be4c8d542c9945d32567aede7aab7f8076ddc3ef-8d4b1fb01c4e2d37-01 outer:exit 2b-be4c8d542c9945d32567aede7aab7f8076ddc3ef-6a981f7493f71efe-01
2022-04-20T15:30:52.358Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:30:52.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad243474622a41cc0d2178be87dec6aef1055315-1dafc2b3cad55dbc-01 outer:exit 2b-ad243474622a41cc0d2178be87dec6aef1055315-f245ce1303f0cd47-01
2022-04-20T15:30:52.360Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:30:52.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-94157ab82de462da22cb7e78701a19e259a6db12-1c21de48d45bbdb2-01 outer:exit 2b-94157ab82de462da22cb7e78701a19e259a6db12-bee6dac9f92ca79e-01
2022-04-20T15:30:52.363Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:30:52.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-65a785baa98354fbbd906770cf62e6e599d8c67e-d106d478f386c2ee-01 outer:exit 2b-65a785baa98354fbbd906770cf62e6e599d8c67e-0b8653e6e87c3768-01
2022-04-20T15:30:52.369Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:30:52.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a4dbf56a5316e7b6a9a89d480bea5154875cb11-1518205ff5992d32-01 outer:exit 2b-9a4dbf56a5316e7b6a9a89d480bea5154875cb11-170748c6033b49b1-01
2022-04-20T15:30:52.371Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:30:52.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ba79b1084b3be9cc3769b97ab490718b2476f49-26e9ba55b3d76c48-01 outer:exit 2b-8ba79b1084b3be9cc3769b97ab490718b2476f49-75a6fbbd6ae1966d-01
2022-04-20T15:30:52.373Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:30:52.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4a318cab69ce9e958a8efe579a5bc9c1a554d6e-527b2c5516869360-01 outer:exit 2b-c4a318cab69ce9e958a8efe579a5bc9c1a554d6e-0a6fd9afd7981862-01
2022-04-20T15:30:52.374Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:30:52.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1ce833004660885eccff9d77e1d66d31d097bef-b785c37300ee6dcf-01 outer:exit 2b-c1ce833004660885eccff9d77e1d66d31d097bef-f7e0abf6a910b011-01
2022-04-20T15:30:52.376Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:30:52.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-43591bf9b4a84ca46db39965b6237052f301e720-8d53fb19cebc20c8-01 outer:exit 2b-43591bf9b4a84ca46db39965b6237052f301e720-853b00fece0ae06a-01
2022-04-20T15:30:52.378Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:30:52.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bab4f4b3be7ce67f2affc3ee4cd2622175fb19c-0f11f874153e38d0-01 outer:exit 2b-2bab4f4b3be7ce67f2affc3ee4cd2622175fb19c-4b6782685e4de487-01
2022-04-20T15:30:52.388Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:30:52.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-427c2f8b82d2a1dc7c86307d3eb2fca67b793846-3969dfcea536dce5-01 outer:exit 2b-427c2f8b82d2a1dc7c86307d3eb2fca67b793846-24fb868e7f9d3f14-01
2022-04-20T15:30:52.395Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:30:52.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c975c28c5f2617d3ba59d54848f8aed73c22f30-c26bfca19b061c83-01 outer:exit 2b-8c975c28c5f2617d3ba59d54848f8aed73c22f30-5028390c71c5514e-01
2022-04-20T15:30:52.398Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:30:52.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a0b991b247aa01ad87b8db851e2aca4b39b59f1-3a9f1c6ab2c766e3-01 outer:exit 2b-1a0b991b247aa01ad87b8db851e2aca4b39b59f1-5fb78266fa7e9d4f-01
2022-04-20T15:30:52.400Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:30:52.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-8026b6519c7d4b8999009156f16a59fc15ce6b9d-a60fc821768bff49-01 outer:exit 2b-8026b6519c7d4b8999009156f16a59fc15ce6b9d-75507735eed779c7-01
2022-04-20T15:30:52.402Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:30:52.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6dfa86484c67a4c8157fd2041ea8b8277504a72-4d0d2bf234c9ffe7-01 outer:exit 2b-d6dfa86484c67a4c8157fd2041ea8b8277504a72-e734632fba673acc-01
2022-04-20T15:30:52.434Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (305ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:59.576Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:59.577Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:59.577Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:59.578Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:59.636Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:59.746Z appoptics:patching patched crypto 
2022-04-20T15:30:59.763Z appoptics:patching patched https 
2022-04-20T15:30:59.763Z appoptics:patching patched http 
2022-04-20T15:30:59.804Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:59.804Z appoptics:patching patched fs 
2022-04-20T15:30:59.828Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v18.0.0)
2022-04-20T15:30:59.834Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2022-04-20T15:30:59.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d5009f5e3828563b2a5438c00af15ec649daa71-94d57760c001eb9b-01 outer:exit 2b-2d5009f5e3828563b2a5438c00af15ec649daa71-611d31701eaac4dc-01
2022-04-20T15:30:59.880Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:30:59.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-17d48a0cdf031db7dd76578cdff5080d4999daf4-bbaaa70a9b6f1724-01 outer:exit 2b-17d48a0cdf031db7dd76578cdff5080d4999daf4-07543161bd7bda70-01
2022-04-20T15:30:59.924Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:30:59.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-35f2fc5999a18b6596bacb5e66a8de96c844889a-76f73c431f5264e2-01 outer:exit 2b-35f2fc5999a18b6596bacb5e66a8de96c844889a-9dcc3a86608c978c-01
2022-04-20T15:30:59.928Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:30:59.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-644be141bb2d043b5c2941efd9684bceec0bafb7-72d0b37d2b7e4918-01 outer:exit 2b-644be141bb2d043b5c2941efd9684bceec0bafb7-fb61e52c01402551-01
2022-04-20T15:30:59.931Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:30:59.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8818b7488ac678c70e25969efb2b019b4b3783b-ec82b36871fa5cbd-01 outer:exit 2b-a8818b7488ac678c70e25969efb2b019b4b3783b-251c5dbf4174a83b-01
2022-04-20T15:30:59.935Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:30:59.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7efeea51ae611d48f3673c223f2bc287c3ff191-a9faef2503a58693-01 outer:exit 2b-b7efeea51ae611d48f3673c223f2bc287c3ff191-fe082b44b820b04f-01
2022-04-20T15:30:59.938Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:30:59.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-a966aad2f0909e4a16bd8e01921d35d7d8f5a767-bf2485106be07bd9-01 outer:exit 2b-a966aad2f0909e4a16bd8e01921d35d7d8f5a767-ce75ebe6b1389c43-01
2022-04-20T15:30:59.941Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:30:59.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-bde2fdf000e330a667ed3f921bbbf643b1ca3cc4-b27eadee9b8e89a4-01 outer:exit 2b-bde2fdf000e330a667ed3f921bbbf643b1ca3cc4-bb6590eab6f9a5bc-01
2022-04-20T15:30:59.943Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:30:59.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f576a55ec0da423d156e5ab6866bccb612c74c1-ea23f786ddc79559-01 outer:exit 2b-4f576a55ec0da423d156e5ab6866bccb612c74c1-eb58caa0343f182d-01
2022-04-20T15:30:59.946Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:30:59.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-b33c51cbdecc3d29011c6e041b6e5c25bec21865-c4eb8a0bffd4d6b0-01 outer:exit 2b-b33c51cbdecc3d29011c6e041b6e5c25bec21865-19c14086232c9547-01
2022-04-20T15:30:59.949Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:30:59.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-9454b25afc5b18f69db2ab44831cdee111b4693a-638cb232a03607eb-01 outer:exit 2b-9454b25afc5b18f69db2ab44831cdee111b4693a-3bd68cfa1cae52f7-01
2022-04-20T15:30:59.955Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:30:59.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-c50dd0d59354e31653947a5ce69b4148c4e6e1c0-d1e017e3bd315017-01 outer:exit 2b-c50dd0d59354e31653947a5ce69b4148c4e6e1c0-9137cd8806a8de1c-01
2022-04-20T15:30:59.961Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:30:59.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-30fe5d93ddfb9d791d784bdc0a1ba535738e8d7b-1cbb06d54524477e-01 outer:exit 2b-30fe5d93ddfb9d791d784bdc0a1ba535738e8d7b-b6b1e65240991128-01
2022-04-20T15:30:59.975Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:00.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c293b07512c3b8685f3cb8df5949866d19398a3-f8be993bb84a4bd6-01 outer:exit 2b-4c293b07512c3b8685f3cb8df5949866d19398a3-afee77533fb658b8-01
2022-04-20T15:31:00.014Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:00.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4a15f238bc4c93758642f7a1f8f7cd3abda12af-38bc24d2f086acd5-01 outer:exit 2b-b4a15f238bc4c93758642f7a1f8f7cd3abda12af-8442a4fef97b92c5-01
2022-04-20T15:31:00.017Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:00.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d6493184ed74ba1f01545c422f928710b2de31f-0883564715502527-01 outer:exit 2b-4d6493184ed74ba1f01545c422f928710b2de31f-65a474892a2c9037-01
2022-04-20T15:31:00.019Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:00.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-bed9cd55109a730e13a2d01af09257c6c429533b-4013c13c8d9917d0-01 outer:exit 2b-bed9cd55109a730e13a2d01af09257c6c429533b-cfad4731f01930d5-01
2022-04-20T15:31:00.022Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:00.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-3113b7d21873d89b52493bdc7b9e2415f582e06a-81c75b688422109d-01 outer:exit 2b-3113b7d21873d89b52493bdc7b9e2415f582e06a-60ba986dbc8a979b-01
2022-04-20T15:31:00.024Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:00.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f9ef674b02634dda8b11f09fb6265e45d2bb80c-d6946714b8ff4bbb-01 outer:exit 2b-1f9ef674b02634dda8b11f09fb6265e45d2bb80c-c772c4dbb66c2e2c-01
2022-04-20T15:31:00.026Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:00.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-e65f396a25b76648678eaf0bbf66b42a988b9fcf-f8741fa64d5d5a42-01 outer:exit 2b-e65f396a25b76648678eaf0bbf66b42a988b9fcf-80aed76dae483bb3-01
2022-04-20T15:31:00.028Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:00.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e24586ad18320f3ea9ff3afe5748aa0afc77fc1-579461a023fb0e42-01 outer:exit 2b-6e24586ad18320f3ea9ff3afe5748aa0afc77fc1-f0e75f3d3dc4f65f-01
2022-04-20T15:31:00.030Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:00.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-4eda0a89b50a20aaf0a4ac7f48c64b4ffaf3a8d7-38d0b88af2e1d460-01 outer:exit 2b-4eda0a89b50a20aaf0a4ac7f48c64b4ffaf3a8d7-a7dc11b336e7943a-01
2022-04-20T15:31:00.032Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:00.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-84abf1160bf54f5e3f30640058592db80c6effa1-f19ece3175cddd60-01 outer:exit 2b-84abf1160bf54f5e3f30640058592db80c6effa1-48941ed408153e56-01
2022-04-20T15:31:00.035Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:00.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea552828a6c2e4e427cd135f66a20dbca0120f9d-3174b6101f32289e-01 outer:exit 2b-ea552828a6c2e4e427cd135f66a20dbca0120f9d-d09c86cdfe45b50a-01
2022-04-20T15:31:00.037Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:00.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-97effa13f868eb3ae8220b22b5728901d4137897-0cdf80a13171af2b-01 outer:exit 2b-97effa13f868eb3ae8220b22b5728901d4137897-17ad898487587f5e-01
2022-04-20T15:31:00.040Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:00.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2c8e4557d2ae4d695b62be04e766da174df6263-bd852f255eb88dec-01 outer:exit 2b-e2c8e4557d2ae4d695b62be04e766da174df6263-f0b533363f39451c-01
2022-04-20T15:31:00.042Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:00.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab78a1269646c79de924d9bdd7eaca6581189a19-73c84bbf28beb42d-01 outer:exit 2b-ab78a1269646c79de924d9bdd7eaca6581189a19-a885710c5a5f1c64-01
2022-04-20T15:31:00.047Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:00.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-90b9b2014b2e8da18e3dd4f7677acc37df728b8d-a4ddb1a1d8112b3a-01 outer:exit 2b-90b9b2014b2e8da18e3dd4f7677acc37df728b8d-9906b342fc2b7673-01
2022-04-20T15:31:00.053Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:00.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4c0e9edb40856ee9effc95eae89243098655c08-7d47c6c0920f2a13-01 outer:exit 2b-d4c0e9edb40856ee9effc95eae89243098655c08-422c660e7a1aaf46-01
2022-04-20T15:31:00.069Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:00.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-4692ca974529d438fc3f6ec2d2a9219f20849284-1f8245bb4ba49084-01 outer:exit 2b-4692ca974529d438fc3f6ec2d2a9219f20849284-b9eaa0c5165ea26c-01
2022-04-20T15:31:00.074Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:00.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-49594cf7a9152e816037bee3b3d0dca40ce97fe9-2f469235517642b3-01 outer:exit 2b-49594cf7a9152e816037bee3b3d0dca40ce97fe9-0e10b5a95c67eb3a-01
2022-04-20T15:31:00.076Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:00.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-70f4a228d64f658431c304d689280426e5164aa5-0c21e08472a5755e-01 outer:exit 2b-70f4a228d64f658431c304d689280426e5164aa5-b50460c919d248d7-01
2022-04-20T15:31:00.080Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:00.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-41f5a316fafddbf5fd4800f7630232d1bfab21cd-78ad6b54537d6d55-01 outer:exit 2b-41f5a316fafddbf5fd4800f7630232d1bfab21cd-91485b192441dc81-01
2022-04-20T15:31:00.086Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:00.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-1efcbb15adfa81d87d8037bd41dec2426cd74107-fa71afe756839c8b-01 outer:exit 2b-1efcbb15adfa81d87d8037bd41dec2426cd74107-941ac3d672519a06-01
2022-04-20T15:31:00.088Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:00.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-aef3a04cfcffbe1016df4d525cf4598aa872a8be-f51e8965b68e711c-01 outer:exit 2b-aef3a04cfcffbe1016df4d525cf4598aa872a8be-568dae27df9bfc8f-01
2022-04-20T15:31:00.090Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:00.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-69fbd4f28d9025d0b3f3fbf09f5e0a2e707bdcf9-8690fa52f677f1bf-01 outer:exit 2b-69fbd4f28d9025d0b3f3fbf09f5e0a2e707bdcf9-84e581cc8daea710-01
2022-04-20T15:31:00.092Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:00.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fe8ea5c74f6ec6a91374530cb6920e6d3e0f55e-eff6e41d7b056893-01 outer:exit 2b-0fe8ea5c74f6ec6a91374530cb6920e6d3e0f55e-dba8c573025e4860-01
2022-04-20T15:31:00.094Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:00.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-1aaabfeed5e1c98fd632706346c18b3d70aa5fdd-933ef5c3e6d31456-01 outer:exit 2b-1aaabfeed5e1c98fd632706346c18b3d70aa5fdd-a85aa2144179a951-01
2022-04-20T15:31:00.095Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:00.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-483c39c12d2c51126a47bf39dcbb89bb6499180e-8f7d1e869175e629-01 outer:exit 2b-483c39c12d2c51126a47bf39dcbb89bb6499180e-40a0c53fe94e18fd-01
2022-04-20T15:31:00.105Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:00.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4f482b00c78e5618ea15c6c7f70c059cf65a01d-05f26d749cd7cef7-01 outer:exit 2b-b4f482b00c78e5618ea15c6c7f70c059cf65a01d-157bd924f9b97280-01
2022-04-20T15:31:00.114Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:00.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-4be349257424d32d2c6c1bd0168158875f7006b1-faf1e4ecb34fe202-01 outer:exit 2b-4be349257424d32d2c6c1bd0168158875f7006b1-2002ff887eb234b8-01
2022-04-20T15:31:00.116Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:00.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e9b89dcfea8f76a58f96654692aa97e3da1978f-1d874ce948b21e1c-01 outer:exit 2b-8e9b89dcfea8f76a58f96654692aa97e3da1978f-bad4e0d95db700d3-01
2022-04-20T15:31:00.119Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:00.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-c47e6bb275a7035c09b4b1d4b80785eb11f928d5-5b744efbbf19a3b6-01 outer:exit 2b-c47e6bb275a7035c09b4b1d4b80785eb11f928d5-278ae678415e5d9b-01
2022-04-20T15:31:00.121Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:00.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9d0c41840af557848bc8c920b5d8df1b407d1bc-9adbeea94beab5ec-01 outer:exit 2b-f9d0c41840af557848bc8c920b5d8df1b407d1bc-675fc49d5eb25df2-01
2022-04-20T15:31:00.146Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (306ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:06.158Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:06.159Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:06.159Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:06.160Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:06.217Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:06.327Z appoptics:patching patched crypto 
2022-04-20T15:31:06.355Z appoptics:patching patched https 
2022-04-20T15:31:06.356Z appoptics:patching patched http 
2022-04-20T15:31:06.413Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:06.413Z appoptics:patching patched fs 
2022-04-20T15:31:06.443Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v18.0.0)
2022-04-20T15:31:06.449Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2022-04-20T15:31:06.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b880b8d67f12412f1f8d68f7f44c0519ffa9f62-433f60f65d802a42-01 outer:exit 2b-2b880b8d67f12412f1f8d68f7f44c0519ffa9f62-547d42fcb8e9402a-01
2022-04-20T15:31:06.505Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:06.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-06eca0db5cc5a2647853019ba8cb7d35840420ab-ff6b2f8ec8fd3a1e-01 outer:exit 2b-06eca0db5cc5a2647853019ba8cb7d35840420ab-97df5393be4922c4-01
2022-04-20T15:31:06.552Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:06.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-200e88514487b1c2a402f9f991623ff2fa9895eb-77585f28f72d9a51-01 outer:exit 2b-200e88514487b1c2a402f9f991623ff2fa9895eb-3620b22ee7989827-01
2022-04-20T15:31:06.556Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:06.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0fbd2c5c9338bfe51f2d6ab4f1b869e81c2935b-5cdd5e23f9ac7ab6-01 outer:exit 2b-a0fbd2c5c9338bfe51f2d6ab4f1b869e81c2935b-d72ef063d94848e2-01
2022-04-20T15:31:06.559Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:06.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c7608a84219eafe7d533e11ad124f5510533fe7-a5369d8ec2df43ec-01 outer:exit 2b-6c7608a84219eafe7d533e11ad124f5510533fe7-36e10e2cc532b46e-01
2022-04-20T15:31:06.563Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:06.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8852cf7d247cc9d76e70f1d7958fceb26ba58c4-876cad06972e6e0c-01 outer:exit 2b-c8852cf7d247cc9d76e70f1d7958fceb26ba58c4-28237a2ff749b3ef-01
2022-04-20T15:31:06.566Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:06.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-1989f8528b27bfb54a23742f58a0125bcbe54c61-b23cd7d1674461c2-01 outer:exit 2b-1989f8528b27bfb54a23742f58a0125bcbe54c61-64e2c26c54c619ac-01
2022-04-20T15:31:06.568Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:06.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b6646d6a4c66b623f89d9f17cf1616566935496-88ce6b33ed90b64f-01 outer:exit 2b-3b6646d6a4c66b623f89d9f17cf1616566935496-f6e49d5bedc5d68a-01
2022-04-20T15:31:06.571Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:06.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-98608226acb6afaf493809a9deefb3f9d62f5420-0b4dcffacd86147d-01 outer:exit 2b-98608226acb6afaf493809a9deefb3f9d62f5420-396854b4b5b4803c-01
2022-04-20T15:31:06.573Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:06.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b90acaeecf20f656c9cf16dad607026d1c039f5-9692de1fc32e082c-01 outer:exit 2b-9b90acaeecf20f656c9cf16dad607026d1c039f5-b082c2de2f2eb73c-01
2022-04-20T15:31:06.576Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:06.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-86312e7501e2996077fd2604c96942f2fb0620e9-63087ddcfadd8566-01 outer:exit 2b-86312e7501e2996077fd2604c96942f2fb0620e9-53f6955f064850fe-01
2022-04-20T15:31:06.580Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:06.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2a8bd65a66e24f4748fde70d0f7aeedaf1a2d3f-fb5a6875aef92b31-01 outer:exit 2b-e2a8bd65a66e24f4748fde70d0f7aeedaf1a2d3f-927d08ed72bc54bc-01
2022-04-20T15:31:06.586Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:06.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-3060c79be7daf10e8cf2feca3d95f2353dd0f02c-baaad625e10c465a-01 outer:exit 2b-3060c79be7daf10e8cf2feca3d95f2353dd0f02c-6d530656a210e9c3-01
2022-04-20T15:31:06.602Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:06.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-9be457159e033f6abb29193cc26268bb8109f144-e25dab0e7413ebf6-01 outer:exit 2b-9be457159e033f6abb29193cc26268bb8109f144-7e093dd8fd23cb8f-01
2022-04-20T15:31:06.639Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:06.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d5b5bffb9db53e992a870bc5d7dd34c17593101-5c1d70853bf30158-01 outer:exit 2b-0d5b5bffb9db53e992a870bc5d7dd34c17593101-38d01285b2bb8fe7-01
2022-04-20T15:31:06.642Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:06.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-73c65b557112963f02936682cbe7612905f1ef05-024ed0662c068244-01 outer:exit 2b-73c65b557112963f02936682cbe7612905f1ef05-64fd457435ed5ced-01
2022-04-20T15:31:06.644Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:06.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e0c9f4a4507ac0edd381c5559cffa8cfc62e451-f0f2612cdfbb47bb-01 outer:exit 2b-7e0c9f4a4507ac0edd381c5559cffa8cfc62e451-69eb9468cddedd82-01
2022-04-20T15:31:06.647Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:06.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-144247a21ddcabcdbab42cad1608fffb54f7d9fb-5cd291d3a418fab5-01 outer:exit 2b-144247a21ddcabcdbab42cad1608fffb54f7d9fb-c095ac803a29404d-01
2022-04-20T15:31:06.649Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:06.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b23a3a0f2287820409e936deef44fa41d6b792f-9fdb4b42d262cb5a-01 outer:exit 2b-8b23a3a0f2287820409e936deef44fa41d6b792f-38e14d2db401107a-01
2022-04-20T15:31:06.651Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:06.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-8255bf349ebfae0ffaef5db8f5c86435993c37f1-7fa20b61f19bdc04-01 outer:exit 2b-8255bf349ebfae0ffaef5db8f5c86435993c37f1-b4b89328d80980bf-01
2022-04-20T15:31:06.653Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:06.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ddd0346aebe294c2f15b39c72d17e352deb2afd-1025728b146f0270-01 outer:exit 2b-1ddd0346aebe294c2f15b39c72d17e352deb2afd-80b4c8bdd89fd6f4-01
2022-04-20T15:31:06.654Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:06.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-037dd3a42a5aa4b16993f765b27824b89f5d58cf-04c089c0d8100786-01 outer:exit 2b-037dd3a42a5aa4b16993f765b27824b89f5d58cf-2c67e096d26ce382-01
2022-04-20T15:31:06.656Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:06.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5636f08f8742d1a5c637d80f238a656599856b4-9a7b48776588dbcc-01 outer:exit 2b-c5636f08f8742d1a5c637d80f238a656599856b4-0622d4373fb0ea2c-01
2022-04-20T15:31:06.659Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:06.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-5702d67cd9ff6b71d8084d1c2315f2f3f8c702b3-8abb6bb55509251c-01 outer:exit 2b-5702d67cd9ff6b71d8084d1c2315f2f3f8c702b3-110de4acb7c35799-01
2022-04-20T15:31:06.661Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:06.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d12d9f53e559b2f4f6d98e13f7ad7d1ec065b07-5628c68ae18fb116-01 outer:exit 2b-2d12d9f53e559b2f4f6d98e13f7ad7d1ec065b07-c707c81ba7ce9816-01
2022-04-20T15:31:06.663Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:06.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9c25647dd074811a169803a2b8febfd3c60fa32-13bf38ab0af8281a-01 outer:exit 2b-f9c25647dd074811a169803a2b8febfd3c60fa32-c94c3d9ee2f9a0bb-01
2022-04-20T15:31:06.665Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:06.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ca0c4fc0a3fc5a3411ea63e652e94f9196c1def-d9358d419512218c-01 outer:exit 2b-1ca0c4fc0a3fc5a3411ea63e652e94f9196c1def-7d978b24e5ca9fd9-01
2022-04-20T15:31:06.671Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:06.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-e285f8a68151be2c8464dd91f2d6955c3188945b-6e39c215d923a8d1-01 outer:exit 2b-e285f8a68151be2c8464dd91f2d6955c3188945b-34b9bb83ac8655e9-01
2022-04-20T15:31:06.677Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:06.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bb7ac88c6d5e35798777642084deff802295c2b-1fc2a3403b46c3b4-01 outer:exit 2b-9bb7ac88c6d5e35798777642084deff802295c2b-a6d286ab65db0a90-01
2022-04-20T15:31:06.685Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:06.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-58a1569bd83d687c2285bb348fe201362ca37037-2ee4307b160af276-01 outer:exit 2b-58a1569bd83d687c2285bb348fe201362ca37037-1b4eb3e43d950d86-01
2022-04-20T15:31:06.691Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:06.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-be2ef05165149d66857781fafe112bf72a54c8bf-5c98f60af7de252a-01 outer:exit 2b-be2ef05165149d66857781fafe112bf72a54c8bf-075a811e9f2c7e9a-01
2022-04-20T15:31:06.693Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:06.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cf79acdc96b318616d7121eb75c83c5fc309b5a-3d9a55bd9c2c3051-01 outer:exit 2b-1cf79acdc96b318616d7121eb75c83c5fc309b5a-bb5a903218904289-01
2022-04-20T15:31:06.695Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:06.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-2642821c2ee65e6091d390c54da0e6596283d698-819297b8c619590b-01 outer:exit 2b-2642821c2ee65e6091d390c54da0e6596283d698-84aeafbbf4cb5583-01
2022-04-20T15:31:06.712Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:06.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-a58ecabdaa27d70b73553976773a06311b93dd82-fa0c66af4f956966-01 outer:exit 2b-a58ecabdaa27d70b73553976773a06311b93dd82-ebcf74f963b6a3f0-01
2022-04-20T15:31:06.714Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:06.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-98d2d9c61417f6edabb50a0284b24a84549ea272-c2973e99f8532811-01 outer:exit 2b-98d2d9c61417f6edabb50a0284b24a84549ea272-d65e91e9ac917385-01
2022-04-20T15:31:06.716Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:06.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-89d85a7eb081d37d9897234173ddaf7efac1635d-0b5832ca48a24afb-01 outer:exit 2b-89d85a7eb081d37d9897234173ddaf7efac1635d-d052999caf7f8c36-01
2022-04-20T15:31:06.718Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:06.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd1ca65d6efe5276364f60712e4bf5c8e6076cf4-8d2cd92ccb2a6379-01 outer:exit 2b-fd1ca65d6efe5276364f60712e4bf5c8e6076cf4-f8a8f43832e4f48d-01
2022-04-20T15:31:06.719Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:06.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8c121e455644bf9c219060bccf64a5762901049-7b13b8134b43cce6-01 outer:exit 2b-c8c121e455644bf9c219060bccf64a5762901049-d1f092652d2d03d3-01
2022-04-20T15:31:06.721Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:06.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-762b9344ce8848ef0d03e7362e8e381f026b600f-e71a43b96fe8100a-01 outer:exit 2b-762b9344ce8848ef0d03e7362e8e381f026b600f-74f7ba472499705a-01
2022-04-20T15:31:06.730Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:06.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-f680ee2c70f66001ee8b4ad45686ab833420867b-515cdffce0c8aee0-01 outer:exit 2b-f680ee2c70f66001ee8b4ad45686ab833420867b-99b860c23a526a51-01
2022-04-20T15:31:06.739Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:06.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-b35caa788ee7b0dd9395399360966777d846571e-154914ae7b105146-01 outer:exit 2b-b35caa788ee7b0dd9395399360966777d846571e-74884ff65ee8a6ac-01
2022-04-20T15:31:06.742Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:06.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-a018a3f51e7c11336d75e868c5ac3cf5fd7fe352-b21d4cf7acb997da-01 outer:exit 2b-a018a3f51e7c11336d75e868c5ac3cf5fd7fe352-bc4a11773ce95860-01
2022-04-20T15:31:06.744Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:06.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-98614105c30ff3c021169ce252db88fe6d5d0f6a-1862f4b052337af3-01 outer:exit 2b-98614105c30ff3c021169ce252db88fe6d5d0f6a-711bc4f0d189c7fe-01
2022-04-20T15:31:06.746Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:06.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcf97c15de5ab37cb5d84b4ef8b8015693ca6544-e589c49793571184-01 outer:exit 2b-bcf97c15de5ab37cb5d84b4ef8b8015693ca6544-f92dd2aca90ea329-01
2022-04-20T15:31:06.773Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (317ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:13.316Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:13.317Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:13.317Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:13.318Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:13.377Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:13.490Z appoptics:patching patched crypto 
2022-04-20T15:31:13.508Z appoptics:patching patched https 
2022-04-20T15:31:13.508Z appoptics:patching patched http 
2022-04-20T15:31:13.548Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:13.549Z appoptics:patching patched fs 
2022-04-20T15:31:13.573Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v18.0.0)
2022-04-20T15:31:13.578Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2022-04-20T15:31:13.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6ffa578438be566b8523611882bd55c681443c8-79d66dde768fc87e-01 outer:exit 2b-e6ffa578438be566b8523611882bd55c681443c8-0683e8bb70a7f77f-01
2022-04-20T15:31:13.623Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:13.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ed7bb9a694eb33b9651dee674bd09c83642a4de-b3ac8dfbb941123a-01 outer:exit 2b-1ed7bb9a694eb33b9651dee674bd09c83642a4de-9dce2fca10fbd666-01
2022-04-20T15:31:13.667Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:13.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-8eb6f6ef7eb8602f8fc8cc586cf1678b3a263ff1-cff66f10d73d58c9-01 outer:exit 2b-8eb6f6ef7eb8602f8fc8cc586cf1678b3a263ff1-399bc096a5dc05d2-01
2022-04-20T15:31:13.671Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:13.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc746394acf84502bf0d3805538cbd7f75b4a04f-4b7f7ec8fcde4f19-01 outer:exit 2b-dc746394acf84502bf0d3805538cbd7f75b4a04f-7bba8ceb2d99158c-01
2022-04-20T15:31:13.675Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:13.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc9b4d8c515d8b681f172b894e150ea916e1e8e1-e1f5719a54cccf1f-01 outer:exit 2b-bc9b4d8c515d8b681f172b894e150ea916e1e8e1-3278bf5e707b67d9-01
2022-04-20T15:31:13.679Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:13.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f10524bc2e47946ba448885eabaab73e24d2552-8cd50836caf909df-01 outer:exit 2b-7f10524bc2e47946ba448885eabaab73e24d2552-03d032f41d1bc89f-01
2022-04-20T15:31:13.682Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:13.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-aec415f5a89f24166433c7ed634d0bf7a375e53a-8bd1f3784cc39ce7-01 outer:exit 2b-aec415f5a89f24166433c7ed634d0bf7a375e53a-4cae8688e069be87-01
2022-04-20T15:31:13.684Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:13.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f2d82a135f1615a8995c27913e6073805be29cb-312a6ca0048ad4d6-01 outer:exit 2b-5f2d82a135f1615a8995c27913e6073805be29cb-2ce1cb321904a286-01
2022-04-20T15:31:13.689Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:13.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5f888022d1190b4f8881ad0b27096074b51649a-1a85052afd3743f7-01 outer:exit 2b-e5f888022d1190b4f8881ad0b27096074b51649a-919fd341e4455e16-01
2022-04-20T15:31:13.692Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:13.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-317a4a4fa5478f89dd2e627957d9d8183672bd4c-8fbe05aaf4632b97-01 outer:exit 2b-317a4a4fa5478f89dd2e627957d9d8183672bd4c-cbff7de06edc5368-01
2022-04-20T15:31:13.695Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:13.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-493c76076b7884f7134770f3136fc15ae9e0cf37-5e43238b1a204093-01 outer:exit 2b-493c76076b7884f7134770f3136fc15ae9e0cf37-e65c20f453568925-01
2022-04-20T15:31:13.698Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:13.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed977a685b2b18de4eda44d85d04a458c670c6f9-c83a9a4573dd150c-01 outer:exit 2b-ed977a685b2b18de4eda44d85d04a458c670c6f9-f3a5409b65f51c90-01
2022-04-20T15:31:13.704Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:13.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1d6a04e1499754a4aa17edfb28a5078d8ba010b-2dd97583e878be77-01 outer:exit 2b-d1d6a04e1499754a4aa17edfb28a5078d8ba010b-cbcad6ba390a7fe7-01
2022-04-20T15:31:13.720Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:13.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b3f8cfc96cb170e5e6a47e47034d6c161f5fc60-a1c65f58ef80fe76-01 outer:exit 2b-9b3f8cfc96cb170e5e6a47e47034d6c161f5fc60-8807c826a9d487a0-01
2022-04-20T15:31:13.760Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:13.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-78a9adc0b4062be600f8febb811915d15e744758-a75e9aa9793ac9d9-01 outer:exit 2b-78a9adc0b4062be600f8febb811915d15e744758-16c4e74d00ef217c-01
2022-04-20T15:31:13.766Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:13.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d66a3b61f22e6520464d10aaeea3c4ebe48de15-9cf28dad6d2df561-01 outer:exit 2b-4d66a3b61f22e6520464d10aaeea3c4ebe48de15-a1abedfbdf4e4c40-01
2022-04-20T15:31:13.768Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:13.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-0076dc5903ba772811c17976b24dc961e88c1a0e-064d7f0cd1467d5d-01 outer:exit 2b-0076dc5903ba772811c17976b24dc961e88c1a0e-5dfcc8793787bef0-01
2022-04-20T15:31:13.782Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:13.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-7feed8a1f1b1a1d27def05ae853ae680a510aa19-e32e51432133eb4d-01 outer:exit 2b-7feed8a1f1b1a1d27def05ae853ae680a510aa19-ce573163514d4a11-01
2022-04-20T15:31:13.785Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:13.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-b99f40c0e77d723d68a58372cfc954f49cf9bc76-2f514be1afa0e37d-01 outer:exit 2b-b99f40c0e77d723d68a58372cfc954f49cf9bc76-f81df2e9c63360a9-01
2022-04-20T15:31:13.787Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:13.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-834e0aa7715840b3bda13848703a033380b38184-b765f4285010c899-01 outer:exit 2b-834e0aa7715840b3bda13848703a033380b38184-1f3b076f4a323436-01
2022-04-20T15:31:13.789Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:13.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-c17c0b011fd44a632442ff62c7e91a3a3e9cf803-2a920cbbb5321ae1-01 outer:exit 2b-c17c0b011fd44a632442ff62c7e91a3a3e9cf803-276ce1f7073d9e80-01
2022-04-20T15:31:13.791Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:13.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b97872baaf025fdfe37b63a80f987628536b7fc-3eeeb31a293f7d9d-01 outer:exit 2b-2b97872baaf025fdfe37b63a80f987628536b7fc-3902c776f99ddf5b-01
2022-04-20T15:31:13.793Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:13.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8a635f83c504221bc6736b1fae850b781067790-f62c049700dce27f-01 outer:exit 2b-c8a635f83c504221bc6736b1fae850b781067790-7018cf784c748dbc-01
2022-04-20T15:31:13.795Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:13.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bc38f8f55585c31df42632c6f896368da11ae35-7e00c3437ca14356-01 outer:exit 2b-9bc38f8f55585c31df42632c6f896368da11ae35-e5312cc7bf4df527-01
2022-04-20T15:31:13.798Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:13.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d1482d79763c0b5a95b7a922afb8fd34ba7ee77-3fbbb5be9dec05db-01 outer:exit 2b-4d1482d79763c0b5a95b7a922afb8fd34ba7ee77-b5751eecd094af43-01
2022-04-20T15:31:13.806Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:13.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-7447ab517ed2936cf3caac4729d96ecd73da602b-e9f865c9927199be-01 outer:exit 2b-7447ab517ed2936cf3caac4729d96ecd73da602b-336f420088221896-01
2022-04-20T15:31:13.808Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:13.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd29cc05b3302358e4d749b403427970ffeca2c9-3121495017f9860b-01 outer:exit 2b-fd29cc05b3302358e4d749b403427970ffeca2c9-a932341532544b5c-01
2022-04-20T15:31:13.814Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:13.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0410ed68a547f9af4b38f8580bd716f35f9b867-9c271cbacd4c9352-01 outer:exit 2b-e0410ed68a547f9af4b38f8580bd716f35f9b867-70a38ce781603ca7-01
2022-04-20T15:31:13.824Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:13.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-070d6a3ac87b0ce3623090ec489e85abd3de93fc-a3041ea04dd95985-01 outer:exit 2b-070d6a3ac87b0ce3623090ec489e85abd3de93fc-7f1cc9ed22194228-01
2022-04-20T15:31:13.835Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:13.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-44bde887735fdd19328100020a8a4e4808e73790-e9c2d3272b50fd43-01 outer:exit 2b-44bde887735fdd19328100020a8a4e4808e73790-7de9211bd878d8bf-01
2022-04-20T15:31:13.841Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:13.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f7f5048548fc5a1db6ccf86352eb92e31b2ff79-f8bd98454311ec8e-01 outer:exit 2b-2f7f5048548fc5a1db6ccf86352eb92e31b2ff79-b555cd954230b079-01
2022-04-20T15:31:13.843Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:13.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-292c1880192da6c8e597ccc09efe6b5738a4fb10-b412e7047da98373-01 outer:exit 2b-292c1880192da6c8e597ccc09efe6b5738a4fb10-4bc2f0e4856012d7-01
2022-04-20T15:31:13.846Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:13.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-e81428e4a63e2b2d8840d2f6fbc7d78a29268c99-0907cbe2d8662372-01 outer:exit 2b-e81428e4a63e2b2d8840d2f6fbc7d78a29268c99-0f535be9df7e09b8-01
2022-04-20T15:31:13.852Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:13.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3a74730cea4f86dba6436a21862db2f6418c669-57143ca8f258d994-01 outer:exit 2b-f3a74730cea4f86dba6436a21862db2f6418c669-f85eb0d5ce6f8cb5-01
2022-04-20T15:31:13.854Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:13.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-92508d4dbd5f33716a66054a1ff1ac7a9ae3b836-25926b3ef6c72003-01 outer:exit 2b-92508d4dbd5f33716a66054a1ff1ac7a9ae3b836-dc554a92ff1ea749-01
2022-04-20T15:31:13.856Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:13.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-a24f50261181ec994ae2617b7a56ddd2e513d2d9-6c88b8cd624c9a59-01 outer:exit 2b-a24f50261181ec994ae2617b7a56ddd2e513d2d9-9d18c8f66aa9d075-01
2022-04-20T15:31:13.858Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:13.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-69aac770640b2230a5165779f870fd17371aede1-8e1d41a7bdba4867-01 outer:exit 2b-69aac770640b2230a5165779f870fd17371aede1-415c0d0cdd0dd85c-01
2022-04-20T15:31:13.859Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:13.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ce976aaf29315ede5586593dc6f2eb5f23296a2-8e4368e9b53adb7f-01 outer:exit 2b-8ce976aaf29315ede5586593dc6f2eb5f23296a2-a3004caa5dccab81-01
2022-04-20T15:31:13.861Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:13.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-8067e88b5f8362edf3f4215a81b3d1a67ee8f4c0-11bf33343418a3f7-01 outer:exit 2b-8067e88b5f8362edf3f4215a81b3d1a67ee8f4c0-d5b07e1ecf3d301e-01
2022-04-20T15:31:13.871Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:13.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-99f3ed9c9f470bd640d2632ac5fa6403c4e61422-0ca241adb45cfb23-01 outer:exit 2b-99f3ed9c9f470bd640d2632ac5fa6403c4e61422-12a3c3bf5b8a6487-01
2022-04-20T15:31:13.878Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:13.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-a98e188ff1905514afabad11b4cc6ca4f40c7352-5ebe027ba46760be-01 outer:exit 2b-a98e188ff1905514afabad11b4cc6ca4f40c7352-4f84319b3a28d38f-01
2022-04-20T15:31:13.881Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:13.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bde174d0a092055ec501610106c17819cb63b4e-89f14f61ac122d0a-01 outer:exit 2b-9bde174d0a092055ec501610106c17819cb63b4e-104d286ce052c3c4-01
2022-04-20T15:31:13.884Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:13.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-4519b04d4132e29d44f7d65c3338603242a4742e-c86816fc8c5f9423-01 outer:exit 2b-4519b04d4132e29d44f7d65c3338603242a4742e-9be1a17569948306-01
2022-04-20T15:31:13.886Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:13.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-35faad1ff5ad5083d255b1cc7497fdc238ae359c-47172c91c7b2227f-01 outer:exit 2b-35faad1ff5ad5083d255b1cc7497fdc238ae359c-f4758611f249b279-01
2022-04-20T15:31:13.911Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (328ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:20.768Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:20.769Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:20.769Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:20.770Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:20.843Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:20.986Z appoptics:patching patched crypto 
2022-04-20T15:31:21.012Z appoptics:patching patched https 
2022-04-20T15:31:21.013Z appoptics:patching patched http 
2022-04-20T15:31:21.085Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:21.086Z appoptics:patching patched fs 
2022-04-20T15:31:21.115Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v18.0.0)
2022-04-20T15:31:21.121Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2022-04-20T15:31:21.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-23a963f84d49e946295d631b84d89ec97ff8362e-22e456dfccfc078e-01 outer:exit 2b-23a963f84d49e946295d631b84d89ec97ff8362e-3752450599209036-01
2022-04-20T15:31:21.169Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:21.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-11a1147d2201d6058edd851c665841ed53f42a5a-1bd77d0deef53ecc-01 outer:exit 2b-11a1147d2201d6058edd851c665841ed53f42a5a-ac46659bfedd0ede-01
2022-04-20T15:31:21.220Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:21.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-c62344acbdb4ab4cc00686536275cffb55ab71da-cabb064951c0830f-01 outer:exit 2b-c62344acbdb4ab4cc00686536275cffb55ab71da-f3998ba56e1c6b86-01
2022-04-20T15:31:21.224Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:21.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-78be2e8d39c71e9eb2f049ed210b2e6de034e86d-3247dadd66c715e8-01 outer:exit 2b-78be2e8d39c71e9eb2f049ed210b2e6de034e86d-49d7488ec8bad686-01
2022-04-20T15:31:21.227Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:21.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-f24f11aba3ba3c939d80296e5c3b71b9dcffacde-276a803f00faca1a-01 outer:exit 2b-f24f11aba3ba3c939d80296e5c3b71b9dcffacde-50a4fa272449e7e1-01
2022-04-20T15:31:21.232Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:21.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-5823c1a7f893e0a3e38fea18c6e2273a60269af1-5c69f74882dbf303-01 outer:exit 2b-5823c1a7f893e0a3e38fea18c6e2273a60269af1-80ad718537b0aae8-01
2022-04-20T15:31:21.235Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:21.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-5baf10ed26a44703eaaee240bcaeb319c310d180-cd34437a43694504-01 outer:exit 2b-5baf10ed26a44703eaaee240bcaeb319c310d180-3cbbdc79e406b278-01
2022-04-20T15:31:21.238Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:21.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-13f97eceea07055d799845ab6c76d5822de15a43-41efd6be4098f2b3-01 outer:exit 2b-13f97eceea07055d799845ab6c76d5822de15a43-aa5510e8bdcdb526-01
2022-04-20T15:31:21.240Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:21.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa3f576df32a78e2433186d140d76b57aff53022-7298cd27d127bab5-01 outer:exit 2b-aa3f576df32a78e2433186d140d76b57aff53022-b138b37ff596035e-01
2022-04-20T15:31:21.243Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:21.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9298387f35eb0e93dafadc745692b2373e08fab-442c21862f3fba7f-01 outer:exit 2b-b9298387f35eb0e93dafadc745692b2373e08fab-6ec3b3d1ecf50bce-01
2022-04-20T15:31:21.246Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:21.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-36b7af51d5afd1ebe5eb171f305a13a0be064c63-4dc7cd4a3534a2cb-01 outer:exit 2b-36b7af51d5afd1ebe5eb171f305a13a0be064c63-4a9027dbad42c83f-01
2022-04-20T15:31:21.252Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:21.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-182d912f965ac7f0dfc5a1f9c05499cb0df1762a-98f47d40a1cfc57d-01 outer:exit 2b-182d912f965ac7f0dfc5a1f9c05499cb0df1762a-438c1e370a2864c4-01
2022-04-20T15:31:21.259Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:21.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce24236220dffb7b21ad94cebc0fd19779a72ed9-1786d073401a494d-01 outer:exit 2b-ce24236220dffb7b21ad94cebc0fd19779a72ed9-6c3c9f9335dbf05b-01
2022-04-20T15:31:21.281Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:21.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-82d38c4f37f47de4381017cc14232932ff3a1383-c5b3857222e88832-01 outer:exit 2b-82d38c4f37f47de4381017cc14232932ff3a1383-4f56a00727b1c5a5-01
2022-04-20T15:31:21.321Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:21.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-0260038d67d22ca3b6ecd3219a1fb699f01bb4e5-8650e85084cf9a28-01 outer:exit 2b-0260038d67d22ca3b6ecd3219a1fb699f01bb4e5-8365f675eb2ad0f1-01
2022-04-20T15:31:21.324Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:21.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6fad3b09cc864da66d91c02eacc3c0cd5f71b97-e2d81f23cd03fbf0-01 outer:exit 2b-e6fad3b09cc864da66d91c02eacc3c0cd5f71b97-3ced11b982a178c0-01
2022-04-20T15:31:21.327Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:21.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-585be5ae8fa267ca490276afa17d5a379b2ce6d6-4df783842aaa66c1-01 outer:exit 2b-585be5ae8fa267ca490276afa17d5a379b2ce6d6-fb8ecc5ac6be6792-01
2022-04-20T15:31:21.329Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:21.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-046ec93990df78c67f39ef84bc7e8aa244baaaaa-e0a0604e2661d3af-01 outer:exit 2b-046ec93990df78c67f39ef84bc7e8aa244baaaaa-d9e280110058eca1-01
2022-04-20T15:31:21.331Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:21.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed9ddb4c8b702181d85c58afcb10fe8ce5f4fb17-a6bbe85239122467-01 outer:exit 2b-ed9ddb4c8b702181d85c58afcb10fe8ce5f4fb17-5d32a68a9409f72b-01
2022-04-20T15:31:21.333Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:21.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-b465b5b7e0fa643eb5985eb3874209198e0bd23a-0284b38d58e0b4a6-01 outer:exit 2b-b465b5b7e0fa643eb5985eb3874209198e0bd23a-d693ff408f04f7c7-01
2022-04-20T15:31:21.335Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:21.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebf7339ff9a28c049f2d5bb5bb91634fed7a1222-0db760cf34993cc5-01 outer:exit 2b-ebf7339ff9a28c049f2d5bb5bb91634fed7a1222-eb833ff7a773e1f9-01
2022-04-20T15:31:21.337Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:21.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-003586711348b28127a56c3aaf0276b8902995e8-fa6b68d5ab32e184-01 outer:exit 2b-003586711348b28127a56c3aaf0276b8902995e8-8057ab33fae054f0-01
2022-04-20T15:31:21.339Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:21.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-33ab7dc77fa3f6771e8c0fd217d9671156751ad8-7af8cdb1734276ea-01 outer:exit 2b-33ab7dc77fa3f6771e8c0fd217d9671156751ad8-63ba6a8b87f780db-01
2022-04-20T15:31:21.342Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:21.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ab8433eda63ee08143f4d36905672db3146104b-06c2cdc992a421cf-01 outer:exit 2b-1ab8433eda63ee08143f4d36905672db3146104b-6aac2dd6b11c0342-01
2022-04-20T15:31:21.344Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:21.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-2654caf997a18536c70387a05358927ef65947ce-2de6344c055bc118-01 outer:exit 2b-2654caf997a18536c70387a05358927ef65947ce-d29b00382ee346ac-01
2022-04-20T15:31:21.346Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:21.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-195f30613558a3561c4c220b53099c673ed0d35a-358b76692d046132-01 outer:exit 2b-195f30613558a3561c4c220b53099c673ed0d35a-bbb68714a1fcba01-01
2022-04-20T15:31:21.348Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:21.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a236aac7698098d1b1c1b633139073484d134fe-3963bfda642e0f2a-01 outer:exit 2b-9a236aac7698098d1b1c1b633139073484d134fe-55cd3fd6f1924243-01
2022-04-20T15:31:21.356Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:21.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-48ff00597fc04b95fc566af565d516570a9a74f9-25925b650ef31d36-01 outer:exit 2b-48ff00597fc04b95fc566af565d516570a9a74f9-e40bfb7a49dd0997-01
2022-04-20T15:31:21.369Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:21.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-f63f7fd8d9171cf4cacac8a7dc4bc62a06a6ef41-51264150ff9883f7-01 outer:exit 2b-f63f7fd8d9171cf4cacac8a7dc4bc62a06a6ef41-42dbf22f36523714-01
2022-04-20T15:31:21.377Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:21.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-641141ac25825fbcd2553c9f587056a67774fc44-cf3f8a1f8dbf43fe-01 outer:exit 2b-641141ac25825fbcd2553c9f587056a67774fc44-c61b8566629290e2-01
2022-04-20T15:31:21.383Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:21.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-634f5ae08ba0012ddac9ab5ab250dcd0260bceef-df888d9fc6fe4676-01 outer:exit 2b-634f5ae08ba0012ddac9ab5ab250dcd0260bceef-a7af5c7ee7049bd0-01
2022-04-20T15:31:21.386Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:21.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-8451e7bc394d29015d2e111a6bc86e0438a7c851-1db535d93011c3bd-01 outer:exit 2b-8451e7bc394d29015d2e111a6bc86e0438a7c851-2142e9f3e2487756-01
2022-04-20T15:31:21.389Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:21.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-22135777a4be6521586250fb77eda13833fbaa0f-64886df09d5e53be-01 outer:exit 2b-22135777a4be6521586250fb77eda13833fbaa0f-f5b25b54eb2aac35-01
2022-04-20T15:31:21.398Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:21.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-a000e2b8aea4f5d9c86022986d98fc3abde4c739-66baaf38fbcfff46-01 outer:exit 2b-a000e2b8aea4f5d9c86022986d98fc3abde4c739-6ceb31916f385ec0-01
2022-04-20T15:31:21.400Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:21.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5bc8b9e7d905ec22b3cedb5e43c153eadfc9f73-35e1b8f3d723e594-01 outer:exit 2b-e5bc8b9e7d905ec22b3cedb5e43c153eadfc9f73-db2bcd411e31736f-01
2022-04-20T15:31:21.402Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:21.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4dded514ea02d3f8099c17f49ab24f7a3c5494c-5f434838a104fb77-01 outer:exit 2b-d4dded514ea02d3f8099c17f49ab24f7a3c5494c-8bbe7255d48482f6-01
2022-04-20T15:31:21.403Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:21.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-37f71388eccc800b4077f9f74cbe6e47e7a5a45a-a53dc8ebf4b25265-01 outer:exit 2b-37f71388eccc800b4077f9f74cbe6e47e7a5a45a-22016d47488467f9-01
2022-04-20T15:31:21.408Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:21.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-a27cff6abb81b3f23d9400156102c5d6dd1c18b0-a2a2320a3abd2075-01 outer:exit 2b-a27cff6abb81b3f23d9400156102c5d6dd1c18b0-de764bb1f95b5e0e-01
2022-04-20T15:31:21.410Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:21.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6c0491e826367c44cdddd81d6a3fc9683e94d95-6c90f362fed88086-01 outer:exit 2b-a6c0491e826367c44cdddd81d6a3fc9683e94d95-7a93a327a7d51461-01
2022-04-20T15:31:21.419Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:21.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-e14feaad80f2a526cc98a58ed35c61659bf28824-0757a5f81bae3137-01 outer:exit 2b-e14feaad80f2a526cc98a58ed35c61659bf28824-a47f6c3d9dcf5290-01
2022-04-20T15:31:21.426Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:21.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-92e3c6db7444af076f60384a2bbe2790d2ca3a31-da59e5820938c597-01 outer:exit 2b-92e3c6db7444af076f60384a2bbe2790d2ca3a31-7c857436cd5a5f69-01
2022-04-20T15:31:21.429Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:21.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-9633ad07a90e12828b1deb21df32c4629651255c-1529543608fd1326-01 outer:exit 2b-9633ad07a90e12828b1deb21df32c4629651255c-96d5d355804b9aa8-01
2022-04-20T15:31:21.431Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:21.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-f87207e22a0e6553884365b1d68db1e84661171e-60b43c7232475d74-01 outer:exit 2b-f87207e22a0e6553884365b1d68db1e84661171e-f76f43f508117cf2-01
2022-04-20T15:31:21.433Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:21.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-65e2b4e9843ee35a2542a93d80cb0c138b6c1694-6ace051f56aab430-01 outer:exit 2b-65e2b4e9843ee35a2542a93d80cb0c138b6c1694-0366c4018756f42b-01
2022-04-20T15:31:21.465Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (337ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:27.596Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:27.597Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:27.597Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:27.598Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:27.677Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:27.794Z appoptics:patching patched crypto 
2022-04-20T15:31:27.813Z appoptics:patching patched https 
2022-04-20T15:31:27.813Z appoptics:patching patched http 
2022-04-20T15:31:27.854Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:27.855Z appoptics:patching patched fs 
2022-04-20T15:31:27.879Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v18.0.0)
2022-04-20T15:31:27.885Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2022-04-20T15:31:27.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f4122f69a968d310816f2150bdcae464aba7ab3-08ce701e7801870c-01 outer:exit 2b-8f4122f69a968d310816f2150bdcae464aba7ab3-a7016d4652ac59ea-01
2022-04-20T15:31:27.928Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:27.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-be586e8728ecf596bf6d6ecd94c1e831c6c2979a-2f3842bf27783667-01 outer:exit 2b-be586e8728ecf596bf6d6ecd94c1e831c6c2979a-47587fa3be6106b9-01
2022-04-20T15:31:27.972Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:27.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e2c8a73757e9e26d8d64bcbda7c87426e4f7fa1-5248833e5e548c8e-01 outer:exit 2b-5e2c8a73757e9e26d8d64bcbda7c87426e4f7fa1-8b6ae3b91acc8101-01
2022-04-20T15:31:27.976Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:27.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e6ee79089ddb6f69a538680b57c564dad69674a-99bd4d3193615198-01 outer:exit 2b-4e6ee79089ddb6f69a538680b57c564dad69674a-63a9f19e09ea2a15-01
2022-04-20T15:31:27.979Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:27.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cd734ec7f4a3e5e77d728ee4d9350af218eb0d5-dcb963c84963987b-01 outer:exit 2b-7cd734ec7f4a3e5e77d728ee4d9350af218eb0d5-e8b2b172f4cbe047-01
2022-04-20T15:31:27.983Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:27.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1d043dc81b0a0be8a0edd1331ad97d768ab87b6-b80ca93d7246cd88-01 outer:exit 2b-e1d043dc81b0a0be8a0edd1331ad97d768ab87b6-e118782d5775bf1c-01
2022-04-20T15:31:27.986Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:27.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccc07877436b306a438bb75eb2048754c0763f92-14e27a46122310ef-01 outer:exit 2b-ccc07877436b306a438bb75eb2048754c0763f92-4b6cfa24b8d7175b-01
2022-04-20T15:31:27.989Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:27.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-f570b94a1337f5b037c5b5a3d2ae5fd4ed0bb103-8a4ff3ed76d85386-01 outer:exit 2b-f570b94a1337f5b037c5b5a3d2ae5fd4ed0bb103-f57b78baf983eb4e-01
2022-04-20T15:31:27.991Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:27.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-a97deed91a6f85f02c64c6b1beeee4c329b7b865-330db08d21c52a6f-01 outer:exit 2b-a97deed91a6f85f02c64c6b1beeee4c329b7b865-ae317c821674c9eb-01
2022-04-20T15:31:27.994Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:27.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-18c40d46e15a7454fe32cefa848aec60f9ea72a8-c5a5a1b9aca7a31a-01 outer:exit 2b-18c40d46e15a7454fe32cefa848aec60f9ea72a8-6af8a25938f53341-01
2022-04-20T15:31:27.997Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:28.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5ab882a108d49c897ee18e345e701b8b1c6c883-57d20237ce904b1c-01 outer:exit 2b-d5ab882a108d49c897ee18e345e701b8b1c6c883-ef7a30edad6aa7ec-01
2022-04-20T15:31:28.001Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:28.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-af494f74c868e16ed449aa620961f4ef260b7503-971e2d15cead3908-01 outer:exit 2b-af494f74c868e16ed449aa620961f4ef260b7503-e2590b4f75e3d655-01
2022-04-20T15:31:28.009Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:28.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-76a6024f37fa28cc7b981d83ca937bfd411ce668-995b19ee9f35ec5f-01 outer:exit 2b-76a6024f37fa28cc7b981d83ca937bfd411ce668-298c50c6b410afbc-01
2022-04-20T15:31:28.025Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:28.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-39350ad4bafa8b3585457024d81f7d4e55f5dacf-b916319c94820062-01 outer:exit 2b-39350ad4bafa8b3585457024d81f7d4e55f5dacf-2d662aee2260d303-01
2022-04-20T15:31:28.063Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:28.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-67d12f389d60c6d3922ee7cf2f54efabf9baa73b-d261d86a050a83ab-01 outer:exit 2b-67d12f389d60c6d3922ee7cf2f54efabf9baa73b-84674d90cd8e0b2c-01
2022-04-20T15:31:28.066Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:28.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3ba3a5ab3195799f4e523637b2287f076929cd9-8f767d90e1740b02-01 outer:exit 2b-c3ba3a5ab3195799f4e523637b2287f076929cd9-2f52db7db6b0991f-01
2022-04-20T15:31:28.068Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:28.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffb07aeb646e79e2ccb7d82446b4de14bdea1191-5bd0c924fb02dd9e-01 outer:exit 2b-ffb07aeb646e79e2ccb7d82446b4de14bdea1191-59ab1052cdf8b3c0-01
2022-04-20T15:31:28.071Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:28.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-94d11581f1a80536a495f835ff58dcb77261799a-2b0738699841170c-01 outer:exit 2b-94d11581f1a80536a495f835ff58dcb77261799a-8dcd35c472d69b79-01
2022-04-20T15:31:28.073Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:28.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-30fbe5d3dc82692367ef5cca19bdc776c7bc7730-dba31e5eaee816cd-01 outer:exit 2b-30fbe5d3dc82692367ef5cca19bdc776c7bc7730-71df5e436d49ccbd-01
2022-04-20T15:31:28.075Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:28.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1e0005777b48cae00f623c4703b1789bd84c3cf-310f333aac90ea05-01 outer:exit 2b-c1e0005777b48cae00f623c4703b1789bd84c3cf-7860f034c2e7a01f-01
2022-04-20T15:31:28.077Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:28.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-f730aafda0cefb5d5e84114c6b36caa03da86f9c-ad505361a3132448-01 outer:exit 2b-f730aafda0cefb5d5e84114c6b36caa03da86f9c-e76d9c9b63c8a0ad-01
2022-04-20T15:31:28.079Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:28.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-1efc5b39cb75df65a33f9aa1d9758a02e680e08b-625df02d88c966d9-01 outer:exit 2b-1efc5b39cb75df65a33f9aa1d9758a02e680e08b-9df5979c1b64192a-01
2022-04-20T15:31:28.081Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:28.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-200c7a499af5877f47be7d05aff0564b6b5ab43d-909350e80d12a17a-01 outer:exit 2b-200c7a499af5877f47be7d05aff0564b6b5ab43d-1e77c4d69ae5f5d0-01
2022-04-20T15:31:28.083Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:28.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d179fe4ba90f05137ee38a5545ce176945d73bb-72c2ad996b1cb8dc-01 outer:exit 2b-5d179fe4ba90f05137ee38a5545ce176945d73bb-235e8338c0473eff-01
2022-04-20T15:31:28.086Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:28.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1eb222b3ab5a3caa432fb40aec0d3bd04fd1e19-bab79b02b7f64244-01 outer:exit 2b-e1eb222b3ab5a3caa432fb40aec0d3bd04fd1e19-4014a24987fde73f-01
2022-04-20T15:31:28.088Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:28.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-017090ff5b185d4bf6b4d7087a104282d62db139-f831e5a0e9a606cc-01 outer:exit 2b-017090ff5b185d4bf6b4d7087a104282d62db139-48026a2e29df3913-01
2022-04-20T15:31:28.090Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:28.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b2ea4150119ea01dcfeac157276f5e30de8c780-d2de0ebe089f84a3-01 outer:exit 2b-6b2ea4150119ea01dcfeac157276f5e30de8c780-0043b7ff3899c821-01
2022-04-20T15:31:28.096Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:28.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a6da972210b13fd78814113184417c3b1ba62c4-3255cb618e4b233e-01 outer:exit 2b-2a6da972210b13fd78814113184417c3b1ba62c4-94ad1f6068bb0758-01
2022-04-20T15:31:28.102Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:28.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b2308dbd5c130414c5c56bc9a002045b4b64a85-4d5e012faed3b088-01 outer:exit 2b-1b2308dbd5c130414c5c56bc9a002045b4b64a85-5858f2dc530a96d0-01
2022-04-20T15:31:28.110Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:28.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-a33a8e1c783eec7bc8109fb2037e2bac024da539-fc4d77399fc60e96-01 outer:exit 2b-a33a8e1c783eec7bc8109fb2037e2bac024da539-f6ad4e43ded99d2e-01
2022-04-20T15:31:28.119Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:28.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd06ddae7ae4f97e0dd15cc1ca8b69f5013c0756-bc1f3882b69a3d66-01 outer:exit 2b-dd06ddae7ae4f97e0dd15cc1ca8b69f5013c0756-8481d0273a0acd64-01
2022-04-20T15:31:28.121Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:28.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea3d8200be45a10e247d3f17811d02041b5cb168-de9096d128ad21dc-01 outer:exit 2b-ea3d8200be45a10e247d3f17811d02041b5cb168-26b16bc5eb697da4-01
2022-04-20T15:31:28.125Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:28.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d5b9934464bae6294d913e176fe21b9a115dfcb-18888596cff4e7f6-01 outer:exit 2b-6d5b9934464bae6294d913e176fe21b9a115dfcb-5ef9a4c1a1d68ebb-01
2022-04-20T15:31:28.131Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:28.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-c83ddd5987f5d7d71b77e1b6134861eac73285c2-9ad5e367f2e0b05f-01 outer:exit 2b-c83ddd5987f5d7d71b77e1b6134861eac73285c2-3e116108bf08ad5e-01
2022-04-20T15:31:28.132Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:28.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-b46fc55affe7a718ac6bc6e59e750e0ebd7e3438-aec4b1da1051810f-01 outer:exit 2b-b46fc55affe7a718ac6bc6e59e750e0ebd7e3438-e5dd6195aeba0c11-01
2022-04-20T15:31:28.134Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:28.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9e873d70f6bb4b479ab2a11e5939b8a792eafee-71c59dcd147ce4b3-01 outer:exit 2b-f9e873d70f6bb4b479ab2a11e5939b8a792eafee-bd52b3aed43077f3-01
2022-04-20T15:31:28.136Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:28.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-048d98bdc6eb54ca76906eb63423cde43ce71447-4703c29c04e1a595-01 outer:exit 2b-048d98bdc6eb54ca76906eb63423cde43ce71447-89c372769c0ea5a3-01
2022-04-20T15:31:28.138Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:28.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-241ab5035f9dfb59f8c9cb4d13f4094b45250cff-e447d6cfa625e0f3-01 outer:exit 2b-241ab5035f9dfb59f8c9cb4d13f4094b45250cff-f215f18a6fd75401-01
2022-04-20T15:31:28.140Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:28.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d3a072f0562d66c06ff90a8b6e8de81bf685f8f-229206ccdd90346c-01 outer:exit 2b-7d3a072f0562d66c06ff90a8b6e8de81bf685f8f-5ef730e7a3f754d1-01
2022-04-20T15:31:28.148Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:28.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad3dd879028fafcb96c885835b9dfb5b52338bdd-4f7daa0bbcd1df86-01 outer:exit 2b-ad3dd879028fafcb96c885835b9dfb5b52338bdd-a0f4bb24341f55f5-01
2022-04-20T15:31:28.156Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:28.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-538c0b9f81a3c687bf6f1c5d72e3ee2cffdfc378-49cf30b6c6ee6e01-01 outer:exit 2b-538c0b9f81a3c687bf6f1c5d72e3ee2cffdfc378-6f6367c7c1588273-01
2022-04-20T15:31:28.159Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:28.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0f7ec597121db39e6010f92c5a19c1581eb35f8-b895f2a8e9ef0635-01 outer:exit 2b-c0f7ec597121db39e6010f92c5a19c1581eb35f8-d547b3dc45af8f08-01
2022-04-20T15:31:28.161Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:28.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a2a50b02ff7371ff73fa17c0cb41cfcc59fa9ec-46bbbd2124d409de-01 outer:exit 2b-4a2a50b02ff7371ff73fa17c0cb41cfcc59fa9ec-46be0b5a71d250a8-01
2022-04-20T15:31:28.163Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:28.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-3edb6822c0ef3ba37378cab6e79b7d906c51ae29-2d35b9010200b456-01 outer:exit 2b-3edb6822c0ef3ba37378cab6e79b7d906c51ae29-a2ad355b9556f8c4-01
2022-04-20T15:31:28.188Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (297ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:34.992Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:34.993Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:34.993Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:34.993Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:35.052Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:35.162Z appoptics:patching patched crypto 
2022-04-20T15:31:35.180Z appoptics:patching patched https 
2022-04-20T15:31:35.180Z appoptics:patching patched http 
2022-04-20T15:31:35.221Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:35.221Z appoptics:patching patched fs 
2022-04-20T15:31:35.245Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v18.0.0)
2022-04-20T15:31:35.251Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2022-04-20T15:31:35.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd0b47a5077b6c7f45b815cb0a5428f8f0aae217-2c6d9f7d449eba3d-01 outer:exit 2b-cd0b47a5077b6c7f45b815cb0a5428f8f0aae217-9022eaea7888388b-01
2022-04-20T15:31:35.294Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:35.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-638377ca2265ff271a321b506817d8f5ab5cfdac-e18cae73de7489c5-01 outer:exit 2b-638377ca2265ff271a321b506817d8f5ab5cfdac-a753dea4f2f23990-01
2022-04-20T15:31:35.339Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:35.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d18d17cc0b5347a11bc535aee196e9907918f3d-f13ee7895fe4f8db-01 outer:exit 2b-8d18d17cc0b5347a11bc535aee196e9907918f3d-efb10d18115d2f5f-01
2022-04-20T15:31:35.343Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:35.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-09336a231ef14b2469f5f4de8d24936259a89133-60bc70e26f661d37-01 outer:exit 2b-09336a231ef14b2469f5f4de8d24936259a89133-b61881555df77ff8-01
2022-04-20T15:31:35.352Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:35.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad1756ef78f4659a913d34c1c98b73b147d2cceb-9075d828299ad118-01 outer:exit 2b-ad1756ef78f4659a913d34c1c98b73b147d2cceb-23f880d94e5eea05-01
2022-04-20T15:31:35.356Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:35.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d0a8a445a03557f23a14654efcc13cfc6ee579e-49ae502b184db6ec-01 outer:exit 2b-8d0a8a445a03557f23a14654efcc13cfc6ee579e-dedb1736f85df170-01
2022-04-20T15:31:35.360Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:35.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd2bdf1eed0703e3e4e83b2633e851120caeba3c-5c19b680e8dd613c-01 outer:exit 2b-dd2bdf1eed0703e3e4e83b2633e851120caeba3c-60440e02c67d6b3b-01
2022-04-20T15:31:35.362Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:35.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-81acd549030870810318f29bd0c2217f77a0f053-889dd614c8cf0ab7-01 outer:exit 2b-81acd549030870810318f29bd0c2217f77a0f053-71151c3a201ab66d-01
2022-04-20T15:31:35.364Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:35.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-be41872ead78b3361a83084cb20564a33d77f4be-35adabc7c4717abd-01 outer:exit 2b-be41872ead78b3361a83084cb20564a33d77f4be-a65e36aae3cedcbe-01
2022-04-20T15:31:35.367Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:35.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-772f593606cca4505a2f482679a69844338f00d2-e77bcc8fb4fa816e-01 outer:exit 2b-772f593606cca4505a2f482679a69844338f00d2-05944a3f2b3afa2e-01
2022-04-20T15:31:35.372Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:35.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-06787ba395c2a0a98c6dadbf8afc93f840fe0b0a-db11c410812d0d56-01 outer:exit 2b-06787ba395c2a0a98c6dadbf8afc93f840fe0b0a-7c187ad4361a592b-01
2022-04-20T15:31:35.376Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:35.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5a156ca4ef3886f7079ba9d6153e849f69d1868-34c85b399a6ec787-01 outer:exit 2b-b5a156ca4ef3886f7079ba9d6153e849f69d1868-165c015853c014f8-01
2022-04-20T15:31:35.382Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:35.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-e20fd0e93443f758d86b9c3aee89d3913617c35d-a781fbb99a60f687-01 outer:exit 2b-e20fd0e93443f758d86b9c3aee89d3913617c35d-7b1e8c6134d44d7c-01
2022-04-20T15:31:35.398Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:35.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-7da83e82b46a2806387cf16da8b6b254c32b31e2-f6d77f2e5b70dd4c-01 outer:exit 2b-7da83e82b46a2806387cf16da8b6b254c32b31e2-603df136034f988e-01
2022-04-20T15:31:35.435Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:35.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ece8e37a30dae07b6c0b711cd0291905d6286f8-c4c1aac9fc9276fa-01 outer:exit 2b-2ece8e37a30dae07b6c0b711cd0291905d6286f8-34efe7569c781145-01
2022-04-20T15:31:35.438Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:35.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-71669b8a34b7973c568070d5189ecc6d6eae728f-d9f56de5b9ec343e-01 outer:exit 2b-71669b8a34b7973c568070d5189ecc6d6eae728f-f0bdf3897a1ae70b-01
2022-04-20T15:31:35.440Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:35.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7a1ee210ecf4df1fe066e8639179c2273179e89-b0ac757f0eaf87cf-01 outer:exit 2b-d7a1ee210ecf4df1fe066e8639179c2273179e89-021573d1f2443222-01
2022-04-20T15:31:35.443Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:35.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a42fe417050374355f08eae4d84bb4ffc540819-34619dd099994c53-01 outer:exit 2b-6a42fe417050374355f08eae4d84bb4ffc540819-b68d6f9b86ea93cc-01
2022-04-20T15:31:35.445Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:35.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d62c69b4944a74e1222909b3d6f41f01fd5ba28-bb8a0d5a372a4e6e-01 outer:exit 2b-4d62c69b4944a74e1222909b3d6f41f01fd5ba28-b5edb4e81ed40d30-01
2022-04-20T15:31:35.447Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:35.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2ee670a3475414796547b8fcf807c13418e2753-6cbe58133b842915-01 outer:exit 2b-c2ee670a3475414796547b8fcf807c13418e2753-598419483845f280-01
2022-04-20T15:31:35.449Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:35.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-24e7e8ccf7e52ecb2218582a093fcadba92e944e-de92f94b536b33ea-01 outer:exit 2b-24e7e8ccf7e52ecb2218582a093fcadba92e944e-8d709ba1acb550fb-01
2022-04-20T15:31:35.451Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:35.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0e286704c410268d1f80b49eb7ea1d533936208-13eede198eb993af-01 outer:exit 2b-e0e286704c410268d1f80b49eb7ea1d533936208-6519b06b85e9a1f1-01
2022-04-20T15:31:35.453Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:35.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1433d9ad2a73b909a6008f94183a29f3501f394-dfba1dadce26719d-01 outer:exit 2b-f1433d9ad2a73b909a6008f94183a29f3501f394-0aaebc26ad2a8686-01
2022-04-20T15:31:35.456Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:35.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-d00c74f0b8e0059c3cf408ebbca965cf5eca6e50-c0b5267edbc30924-01 outer:exit 2b-d00c74f0b8e0059c3cf408ebbca965cf5eca6e50-9f1f6cd44646c8fc-01
2022-04-20T15:31:35.458Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:35.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-f97510d5a53b4c7e3e00fdb681184b22c83b7089-8619c54f98c59db7-01 outer:exit 2b-f97510d5a53b4c7e3e00fdb681184b22c83b7089-673a7489b8f4a266-01
2022-04-20T15:31:35.460Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:35.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-794ae7de150ea38a4f5f70d40192e5f13d4af967-ea790b4e42cecaf9-01 outer:exit 2b-794ae7de150ea38a4f5f70d40192e5f13d4af967-764cf4b1bc523322-01
2022-04-20T15:31:35.462Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:35.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-402d1a0c24c94a855071fc07cd1adce5f07ebc39-a117b4b11d87191d-01 outer:exit 2b-402d1a0c24c94a855071fc07cd1adce5f07ebc39-b4ab316790b8616d-01
2022-04-20T15:31:35.468Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:35.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc8df7d2de007ed0d862189dcbf072c4c44a7d8f-931eda3c74910566-01 outer:exit 2b-fc8df7d2de007ed0d862189dcbf072c4c44a7d8f-100d9eb10938dffa-01
2022-04-20T15:31:35.474Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:35.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a0ae6e4e4b744e4a28a10416b310d751a633a3a-7991d960d244391b-01 outer:exit 2b-5a0ae6e4e4b744e4a28a10416b310d751a633a3a-63b086e43c87fc71-01
2022-04-20T15:31:35.483Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:35.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-d31df3222485bedad3505f430b7cc4c5f9909bd2-4deeecb16c94f0b9-01 outer:exit 2b-d31df3222485bedad3505f430b7cc4c5f9909bd2-b227565fed3eb11f-01
2022-04-20T15:31:35.489Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:35.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eebcd3e7a7b3ec587db144a615744b2dfb0f0e6-4b7837520697f8c0-01 outer:exit 2b-0eebcd3e7a7b3ec587db144a615744b2dfb0f0e6-ee183091e4de7f6f-01
2022-04-20T15:31:35.491Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:35.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-bae6d77da04d29a8c9e646c157b4ca49930e7e4c-bec0e41adce0a252-01 outer:exit 2b-bae6d77da04d29a8c9e646c157b4ca49930e7e4c-8270ce6c526da128-01
2022-04-20T15:31:35.494Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:35.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-63dfd0328ba88c82112731c218171de605ae7d1f-19230016fc3c56f2-01 outer:exit 2b-63dfd0328ba88c82112731c218171de605ae7d1f-c8f3dd88a3251166-01
2022-04-20T15:31:35.500Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:35.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-87de6ff3c37e9a1d4105eeb1aea94412696b1f35-c1cace0fbdc6f5c9-01 outer:exit 2b-87de6ff3c37e9a1d4105eeb1aea94412696b1f35-ab325368ce0adcd6-01
2022-04-20T15:31:35.502Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:35.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-86d7f61ac749c099613a00381f683ddbed582f3c-621859677929a92f-01 outer:exit 2b-86d7f61ac749c099613a00381f683ddbed582f3c-5bbc4d2d7425297e-01
2022-04-20T15:31:35.504Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:35.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-d359834b5b2556ac5edc6461f637dedebc82c157-67e2ff81f74ea2be-01 outer:exit 2b-d359834b5b2556ac5edc6461f637dedebc82c157-76f18446c6ae2508-01
2022-04-20T15:31:35.506Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:35.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-2402cf24baa3d9abd94811fce68d008a41116cf1-4b3597b1f1df2a7d-01 outer:exit 2b-2402cf24baa3d9abd94811fce68d008a41116cf1-3dde7b273cb39581-01
2022-04-20T15:31:35.507Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:35.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-36ccfc2ef7fc520237c52161b81ee1524e1a2467-19fcbdcc177f1993-01 outer:exit 2b-36ccfc2ef7fc520237c52161b81ee1524e1a2467-a4bcfdbba48b054e-01
2022-04-20T15:31:35.509Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:35.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a7e71c4058722c36a2a4a5dacb040a335e4bb9a-863094b6564c3762-01 outer:exit 2b-8a7e71c4058722c36a2a4a5dacb040a335e4bb9a-d6b4c6915c6bef70-01
2022-04-20T15:31:35.517Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:35.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-db2b0241910cead0792f1b41bdd4a92b4203539d-083d4552732acc6b-01 outer:exit 2b-db2b0241910cead0792f1b41bdd4a92b4203539d-27dfd910eae26ac8-01
2022-04-20T15:31:35.524Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:35.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-fef4f4943fffb214b34416dce58f229bcf1ba7a7-49183bdf9d9bbae7-01 outer:exit 2b-fef4f4943fffb214b34416dce58f229bcf1ba7a7-399d3ffca8ad991f-01
2022-04-20T15:31:35.527Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:35.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-dff03191ab0f6ef947219cb804cec06f13c5fbc0-12bf54ff880a5ddb-01 outer:exit 2b-dff03191ab0f6ef947219cb804cec06f13c5fbc0-468d5cea8768ef41-01
2022-04-20T15:31:35.529Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:35.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-723d8eee394425f247d00415b3667f62667b8aca-54da223ac1f08ae6-01 outer:exit 2b-723d8eee394425f247d00415b3667f62667b8aca-0c4701c15446dd50-01
2022-04-20T15:31:35.531Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:35.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-65e60c92e3bd468effe9d52dc1fca6ab2302440b-97cd590ebc5e4409-01 outer:exit 2b-65e60c92e3bd468effe9d52dc1fca6ab2302440b-7e8cabbb0c6b3b99-01
2022-04-20T15:31:35.556Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (300ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 20s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:55.857Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:55.857Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:55.858Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:55.858Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:55.917Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:56.039Z appoptics:patching patched crypto 
2022-04-20T15:31:56.060Z appoptics:patching patched https 
2022-04-20T15:31:56.061Z appoptics:patching patched http 
2022-04-20T15:31:56.121Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:56.121Z appoptics:patching patched fs 
2022-04-20T15:31:56.146Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v18.0.0)
2022-04-20T15:31:56.152Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2022-04-20T15:31:56.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ccc70af99d33850810fbc30286d114e11ef725a-2fcf49bf695b7a10-01 outer:exit 2b-8ccc70af99d33850810fbc30286d114e11ef725a-439c9cc43334ccf8-01
2022-04-20T15:31:56.212Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:31:56.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb1acf9eb59dcbb57103a2ee49dbfa816f1043ff-4507af218b93685c-01 outer:exit 2b-fb1acf9eb59dcbb57103a2ee49dbfa816f1043ff-7e84db103bd809ac-01
2022-04-20T15:31:56.257Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:31:56.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fdbc27d6ec9ffb9463e4f4c20bcfeaba5a86010-d582500d711f85bf-01 outer:exit 2b-4fdbc27d6ec9ffb9463e4f4c20bcfeaba5a86010-bebeaf942746d499-01
2022-04-20T15:31:56.262Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:31:56.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec8002b4fdef1e3473eeb3334b1c6ac4c18c70df-ae522b47a9c6805f-01 outer:exit 2b-ec8002b4fdef1e3473eeb3334b1c6ac4c18c70df-b17a07d67a22bbfa-01
2022-04-20T15:31:56.266Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:31:56.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e86358db422e62d5db6499a38d7bfab0c2ef4e3-9c992bcc1383ce55-01 outer:exit 2b-1e86358db422e62d5db6499a38d7bfab0c2ef4e3-df312ceec28e4239-01
2022-04-20T15:31:56.272Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:31:56.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f83f615760b45baf919e6883516f0f3e40e96cb-16e8350f8fe13693-01 outer:exit 2b-8f83f615760b45baf919e6883516f0f3e40e96cb-4b87a713da358b6b-01
2022-04-20T15:31:56.276Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:31:56.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-1de3cb2d02df93e5ce3c0bb556b382fe85111dad-1b8e8d20fb7b2ba5-01 outer:exit 2b-1de3cb2d02df93e5ce3c0bb556b382fe85111dad-554dcb0666dc708b-01
2022-04-20T15:31:56.279Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:31:56.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-95552be67aa75453517a8f60f570f28d88c3d587-7a42936ea2c5de82-01 outer:exit 2b-95552be67aa75453517a8f60f570f28d88c3d587-ab37a2474442cc56-01
2022-04-20T15:31:56.286Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:31:56.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-802b808dcc904c3d718d57de978eb14642a4c5b1-dd73f4920cca9b55-01 outer:exit 2b-802b808dcc904c3d718d57de978eb14642a4c5b1-7025ffc537ef8983-01
2022-04-20T15:31:56.289Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:31:56.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-6874bb158c1784b0218cf87435ffa608824f5711-a962e1ddb4a386f2-01 outer:exit 2b-6874bb158c1784b0218cf87435ffa608824f5711-8809ea00551003fb-01
2022-04-20T15:31:56.294Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:31:56.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-07888e653c8c51e9423c09fb042f08b8adf27b01-b7527985ae1c68d8-01 outer:exit 2b-07888e653c8c51e9423c09fb042f08b8adf27b01-553a55d4f2d5ff19-01
2022-04-20T15:31:56.298Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:31:56.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-d26da76b1f0d7ac426a00bd4d41797290de4892b-ec821a4a03e1e5e9-01 outer:exit 2b-d26da76b1f0d7ac426a00bd4d41797290de4892b-46cf790410b42033-01
2022-04-20T15:31:56.305Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:31:56.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-55675f6ce69335f8f4a8b7c875d58f38dadaf591-e23519667d2faa88-01 outer:exit 2b-55675f6ce69335f8f4a8b7c875d58f38dadaf591-26f900ed4e9327b6-01
2022-04-20T15:31:56.325Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:31:56.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-7afa463d6625a60dde32c224114b1d3f92905f28-62a2733848b71f75-01 outer:exit 2b-7afa463d6625a60dde32c224114b1d3f92905f28-5933a17fe1e0973e-01
2022-04-20T15:31:56.365Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:31:56.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cc9b8bf6a6b15afb54664c52954bbf63387b57e-116f2a2497bd3315-01 outer:exit 2b-5cc9b8bf6a6b15afb54664c52954bbf63387b57e-0f06aee8b319c24f-01
2022-04-20T15:31:56.368Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:31:56.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-e42be5e139808e2463fa18a0d858e43cfb6339d3-d519e16577779b34-01 outer:exit 2b-e42be5e139808e2463fa18a0d858e43cfb6339d3-8aad1b476aa15950-01
2022-04-20T15:31:56.371Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:31:56.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdc7a514d27edd7c57fd24d61cd74f6b782eec2a-3b3da1a46680a816-01 outer:exit 2b-cdc7a514d27edd7c57fd24d61cd74f6b782eec2a-fe45890f923fffaa-01
2022-04-20T15:31:56.373Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:31:56.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dc071cd4220fe6baf8ca831ad6a5c45a3d60f73-e4f5ebf568ae25e7-01 outer:exit 2b-4dc071cd4220fe6baf8ca831ad6a5c45a3d60f73-e22b3bc0a23ebccb-01
2022-04-20T15:31:56.376Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:31:56.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-53c4f667e8b23b5a6c8d3c06d6505796d25ba9a6-7fffdf73c0b5cd0d-01 outer:exit 2b-53c4f667e8b23b5a6c8d3c06d6505796d25ba9a6-dadf1e90746ea099-01
2022-04-20T15:31:56.377Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:31:56.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-62eb122628793009a2b57ad9d74e9d8c33b69d61-6c30d89790fbde32-01 outer:exit 2b-62eb122628793009a2b57ad9d74e9d8c33b69d61-e3e21048a746375d-01
2022-04-20T15:31:56.380Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:31:56.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-b432676cb604df527398889a892875cb7520e7bd-491ba0729e7f0009-01 outer:exit 2b-b432676cb604df527398889a892875cb7520e7bd-babae411f789e08d-01
2022-04-20T15:31:56.381Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:31:56.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecb65710b990cf7ef03c7dd2029ffcb990c5db57-5620620dc0c93abc-01 outer:exit 2b-ecb65710b990cf7ef03c7dd2029ffcb990c5db57-aa0542a34cfcda6c-01
2022-04-20T15:31:56.387Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:31:56.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdda6fec6ad23142569fa3f0d7faa28722e3e4cb-5712c96d4607b15b-01 outer:exit 2b-cdda6fec6ad23142569fa3f0d7faa28722e3e4cb-ad8214b1c519d587-01
2022-04-20T15:31:56.391Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:31:56.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-33e7a8c63312480b88c9f40f8eb72979492c5ff7-1cb3b6c1a80f3968-01 outer:exit 2b-33e7a8c63312480b88c9f40f8eb72979492c5ff7-d97632a9e851e76b-01
2022-04-20T15:31:56.394Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:31:56.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-748eb3b8ce1d0bfdfabe6d7d5ab18cb359549557-31366d33c577c706-01 outer:exit 2b-748eb3b8ce1d0bfdfabe6d7d5ab18cb359549557-235ae0a4e0573859-01
2022-04-20T15:31:56.396Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:31:56.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-931ad5e68729e761d50ebc02d5d5b9dbfff41388-f6f0009c67244857-01 outer:exit 2b-931ad5e68729e761d50ebc02d5d5b9dbfff41388-0695e797bf945fd7-01
2022-04-20T15:31:56.398Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:31:56.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-46c6c12574355cad911c5687194d75604817152a-c9efc2621553758b-01 outer:exit 2b-46c6c12574355cad911c5687194d75604817152a-6fb8422905370b5d-01
2022-04-20T15:31:56.408Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:31:56.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7ae62b976449480d8dd8323ed7dc21df5ee49f4-8829ecb84e93ae27-01 outer:exit 2b-c7ae62b976449480d8dd8323ed7dc21df5ee49f4-f967aeff24444953-01
2022-04-20T15:31:56.415Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:31:56.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4c15369d6ef509dbac1ced24c3c6cf4320cf7d0-b4aecc9bd300d264-01 outer:exit 2b-c4c15369d6ef509dbac1ced24c3c6cf4320cf7d0-648932db4fe2986c-01
2022-04-20T15:31:56.423Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:31:56.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-1039db050a2c2a81bb6c40f4b70cd269966c8c24-e48677745f4c573e-01 outer:exit 2b-1039db050a2c2a81bb6c40f4b70cd269966c8c24-44149306d74b7fdf-01
2022-04-20T15:31:56.429Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:31:56.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec7014b0187927f5cf2b704e2f9fa68b43e8fd9b-dcf2dbcadfae7aa8-01 outer:exit 2b-ec7014b0187927f5cf2b704e2f9fa68b43e8fd9b-f0955479de8aff4a-01
2022-04-20T15:31:56.431Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:31:56.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-3342901c11e713f9dc3de794f65d87cd191612e0-74183f0cbe31579f-01 outer:exit 2b-3342901c11e713f9dc3de794f65d87cd191612e0-184d12954bfa9ab4-01
2022-04-20T15:31:56.434Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:31:56.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a735885748a22a5ca92902417b5e130284589a6-83a57e299dc46a68-01 outer:exit 2b-0a735885748a22a5ca92902417b5e130284589a6-179b0530b9bc7886-01
2022-04-20T15:31:56.449Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:31:56.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bd210e0e5e1f2dac00230917e00de0af812a3de-5f453c630d0af4d8-01 outer:exit 2b-8bd210e0e5e1f2dac00230917e00de0af812a3de-d9f8bd0af94caa01-01
2022-04-20T15:31:56.451Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:31:56.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-f24a95d8fed2c533b40288a5658e13ca2b18a174-7855de1df2a6c6e0-01 outer:exit 2b-f24a95d8fed2c533b40288a5658e13ca2b18a174-83d12f74d8d76c98-01
2022-04-20T15:31:56.453Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:31:56.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbff4f44616b22ac8f68977a34b9e85f58c8e037-9353a5e1b26d4ef4-01 outer:exit 2b-cbff4f44616b22ac8f68977a34b9e85f58c8e037-9e747d4425109f78-01
2022-04-20T15:31:56.457Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:31:56.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca6370e957db7b089f7e3e6c77d86557107e7ce6-ae84330d6aa4e28b-01 outer:exit 2b-ca6370e957db7b089f7e3e6c77d86557107e7ce6-96cf2443105c26de-01
2022-04-20T15:31:56.459Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:31:56.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d2066be44f948e5a7095def70a0a4f379435eac-ad63f94ea8c1ee02-01 outer:exit 2b-4d2066be44f948e5a7095def70a0a4f379435eac-143def137b12d3ce-01
2022-04-20T15:31:56.461Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:31:56.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b88826049dd5d8b40ebd116c461960c343c13db-6cfc80147b68e474-01 outer:exit 2b-6b88826049dd5d8b40ebd116c461960c343c13db-71f3d5d0f8f978de-01
2022-04-20T15:31:56.471Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:31:56.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d23af4ca41d277cf96faa3880a00166e9f30797-29f8308a186748e7-01 outer:exit 2b-2d23af4ca41d277cf96faa3880a00166e9f30797-46f88811d6f9a7c4-01
2022-04-20T15:31:56.480Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:31:56.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2a89c2237460083d98c05d5ee237628545775e6-6161b257f327d3cb-01 outer:exit 2b-a2a89c2237460083d98c05d5ee237628545775e6-4a13595576255e16-01
2022-04-20T15:31:56.483Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:31:56.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ec3a1419bf5db25b4c1a185c8194ad37c51c02b-3a02e549fd60f413-01 outer:exit 2b-3ec3a1419bf5db25b4c1a185c8194ad37c51c02b-57b1cd08e61788af-01
2022-04-20T15:31:56.485Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:31:56.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-34dbba34645818f84f9f994a4d36171fde7dce44-13329c9947008554-01 outer:exit 2b-34dbba34645818f84f9f994a4d36171fde7dce44-cd8604edc2fb934d-01
2022-04-20T15:31:56.488Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:31:56.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2d0e8ceb38f43761ae64dd66a4f2b0adeb031ef-c383fe8e8fac6851-01 outer:exit 2b-b2d0e8ceb38f43761ae64dd66a4f2b0adeb031ef-476cceca61d669f9-01
2022-04-20T15:31:56.519Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (361ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:03.059Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:03.060Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:03.060Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:03.061Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:03.120Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:03.229Z appoptics:patching patched crypto 
2022-04-20T15:32:03.247Z appoptics:patching patched https 
2022-04-20T15:32:03.247Z appoptics:patching patched http 
2022-04-20T15:32:03.288Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:03.289Z appoptics:patching patched fs 
2022-04-20T15:32:03.313Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v18.0.0)
2022-04-20T15:32:03.318Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2022-04-20T15:32:03.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-76fa02e722b64088ad5f535e1612ca379ac2ee93-6603c6db1d7efc10-01 outer:exit 2b-76fa02e722b64088ad5f535e1612ca379ac2ee93-1ce5230b90cf9951-01
2022-04-20T15:32:03.364Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-20T15:32:03.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd80d5525f334f61af5f4d1d959d1bb463615f94-2dbf81a2016ef935-01 outer:exit 2b-bd80d5525f334f61af5f4d1d959d1bb463615f94-db8072dbc4ff400c-01
2022-04-20T15:32:03.414Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-20T15:32:03.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c473889b40470a6bb7c262d8ad1bc107951c923-ed820429ee4b450c-01 outer:exit 2b-1c473889b40470a6bb7c262d8ad1bc107951c923-2f9e0da07ab5854c-01
2022-04-20T15:32:03.417Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-20T15:32:03.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-18a50ad99a03e511d1b805955f389fe31c9acd32-681c186c350fc8a4-01 outer:exit 2b-18a50ad99a03e511d1b805955f389fe31c9acd32-cbf8ab2d969e3bc6-01
2022-04-20T15:32:03.420Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-20T15:32:03.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdc0d8b74ee22904b30893a4a57de4b7490c7bb8-20ad8c76c382267d-01 outer:exit 2b-bdc0d8b74ee22904b30893a4a57de4b7490c7bb8-d7bea1a2092d4402-01
2022-04-20T15:32:03.426Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-20T15:32:03.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e14b0b0944caac9c00b32422c1b3f709f529e2a-eb2992e288d461de-01 outer:exit 2b-0e14b0b0944caac9c00b32422c1b3f709f529e2a-fd80418aca2515ba-01
2022-04-20T15:32:03.429Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-20T15:32:03.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcbdd7a0bb0346cacdf424bb2ff601e9024c2980-f58ed3b8e70dd638-01 outer:exit 2b-dcbdd7a0bb0346cacdf424bb2ff601e9024c2980-d5939f55e73e93b9-01
2022-04-20T15:32:03.434Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-20T15:32:03.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-feced6a2b5060956f8cf0313d99617ea546a831a-70e26dfc0261aa05-01 outer:exit 2b-feced6a2b5060956f8cf0313d99617ea546a831a-77a13b531501c476-01
2022-04-20T15:32:03.436Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-20T15:32:03.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-07c077d974f7cd0bd9795b9d71a70816033d44a5-465b132b4c01417c-01 outer:exit 2b-07c077d974f7cd0bd9795b9d71a70816033d44a5-56acad68f0cbbb13-01
2022-04-20T15:32:03.439Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-20T15:32:03.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9cdc41a734d2edbfad816d332bc93f572514b50-6f6c5251789849b9-01 outer:exit 2b-b9cdc41a734d2edbfad816d332bc93f572514b50-a2bf418f22dac865-01
2022-04-20T15:32:03.446Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-20T15:32:03.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0dedb31ad3f36add40f7b1b3f76c1caef2ecd2d-2ad97bb90c9fdb1d-01 outer:exit 2b-c0dedb31ad3f36add40f7b1b3f76c1caef2ecd2d-82b55b6a2791477e-01
2022-04-20T15:32:03.450Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-20T15:32:03.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d72a3358f090825152833cf826f426c3a180eeb-78336c8b1214040b-01 outer:exit 2b-4d72a3358f090825152833cf826f426c3a180eeb-029ea9f3e25587ca-01
2022-04-20T15:32:03.457Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-20T15:32:03.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6756b2aeef05e3e053022c0f27eaaf690463374-2de229fdf480687e-01 outer:exit 2b-c6756b2aeef05e3e053022c0f27eaaf690463374-fb3ec01c65fb4676-01
2022-04-20T15:32:03.473Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-20T15:32:03.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e99ec6f659cdee6f6b0e31ee1944c0c354d4787-4e5529dd7a03dd9f-01 outer:exit 2b-5e99ec6f659cdee6f6b0e31ee1944c0c354d4787-cc48dff8df42d1d4-01
2022-04-20T15:32:03.512Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-20T15:32:03.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-c23b422a51c02e7f41982e07159c06fe7dd24da5-bc126469696de964-01 outer:exit 2b-c23b422a51c02e7f41982e07159c06fe7dd24da5-0cdb6420481d5959-01
2022-04-20T15:32:03.515Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-20T15:32:03.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-9476a8d715d90a7149d3bce2f5588f97164e67c2-3aaebbf39ab7a335-01 outer:exit 2b-9476a8d715d90a7149d3bce2f5588f97164e67c2-8c3db324b0dd9e34-01
2022-04-20T15:32:03.518Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-20T15:32:03.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-62caed65a8fb9e3ef41062c9d73a33982cb3770c-df8f674bcebd6a45-01 outer:exit 2b-62caed65a8fb9e3ef41062c9d73a33982cb3770c-b0263c2581d78d4c-01
2022-04-20T15:32:03.520Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-20T15:32:03.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-f29d11f9be4578d628c7b3724014e18be9ea8fac-6bc91d7edf70ddfb-01 outer:exit 2b-f29d11f9be4578d628c7b3724014e18be9ea8fac-71a4cec149ed5328-01
2022-04-20T15:32:03.523Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-20T15:32:03.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-14e737762bb19705dcbef34588d76d4dde66fd2a-e656f33759fe8d02-01 outer:exit 2b-14e737762bb19705dcbef34588d76d4dde66fd2a-d3f10396359d961c-01
2022-04-20T15:32:03.525Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-20T15:32:03.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-26090d895e58a4b3304c3f72c7d98aa68d567b69-edd30ecd73bec8e7-01 outer:exit 2b-26090d895e58a4b3304c3f72c7d98aa68d567b69-6abb5ab68d5b2473-01
2022-04-20T15:32:03.527Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-20T15:32:03.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-a61d7efcef3677291fb3d53dc3154c924394bea4-ce0beef57d121e57-01 outer:exit 2b-a61d7efcef3677291fb3d53dc3154c924394bea4-58f53d520316ef95-01
2022-04-20T15:32:03.528Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-20T15:32:03.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-63dfd20b426e4fda737718414e98f8700ea10433-49ffbac912001274-01 outer:exit 2b-63dfd20b426e4fda737718414e98f8700ea10433-e65731143f059b67-01
2022-04-20T15:32:03.531Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-20T15:32:03.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-abe7eca413081c69fdcf678b7e88ced6be458007-56499de7e1a17fe5-01 outer:exit 2b-abe7eca413081c69fdcf678b7e88ced6be458007-c025795879e32003-01
2022-04-20T15:32:03.534Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-20T15:32:03.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-585b02bdfd64647a15681e672f5caa1d424ba3e3-62f9c8b5c0171534-01 outer:exit 2b-585b02bdfd64647a15681e672f5caa1d424ba3e3-b7110bca8d6ed6a4-01
2022-04-20T15:32:03.537Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-20T15:32:03.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-c266e188279963af5cf4b71a8580476c0835de0e-f65b885ad666c933-01 outer:exit 2b-c266e188279963af5cf4b71a8580476c0835de0e-7a2e1779f3d0a39e-01
2022-04-20T15:32:03.539Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-20T15:32:03.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-f25d5148a1f6d88978b5f0da313af1b5eac3ed79-0023ea2186619836-01 outer:exit 2b-f25d5148a1f6d88978b5f0da313af1b5eac3ed79-77d04ece1243d2c7-01
2022-04-20T15:32:03.542Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-20T15:32:03.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-df20b1feabcbe1413bd618a27dba927929d43c49-177e17e8fd74a6d5-01 outer:exit 2b-df20b1feabcbe1413bd618a27dba927929d43c49-ca974010524c4af4-01
2022-04-20T15:32:03.550Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-20T15:32:03.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-a722b09d40988da8d1544340a6901c225a818f33-a558a6d8809bb175-01 outer:exit 2b-a722b09d40988da8d1544340a6901c225a818f33-f111dc156150ede1-01
2022-04-20T15:32:03.557Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-20T15:32:03.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-84dde48439fddb182b962b26b6383c0777d335a9-e8832a33e82d28ac-01 outer:exit 2b-84dde48439fddb182b962b26b6383c0777d335a9-4b6403c334020da5-01
2022-04-20T15:32:03.568Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-20T15:32:03.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-697c92e4005b78fee6713f304045eb0c1a2887da-c4721548b833d23e-01 outer:exit 2b-697c92e4005b78fee6713f304045eb0c1a2887da-9f8478be68de5fb6-01
2022-04-20T15:32:03.574Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-20T15:32:03.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-a066e613ed1d882f6819865f9473f0b64d074575-a74dc65838ccfe20-01 outer:exit 2b-a066e613ed1d882f6819865f9473f0b64d074575-8ff465fbe55e298e-01
2022-04-20T15:32:03.576Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-20T15:32:03.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-53cf5d112a24c7de95bb25dab03621ae7373acf4-b5ae4d37f42f9aa4-01 outer:exit 2b-53cf5d112a24c7de95bb25dab03621ae7373acf4-9e88f311ca0ee5e2-01
2022-04-20T15:32:03.579Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-20T15:32:03.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-68ef80b3c79b3f39367cfb0910ff6dd639bf95d8-74a8bfdfef9ff64e-01 outer:exit 2b-68ef80b3c79b3f39367cfb0910ff6dd639bf95d8-0ae73c08ea49496e-01
2022-04-20T15:32:03.585Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-20T15:32:03.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-474e89018421f022d37a7ae983e0bec488e5c6e5-d8f06e6b1b4368af-01 outer:exit 2b-474e89018421f022d37a7ae983e0bec488e5c6e5-57ca5ea65f8afe71-01
2022-04-20T15:32:03.587Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-20T15:32:03.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-88edebb4395dd957eed41159003eb80ffb60f3ac-69686393f334d351-01 outer:exit 2b-88edebb4395dd957eed41159003eb80ffb60f3ac-445a6c14cba27f46-01
2022-04-20T15:32:03.589Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-20T15:32:03.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4681d9591942cdd4021358f521a379c9d0a35e2-8fdb65e4aa95d10c-01 outer:exit 2b-e4681d9591942cdd4021358f521a379c9d0a35e2-5f131c4b1df57a9f-01
2022-04-20T15:32:03.591Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-20T15:32:03.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fa5a92b0d7ab37e75710fb8887938d2e4481b08-e15dbc164a445a4d-01 outer:exit 2b-6fa5a92b0d7ab37e75710fb8887938d2e4481b08-fc04efad02be59c7-01
2022-04-20T15:32:03.592Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-20T15:32:03.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd17ef8f0bb5625f352a7c257e6f356110cf72b0-c301355d1b0fae5b-01 outer:exit 2b-cd17ef8f0bb5625f352a7c257e6f356110cf72b0-030aa4496f84df9a-01
2022-04-20T15:32:03.594Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-20T15:32:03.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-87ccecb14dbee3b5c77a0caebce563ece4e076f1-86e7a2b11c797a29-01 outer:exit 2b-87ccecb14dbee3b5c77a0caebce563ece4e076f1-a893221e4425d8e1-01
2022-04-20T15:32:03.603Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-20T15:32:03.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e99f7eb8a5099d2855f90fae131bc680707647a-32665e8da914ea0c-01 outer:exit 2b-4e99f7eb8a5099d2855f90fae131bc680707647a-af800c80837d24f0-01
2022-04-20T15:32:03.610Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-20T15:32:03.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-92df7781287614e2666e1b1af4ae748447fbd042-a4aad9285e3c44b7-01 outer:exit 2b-92df7781287614e2666e1b1af4ae748447fbd042-e3a31d658795706b-01
2022-04-20T15:32:03.613Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-20T15:32:03.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d05df9498ee8e468e17cefd4d3d247f60150719-dda7b970d037e7db-01 outer:exit 2b-2d05df9498ee8e468e17cefd4d3d247f60150719-9e4a97246a908103-01
2022-04-20T15:32:03.615Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-20T15:32:03.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6347df2474f7d46defd8dc049e568f0363c43fe-c260e29191efc42a-01 outer:exit 2b-d6347df2474f7d46defd8dc049e568f0363c43fe-04605a4aa9655f4e-01
2022-04-20T15:32:03.619Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-20T15:32:03.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-507d4d16c499b1a93e87bacf0e4bfc2983c20559-28531dbd887eb25d-01 outer:exit 2b-507d4d16c499b1a93e87bacf0e4bfc2983c20559-7e33724502df3e10-01
2022-04-20T15:32:03.646Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (323ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:09.886Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:09.887Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:09.887Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:09.888Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:09.960Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:10.170Z appoptics:patching patched crypto 
2022-04-20T15:32:10.222Z appoptics:patching patched https 
2022-04-20T15:32:10.224Z appoptics:patching patched http 
2022-04-20T15:32:10.282Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:10.283Z appoptics:patching patched fs 
2022-04-20T15:32:10.292Z appoptics:patching patched zlib 
2022-04-20T15:32:10.312Z appoptics:patching patched mongodb-core 3.0.0
2022-04-20T15:32:10.317Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (319ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:16.933Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:16.934Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:16.934Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:16.934Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:16.993Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:17.106Z appoptics:patching patched crypto 
2022-04-20T15:32:17.125Z appoptics:patching patched https 
2022-04-20T15:32:17.126Z appoptics:patching patched http 
2022-04-20T15:32:17.166Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:17.166Z appoptics:patching patched fs 
2022-04-20T15:32:17.175Z appoptics:patching patched zlib 
2022-04-20T15:32:17.195Z appoptics:patching patched mongodb-core 3.0.1
2022-04-20T15:32:17.200Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (292ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:24.272Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:24.273Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:24.273Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:24.273Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:24.347Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:24.497Z appoptics:patching patched crypto 
2022-04-20T15:32:24.515Z appoptics:patching patched https 
2022-04-20T15:32:24.516Z appoptics:patching patched http 
2022-04-20T15:32:24.555Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:24.556Z appoptics:patching patched fs 
2022-04-20T15:32:24.565Z appoptics:patching patched zlib 
2022-04-20T15:32:24.586Z appoptics:patching patched mongodb-core 3.0.2
2022-04-20T15:32:24.591Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (248ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:30.610Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:30.610Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:30.610Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:30.611Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:30.670Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:30.779Z appoptics:patching patched crypto 
2022-04-20T15:32:30.796Z appoptics:patching patched https 
2022-04-20T15:32:30.797Z appoptics:patching patched http 
2022-04-20T15:32:30.837Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:30.838Z appoptics:patching patched fs 
2022-04-20T15:32:30.846Z appoptics:patching patched zlib 
2022-04-20T15:32:30.867Z appoptics:patching patched mongodb-core 3.0.3
2022-04-20T15:32:30.872Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (244ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:37.921Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:37.921Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:37.921Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:37.922Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:37.980Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:38.092Z appoptics:patching patched crypto 
2022-04-20T15:32:38.110Z appoptics:patching patched https 
2022-04-20T15:32:38.111Z appoptics:patching patched http 
2022-04-20T15:32:38.151Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:38.151Z appoptics:patching patched fs 
2022-04-20T15:32:38.160Z appoptics:patching patched zlib 
2022-04-20T15:32:38.181Z appoptics:patching patched mongodb-core 3.0.4
2022-04-20T15:32:38.186Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (264ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:44.259Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:44.260Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:44.260Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:44.260Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:44.319Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:44.427Z appoptics:patching patched crypto 
2022-04-20T15:32:44.445Z appoptics:patching patched https 
2022-04-20T15:32:44.445Z appoptics:patching patched http 
2022-04-20T15:32:44.486Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:44.486Z appoptics:patching patched fs 
2022-04-20T15:32:44.500Z appoptics:patching patched zlib 
2022-04-20T15:32:44.525Z appoptics:patching patched mongodb-core 3.0.5
2022-04-20T15:32:44.532Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (338ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:51.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:51.929Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:51.929Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:51.929Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:51.990Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:52.102Z appoptics:patching patched crypto 
2022-04-20T15:32:52.121Z appoptics:patching patched https 
2022-04-20T15:32:52.121Z appoptics:patching patched http 
2022-04-20T15:32:52.168Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:52.169Z appoptics:patching patched fs 
2022-04-20T15:32:52.178Z appoptics:patching patched zlib 
2022-04-20T15:32:52.200Z appoptics:patching patched mongodb-core 3.0.6
2022-04-20T15:32:52.205Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (252ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:59.224Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:59.226Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:59.226Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:59.226Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:59.317Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:59.457Z appoptics:patching patched crypto 
2022-04-20T15:32:59.475Z appoptics:patching patched https 
2022-04-20T15:32:59.475Z appoptics:patching patched http 
2022-04-20T15:32:59.514Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:59.515Z appoptics:patching patched fs 
2022-04-20T15:32:59.523Z appoptics:patching patched zlib 
2022-04-20T15:32:59.547Z appoptics:patching patched mongodb-core 3.0.7
2022-04-20T15:32:59.552Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (242ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:05.705Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:05.706Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:05.706Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:05.706Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:05.766Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:05.890Z appoptics:patching patched crypto 
2022-04-20T15:33:05.908Z appoptics:patching patched https 
2022-04-20T15:33:05.909Z appoptics:patching patched http 
2022-04-20T15:33:05.951Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:05.951Z appoptics:patching patched fs 
2022-04-20T15:33:05.960Z appoptics:patching patched zlib 
2022-04-20T15:33:05.993Z appoptics:patching patched mongodb-core 3.0.8
2022-04-20T15:33:05.998Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (281ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:13.327Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:13.327Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:13.327Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:13.328Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:13.388Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:13.500Z appoptics:patching patched crypto 
2022-04-20T15:33:13.518Z appoptics:patching patched https 
2022-04-20T15:33:13.519Z appoptics:patching patched http 
2022-04-20T15:33:13.560Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:13.561Z appoptics:patching patched fs 
2022-04-20T15:33:13.570Z appoptics:patching patched zlib 
2022-04-20T15:33:13.594Z appoptics:patching patched mongodb-core 3.0.9
2022-04-20T15:33:13.599Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (267ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:20.041Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:20.041Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:20.041Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:20.042Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:20.101Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:20.211Z appoptics:patching patched crypto 
2022-04-20T15:33:20.229Z appoptics:patching patched https 
2022-04-20T15:33:20.229Z appoptics:patching patched http 
2022-04-20T15:33:20.270Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:20.270Z appoptics:patching patched fs 
2022-04-20T15:33:20.279Z appoptics:patching patched zlib 
2022-04-20T15:33:20.302Z appoptics:patching patched mongodb-core 3.0.11
2022-04-20T15:33:20.307Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (252ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:27.283Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:27.283Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:27.283Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:27.284Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:27.344Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:27.458Z appoptics:patching patched crypto 
2022-04-20T15:33:27.482Z appoptics:patching patched https 
2022-04-20T15:33:27.483Z appoptics:patching patched http 
2022-04-20T15:33:27.525Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:27.525Z appoptics:patching patched fs 
2022-04-20T15:33:27.534Z appoptics:patching patched zlib 
2022-04-20T15:33:27.562Z appoptics:patching patched mongodb-core 3.1.0
2022-04-20T15:33:27.567Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (252ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:34.188Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:34.188Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:34.188Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:34.189Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:34.264Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:34.390Z appoptics:patching patched crypto 
2022-04-20T15:33:34.439Z appoptics:patching patched https 
2022-04-20T15:33:34.440Z appoptics:patching patched http 
2022-04-20T15:33:34.482Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:34.482Z appoptics:patching patched fs 
2022-04-20T15:33:34.491Z appoptics:patching patched zlib 
2022-04-20T15:33:34.522Z appoptics:patching patched mongodb-core 3.1.1
2022-04-20T15:33:34.527Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (46ms)


  33 passing (381ms)


changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:41.218Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:41.219Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:41.219Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:41.219Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:41.299Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:41.410Z appoptics:patching patched crypto 
2022-04-20T15:33:41.428Z appoptics:patching patched https 
2022-04-20T15:33:41.429Z appoptics:patching patched http 
2022-04-20T15:33:41.470Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:41.470Z appoptics:patching patched fs 
2022-04-20T15:33:41.479Z appoptics:patching patched zlib 
2022-04-20T15:33:41.504Z appoptics:patching patched mongodb-core 3.1.2
2022-04-20T15:33:41.509Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (250ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:48.408Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:48.408Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:48.408Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:48.409Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:48.468Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:48.580Z appoptics:patching patched crypto 
2022-04-20T15:33:48.598Z appoptics:patching patched https 
2022-04-20T15:33:48.599Z appoptics:patching patched http 
2022-04-20T15:33:48.639Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:48.640Z appoptics:patching patched fs 
2022-04-20T15:33:48.650Z appoptics:patching patched zlib 
2022-04-20T15:33:48.675Z appoptics:patching patched mongodb-core 3.1.3
2022-04-20T15:33:48.681Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (286ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:55.211Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:55.212Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:55.212Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:55.212Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:55.273Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:55.397Z appoptics:patching patched crypto 
2022-04-20T15:33:55.422Z appoptics:patching patched https 
2022-04-20T15:33:55.423Z appoptics:patching patched http 
2022-04-20T15:33:55.481Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:55.481Z appoptics:patching patched fs 
2022-04-20T15:33:55.491Z appoptics:patching patched zlib 
2022-04-20T15:33:55.518Z appoptics:patching patched mongodb-core 3.1.4
2022-04-20T15:33:55.524Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (742ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:03.157Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:03.157Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:03.157Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:03.158Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:03.217Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:03.328Z appoptics:patching patched crypto 
2022-04-20T15:34:03.346Z appoptics:patching patched https 
2022-04-20T15:34:03.347Z appoptics:patching patched http 
2022-04-20T15:34:03.392Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:03.392Z appoptics:patching patched fs 
2022-04-20T15:34:03.404Z appoptics:patching patched zlib 
2022-04-20T15:34:03.437Z appoptics:patching patched mongodb-core 3.1.5
2022-04-20T15:34:03.446Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (265ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:09.727Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:09.728Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:09.728Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:09.729Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:09.788Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:09.899Z appoptics:patching patched crypto 
2022-04-20T15:34:09.920Z appoptics:patching patched https 
2022-04-20T15:34:09.920Z appoptics:patching patched http 
2022-04-20T15:34:09.980Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:09.980Z appoptics:patching patched fs 
2022-04-20T15:34:09.991Z appoptics:patching patched zlib 
2022-04-20T15:34:10.020Z appoptics:patching patched mongodb-core 3.1.6
2022-04-20T15:34:10.026Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (273ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:16.582Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:16.582Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:16.582Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:16.583Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:16.642Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:16.766Z appoptics:patching patched crypto 
2022-04-20T15:34:16.812Z appoptics:patching patched https 
2022-04-20T15:34:16.813Z appoptics:patching patched http 
2022-04-20T15:34:16.856Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:16.856Z appoptics:patching patched fs 
2022-04-20T15:34:16.866Z appoptics:patching patched zlib 
2022-04-20T15:34:16.894Z appoptics:patching patched mongodb-core 3.1.7
2022-04-20T15:34:16.899Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (265ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:23.412Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:23.413Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:23.413Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:23.417Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:23.493Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:23.655Z appoptics:patching patched crypto 
2022-04-20T15:34:23.688Z appoptics:patching patched https 
2022-04-20T15:34:23.688Z appoptics:patching patched http 
2022-04-20T15:34:23.770Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:23.770Z appoptics:patching patched fs 
2022-04-20T15:34:23.782Z appoptics:patching patched zlib 
2022-04-20T15:34:23.818Z appoptics:patching patched mongodb-core 3.1.8
2022-04-20T15:34:23.824Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (269ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:30.137Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:30.138Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:30.138Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:30.139Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:30.197Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:30.307Z appoptics:patching patched crypto 
2022-04-20T15:34:30.324Z appoptics:patching patched https 
2022-04-20T15:34:30.325Z appoptics:patching patched http 
2022-04-20T15:34:30.364Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:30.364Z appoptics:patching patched fs 
2022-04-20T15:34:30.374Z appoptics:patching patched zlib 
2022-04-20T15:34:30.399Z appoptics:patching patched mongodb-core 3.1.9
2022-04-20T15:34:30.404Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (248ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:37.728Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:37.729Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:37.729Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:37.730Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:37.790Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:37.903Z appoptics:patching patched crypto 
2022-04-20T15:34:37.921Z appoptics:patching patched https 
2022-04-20T15:34:37.921Z appoptics:patching patched http 
2022-04-20T15:34:37.963Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:37.963Z appoptics:patching patched fs 
2022-04-20T15:34:37.973Z appoptics:patching patched zlib 
2022-04-20T15:34:37.999Z appoptics:patching patched mongodb-core 3.1.10
2022-04-20T15:34:38.004Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (246ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:44.084Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:44.085Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:44.085Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:44.086Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:44.143Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:44.255Z appoptics:patching patched crypto 
2022-04-20T15:34:44.284Z appoptics:patching patched https 
2022-04-20T15:34:44.284Z appoptics:patching patched http 
2022-04-20T15:34:44.319Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:44.319Z appoptics:patching patched fs 
2022-04-20T15:34:44.329Z appoptics:patching patched zlib 
2022-04-20T15:34:44.356Z appoptics:patching patched mongodb-core 3.1.11
2022-04-20T15:34:44.362Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (248ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:51.633Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:51.634Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:51.634Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:51.635Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:51.692Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:51.802Z appoptics:patching patched crypto 
2022-04-20T15:34:51.819Z appoptics:patching patched https 
2022-04-20T15:34:51.820Z appoptics:patching patched http 
2022-04-20T15:34:51.861Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:51.861Z appoptics:patching patched fs 
2022-04-20T15:34:51.872Z appoptics:patching patched zlib 
2022-04-20T15:34:51.901Z appoptics:patching patched mongodb-core 3.2.0
2022-04-20T15:34:51.906Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (255ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:58.333Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:58.334Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:58.334Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:58.335Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:58.394Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:58.505Z appoptics:patching patched crypto 
2022-04-20T15:34:58.522Z appoptics:patching patched https 
2022-04-20T15:34:58.523Z appoptics:patching patched http 
2022-04-20T15:34:58.565Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:58.565Z appoptics:patching patched fs 
2022-04-20T15:34:58.576Z appoptics:patching patched zlib 
2022-04-20T15:34:58.607Z appoptics:patching patched mongodb-core 3.2.1
2022-04-20T15:34:58.612Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (332ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:05.370Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:05.371Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:05.371Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:05.371Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:05.431Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:05.542Z appoptics:patching patched crypto 
2022-04-20T15:35:05.575Z appoptics:patching patched https 
2022-04-20T15:35:05.575Z appoptics:patching patched http 
2022-04-20T15:35:05.608Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:05.608Z appoptics:patching patched fs 
2022-04-20T15:35:05.619Z appoptics:patching patched zlib 
2022-04-20T15:35:05.651Z appoptics:patching patched mongodb-core 3.2.2
2022-04-20T15:35:05.657Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (243ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:12.409Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:12.410Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:12.410Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:12.411Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:12.492Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:12.658Z appoptics:patching patched crypto 
2022-04-20T15:35:12.717Z appoptics:patching patched https 
2022-04-20T15:35:12.718Z appoptics:patching patched http 
2022-04-20T15:35:12.770Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:12.770Z appoptics:patching patched fs 
2022-04-20T15:35:12.787Z appoptics:patching patched zlib 
2022-04-20T15:35:12.830Z appoptics:patching patched mongodb-core 3.2.3
2022-04-20T15:35:12.835Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (254ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:19.168Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:19.168Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:19.168Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:19.169Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:19.244Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:19.374Z appoptics:patching patched crypto 
2022-04-20T15:35:19.416Z appoptics:patching patched https 
2022-04-20T15:35:19.417Z appoptics:patching patched http 
2022-04-20T15:35:19.458Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:19.458Z appoptics:patching patched fs 
2022-04-20T15:35:19.470Z appoptics:patching patched zlib 
2022-04-20T15:35:19.507Z appoptics:patching patched mongodb-core 3.2.4
2022-04-20T15:35:19.513Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (323ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:26.453Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:26.454Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:26.454Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:26.455Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:26.515Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:26.626Z appoptics:patching patched crypto 
2022-04-20T15:35:26.644Z appoptics:patching patched https 
2022-04-20T15:35:26.645Z appoptics:patching patched http 
2022-04-20T15:35:26.690Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:26.691Z appoptics:patching patched fs 
2022-04-20T15:35:26.701Z appoptics:patching patched zlib 
2022-04-20T15:35:26.732Z appoptics:patching patched mongodb-core 3.2.5
2022-04-20T15:35:26.737Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (253ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:33.151Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:33.152Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:33.152Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:33.153Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:33.211Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:33.320Z appoptics:patching patched crypto 
2022-04-20T15:35:33.338Z appoptics:patching patched https 
2022-04-20T15:35:33.339Z appoptics:patching patched http 
2022-04-20T15:35:33.378Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:33.378Z appoptics:patching patched fs 
2022-04-20T15:35:33.389Z appoptics:patching patched zlib 
2022-04-20T15:35:33.419Z appoptics:patching patched mongodb-core 3.2.6
2022-04-20T15:35:33.425Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (258ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:40.067Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:40.068Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:40.068Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:40.068Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:40.132Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:40.258Z appoptics:patching patched crypto 
2022-04-20T15:35:40.282Z appoptics:patching patched https 
2022-04-20T15:35:40.282Z appoptics:patching patched http 
2022-04-20T15:35:40.320Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:40.321Z appoptics:patching patched fs 
2022-04-20T15:35:40.332Z appoptics:patching patched zlib 
2022-04-20T15:35:40.364Z appoptics:patching patched mongodb-core 3.2.7
2022-04-20T15:35:40.369Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (274ms)


up to date, audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
